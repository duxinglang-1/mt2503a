GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 1


   1              		.file	"WriteImgRes.c"
   4              		.text
   5              	Ltext0:
 2435              	LC0:
 2436 0000 424D5000 		.ascii "BMP\0"
 2437              	LC1:
 2438 0004 50424D00 		.ascii "PBM\0"
 2439              	LC2:
 2440 0008 4A504700 		.ascii "JPG\0"
 2441              	LC3:
 2442 000c 47494600 		.ascii "GIF\0"
 2443              	LC4:
 2444 0010 41424D00 		.ascii "ABM\0"
 2445              	LC5:
 2446 0014 41564900 		.ascii "AVI\0"
 2447              	LC6:
 2448 0018 33475000 		.ascii "3GP\0"
 2449              	LC7:
 2450 001c 4D503400 		.ascii "MP4\0"
 2451              	LC8:
 2452 0020 525600   		.ascii "RV\0"
 2453              	LC9:
 2454 0023 524D00   		.ascii "RM\0"
 2455              	LC10:
 2456 0026 524D5642 		.ascii "RMVB\0"
 2456      00
 2457              	LC11:
 2458 002b 504E4700 		.ascii "PNG\0"
 2459              	LC12:
 2460 002f 50504E00 		.ascii "PPN\0"
 2461              	LC13:
 2462 0033 4D334400 		.ascii "M3D\0"
 2463              	LC14:
 2464 0037 434D5000 		.ascii "CMP\0"
 2465              	LC15:
 2466 003b 56495300 		.ascii "VIS\0"
 2467              	LC16:
 2468 003f 53564700 		.ascii "SVG\0"
 2469              	LC17:
 2470 0043 54544600 		.ascii "TTF\0"
 2471              	LC18:
 2472 0047 53544600 		.ascii "STF\0"
 2473              	LC19:
 2474 004b 43434300 		.ascii "CCC\0"
 2475              	LC20:
 2476 004f 4B545800 		.ascii "KTX\0"
 2477 0053 8DB60000 		.align 32
 2477      00008DBC 
 2477      27000000 
 2477      00
 2478              	_image_resource_info:
 2479 0060 00000000 		.long	LC0
 2480 0064 01       		.byte	1
 2481 0065 000000   		.space 3
 2482 0068 04000000 		.long	LC1
 2483 006c 04       		.byte	4
 2484 006d 000000   		.space 3
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 2


 2485 0070 08000000 		.long	LC2
 2486 0074 09       		.byte	9
 2487 0075 000000   		.space 3
 2488 0078 0C000000 		.long	LC3
 2489 007c 03       		.byte	3
 2490 007d 000000   		.space 3
 2491 0080 10000000 		.long	LC4
 2492 0084 28       		.byte	40
 2493 0085 000000   		.space 3
 2494 0088 14000000 		.long	LC5
 2495 008c 0C       		.byte	12
 2496 008d 000000   		.space 3
 2497 0090 18000000 		.long	LC6
 2498 0094 0E       		.byte	14
 2499 0095 000000   		.space 3
 2500 0098 1C000000 		.long	LC7
 2501 009c 10       		.byte	16
 2502 009d 000000   		.space 3
 2503 00a0 20000000 		.long	LC8
 2504 00a4 4A       		.byte	74
 2505 00a5 000000   		.space 3
 2506 00a8 23000000 		.long	LC9
 2507 00ac 4C       		.byte	76
 2508 00ad 000000   		.space 3
 2509 00b0 26000000 		.long	LC10
 2510 00b4 4E       		.byte	78
 2511 00b5 000000   		.space 3
 2512 00b8 2B000000 		.long	LC11
 2513 00bc 13       		.byte	19
 2514 00bd 000000   		.space 3
 2515 00c0 2F000000 		.long	LC12
 2516 00c4 48       		.byte	72
 2517 00c5 000000   		.space 3
 2518 00c8 33000000 		.long	LC13
 2519 00cc 19       		.byte	25
 2520 00cd 000000   		.space 3
 2521 00d0 37000000 		.long	LC14
 2522 00d4 1D       		.byte	29
 2523 00d5 000000   		.space 3
 2524 00d8 3B000000 		.long	LC15
 2525 00dc 31       		.byte	49
 2526 00dd 000000   		.space 3
 2527 00e0 3F000000 		.long	LC16
 2528 00e4 1B       		.byte	27
 2529 00e5 000000   		.space 3
 2530 00e8 43000000 		.long	LC17
 2531 00ec 49       		.byte	73
 2532 00ed 000000   		.space 3
 2533 00f0 47000000 		.long	LC18
 2534 00f4 49       		.byte	73
 2535 00f5 000000   		.space 3
 2536 00f8 4B000000 		.long	LC19
 2537 00fc 49       		.byte	73
 2538 00fd 000000   		.space 3
 2539 0100 4F000000 		.long	LC20
 2540 0104 43       		.byte	67
 2541 0105 000000   		.space 3
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 3


 2558              	.globl _image_idx
 2559              		.data
 2560              		.align 4
 2561              	_image_idx:
 2562 0000 01000000 		.long	1
 2563              	.globl _g_resimg_count
 2564 0004 00000000 		.bss
 2564      00000000 
 2564      00000000 
 2565              		.align 4
 2566              	_g_resimg_count:
 2567 0000 00000000 		.space 4
 2568              	.lcomm _g_mmi_res_font_id,16
 2569              	.globl _g_mmi_res_font_flags
 2570              		.align 4
 2571              	_g_mmi_res_font_flags:
 2572 0004 00000000 		.space 4
 2573              	.lcomm _g_mmi_res_font_userdata,16
 2574              	.lcomm _g_font_size,16
 2575              	.globl _g_mmi_res_nfb_used
 2576              		.align 4
 2577              	_g_mmi_res_nfb_used:
 2578 0008 00000000 		.space 4
 2579              		.text
 2580              	LC21:
 2581 0108 556E6B6E 		.ascii "Unknown Id\0"
 2581      6F776E20 
 2581      496400
 2582 0113 00000000 		.space 245
 2582      00000000 
 2582      00000000 
 2582      00000000 
 2582      00000000 
 2583              	LC22:
 2584 0208 556E6B6E 		.ascii "Unknown File\0"
 2584      6F776E20 
 2584      46696C65 
 2584      00
 2585 0215 00000000 		.space 243
 2585      00000000 
 2585      00000000 
 2585      00000000 
 2585      00000000 
 2586              	LC23:
 2587 0308 2E5C5C64 		.ascii ".\\\\debug\\\\image_load_fail.txt\0"
 2587      65627567 
 2587      5C5C696D 
 2587      6167655F 
 2587      6C6F6164 
 2588              	LC24:
 2589 0326 6100     		.ascii "a\0"
 2590              	LC25:
 2591 0328 7700     		.ascii "w\0"
 2592 032a 90909090 		.align 32
 2592      90909090 
 2592      90909090 
 2592      90909090 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 4


 2592      90909090 
 2593              	LC26:
 2594 0340 23232323 		.ascii "###############################################\12\0"
 2594      23232323 
 2594      23232323 
 2594      23232323 
 2594      23232323 
 2595 0371 EB0D9090 		.align 32
 2595      90909090 
 2595      90909090 
 2595      909090
 2596              	LC27:
 2597 0380 23202020 		.ascii "#       Resgen Failed Image Loading Log       #\12\0"
 2597      20202020 
 2597      52657367 
 2597      656E2046 
 2597      61696C65 
 2598 03b1 EB0D9090 		.align 32
 2598      90909090 
 2598      90909090 
 2598      909090
 2599              	LC28:
 2600 03c0 49445F4E 		.ascii "ID_NAME \11ID\11FILE_PATH\11FORCE_TYPE\12\0"
 2600      414D4520 
 2600      09494409 
 2600      46494C45 
 2600      5F504154 
 2601              	LC29:
 2602 03e2 25730925 		.ascii "%s\11%d\11%s\11%d\12\0"
 2602      64092573 
 2602      0925640A 
 2602      00
 2609              	_LogILoadFail:
   1:../../MMI/Resource/WriteImgRes.c **** #include "mmi_features.h"
   2:../../MMI/Resource/WriteImgRes.c **** #include "MMIDataType.h"
   3:../../MMI/Resource/WriteImgRes.c **** #include "CustDataRes.h"
   4:../../MMI/Resource/WriteImgRes.c **** #include "CustDataProts.h" // for FORCE_BMP
   5:../../MMI/Resource/WriteImgRes.c **** #include <string.h>
   6:../../MMI/Resource/WriteImgRes.c **** #include <stdio.h>
   7:../../MMI/Resource/WriteImgRes.c **** //#include <stdarg.h>
   8:../../MMI/Resource/WriteImgRes.c **** #include <assert.h>
   9:../../MMI/Resource/WriteImgRes.c **** 
  10:../../MMI/Resource/WriteImgRes.c **** #define WIN32_LEAN_AND_MEAN
  11:../../MMI/Resource/WriteImgRes.c **** #include "windows.h"
  12:../../MMI/Resource/WriteImgRes.c **** 
  13:../../MMI/Resource/WriteImgRes.c **** #include "gui_resource_type.h" // for IMAGE_TYPE_BMP
  14:../../MMI/Resource/WriteImgRes.c **** #include "ABMLoader.h" // for ABM_ENC_OPTION_FLAG_ABM...
  15:../../MMI/Resource/WriteImgRes.c **** #include "WriteResUtil.h"
  16:../../MMI/Resource/WriteImgRes.c **** 
  17:../../MMI/Resource/WriteImgRes.c **** #include "ImageGetDimension.h" // for Image_Get_Dimensions
  18:../../MMI/Resource/WriteImgRes.c **** 
  19:../../MMI/Resource/WriteImgRes.c **** #include "ResgenLogCAPI.h"
  20:../../MMI/Resource/WriteImgRes.c **** 
  21:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_TAG "WRITEIMGRES"
  22:../../MMI/Resource/WriteImgRes.c **** 
  23:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_LOG_D(format, args...) RES_LOG_D((RESIMG_TAG), (format) , ##args)
  24:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_LOG_V(format, args...) RES_LOG_V((RESIMG_TAG), (format) , ##args)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 5


  25:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_LOG_W(format, args...) RES_LOG_W((RESIMG_TAG), (format) , ##args)
  26:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_LOG_E(format, args...) RES_LOG_E((RESIMG_TAG), (format) , ##args)
  27:../../MMI/Resource/WriteImgRes.c **** 
  28:../../MMI/Resource/WriteImgRes.c **** 
  29:../../MMI/Resource/WriteImgRes.c **** #define MAX_SEQUENTIAL_IMAGE_FRAME      512
  30:../../MMI/Resource/WriteImgRes.c **** 
  31:../../MMI/Resource/WriteImgRes.c **** #define FILE_IMAGE_LOAD_FAILED_LOG      ".\\\\debug\\\\image_load_fail.txt"
  32:../../MMI/Resource/WriteImgRes.c **** 
  33:../../MMI/Resource/WriteImgRes.c **** #define NOIMAGE_FILENAMEBUFFER      "..\\\\..\\\\Customer\\\\IMAGES\\\\EmptyImage.bmp"
  34:../../MMI/Resource/WriteImgRes.c **** 
  35:../../MMI/Resource/WriteImgRes.c **** #define DEFAULT_FILEBUFFER          "________CUSTOMER__IMAGES__DEFAULT_BMP"
  36:../../MMI/Resource/WriteImgRes.c **** 
  37:../../MMI/Resource/WriteImgRes.c **** #define OUTPUT_IMAGE_NAMES_END      "[] =\n{"
  38:../../MMI/Resource/WriteImgRes.c **** 
  39:../../MMI/Resource/WriteImgRes.c **** #define ASSERT(expr) {if(!(expr)) {while(1);}else {}}
  40:../../MMI/Resource/WriteImgRes.c **** 
  41:../../MMI/Resource/WriteImgRes.c **** 
  42:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_IMAGE_COMPRESS__
  43:../../MMI/Resource/WriteImgRes.c **** 
  44:../../MMI/Resource/WriteImgRes.c **** #include "Zlib.h"
  45:../../MMI/Resource/WriteImgRes.c **** 
  46:../../MMI/Resource/WriteImgRes.c **** res_compress_struct g_res_compress_data_image[MAX_COMPRESSED_ITEM];
  47:../../MMI/Resource/WriteImgRes.c **** U32 g_res_compress_count_image = 0;
  48:../../MMI/Resource/WriteImgRes.c **** 
  49:../../MMI/Resource/WriteImgRes.c **** static BOOL g_is_compress = FALSE;
  50:../../MMI/Resource/WriteImgRes.c **** static BOOL g_is_compressed = FALSE;
  51:../../MMI/Resource/WriteImgRes.c **** 
  52:../../MMI/Resource/WriteImgRes.c **** U8* mmi_rg_compress_image(U8 *buffer, S32 org_size, S32 *dest_size, S32 image_type, U32 width_heigh
  53:../../MMI/Resource/WriteImgRes.c **** 
  54:../../MMI/Resource/WriteImgRes.c **** U8* mmi_rg_output_compressed_image(U8 *dest_buf, S32 dest_size, ResgenImageOutStream * outstream); 
  55:../../MMI/Resource/WriteImgRes.c **** 
  56:../../MMI/Resource/WriteImgRes.c **** #define RG_SET_CPZ(x) mmi_rg_set_compress(x)
  57:../../MMI/Resource/WriteImgRes.c **** 
  58:../../MMI/Resource/WriteImgRes.c **** #else // __MMI_RESOURCE_IMAGE_COMPRESS__
  59:../../MMI/Resource/WriteImgRes.c **** 
  60:../../MMI/Resource/WriteImgRes.c **** #define RG_SET_CPZ(x)
  61:../../MMI/Resource/WriteImgRes.c **** 
  62:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_IMAGE_COMPRESS__
  63:../../MMI/Resource/WriteImgRes.c **** 
  64:../../MMI/Resource/WriteImgRes.c **** extern int toolFlag;
  65:../../MMI/Resource/WriteImgRes.c **** extern int resultFailFlag;
  66:../../MMI/Resource/WriteImgRes.c **** extern FILE *dest_file;
  67:../../MMI/Resource/WriteImgRes.c **** 
  68:../../MMI/Resource/WriteImgRes.c **** 
  69:../../MMI/Resource/WriteImgRes.c **** 
  70:../../MMI/Resource/WriteImgRes.c **** // extern data
  71:../../MMI/Resource/WriteImgRes.c **** extern U16 CurrMaxFontNumEXT;
  72:../../MMI/Resource/WriteImgRes.c **** extern U16 CurrMaxFontIdEXT;
  73:../../MMI/Resource/WriteImgRes.c **** 
  74:../../MMI/Resource/WriteImgRes.c **** extern U16 CurrMaxImageId; // also used in WriteRes.c
  75:../../MMI/Resource/WriteImgRes.c **** extern U16 CurrMaxImageNum; // also used in WriteRes.c
  76:../../MMI/Resource/WriteImgRes.c **** extern CUSTOM_IMAGE_MAP ImageIdMap[]; // defined in CustResDeclare.c
  77:../../MMI/Resource/WriteImgRes.c **** extern FILE *OutputImgIDFile; // defined in PopulateRes.c
  78:../../MMI/Resource/WriteImgRes.c **** extern FILE *RepeatIDListFile; // also used in WriteRes.c
  79:../../MMI/Resource/WriteImgRes.c **** extern FILE *fpImageResourceUsage; // defined in PopulateRes.c
  80:../../MMI/Resource/WriteImgRes.c **** 
  81:../../MMI/Resource/WriteImgRes.c **** U32 image_idx = 1; // XXX
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 6


  82:../../MMI/Resource/WriteImgRes.c **** U32 g_resimg_count = 0; // XXX
  83:../../MMI/Resource/WriteImgRes.c **** CUSTOM_RESOURCE_SIZE g_resimg_table[MAX_IMAGE_IDS_SIZE]; // XXX
  84:../../MMI/Resource/WriteImgRes.c **** 
  85:../../MMI/Resource/WriteImgRes.c **** extern mmi_resource_base_struct g_mmi_resource_base_table[]; // for RESPRTONERECORD()
  86:../../MMI/Resource/WriteImgRes.c **** 
  87:../../MMI/Resource/WriteImgRes.c **** // font
  88:../../MMI/Resource/WriteImgRes.c **** #define FONT_OUTPUT_DATA_FILENAME		"..\\..\\Customer\\CustResource\\CustFontDataHW.h"
  89:../../MMI/Resource/WriteImgRes.c **** 
  90:../../MMI/Resource/WriteImgRes.c **** static U16 g_mmi_res_font_id = 0;
  91:../../MMI/Resource/WriteImgRes.c **** S32 g_mmi_res_font_flags = 0; // used in ImageGetDimension.c in ENFB mode
  92:../../MMI/Resource/WriteImgRes.c **** static U32 g_mmi_res_font_userdata = 0;
  93:../../MMI/Resource/WriteImgRes.c **** 
  94:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL Fload(S8 *string);
  95:../../MMI/Resource/WriteImgRes.c **** 
  96:../../MMI/Resource/WriteImgRes.c **** extern FILE *font_data_file;
  97:../../MMI/Resource/WriteImgRes.c **** extern FONTNAME_LIST FontNameListEXT[];
  98:../../MMI/Resource/WriteImgRes.c **** extern CUSTOM_FONT_MAP FontIdMapEXT[];
  99:../../MMI/Resource/WriteImgRes.c **** extern FILE *font_data_lis;
 100:../../MMI/Resource/WriteImgRes.c **** extern FILE *font_data_modis_lis;
 101:../../MMI/Resource/WriteImgRes.c **** extern FILE *font_ttf_lis;
 102:../../MMI/Resource/WriteImgRes.c **** 
 103:../../MMI/Resource/WriteImgRes.c **** 
 104:../../MMI/Resource/WriteImgRes.c **** static S32 g_font_size = 0;
 105:../../MMI/Resource/WriteImgRes.c **** 
 106:../../MMI/Resource/WriteImgRes.c **** extern U32 GetOffsetFromResourceBase(U16 ImageID, U8* enum_value); // in WriteRes.c
 107:../../MMI/Resource/WriteImgRes.c **** 
 108:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
 109:../../MMI/Resource/WriteImgRes.c **** int disableENFB = 0;    /* we will only disable E-NFB image only for NFB image or from CustPack too
 110:../../MMI/Resource/WriteImgRes.c **** U32 enfb_offset = 0; // also used in ABMLoader.c ...
 111:../../MMI/Resource/WriteImgRes.c **** U32 enfb_size = 0; // also used in ABMLoader.c ...
 112:../../MMI/Resource/WriteImgRes.c **** 
 113:../../MMI/Resource/WriteImgRes.c **** extern FILE *enfb_img_data_file;
 114:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL ENFBAssociatedIDFlag;
 115:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL ENFBAssociatedIDAdded;
 116:../../MMI/Resource/WriteImgRes.c **** extern CUSTOM_ENFB_STR ENFBAssociatedIDList[];
 117:../../MMI/Resource/WriteImgRes.c **** extern unsigned short CurrMaxENFBAssociatedIDNum;
 118:../../MMI/Resource/WriteImgRes.c **** 
 119:../../MMI/Resource/WriteImgRes.c **** extern MMI_BOOL AddENFBAssociatedIDItem(U16 ImageID, S8 *filename, image_type_enum ExtImageFlag);
 120:../../MMI/Resource/WriteImgRes.c **** extern MMI_BOOL IfItemExistENFBAssociatedID(S8 *filename, image_type_enum ExtImageFlag);
 121:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_ENFB_SUPPORT__
 122:../../MMI/Resource/WriteImgRes.c **** 
 123:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_FONT_THIRD_ROM_SUPPORT__
 124:../../MMI/Resource/WriteImgRes.c **** extern FILE *enfb_font_data_file;
 125:../../MMI/Resource/WriteImgRes.c **** extern ENFB_Font_Res_Info ENFBFontResInfo[];
 126:../../MMI/Resource/WriteImgRes.c **** #endif
 127:../../MMI/Resource/WriteImgRes.c **** 
 128:../../MMI/Resource/WriteImgRes.c **** // exported function
 129:../../MMI/Resource/WriteImgRes.c **** 
 130:../../MMI/Resource/WriteImgRes.c **** // exported global variable
 131:../../MMI/Resource/WriteImgRes.c **** 
 132:../../MMI/Resource/WriteImgRes.c **** // can only be set from FALSE to TRUE, shall be thread safe
 133:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL g_mmi_res_nfb_used = FALSE;
 134:../../MMI/Resource/WriteImgRes.c **** 
 135:../../MMI/Resource/WriteImgRes.c **** // local function
 136:../../MMI/Resource/WriteImgRes.c **** static U8 isEmsImage(S8 *path);
 137:../../MMI/Resource/WriteImgRes.c **** 
 138:../../MMI/Resource/WriteImgRes.c **** static void mmi_rg_set_compress(BOOL is_compress);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 7


 139:../../MMI/Resource/WriteImgRes.c **** 
 140:../../MMI/Resource/WriteImgRes.c **** static S32 Load_Image_Data(
 141:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 142:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
 143:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
 144:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
 145:../../MMI/Resource/WriteImgRes.c ****         U32 width,
 146:../../MMI/Resource/WriteImgRes.c ****         U32 height,
 147:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 148:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename,
 149:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 150:../../MMI/Resource/WriteImgRes.c **** static void Write_Sequential_Image_Header(
 151:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 152:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
 153:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
 154:../../MMI/Resource/WriteImgRes.c ****         U8 play_count,
 155:../../MMI/Resource/WriteImgRes.c ****         S32 *seq_filesize,
 156:../../MMI/Resource/WriteImgRes.c ****         S32 *seq_offset,
 157:../../MMI/Resource/WriteImgRes.c ****         U32 width,
 158:../../MMI/Resource/WriteImgRes.c ****         U32 height,
 159:../../MMI/Resource/WriteImgRes.c ****         S32 sequential_interval[MAX_SEQUENTIAL_IMAGE_FRAME],
 160:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 161:../../MMI/Resource/WriteImgRes.c **** static void Write_Sequential_Image_File(
 162:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 163:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
 164:../../MMI/Resource/WriteImgRes.c ****         S32 filesize,
 165:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 166:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Sequential_Image(
 167:../../MMI/Resource/WriteImgRes.c ****         char *pathname,
 168:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
 169:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 170:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 171:../../MMI/Resource/WriteImgRes.c ****         S32 force_type,
 172:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 173:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Processed_Data(
 174:../../MMI/Resource/WriteImgRes.c ****         char *filename,
 175:../../MMI/Resource/WriteImgRes.c ****         U8 type,
 176:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
 177:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream *outstream,
 178:../../MMI/Resource/WriteImgRes.c ****         image_type_enum extImageFlag,
 179:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 180:../../MMI/Resource/WriteImgRes.c ****         S32 force_type,
 181:../../MMI/Resource/WriteImgRes.c ****         FILE *nfb_img_res_file,
 182:../../MMI/Resource/WriteImgRes.c ****         U8 *_9slice_filename,
 183:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData, S32 * error_code);
 184:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Unprocessed_Data(
 185:../../MMI/Resource/WriteImgRes.c ****         char *filename,
 186:../../MMI/Resource/WriteImgRes.c ****         FILE *image_file,
 187:../../MMI/Resource/WriteImgRes.c ****         S32 nImageSize,
 188:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
 189:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 190:../../MMI/Resource/WriteImgRes.c ****         image_type_enum extImageFlag,
 191:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 192:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename,
 193:../../MMI/Resource/WriteImgRes.c ****         FILE *nfb_img_res_file,
 194:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 195:../../MMI/Resource/WriteImgRes.c **** static U8 isSubmenuImage(S8 *path);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 8


 196:../../MMI/Resource/WriteImgRes.c **** 
 197:../../MMI/Resource/WriteImgRes.c **** static void LogILoadFail(int img_id, const char * img_id_enum, const char * img_filename, int force
 198:../../MMI/Resource/WriteImgRes.c **** static void LogNFBILoadFail(const char * img_filename, int forceType);
 199:../../MMI/Resource/WriteImgRes.c **** 
 200:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 201:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 202:../../MMI/Resource/WriteImgRes.c ****  *  LogILoadFail
 203:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 204:../../MMI/Resource/WriteImgRes.c ****  *  This function save the Iload failed log to the file. The log file is defined
 205:../../MMI/Resource/WriteImgRes.c ****  *  with FILE_IMAGE_LOAD_FAILED_LOG.
 206:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 207:../../MMI/Resource/WriteImgRes.c ****  *  img_id             id value of the image resource. if there is no id such as 
 208:../../MMI/Resource/WriteImgRes.c ****  *                     NFB image, it must be a native value
 209:../../MMI/Resource/WriteImgRes.c ****  *  img_id_enum        enum string of the image id
 210:../../MMI/Resource/WriteImgRes.c ****  *  img_filename       file name of the image content
 211:../../MMI/Resource/WriteImgRes.c ****  *  forceType          the target type of the image resource
 212:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 213:../../MMI/Resource/WriteImgRes.c ****  *  void
 214:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 215:../../MMI/Resource/WriteImgRes.c **** static void LogILoadFail(int img_id, const char * img_id_enum, const char * img_filename, int force
 216:../../MMI/Resource/WriteImgRes.c **** {
 2611              	LM1:
 2612 03ef 55       		pushl	%ebp
 2613 03f0 89E5     		movl	%esp, %ebp
 2614 03f2 57       		pushl	%edi
 2615 03f3 81EC3402 		subl	$564, %esp
 2615      0000
 217:../../MMI/Resource/WriteImgRes.c ****     FILE * imgFailLogFile = NULL;
 2617              	LM2:
 2618              	LBB2:
 2619 03f9 C745F400 		movl	$0, -12(%ebp)
 2619      000000
 218:../../MMI/Resource/WriteImgRes.c ****     char img_id_enum_out[256] = "Unknown Id";
 2621              	LM3:
 2622 0400 A1080100 		movl	LC21, %eax
 2622      00
 2623 0405 8985E8FE 		movl	%eax, -280(%ebp)
 2623      FFFF
 2624 040b A10C0100 		movl	LC21+4, %eax
 2624      00
 2625 0410 8985ECFE 		movl	%eax, -276(%ebp)
 2625      FFFF
 2626 0416 0FB70510 		movzwl	LC21+8, %eax
 2626      010000
 2627 041d 668985F0 		movw	%ax, -272(%ebp)
 2627      FEFFFF
 2628 0424 0FB60512 		movzbl	LC21+10, %eax
 2628      010000
 2629 042b 8885F2FE 		movb	%al, -270(%ebp)
 2629      FFFF
 2630 0431 8DBDF3FE 		leal	-269(%ebp), %edi
 2630      FFFF
 2631 0437 FC       		cld
 2632 0438 B9F50000 		movl	$245, %ecx
 2632      00
 2633 043d B000     		movb	$0, %al
 2634 043f F3       		rep
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 9


 2635 0440 AA       		stosb
 219:../../MMI/Resource/WriteImgRes.c ****     char img_filename_out[256] = "Unknown File";
 2637              	LM4:
 2638 0441 A1080200 		movl	LC22, %eax
 2638      00
 2639 0446 8985E8FD 		movl	%eax, -536(%ebp)
 2639      FFFF
 2640 044c A10C0200 		movl	LC22+4, %eax
 2640      00
 2641 0451 8985ECFD 		movl	%eax, -532(%ebp)
 2641      FFFF
 2642 0457 A1100200 		movl	LC22+8, %eax
 2642      00
 2643 045c 8985F0FD 		movl	%eax, -528(%ebp)
 2643      FFFF
 2644 0462 0FB60514 		movzbl	LC22+12, %eax
 2644      020000
 2645 0469 8885F4FD 		movb	%al, -524(%ebp)
 2645      FFFF
 2646 046f 8DBDF5FD 		leal	-523(%ebp), %edi
 2646      FFFF
 2647 0475 FC       		cld
 2648 0476 B9F30000 		movl	$243, %ecx
 2648      00
 2649 047b B000     		movb	$0, %al
 2650 047d F3       		rep
 2651 047e AA       		stosb
 220:../../MMI/Resource/WriteImgRes.c **** 
 221:../../MMI/Resource/WriteImgRes.c ****     if(file_exist(FILE_IMAGE_LOAD_FAILED_LOG) == MMI_TRUE)
 2653              	LM5:
 2654 047f C7042408 		movl	$LC23, (%esp)
 2654      030000
 2655 0486 E8000000 		call	_file_exist
 2655      00
 2656 048b 83F801   		cmpl	$1, %eax
 2657 048e 7519     		jne	L34
 222:../../MMI/Resource/WriteImgRes.c ****     {
 223:../../MMI/Resource/WriteImgRes.c ****         imgFailLogFile = fopen(FILE_IMAGE_LOAD_FAILED_LOG,"a");
 2659              	LM6:
 2660 0490 C7442404 		movl	$LC24, 4(%esp)
 2660      26030000 
 2661 0498 C7042408 		movl	$LC23, (%esp)
 2661      030000
 2662 049f E8000000 		call	_fopen
 2662      00
 2663 04a4 8945F4   		movl	%eax, -12(%ebp)
 2664 04a7 EB63     		jmp	L35
 2665              	L34:
 224:../../MMI/Resource/WriteImgRes.c ****     }
 225:../../MMI/Resource/WriteImgRes.c ****     else
 226:../../MMI/Resource/WriteImgRes.c ****     {
 227:../../MMI/Resource/WriteImgRes.c ****         imgFailLogFile = fopen(FILE_IMAGE_LOAD_FAILED_LOG,"w");
 2667              	LM7:
 2668 04a9 C7442404 		movl	$LC25, 4(%esp)
 2668      28030000 
 2669 04b1 C7042408 		movl	$LC23, (%esp)
 2669      030000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 10


 2670 04b8 E8000000 		call	_fopen
 2670      00
 2671 04bd 8945F4   		movl	%eax, -12(%ebp)
 228:../../MMI/Resource/WriteImgRes.c ****         // Write log header if the file is first created
 229:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile,"###############################################\n");
 2673              	LM8:
 2674 04c0 C7442404 		movl	$LC26, 4(%esp)
 2674      40030000 
 2675 04c8 8B45F4   		movl	-12(%ebp), %eax
 2676 04cb 890424   		movl	%eax, (%esp)
 2677 04ce E8000000 		call	_fprintf
 2677      00
 230:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile,"#       Resgen Failed Image Loading Log       #\n");
 2679              	LM9:
 2680 04d3 C7442404 		movl	$LC27, 4(%esp)
 2680      80030000 
 2681 04db 8B45F4   		movl	-12(%ebp), %eax
 2682 04de 890424   		movl	%eax, (%esp)
 2683 04e1 E8000000 		call	_fprintf
 2683      00
 231:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile,"###############################################\n");
 2685              	LM10:
 2686 04e6 C7442404 		movl	$LC26, 4(%esp)
 2686      40030000 
 2687 04ee 8B45F4   		movl	-12(%ebp), %eax
 2688 04f1 890424   		movl	%eax, (%esp)
 2689 04f4 E8000000 		call	_fprintf
 2689      00
 232:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile,"ID_NAME \tID\tFILE_PATH\tFORCE_TYPE\n");
 2691              	LM11:
 2692 04f9 C7442404 		movl	$LC28, 4(%esp)
 2692      C0030000 
 2693 0501 8B45F4   		movl	-12(%ebp), %eax
 2694 0504 890424   		movl	%eax, (%esp)
 2695 0507 E8000000 		call	_fprintf
 2695      00
 2696              	L35:
 233:../../MMI/Resource/WriteImgRes.c **** 
 234:../../MMI/Resource/WriteImgRes.c ****     }
 235:../../MMI/Resource/WriteImgRes.c **** 
 236:../../MMI/Resource/WriteImgRes.c ****     //Use number limited string function to ensure the code secrity
 237:../../MMI/Resource/WriteImgRes.c ****     if(img_id_enum!=NULL)
 2698              	LM12:
 2699 050c 837D0C00 		cmpl	$0, 12(%ebp)
 2700 0510 743B     		je	L36
 238:../../MMI/Resource/WriteImgRes.c ****     {
 239:../../MMI/Resource/WriteImgRes.c ****         memset(img_id_enum_out,0, sizeof(img_id_enum_out));
 2702              	LM13:
 2703 0512 C7442408 		movl	$256, 8(%esp)
 2703      00010000 
 2704 051a C7442404 		movl	$0, 4(%esp)
 2704      00000000 
 2705 0522 8D85E8FE 		leal	-280(%ebp), %eax
 2705      FFFF
 2706 0528 890424   		movl	%eax, (%esp)
 2707 052b E8000000 		call	_memset
 2707      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 11


 240:../../MMI/Resource/WriteImgRes.c ****         strncpy(img_id_enum_out, img_id_enum, sizeof(img_id_enum_out)-1 );
 2709              	LM14:
 2710 0530 C7442408 		movl	$255, 8(%esp)
 2710      FF000000 
 2711 0538 8B450C   		movl	12(%ebp), %eax
 2712 053b 89442404 		movl	%eax, 4(%esp)
 2713 053f 8D85E8FE 		leal	-280(%ebp), %eax
 2713      FFFF
 2714 0545 890424   		movl	%eax, (%esp)
 2715 0548 E8000000 		call	_strncpy
 2715      00
 2716              	L36:
 241:../../MMI/Resource/WriteImgRes.c ****     }
 242:../../MMI/Resource/WriteImgRes.c **** 
 243:../../MMI/Resource/WriteImgRes.c ****     if(img_filename!=NULL)
 2718              	LM15:
 2719 054d 837D1000 		cmpl	$0, 16(%ebp)
 2720 0551 743B     		je	L37
 244:../../MMI/Resource/WriteImgRes.c ****     {
 245:../../MMI/Resource/WriteImgRes.c ****         memset(img_filename_out,0, sizeof(img_filename_out));
 2722              	LM16:
 2723 0553 C7442408 		movl	$256, 8(%esp)
 2723      00010000 
 2724 055b C7442404 		movl	$0, 4(%esp)
 2724      00000000 
 2725 0563 8D85E8FD 		leal	-536(%ebp), %eax
 2725      FFFF
 2726 0569 890424   		movl	%eax, (%esp)
 2727 056c E8000000 		call	_memset
 2727      00
 246:../../MMI/Resource/WriteImgRes.c ****         strncpy(img_filename_out, img_filename, sizeof(img_filename_out)-1);
 2729              	LM17:
 2730 0571 C7442408 		movl	$255, 8(%esp)
 2730      FF000000 
 2731 0579 8B4510   		movl	16(%ebp), %eax
 2732 057c 89442404 		movl	%eax, 4(%esp)
 2733 0580 8D85E8FD 		leal	-536(%ebp), %eax
 2733      FFFF
 2734 0586 890424   		movl	%eax, (%esp)
 2735 0589 E8000000 		call	_strncpy
 2735      00
 2736              	L37:
 247:../../MMI/Resource/WriteImgRes.c ****     }
 248:../../MMI/Resource/WriteImgRes.c **** 
 249:../../MMI/Resource/WriteImgRes.c ****     if (imgFailLogFile != NULL)
 2738              	LM18:
 2739 058e 837DF400 		cmpl	$0, -12(%ebp)
 2740 0592 7440     		je	L33
 250:../../MMI/Resource/WriteImgRes.c ****     {
 251:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile, "%s\t%d\t%s\t%d\n", img_id_enum_out, img_id, img_filename_out, forc
 2742              	LM19:
 2743 0594 8B4514   		movl	20(%ebp), %eax
 2744 0597 89442414 		movl	%eax, 20(%esp)
 2745 059b 8D85E8FD 		leal	-536(%ebp), %eax
 2745      FFFF
 2746 05a1 89442410 		movl	%eax, 16(%esp)
 2747 05a5 8B4508   		movl	8(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 12


 2748 05a8 8944240C 		movl	%eax, 12(%esp)
 2749 05ac 8D85E8FE 		leal	-280(%ebp), %eax
 2749      FFFF
 2750 05b2 89442408 		movl	%eax, 8(%esp)
 2751 05b6 C7442404 		movl	$LC29, 4(%esp)
 2751      E2030000 
 2752 05be 8B45F4   		movl	-12(%ebp), %eax
 2753 05c1 890424   		movl	%eax, (%esp)
 2754 05c4 E8000000 		call	_fprintf
 2754      00
 252:../../MMI/Resource/WriteImgRes.c ****         fclose(imgFailLogFile);
 2756              	LM20:
 2757 05c9 8B45F4   		movl	-12(%ebp), %eax
 2758 05cc 890424   		movl	%eax, (%esp)
 2759 05cf E8000000 		call	_fclose
 2759      00
 253:../../MMI/Resource/WriteImgRes.c ****     }
 254:../../MMI/Resource/WriteImgRes.c **** }
 2761              	LM21:
 2762              	L33:
 2763 05d4 81C43402 		addl	$564, %esp
 2763      0000
 2764 05da 5F       		popl	%edi
 2765 05db 5D       		popl	%ebp
 2766 05dc C3       		ret
 2767              	LBE2:
 2773              	Lscope0:
 2775              	LC30:
 2776 05dd 4E6F2D49 		.ascii "No-Id(NFB)\0"
 2776      64284E46 
 2776      422900
 2781              	_LogNFBILoadFail:
 255:../../MMI/Resource/WriteImgRes.c **** 
 256:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 257:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 258:../../MMI/Resource/WriteImgRes.c ****  *  LogNFBILoadFail
 259:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 260:../../MMI/Resource/WriteImgRes.c ****  *  This function save the Iload failed log to the file. The log file is defined
 261:../../MMI/Resource/WriteImgRes.c ****  *  with FILE_IMAGE_LOAD_FAILED_LOG.
 262:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 263:../../MMI/Resource/WriteImgRes.c ****  *  img_id             id value of the image resource. if there is no id such as 
 264:../../MMI/Resource/WriteImgRes.c ****  *                     NFB image, it must be a native value
 265:../../MMI/Resource/WriteImgRes.c ****  *  img_id_enum        enum string of the image id
 266:../../MMI/Resource/WriteImgRes.c ****  *  img_filename       file name of the image content
 267:../../MMI/Resource/WriteImgRes.c ****  *  forceType          the target type of the image resource
 268:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 269:../../MMI/Resource/WriteImgRes.c ****  *  void
 270:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 271:../../MMI/Resource/WriteImgRes.c **** static void LogNFBILoadFail(const char * img_filename, int forceType)
 272:../../MMI/Resource/WriteImgRes.c **** {
 2783              	LM22:
 2784 05e8 55       		pushl	%ebp
 2785 05e9 89E5     		movl	%esp, %ebp
 2786 05eb 83EC18   		subl	$24, %esp
 273:../../MMI/Resource/WriteImgRes.c ****     LogILoadFail(-1,"No-Id(NFB)",img_filename,forceType);
 2788              	LM23:
 2789 05ee 8B450C   		movl	12(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 13


 2790 05f1 8944240C 		movl	%eax, 12(%esp)
 2791 05f5 8B4508   		movl	8(%ebp), %eax
 2792 05f8 89442408 		movl	%eax, 8(%esp)
 2793 05fc C7442404 		movl	$LC30, 4(%esp)
 2793      DD050000 
 2794 0604 C70424FF 		movl	$-1, (%esp)
 2794      FFFFFF
 2795 060b E8DFFDFF 		call	_LogILoadFail
 2795      FF
 274:../../MMI/Resource/WriteImgRes.c **** }
 2797              	LM24:
 2798 0610 C9       		leave
 2799 0611 C3       		ret
 2800              	Lscope1:
 2802              	LC31:
 2803 0612 00       		.ascii "\0"
 2804 0613 8DB60000 		.align 32
 2804      00008DBC 
 2804      27000000 
 2804      00
 2805              	LC32:
 2806 0620 2E2E5C5C 		.ascii "..\\\\..\\\\Customer\\\\IMAGES\\\\EmptyImage.bmp\0"
 2806      2E2E5C5C 
 2806      43757374 
 2806      6F6D6572 
 2806      5C5C494D 
 2807              	LC33:
 2808 0649 5365744E 		.ascii "SetNFBImage: str too long\12\0"
 2808      4642496D 
 2808      6167653A 
 2808      20737472 
 2808      20746F6F 
 2809              	LC34:
 2810 0664 57524954 		.ascii "WRITEIMGRES\0"
 2810      45494D47 
 2810      52455300 
 2811 0670 90909090 		.align 32
 2811      90909090 
 2811      90909090 
 2811      90909090 
 2812              	LC35:
 2813 0680 2E2E2F2E 		.ascii "../../MMI/Resource/WriteImgRes.c\0"
 2813      2E2F4D4D 
 2813      492F5265 
 2813      736F7572 
 2813      63652F57 
 2814              	LC36:
 2815 06a1 3000     		.ascii "0\0"
 2819              	.globl _SetNFBImageImp
 2821              	_SetNFBImageImp:
 275:../../MMI/Resource/WriteImgRes.c **** 
 276:../../MMI/Resource/WriteImgRes.c **** 
 277:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 278:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 279:../../MMI/Resource/WriteImgRes.c ****  *  SetNFBImageImp
 280:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 281:../../MMI/Resource/WriteImgRes.c ****  *
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 14


 282:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 283:../../MMI/Resource/WriteImgRes.c ****  *  filename        [?]
 284:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 285:../../MMI/Resource/WriteImgRes.c ****  *  void
 286:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 287:../../MMI/Resource/WriteImgRes.c **** void SetNFBImageImp(S8 *filename, SetImageProcessData * processData)
 288:../../MMI/Resource/WriteImgRes.c **** {
 2823              	LM25:
 2824 06a3 55       		pushl	%ebp
 2825 06a4 89E5     		movl	%esp, %ebp
 2826 06a6 B8281200 		movl	$4648, %eax
 2826      00
 2827 06ab E8000000 		call	__alloca
 2827      00
 289:../../MMI/Resource/WriteImgRes.c ****     int XXX;
 290:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 291:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
 292:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 293:../../MMI/Resource/WriteImgRes.c ****     S16 nStrlen;
 294:../../MMI/Resource/WriteImgRes.c ****     S8 upperFileName[MAX_FILENAME_LEN];
 295:../../MMI/Resource/WriteImgRes.c ****     S8 filename_buffer[BUFFER_SIZE];
 296:../../MMI/Resource/WriteImgRes.c **** 
 297:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 298:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
 299:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 300:../../MMI/Resource/WriteImgRes.c ****     ASSERT(MAX_FILENAME_LEN > strlen(filename));
 2829              	LM26:
 2830              	LBB3:
 2831 06b0 8B4508   		movl	8(%ebp), %eax
 2832 06b3 890424   		movl	%eax, (%esp)
 2833 06b6 E8000000 		call	_strlen
 2833      00
 2834 06bb 3DFF0100 		cmpl	$511, %eax
 2834      00
 2835 06c0 7602     		jbe	L45
 2836              	L42:
 2837 06c2 EBFE     		jmp	L42
 2838              	L45:
 301:../../MMI/Resource/WriteImgRes.c ****     strcpy(filename_buffer, filename);
 2840              	LM27:
 2841 06c4 8B4508   		movl	8(%ebp), %eax
 2842 06c7 89442404 		movl	%eax, 4(%esp)
 2843 06cb 8D85E8ED 		leal	-4632(%ebp), %eax
 2843      FFFF
 2844 06d1 890424   		movl	%eax, (%esp)
 2845 06d4 E8000000 		call	_strcpy
 2845      00
 302:../../MMI/Resource/WriteImgRes.c **** 
 303:../../MMI/Resource/WriteImgRes.c ****     if (strlen(filename_buffer) >= MAX_FILENAME_LEN)
 2847              	LM28:
 2848 06d9 8D85E8ED 		leal	-4632(%ebp), %eax
 2848      FFFF
 2849 06df 890424   		movl	%eax, (%esp)
 2850 06e2 E8000000 		call	_strlen
 2850      00
 2851 06e7 3DFF0100 		cmpl	$511, %eax
 2851      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 15


 2852 06ec 7607     		jbe	L46
 304:../../MMI/Resource/WriteImgRes.c ****     {
 305:../../MMI/Resource/WriteImgRes.c ****         filename_buffer[MAX_FILENAME_LEN - 1] = '\0';
 2854              	LM29:
 2855 06ee C685E7EF 		movb	$0, -4121(%ebp)
 2855      FFFF00
 2856              	L46:
 306:../../MMI/Resource/WriteImgRes.c ****     }
 307:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(filename_buffer, "")))
 2858              	LM30:
 2859 06f5 C7442404 		movl	$LC31, 4(%esp)
 2859      12060000 
 2860 06fd 8D85E8ED 		leal	-4632(%ebp), %eax
 2860      FFFF
 2861 0703 890424   		movl	%eax, (%esp)
 2862 0706 E8000000 		call	_strcmp
 2862      00
 2863 070b 85C0     		testl	%eax, %eax
 2864 070d 7516     		jne	L47
 308:../../MMI/Resource/WriteImgRes.c ****     {
 309:../../MMI/Resource/WriteImgRes.c ****         strcpy(filename_buffer, NOIMAGE_FILENAMEBUFFER);
 2866              	LM31:
 2867 070f C7442404 		movl	$LC32, 4(%esp)
 2867      20060000 
 2868 0717 8D85E8ED 		leal	-4632(%ebp), %eax
 2868      FFFF
 2869 071d 890424   		movl	%eax, (%esp)
 2870 0720 E8000000 		call	_strcpy
 2870      00
 2871              	L47:
 310:../../MMI/Resource/WriteImgRes.c **** 
 311:../../MMI/Resource/WriteImgRes.c ****     }
 312:../../MMI/Resource/WriteImgRes.c ****     nStrlen = strlen(filename_buffer);
 2873              	LM32:
 2874 0725 8D85E8ED 		leal	-4632(%ebp), %eax
 2874      FFFF
 2875 072b 890424   		movl	%eax, (%esp)
 2876 072e E8000000 		call	_strlen
 2876      00
 2877 0733 668945F2 		movw	%ax, -14(%ebp)
 313:../../MMI/Resource/WriteImgRes.c ****     if (nStrlen > MAX_FILENAME_LEN)
 2879              	LM33:
 2880 0737 66817DF2 		cmpw	$512, -14(%ebp)
 2880      0002
 2881 073d 7E38     		jle	L48
 314:../../MMI/Resource/WriteImgRes.c ****     {
 315:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("SetNFBImage: str too long\n");
 2883              	LM34:
 2884 073f C7442408 		movl	$LC33, 8(%esp)
 2884      49060000 
 2885 0747 C7442404 		movl	$LC34, 4(%esp)
 2885      64060000 
 2886 074f C7042403 		movl	$3, (%esp)
 2886      000000
 2887 0756 E8000000 		call	_reslog_adaptor_log
 2887      00
 316:../../MMI/Resource/WriteImgRes.c ****         assert(0);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 16


 2889              	LM35:
 2890 075b C7442408 		movl	$316, 8(%esp)
 2890      3C010000 
 2891 0763 C7442404 		movl	$LC35, 4(%esp)
 2891      80060000 
 2892 076b C70424A1 		movl	$LC36, (%esp)
 2892      060000
 2893 0772 E8000000 		call	__assert
 2893      00
 2894              	L48:
 317:../../MMI/Resource/WriteImgRes.c ****         exit(2);
 318:../../MMI/Resource/WriteImgRes.c ****     }
 319:../../MMI/Resource/WriteImgRes.c **** 
 320:../../MMI/Resource/WriteImgRes.c ****     strncpy(upperFileName, filename_buffer, MAX_FILENAME_LEN);
 2896              	LM36:
 2897 0777 C7442408 		movl	$512, 8(%esp)
 2897      00020000 
 2898 077f 8D85E8ED 		leal	-4632(%ebp), %eax
 2898      FFFF
 2899 0785 89442404 		movl	%eax, 4(%esp)
 2900 0789 8D85E8FD 		leal	-536(%ebp), %eax
 2900      FFFF
 2901 078f 890424   		movl	%eax, (%esp)
 2902 0792 E8000000 		call	_strncpy
 2902      00
 321:../../MMI/Resource/WriteImgRes.c ****     str_upper(upperFileName, MAX_FILENAME_LEN);
 2904              	LM37:
 2905 0797 C7442404 		movl	$512, 4(%esp)
 2905      00020000 
 2906 079f 8D85E8FD 		leal	-536(%ebp), %eax
 2906      FFFF
 2907 07a5 890424   		movl	%eax, (%esp)
 2908 07a8 E8000000 		call	_str_upper
 2908      00
 322:../../MMI/Resource/WriteImgRes.c **** 
 323:../../MMI/Resource/WriteImgRes.c ****     if( Iload(upperFileName, NFB_PROGRESS_IMAGE, AUTO_TYPE, processData)!= MMI_TRUE)
 2910              	LM38:
 2911 07ad 8B450C   		movl	12(%ebp), %eax
 2912 07b0 8944240C 		movl	%eax, 12(%esp)
 2913 07b4 C7442408 		movl	$0, 8(%esp)
 2913      00000000 
 2914 07bc C7442404 		movl	$2, 4(%esp)
 2914      02000000 
 2915 07c4 8D85E8FD 		leal	-536(%ebp), %eax
 2915      FFFF
 2916 07ca 890424   		movl	%eax, (%esp)
 2917 07cd E8240500 		call	_Iload
 2917      00
 2918 07d2 83F801   		cmpl	$1, %eax
 2919 07d5 7416     		je	L49
 324:../../MMI/Resource/WriteImgRes.c ****     {
 325:../../MMI/Resource/WriteImgRes.c ****         LogNFBILoadFail(upperFileName, AUTO_TYPE);
 2921              	LM39:
 2922 07d7 C7442404 		movl	$0, 4(%esp)
 2922      00000000 
 2923 07df 8D85E8FD 		leal	-536(%ebp), %eax
 2923      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 17


 2924 07e5 890424   		movl	%eax, (%esp)
 2925 07e8 E8FBFDFF 		call	_LogNFBILoadFail
 2925      FF
 2926              	L49:
 326:../../MMI/Resource/WriteImgRes.c ****     }
 327:../../MMI/Resource/WriteImgRes.c **** 
 328:../../MMI/Resource/WriteImgRes.c ****     // can only be set from FALSE to TRUE, shall be thread safe
 329:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_nfb_used = TRUE;
 2928              	LM40:
 2929 07ed C7050800 		movl	$1, _g_mmi_res_nfb_used
 2929      00000100 
 2929      0000
 330:../../MMI/Resource/WriteImgRes.c **** }
 2931              	LM41:
 2932 07f7 C9       		leave
 2933 07f8 C3       		ret
 2934              	LBE3:
 2941              	Lscope2:
 2943 07f9 8DB42600 		.align 32
 2943      000000
 2944              	LC37:
 2945 0800 2E2E5C5C 		.ascii "..\\\\..\\\\CUSTOMER\\\\IMAGES\\\\COSMOS480X800\\\\MAINLCD\\\\DEFAULT\\\\BOOTUPSHUTDOWN\\\
 2945      2E2E5C5C 
 2945      43555354 
 2945      4F4D4552 
 2945      5C5C494D 
 2946 0868 90909090 		.align 32
 2946      90909090 
 2946      90909090 
 2946      90909090 
 2946      90909090 
 2947              	LC38:
 2948 0880 496C6F61 		.ascii "Iload failed: %s(%d), PATH=%s, TYEP=%d\0"
 2948      64206661 
 2948      696C6564 
 2948      3A202573 
 2948      28256429 
 2956              	.globl _SetImageWithBufferExImp
 2958              	_SetImageWithBufferExImp:
 331:../../MMI/Resource/WriteImgRes.c **** 
 332:../../MMI/Resource/WriteImgRes.c **** 
 333:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 334:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 335:../../MMI/Resource/WriteImgRes.c ****  *  SetImageWithBufferExImp
 336:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 337:../../MMI/Resource/WriteImgRes.c ****  *  Function to copy the image file to buffer
 338:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 339:../../MMI/Resource/WriteImgRes.c ****  *  nImgId              [IN]
 340:../../MMI/Resource/WriteImgRes.c ****  *  filename            [?]
 341:../../MMI/Resource/WriteImgRes.c ****  *  enum_value          [?]
 342:../../MMI/Resource/WriteImgRes.c ****  *  res_type            [IN]
 343:../../MMI/Resource/WriteImgRes.c ****  *  imgFlag             [IN]
 344:../../MMI/Resource/WriteImgRes.c ****  *  S8(?)               [OUT]       -> filename of the image to be displayed.
 345:../../MMI/Resource/WriteImgRes.c ****  *  U16(?)              [IN]        -> ImageId
 346:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 347:../../MMI/Resource/WriteImgRes.c ****  *  void
 348:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 18


 349:../../MMI/Resource/WriteImgRes.c **** void SetImageWithBufferExImp(U16 nImgId, S8 *upperFileName, S8 *enum_value, BOOL imgFlag, S32 force
 350:../../MMI/Resource/WriteImgRes.c **** {
 2960              	LM42:
 2961 08a7 55       		pushl	%ebp
 2962 08a8 89E5     		movl	%esp, %ebp
 2963 08aa 83EC28   		subl	$40, %esp
 2964 08ad 8B4508   		movl	8(%ebp), %eax
 2965 08b0 668945FE 		movw	%ax, -2(%ebp)
 351:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 352:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
 353:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 354:../../MMI/Resource/WriteImgRes.c ****     image_type_enum extImageFlag = SYSTEM_IMAGE;
 2967              	LM43:
 2968              	LBB4:
 2969 08b4 C745F800 		movl	$0, -8(%ebp)
 2969      000000
 355:../../MMI/Resource/WriteImgRes.c **** 
 356:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 357:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
 358:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 359:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
 360:../../MMI/Resource/WriteImgRes.c ****     g_is_compressed = FALSE;
 361:../../MMI/Resource/WriteImgRes.c **** #endif
 362:../../MMI/Resource/WriteImgRes.c **** 
 363:../../MMI/Resource/WriteImgRes.c ****     if (imgFlag == TRUE)
 2971              	LM44:
 2972 08bb 837D1401 		cmpl	$1, 20(%ebp)
 2973 08bf 7509     		jne	L51
 364:../../MMI/Resource/WriteImgRes.c ****     {
 365:../../MMI/Resource/WriteImgRes.c ****         extImageFlag = EXT_IMAGE;
 2975              	LM45:
 2976 08c1 C745F801 		movl	$1, -8(%ebp)
 2976      000000
 2977 08c8 EB07     		jmp	L52
 2978              	L51:
 366:../../MMI/Resource/WriteImgRes.c ****     }
 367:../../MMI/Resource/WriteImgRes.c ****     else
 368:../../MMI/Resource/WriteImgRes.c ****     {
 369:../../MMI/Resource/WriteImgRes.c ****         extImageFlag = SYSTEM_IMAGE;
 2980              	LM46:
 2981 08ca C745F800 		movl	$0, -8(%ebp)
 2981      000000
 2982              	L52:
 370:../../MMI/Resource/WriteImgRes.c ****     }
 371:../../MMI/Resource/WriteImgRes.c **** 
 372:../../MMI/Resource/WriteImgRes.c ****     /*
 373:../../MMI/Resource/WriteImgRes.c ****     if (*pCurrMaxImageId >= MAX_IMAGE_IDS_SIZE)
 374:../../MMI/Resource/WriteImgRes.c ****     {
 375:../../MMI/Resource/WriteImgRes.c ****         return; // Can't add more than max number of image ids allowed
 376:../../MMI/Resource/WriteImgRes.c ****     }
 377:../../MMI/Resource/WriteImgRes.c ****     */
 378:../../MMI/Resource/WriteImgRes.c **** 
 379:../../MMI/Resource/WriteImgRes.c ****     if (strcmp(upperFileName, "..\\\\..\\\\CUSTOMER\\\\IMAGES\\\\COSMOS480X800\\\\MAINLCD\\\\DEFAUL
 2984              	LM47:
 2985 08d1 C7442404 		movl	$LC37, 4(%esp)
 2985      00080000 
 2986 08d9 8B450C   		movl	12(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 19


 2987 08dc 890424   		movl	%eax, (%esp)
 2988 08df E8000000 		call	_strcmp
 2988      00
 2989 08e4 85C0     		testl	%eax, %eax
 2990 08e6 7507     		jne	L53
 380:../../MMI/Resource/WriteImgRes.c ****     {
 381:../../MMI/Resource/WriteImgRes.c ****         int i = 0;
 2992              	LM48:
 2993              	LBB5:
 2994 08e8 C745F400 		movl	$0, -12(%ebp)
 2994      000000
 2995              	L53:
 382:../../MMI/Resource/WriteImgRes.c ****     }
 383:../../MMI/Resource/WriteImgRes.c ****     if (processData->duplicated == MMI_FALSE)
 2997              	LM49:
 2998              	LBE5:
 2999 08ef 8B451C   		movl	28(%ebp), %eax
 3000 08f2 83B80C02 		cmpl	$0, 524(%eax)
 3000      000000
 3001 08f9 0F85A900 		jne	L50
 3001      0000
 384:../../MMI/Resource/WriteImgRes.c ****     {
 385:../../MMI/Resource/WriteImgRes.c ****         if ( Iload(upperFileName, extImageFlag, force_type, processData)!= MMI_TRUE )
 3003              	LM50:
 3004 08ff 8B451C   		movl	28(%ebp), %eax
 3005 0902 8944240C 		movl	%eax, 12(%esp)
 3006 0906 8B4518   		movl	24(%ebp), %eax
 3007 0909 89442408 		movl	%eax, 8(%esp)
 3008 090d 8B45F8   		movl	-8(%ebp), %eax
 3009 0910 89442404 		movl	%eax, 4(%esp)
 3010 0914 8B450C   		movl	12(%ebp), %eax
 3011 0917 890424   		movl	%eax, (%esp)
 3012 091a E8D70300 		call	_Iload
 3012      00
 3013 091f 83F801   		cmpl	$1, %eax
 3014 0922 0F848000 		je	L50
 3014      0000
 386:../../MMI/Resource/WriteImgRes.c ****         {
 387:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_E("Iload failed: %s(%d), PATH=%s, TYEP=%d", enum_value, nImgId, upperFileNam
 3016              	LM51:
 3017 0928 8B4518   		movl	24(%ebp), %eax
 3018 092b 89442418 		movl	%eax, 24(%esp)
 3019 092f 8B450C   		movl	12(%ebp), %eax
 3020 0932 89442414 		movl	%eax, 20(%esp)
 3021 0936 0FB745FE 		movzwl	-2(%ebp), %eax
 3022 093a 89442410 		movl	%eax, 16(%esp)
 3023 093e 8B4510   		movl	16(%ebp), %eax
 3024 0941 8944240C 		movl	%eax, 12(%esp)
 3025 0945 C7442408 		movl	$LC38, 8(%esp)
 3025      80080000 
 3026 094d C7442404 		movl	$LC34, 4(%esp)
 3026      64060000 
 3027 0955 C7042403 		movl	$3, (%esp)
 3027      000000
 3028 095c E8000000 		call	_reslog_adaptor_log
 3028      00
 388:../../MMI/Resource/WriteImgRes.c ****             fflush(stdout);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 20


 3030              	LM52:
 3031 0961 A1000000 		movl	__imp___iob, %eax
 3031      00
 3032 0966 83C020   		addl	$32, %eax
 3033 0969 890424   		movl	%eax, (%esp)
 3034 096c E8000000 		call	_fflush
 3034      00
 389:../../MMI/Resource/WriteImgRes.c ****             if(!toolFlag)
 3036              	LM53:
 3037 0971 833D0000 		cmpl	$0, _toolFlag
 3037      000000
 3038 0978 7521     		jne	L56
 390:../../MMI/Resource/WriteImgRes.c ****             {
 391:../../MMI/Resource/WriteImgRes.c ****                 LogILoadFail(nImgId, enum_value, upperFileName, force_type);
 3040              	LM54:
 3041 097a 8B4518   		movl	24(%ebp), %eax
 3042 097d 8944240C 		movl	%eax, 12(%esp)
 3043 0981 8B450C   		movl	12(%ebp), %eax
 3044 0984 89442408 		movl	%eax, 8(%esp)
 3045 0988 8B4510   		movl	16(%ebp), %eax
 3046 098b 89442404 		movl	%eax, 4(%esp)
 3047 098f 0FB745FE 		movzwl	-2(%ebp), %eax
 3048 0993 890424   		movl	%eax, (%esp)
 3049 0996 E854FAFF 		call	_LogILoadFail
 3049      FF
 3050              	L56:
 392:../../MMI/Resource/WriteImgRes.c ****             }
 393:../../MMI/Resource/WriteImgRes.c ****             /* CustPack: let new set of images share the same resource of default image */
 394:../../MMI/Resource/WriteImgRes.c ****             processData->failed = MMI_TRUE;
 3052              	LM55:
 3053 099b 8B451C   		movl	28(%ebp), %eax
 3054 099e C7800802 		movl	$1, 520(%eax)
 3054      00000100 
 3054      0000
 395:../../MMI/Resource/WriteImgRes.c ****         }
 396:../../MMI/Resource/WriteImgRes.c ****     }
 397:../../MMI/Resource/WriteImgRes.c **** 
 398:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__//100206 ENFB support
 399:../../MMI/Resource/WriteImgRes.c ****     if (processData->failed)
 400:../../MMI/Resource/WriteImgRes.c ****     {
 401:../../MMI/Resource/WriteImgRes.c ****     }
 402:../../MMI/Resource/WriteImgRes.c ****     else if (processData->duplicated)
 403:../../MMI/Resource/WriteImgRes.c ****     {
 404:../../MMI/Resource/WriteImgRes.c ****         if (ENFBAssociatedIDFlag == MMI_TRUE)
 405:../../MMI/Resource/WriteImgRes.c ****         {
 406:../../MMI/Resource/WriteImgRes.c ****             if (IfItemExistENFBAssociatedID(upperFileName, extImageFlag))//already in other associa
 407:../../MMI/Resource/WriteImgRes.c ****             {
 408:../../MMI/Resource/WriteImgRes.c ****                 AddENFBAssociatedIDItem(nImgId, upperFileName, extImageFlag);
 409:../../MMI/Resource/WriteImgRes.c ****             }
 410:../../MMI/Resource/WriteImgRes.c ****             else
 411:../../MMI/Resource/WriteImgRes.c ****             {
 412:../../MMI/Resource/WriteImgRes.c ****                 fprintf(RepeatIDListFile, "\n\n!!!!!!!!!!!!%d\t%s\t\t%s!!!!!!!!!!!!!\n\n", nImgId, 
 413:../../MMI/Resource/WriteImgRes.c ****             }
 414:../../MMI/Resource/WriteImgRes.c ****         }
 415:../../MMI/Resource/WriteImgRes.c ****     }
 416:../../MMI/Resource/WriteImgRes.c ****     else
 417:../../MMI/Resource/WriteImgRes.c ****     {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 21


 418:../../MMI/Resource/WriteImgRes.c ****         if (ENFBAssociatedIDFlag == MMI_TRUE)
 419:../../MMI/Resource/WriteImgRes.c ****         {
 420:../../MMI/Resource/WriteImgRes.c ****             if (ENFBAssociatedIDAdded == MMI_TRUE)//already in other associated group
 421:../../MMI/Resource/WriteImgRes.c ****             {
 422:../../MMI/Resource/WriteImgRes.c ****                 AddENFBAssociatedIDItem(nImgId, upperFileName, extImageFlag);
 423:../../MMI/Resource/WriteImgRes.c ****                 ENFBAssociatedIDAdded = MMI_FALSE;
 424:../../MMI/Resource/WriteImgRes.c ****             }
 425:../../MMI/Resource/WriteImgRes.c ****         }
 426:../../MMI/Resource/WriteImgRes.c ****     }
 427:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_ENFB_SUPPORT__
 428:../../MMI/Resource/WriteImgRes.c **** }
 3056              	LM56:
 3057              	L50:
 3058 09a8 C9       		leave
 3059 09a9 C3       		ret
 3060              	LBE4:
 3068              	Lscope3:
 3070 09aa 90909090 		.align 32
 3070      90909090 
 3070      90909090 
 3070      90909090 
 3070      90909090 
 3071              	LC39:
 3072 09c0 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustNFBProgressImg.c\0"
 3072      2E5C4375 
 3072      73746F6D 
 3072      65725C43 
 3072      75737452 
 3073 09f1 EB0D9090 		.align 32
 3073      90909090 
 3073      90909090 
 3073      909090
 3074              	LC40:
 3075 0a00 496C6F61 		.ascii "Iload - open CustNFBProgressImg.c for NFB population\0"
 3075      64202D20 
 3075      6F70656E 
 3075      20437573 
 3075      744E4642 
 3076              	LC41:
 3077 0a35 2E39534C 		.ascii ".9SLICE\0"
 3077      49434500 
 3078              	LC42:
 3079 0a3d 2E545854 		.ascii ".TXT\0"
 3079      00
 3080              	LC43:
 3081 0a42 466F756E 		.ascii "Found 9slice image [%s]\0"
 3081      64203973 
 3081      6C696365 
 3081      20696D61 
 3081      6765205B 
 3082 0a5a 8DB60000 		.align 32
 3082      0000
 3083              	LC44:
 3084 0a60 44696420 		.ascii "Did not find 9slice txt files [%s]\0"
 3084      6E6F7420 
 3084      66696E64 
 3084      2039736C 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 22


 3084      69636520 
 3085 0a83 90909090 		.align 32
 3085      90909090 
 3085      90909090 
 3085      90909090 
 3085      90909090 
 3086              	LC45:
 3087 0aa0 4E46425F 		.ascii "NFB_PROGRESS_IMAGE is set - Close CustNFBProgressImg.c before Iload return\0"
 3087      50524F47 
 3087      52455353 
 3087      5F494D41 
 3087      47452069 
 3088 0aeb 90909090 		.align 32
 3088      90909090 
 3088      90909090 
 3088      90909090 
 3088      90909090 
 3089              	LC46:
 3090 0b00 5B41424D 		.ascii "[ABM] %s\11cannot open file for all supported formats!!!\12\0"
 3090      5D202573 
 3090      0963616E 
 3090      6E6F7420 
 3090      6F70656E 
 3091 0b38 908DB426 		.align 32
 3091      00000000 
 3092              	LC47:
 3093 0b40 496C6F61 		.ascii "Iload: strlen(filename_buffer) >  BUFFER_SIZE\12\0"
 3093      643A2073 
 3093      74726C65 
 3093      6E286669 
 3093      6C656E61 
 3094 0b6f 90909090 		.align 32
 3094      90909090 
 3094      90909090 
 3094      90909090 
 3094      90
 3095              	LC48:
 3096 0b80 496C6F61 		.ascii "Iload: (strlen(filename_buffer)+strlen(tempBMPFile)) >  MAX_FILENAME_LEN\12\0"
 3096      643A2028 
 3096      7374726C 
 3096      656E2866 
 3096      696C656E 
 3097              	LC49:
 3098 0bca 4100     		.ascii "A\0"
 3099              	LC50:
 3100 0bcc 5B25735D 		.ascii "[%s] no need convert 01\12\0"
 3100      206E6F20 
 3100      6E656564 
 3100      20636F6E 
 3100      76657274 
 3101 0be5 90909090 		.align 32
 3101      90909090 
 3101      90909090 
 3101      90909090 
 3101      90909090 
 3102              	LC51:
 3103 0c00 2E5C5C63 		.ascii ".\\\\convert.exe -channel Alpha -negate -compress none png:%s bmp:%s > NUL\0"
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 23


 3103      6F6E7665 
 3103      72742E65 
 3103      7865202D 
 3103      6368616E 
 3104              	LC52:
 3105 0c49 25730A00 		.ascii "%s\12\0"
 3106 0c4d 90909090 		.align 32
 3106      90909090 
 3106      90909090 
 3106      90909090 
 3106      909090
 3107              	LC53:
 3108 0c60 496C6F61 		.ascii "Iload: filename_buffer too short\0"
 3108      643A2066 
 3108      696C656E 
 3108      616D655F 
 3108      62756666 
 3109              	LC54:
 3110 0c81 636F6E73 		.ascii "const U8 %s[] = \0"
 3110      74205538 
 3110      2025735B 
 3110      5D203D20 
 3110      00
 3111              	LC55:
 3112 0c92 612B00   		.ascii "a+\0"
 3113              	LC56:
 3114 0c95 2E5C5C64 		.ascii ".\\\\debug\\\\fail.txt\0"
 3114      65627567 
 3114      5C5C6661 
 3114      696C2E74 
 3114      787400
 3115 0ca8 90909090 		.align 32
 3115      90909090 
 3115      90909090 
 3115      90909090 
 3115      90909090 
 3116              	LC57:
 3117 0cc0 46696C65 		.ascii "File %s not exist, trying to load sequential image\0"
 3117      20257320 
 3117      6E6F7420 
 3117      65786973 
 3117      742C2074 
 3118              	LC58:
 3119 0cf3 726200   		.ascii "rb\0"
 3125              	.globl _Iload
 3127              	_Iload:
 429:../../MMI/Resource/WriteImgRes.c **** 
 430:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 431:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 432:../../MMI/Resource/WriteImgRes.c ****  *  Iload
 433:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 434:../../MMI/Resource/WriteImgRes.c ****  *  load the file image to buffer and writes to CustImgRes.c, etc.
 435:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 436:../../MMI/Resource/WriteImgRes.c ****  *  string      [IN]        string containing file name and path
 437:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 438:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
 439:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 24


 440:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL Iload(S8 *string, image_type_enum extImageFlag, S32 force_type, SetImageProcessData * proc
 441:../../MMI/Resource/WriteImgRes.c **** {
 3129              	LM57:
 3130 0cf6 55       		pushl	%ebp
 3131 0cf7 89E5     		movl	%esp, %ebp
 3132 0cf9 53       		pushl	%ebx
 3133 0cfa B8F42400 		movl	$9460, %eax
 3133      00
 3134 0cff E8000000 		call	__alloca
 3134      00
 442:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 443:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
 444:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 445:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL failure_flag;
 446:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL flag_file_exist = MMI_TRUE;
 3136              	LM58:
 3137              	LBB6:
 3138 0d04 C745F001 		movl	$1, -16(%ebp)
 3138      000000
 447:../../MMI/Resource/WriteImgRes.c ****     S8 * output_image_names = NULL;
 3140              	LM59:
 3141 0d0b C745EC00 		movl	$0, -20(%ebp)
 3141      000000
 448:../../MMI/Resource/WriteImgRes.c ****     S8 filename_buffer[BUFFER_SIZE];
 449:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL is9slice = MMI_FALSE;
 3143              	LM60:
 3144 0d12 C785E4EF 		movl	$0, -4124(%ebp)
 3144      FFFF0000 
 3144      0000
 450:../../MMI/Resource/WriteImgRes.c ****     U8 _9slice_filename[MAX_FILENAME_LEN];
 451:../../MMI/Resource/WriteImgRes.c ****     FILE *nfb_img_res_file = NULL;
 3146              	LM61:
 3147 0d1c C785D4ED 		movl	$0, -4652(%ebp)
 3147      FFFF0000 
 3147      0000
 452:../../MMI/Resource/WriteImgRes.c ****     S32 proc_img_err_code = 0;
 3149              	LM62:
 3150 0d26 C785D0ED 		movl	$0, -4656(%ebp)
 3150      FFFF0000 
 3150      0000
 453:../../MMI/Resource/WriteImgRes.c **** 
 454:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 455:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
 456:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 457:../../MMI/Resource/WriteImgRes.c ****     /* reset res_size, size of the resource for usage manitor */
 458:../../MMI/Resource/WriteImgRes.c ****     processData->res_size = 0;
 3152              	LM63:
 3153 0d30 8B4514   		movl	20(%ebp), %eax
 3154 0d33 C7800002 		movl	$0, 512(%eax)
 3154      00000000 
 3154      0000
 459:../../MMI/Resource/WriteImgRes.c **** 
 460:../../MMI/Resource/WriteImgRes.c ****     if (extImageFlag == NFB_PROGRESS_IMAGE)
 3156              	LM64:
 3157 0d3d 837D0C02 		cmpl	$2, 12(%ebp)
 3158 0d41 7536     		jne	L58
 461:../../MMI/Resource/WriteImgRes.c ****     {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 25


 462:../../MMI/Resource/WriteImgRes.c ****         nfb_img_res_file = fopen(NFB_IMAGE_RES_FILENAME, "a");
 3160              	LM65:
 3161 0d43 C7442404 		movl	$LC24, 4(%esp)
 3161      26030000 
 3162 0d4b C70424C0 		movl	$LC39, (%esp)
 3162      090000
 3163 0d52 E8000000 		call	_fopen
 3163      00
 3164 0d57 8985D4ED 		movl	%eax, -4652(%ebp)
 3164      FFFF
 463:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_V("Iload - open CustNFBProgressImg.c for NFB population");
 3166              	LM66:
 3167 0d5d C7442408 		movl	$LC40, 8(%esp)
 3167      000A0000 
 3168 0d65 C7442404 		movl	$LC34, 4(%esp)
 3168      64060000 
 3169 0d6d C7042401 		movl	$1, (%esp)
 3169      000000
 3170 0d74 E8000000 		call	_reslog_adaptor_log
 3170      00
 3171              	L58:
 464:../../MMI/Resource/WriteImgRes.c ****     }
 465:../../MMI/Resource/WriteImgRes.c **** 
 466:../../MMI/Resource/WriteImgRes.c ****     /* set output variable name of the resource */
 467:../../MMI/Resource/WriteImgRes.c ****     output_image_names = (S8*) malloc(MAX_FILENAME_LEN);
 3173              	LM67:
 3174 0d79 C7042400 		movl	$512, (%esp)
 3174      020000
 3175 0d80 E8000000 		call	_malloc
 3175      00
 3176 0d85 8945EC   		movl	%eax, -20(%ebp)
 468:../../MMI/Resource/WriteImgRes.c ****     strcpy(filename_buffer, string);
 3178              	LM68:
 3179 0d88 8B4508   		movl	8(%ebp), %eax
 3180 0d8b 89442404 		movl	%eax, 4(%esp)
 3181 0d8f 8D85E8EF 		leal	-4120(%ebp), %eax
 3181      FFFF
 3182 0d95 890424   		movl	%eax, (%esp)
 3183 0d98 E8000000 		call	_strcpy
 3183      00
 469:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(filename_buffer, "")))
 3185              	LM69:
 3186 0d9d C7442404 		movl	$LC31, 4(%esp)
 3186      12060000 
 3187 0da5 8D85E8EF 		leal	-4120(%ebp), %eax
 3187      FFFF
 3188 0dab 890424   		movl	%eax, (%esp)
 3189 0dae E8000000 		call	_strcmp
 3189      00
 3190 0db3 85C0     		testl	%eax, %eax
 3191 0db5 7516     		jne	L59
 470:../../MMI/Resource/WriteImgRes.c ****     {
 471:../../MMI/Resource/WriteImgRes.c ****         strcpy(filename_buffer, NOIMAGE_FILENAMEBUFFER);
 3193              	LM70:
 3194 0db7 C7442404 		movl	$LC32, 4(%esp)
 3194      20060000 
 3195 0dbf 8D85E8EF 		leal	-4120(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 26


 3195      FFFF
 3196 0dc5 890424   		movl	%eax, (%esp)
 3197 0dc8 E8000000 		call	_strcpy
 3197      00
 3198              	L59:
 472:../../MMI/Resource/WriteImgRes.c ****     }
 473:../../MMI/Resource/WriteImgRes.c ****     Extract_Name(output_image_names, filename_buffer, extImageFlag);
 3200              	LM71:
 3201 0dcd 8B450C   		movl	12(%ebp), %eax
 3202 0dd0 89442408 		movl	%eax, 8(%esp)
 3203 0dd4 8D85E8EF 		leal	-4120(%ebp), %eax
 3203      FFFF
 3204 0dda 89442404 		movl	%eax, 4(%esp)
 3205 0dde 8B45EC   		movl	-20(%ebp), %eax
 3206 0de1 890424   		movl	%eax, (%esp)
 3207 0de4 E8000000 		call	_Extract_Name
 3207      00
 474:../../MMI/Resource/WriteImgRes.c **** 
 475:../../MMI/Resource/WriteImgRes.c ****     if (strstr(filename_buffer, ".9SLICE") != NULL)
 3209              	LM72:
 3210 0de9 C7442404 		movl	$LC41, 4(%esp)
 3210      350A0000 
 3211 0df1 8D85E8EF 		leal	-4120(%ebp), %eax
 3211      FFFF
 3212 0df7 890424   		movl	%eax, (%esp)
 3213 0dfa E8000000 		call	_strstr
 3213      00
 3214 0dff 85C0     		testl	%eax, %eax
 3215 0e01 0F841101 		je	L60
 3215      0000
 476:../../MMI/Resource/WriteImgRes.c ****     {
 477:../../MMI/Resource/WriteImgRes.c ****         is9slice = MMI_TRUE;
 3217              	LM73:
 3218 0e07 C785E4EF 		movl	$1, -4124(%ebp)
 3218      FFFF0100 
 3218      0000
 478:../../MMI/Resource/WriteImgRes.c ****         ASSERT(MAX_FILENAME_LEN > (strlen(filename_buffer)+4));
 3220              	LM74:
 3221 0e11 8D85E8EF 		leal	-4120(%ebp), %eax
 3221      FFFF
 3222 0e17 890424   		movl	%eax, (%esp)
 3223 0e1a E8000000 		call	_strlen
 3223      00
 3224 0e1f 83C004   		addl	$4, %eax
 3225 0e22 3DFF0100 		cmpl	$511, %eax
 3225      00
 3226 0e27 7602     		jbe	L65
 3227              	L62:
 3228 0e29 EBFE     		jmp	L62
 3229              	L65:
 479:../../MMI/Resource/WriteImgRes.c ****         strcpy(_9slice_filename, filename_buffer);
 3231              	LM75:
 3232 0e2b 8D85E8EF 		leal	-4120(%ebp), %eax
 3232      FFFF
 3233 0e31 89442404 		movl	%eax, 4(%esp)
 3234 0e35 8D85D8ED 		leal	-4648(%ebp), %eax
 3234      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 27


 3235 0e3b 890424   		movl	%eax, (%esp)
 3236 0e3e E8000000 		call	_strcpy
 3236      00
 480:../../MMI/Resource/WriteImgRes.c ****         strcat(_9slice_filename, ".TXT");
 3238              	LM76:
 3239 0e43 C7442404 		movl	$LC42, 4(%esp)
 3239      3D0A0000 
 3240 0e4b 8D85D8ED 		leal	-4648(%ebp), %eax
 3240      FFFF
 3241 0e51 890424   		movl	%eax, (%esp)
 3242 0e54 E8000000 		call	_strcat
 3242      00
 481:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_D("Found 9slice image [%s]", filename_buffer);
 3244              	LM77:
 3245 0e59 8D85E8EF 		leal	-4120(%ebp), %eax
 3245      FFFF
 3246 0e5f 8944240C 		movl	%eax, 12(%esp)
 3247 0e63 C7442408 		movl	$LC43, 8(%esp)
 3247      420A0000 
 3248 0e6b C7442404 		movl	$LC34, 4(%esp)
 3248      64060000 
 3249 0e73 C7042400 		movl	$0, (%esp)
 3249      000000
 3250 0e7a E8000000 		call	_reslog_adaptor_log
 3250      00
 482:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(_9slice_filename) == MMI_FALSE)
 3252              	LM78:
 3253 0e7f 8D85D8ED 		leal	-4648(%ebp), %eax
 3253      FFFF
 3254 0e85 890424   		movl	%eax, (%esp)
 3255 0e88 E8000000 		call	_file_exist
 3255      00
 3256 0e8d 85C0     		testl	%eax, %eax
 3257 0e8f 0F858300 		jne	L60
 3257      0000
 483:../../MMI/Resource/WriteImgRes.c ****         {
 484:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_W("Did not find 9slice txt files [%s]", filename_buffer);
 3259              	LM79:
 3260 0e95 8D85E8EF 		leal	-4120(%ebp), %eax
 3260      FFFF
 3261 0e9b 8944240C 		movl	%eax, 12(%esp)
 3262 0e9f C7442408 		movl	$LC44, 8(%esp)
 3262      600A0000 
 3263 0ea7 C7442404 		movl	$LC34, 4(%esp)
 3263      64060000 
 3264 0eaf C7042402 		movl	$2, (%esp)
 3264      000000
 3265 0eb6 E8000000 		call	_reslog_adaptor_log
 3265      00
 485:../../MMI/Resource/WriteImgRes.c **** 
 486:../../MMI/Resource/WriteImgRes.c **** 			// Release resource before return
 487:../../MMI/Resource/WriteImgRes.c **** 			if (extImageFlag == NFB_PROGRESS_IMAGE){
 3267              	LM80:
 3268 0ebb 837D0C02 		cmpl	$2, 12(%ebp)
 3269 0ebf 753D     		jne	L67
 488:../../MMI/Resource/WriteImgRes.c ****                 MYFCLOSE(nfb_img_res_file);
 3271              	LM81:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 28


 3272 0ec1 83BDD4ED 		cmpl	$0, -4652(%ebp)
 3272      FFFF00
 3273 0ec8 7418     		je	L68
 3274 0eca 8B85D4ED 		movl	-4652(%ebp), %eax
 3274      FFFF
 3275 0ed0 890424   		movl	%eax, (%esp)
 3276 0ed3 E8000000 		call	_fclose
 3276      00
 3277 0ed8 C785D4ED 		movl	$0, -4652(%ebp)
 3277      FFFF0000 
 3277      0000
 3278              	L68:
 489:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_V("NFB_PROGRESS_IMAGE is set - Close CustNFBProgressImg.c before Iload r
 3280              	LM82:
 3281 0ee2 C7442408 		movl	$LC45, 8(%esp)
 3281      A00A0000 
 3282 0eea C7442404 		movl	$LC34, 4(%esp)
 3282      64060000 
 3283 0ef2 C7042401 		movl	$1, (%esp)
 3283      000000
 3284 0ef9 E8000000 		call	_reslog_adaptor_log
 3284      00
 3285              	L67:
 490:../../MMI/Resource/WriteImgRes.c ****             }
 491:../../MMI/Resource/WriteImgRes.c ****             free(output_image_names);
 3287              	LM83:
 3288 0efe 8B45EC   		movl	-20(%ebp), %eax
 3289 0f01 890424   		movl	%eax, (%esp)
 3290 0f04 E8000000 		call	_free
 3290      00
 492:../../MMI/Resource/WriteImgRes.c ****             return MMI_FALSE;
 3292              	LM84:
 3293 0f09 C78538DB 		movl	$0, -9416(%ebp)
 3293      FFFF0000 
 3293      0000
 3294 0f13 E9E20C00 		jmp	L57
 3294      00
 3295              	L60:
 493:../../MMI/Resource/WriteImgRes.c ****         }
 494:../../MMI/Resource/WriteImgRes.c ****     }
 495:../../MMI/Resource/WriteImgRes.c **** 
 496:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_SLIM_LISTMENU_NUMBER__
 497:../../MMI/Resource/WriteImgRes.c ****     /* set sub-menu list icon image to default 1, 2, 3, ... */
 498:../../MMI/Resource/WriteImgRes.c ****     if (isSubmenuImage(filename_buffer))
 3297              	LM85:
 3298 0f18 8D85E8EF 		leal	-4120(%ebp), %eax
 3298      FFFF
 3299 0f1e 890424   		movl	%eax, (%esp)
 3300 0f21 E8265600 		call	_isSubmenuImage
 3300      00
 3301 0f26 84C0     		testb	%al, %al
 3302 0f28 0F840A01 		je	L70
 3302      0000
 499:../../MMI/Resource/WriteImgRes.c ****     {
 500:../../MMI/Resource/WriteImgRes.c ****         int i, len;
 501:../../MMI/Resource/WriteImgRes.c **** 
 502:../../MMI/Resource/WriteImgRes.c ****         len = strlen(filename_buffer);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 29


 3304              	LM86:
 3305              	LBB7:
 3306 0f2e 8D85E8EF 		leal	-4120(%ebp), %eax
 3306      FFFF
 3307 0f34 890424   		movl	%eax, (%esp)
 3308 0f37 E8000000 		call	_strlen
 3308      00
 3309 0f3c 8985C8ED 		movl	%eax, -4664(%ebp)
 3309      FFFF
 503:../../MMI/Resource/WriteImgRes.c **** 
 504:../../MMI/Resource/WriteImgRes.c ****         for (i = len; i > 0; i--)
 3311              	LM87:
 3312 0f42 8B85C8ED 		movl	-4664(%ebp), %eax
 3312      FFFF
 3313 0f48 8985CCED 		movl	%eax, -4660(%ebp)
 3313      FFFF
 3314              	L71:
 3315 0f4e 83BDCCED 		cmpl	$0, -4660(%ebp)
 3315      FFFF00
 3316 0f55 7F05     		jg	L74
 3317 0f57 E9CB0000 		jmp	L72
 3317      00
 3318              	L74:
 505:../../MMI/Resource/WriteImgRes.c ****         {
 506:../../MMI/Resource/WriteImgRes.c ****             if (filename_buffer[i - 0] == 'U' && filename_buffer[i - 1] == 'N' && filename_buffer[i
 3320              	LM88:
 3321 0f5c 8D45F8   		leal	-8(%ebp), %eax
 3322 0f5f 0385CCED 		addl	-4660(%ebp), %eax
 3322      FFFF
 3323 0f65 2D101000 		subl	$4112, %eax
 3323      00
 3324 0f6a 803855   		cmpb	$85, (%eax)
 3325 0f6d 0F858500 		jne	L75
 3325      0000
 3326 0f73 8D45F8   		leal	-8(%ebp), %eax
 3327 0f76 0385CCED 		addl	-4660(%ebp), %eax
 3327      FFFF
 3328 0f7c 2D111000 		subl	$4113, %eax
 3328      00
 3329 0f81 80384E   		cmpb	$78, (%eax)
 3330 0f84 7572     		jne	L75
 3331 0f86 8D45F8   		leal	-8(%ebp), %eax
 3332 0f89 0385CCED 		addl	-4660(%ebp), %eax
 3332      FFFF
 3333 0f8f 2D121000 		subl	$4114, %eax
 3333      00
 3334 0f94 803845   		cmpb	$69, (%eax)
 3335 0f97 755F     		jne	L75
 3336 0f99 8D45F8   		leal	-8(%ebp), %eax
 3337 0f9c 0385CCED 		addl	-4660(%ebp), %eax
 3337      FFFF
 3338 0fa2 2D131000 		subl	$4115, %eax
 3338      00
 3339 0fa7 80384D   		cmpb	$77, (%eax)
 3340 0faa 754C     		jne	L75
 3341 0fac 8D45F8   		leal	-8(%ebp), %eax
 3342 0faf 0385CCED 		addl	-4660(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 30


 3342      FFFF
 3343 0fb5 2D141000 		subl	$4116, %eax
 3343      00
 3344 0fba 803842   		cmpb	$66, (%eax)
 3345 0fbd 7539     		jne	L75
 3346 0fbf 8D45F8   		leal	-8(%ebp), %eax
 3347 0fc2 0385CCED 		addl	-4660(%ebp), %eax
 3347      FFFF
 3348 0fc8 2D151000 		subl	$4117, %eax
 3348      00
 3349 0fcd 803855   		cmpb	$85, (%eax)
 3350 0fd0 7526     		jne	L75
 3351 0fd2 8D45F8   		leal	-8(%ebp), %eax
 3352 0fd5 0385CCED 		addl	-4660(%ebp), %eax
 3352      FFFF
 3353 0fdb 2D161000 		subl	$4118, %eax
 3353      00
 3354 0fe0 803853   		cmpb	$83, (%eax)
 3355 0fe3 7513     		jne	L75
 507:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[i - 3] == 'M' && filename_buffer[i - 4] == 'B' && filename_buffer[i
 508:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[i - 6] == 'S')
 509:../../MMI/Resource/WriteImgRes.c ****             {
 510:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[i + 1] = '2';
 3357              	LM89:
 3358 0fe5 8D45F8   		leal	-8(%ebp), %eax
 3359 0fe8 0385CCED 		addl	-4660(%ebp), %eax
 3359      FFFF
 3360 0fee 2D0F1000 		subl	$4111, %eax
 3360      00
 3361 0ff3 C60032   		movb	$50, (%eax)
 511:../../MMI/Resource/WriteImgRes.c ****                 break;
 3363              	LM90:
 3364 0ff6 EB2F     		jmp	L72
 3365              	L75:
 512:../../MMI/Resource/WriteImgRes.c ****             }
 513:../../MMI/Resource/WriteImgRes.c ****             else
 514:../../MMI/Resource/WriteImgRes.c ****             {
 515:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[i + 1] = filename_buffer[i];
 3367              	LM91:
 3368 0ff8 8D45F8   		leal	-8(%ebp), %eax
 3369 0ffb 0385CCED 		addl	-4660(%ebp), %eax
 3369      FFFF
 3370 1001 8D90F1EF 		leal	-4111(%eax), %edx
 3370      FFFF
 3371 1007 8D45F8   		leal	-8(%ebp), %eax
 3372 100a 0385CCED 		addl	-4660(%ebp), %eax
 3372      FFFF
 3373 1010 2D101000 		subl	$4112, %eax
 3373      00
 3374 1015 0FB600   		movzbl	(%eax), %eax
 3375 1018 8802     		movb	%al, (%edx)
 3377              	LM92:
 3378 101a 8D85CCED 		leal	-4660(%ebp), %eax
 3378      FFFF
 3379 1020 FF08     		decl	(%eax)
 3380 1022 E927FFFF 		jmp	L71
 3380      FF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 31


 3381              	L72:
 516:../../MMI/Resource/WriteImgRes.c ****             }
 517:../../MMI/Resource/WriteImgRes.c **** 
 518:../../MMI/Resource/WriteImgRes.c ****         }
 519:../../MMI/Resource/WriteImgRes.c ****         filename_buffer[len + 1] = '\0';
 3383              	LM93:
 3384 1027 8D45F8   		leal	-8(%ebp), %eax
 3385 102a 0385C8ED 		addl	-4664(%ebp), %eax
 3385      FFFF
 3386 1030 2D0F1000 		subl	$4111, %eax
 3386      00
 3387 1035 C60000   		movb	$0, (%eax)
 3388              	L70:
 520:../../MMI/Resource/WriteImgRes.c ****     }
 521:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_SLIM_LISTMENU_NUMBER__ */
 522:../../MMI/Resource/WriteImgRes.c **** 
 523:../../MMI/Resource/WriteImgRes.c ****     failure_flag = MMI_FALSE;
 3390              	LM94:
 3391              	LBE7:
 3392 1038 C745F400 		movl	$0, -12(%ebp)
 3392      000000
 524:../../MMI/Resource/WriteImgRes.c **** 
 525:../../MMI/Resource/WriteImgRes.c ****     /* For 128x128, it does not support ABM.
 526:../../MMI/Resource/WriteImgRes.c ****      * In order not to modify res_xxx.c, we have to
 527:../../MMI/Resource/WriteImgRes.c ****      * find the correct filename automatically */
 528:../../MMI/Resource/WriteImgRes.c ****     /* This rule, renaming PNG -> other format, will apply for all */
 529:../../MMI/Resource/WriteImgRes.c ****     if (file_exist(filename_buffer) == MMI_FALSE)
 3394              	LM95:
 3395 103f 8D85E8EF 		leal	-4120(%ebp), %eax
 3395      FFFF
 3396 1045 890424   		movl	%eax, (%esp)
 3397 1048 E8000000 		call	_file_exist
 3397      00
 3398 104d 85C0     		testl	%eax, %eax
 3399 104f 0F85FF00 		jne	L77
 3399      0000
 530:../../MMI/Resource/WriteImgRes.c ****     {
 531:../../MMI/Resource/WriteImgRes.c ****         S32 ext_type_1 = -1;
 3401              	LM96:
 3402              	LBB8:
 3403 1055 C785C8ED 		movl	$-1, -4664(%ebp)
 3403      FFFFFFFF 
 3403      FFFF
 532:../../MMI/Resource/WriteImgRes.c ****         ext_type_1 = ExtractExtension(filename_buffer, RES_IMAGE);
 3405              	LM97:
 3406 105f C7442404 		movl	$0, 4(%esp)
 3406      00000000 
 3407 1067 8D85E8EF 		leal	-4120(%ebp), %eax
 3407      FFFF
 3408 106d 890424   		movl	%eax, (%esp)
 3409 1070 E8000000 		call	_ExtractExtension
 3409      00
 3410 1075 0FB6C0   		movzbl	%al, %eax
 3411 1078 8985C8ED 		movl	%eax, -4664(%ebp)
 3411      FFFF
 533:../../MMI/Resource/WriteImgRes.c ****         if (ext_type_1 == IMAGE_TYPE_PNG)
 3413              	LM98:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 32


 3414 107e 83BDC8ED 		cmpl	$19, -4664(%ebp)
 3414      FFFF13
 3415 1085 0F85C900 		jne	L77
 3415      0000
 534:../../MMI/Resource/WriteImgRes.c ****         {
 535:../../MMI/Resource/WriteImgRes.c ****             S32 i, count;
 536:../../MMI/Resource/WriteImgRes.c **** 
 537:../../MMI/Resource/WriteImgRes.c ****             count = sizeof(image_resource_info)/sizeof(RESOURCE_INFO);
 3417              	LM99:
 3418              	LBB9:
 3419 108b C785C0ED 		movl	$21, -4672(%ebp)
 3419      FFFF1500 
 3419      0000
 538:../../MMI/Resource/WriteImgRes.c ****             for (i = 0; i < count; i++)
 3421              	LM100:
 3422 1095 C785C4ED 		movl	$0, -4668(%ebp)
 3422      FFFF0000 
 3422      0000
 3423              	L79:
 3424 109f 8B85C4ED 		movl	-4668(%ebp), %eax
 3424      FFFF
 3425 10a5 3B85C0ED 		cmpl	-4672(%ebp), %eax
 3425      FFFF
 3426 10ab 7C02     		jl	L82
 3427 10ad EB5C     		jmp	L80
 3428              	L82:
 539:../../MMI/Resource/WriteImgRes.c ****             {
 540:../../MMI/Resource/WriteImgRes.c ****                 ChangeExtension(filename_buffer, RES_IMAGE, image_resource_info[i].file_type);
 3430              	LM101:
 3431 10af 8B85C4ED 		movl	-4668(%ebp), %eax
 3431      FFFF
 3432 10b5 0FB604C5 		movzbl	_image_resource_info+4(,%eax,8), %eax
 3432      64000000 
 3433 10bd 89442408 		movl	%eax, 8(%esp)
 3434 10c1 C7442404 		movl	$0, 4(%esp)
 3434      00000000 
 3435 10c9 8D85E8EF 		leal	-4120(%ebp), %eax
 3435      FFFF
 3436 10cf 890424   		movl	%eax, (%esp)
 3437 10d2 E8000000 		call	_ChangeExtension
 3437      00
 541:../../MMI/Resource/WriteImgRes.c ****                 if (file_exist(filename_buffer) == MMI_TRUE)
 3439              	LM102:
 3440 10d7 8D85E8EF 		leal	-4120(%ebp), %eax
 3440      FFFF
 3441 10dd 890424   		movl	%eax, (%esp)
 3442 10e0 E8000000 		call	_file_exist
 3442      00
 3443 10e5 83F801   		cmpl	$1, %eax
 3444 10e8 7517     		jne	L81
 542:../../MMI/Resource/WriteImgRes.c ****                 {
 543:../../MMI/Resource/WriteImgRes.c ****                     strcpy(processData->real_filename, filename_buffer);
 3446              	LM103:
 3447 10ea 8D85E8EF 		leal	-4120(%ebp), %eax
 3447      FFFF
 3448 10f0 89442404 		movl	%eax, 4(%esp)
 3449 10f4 8B4514   		movl	20(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 33


 3450 10f7 890424   		movl	%eax, (%esp)
 3451 10fa E8000000 		call	_strcpy
 3451      00
 544:../../MMI/Resource/WriteImgRes.c ****                     break;
 3453              	LM104:
 3454 10ff EB0A     		jmp	L80
 3456              	LM105:
 3457              	L81:
 3458 1101 8D85C4ED 		leal	-4668(%ebp), %eax
 3458      FFFF
 3459 1107 FF00     		incl	(%eax)
 3460 1109 EB94     		jmp	L79
 3461              	L80:
 545:../../MMI/Resource/WriteImgRes.c ****                 }
 546:../../MMI/Resource/WriteImgRes.c ****             }
 547:../../MMI/Resource/WriteImgRes.c ****             if (i == count)
 3463              	LM106:
 3464 110b 8B85C4ED 		movl	-4668(%ebp), %eax
 3464      FFFF
 3465 1111 3B85C0ED 		cmpl	-4672(%ebp), %eax
 3465      FFFF
 3466 1117 753B     		jne	L77
 548:../../MMI/Resource/WriteImgRes.c ****             {
 549:../../MMI/Resource/WriteImgRes.c ****                 ChangeExtension(filename_buffer, RES_IMAGE, IMAGE_TYPE_PNG);
 3468              	LM107:
 3469 1119 C7442408 		movl	$19, 8(%esp)
 3469      13000000 
 3470 1121 C7442404 		movl	$0, 4(%esp)
 3470      00000000 
 3471 1129 8D85E8EF 		leal	-4120(%ebp), %eax
 3471      FFFF
 3472 112f 890424   		movl	%eax, (%esp)
 3473 1132 E8000000 		call	_ChangeExtension
 3473      00
 550:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("[ABM] %s\tcannot open file for all supported formats!!!\n", filenam
 3475              	LM108:
 3476 1137 8D85E8EF 		leal	-4120(%ebp), %eax
 3476      FFFF
 3477 113d 89442404 		movl	%eax, 4(%esp)
 3478 1141 C7042400 		movl	$LC46, (%esp)
 3478      0B0000
 3479 1148 E8000000 		call	_MtkResgenTrace
 3479      00
 551:../../MMI/Resource/WriteImgRes.c ****                 flag_file_exist = MMI_FALSE;
 3481              	LM109:
 3482 114d C745F000 		movl	$0, -16(%ebp)
 3482      000000
 3483              	L77:
 552:../../MMI/Resource/WriteImgRes.c ****             }
 553:../../MMI/Resource/WriteImgRes.c ****         }
 554:../../MMI/Resource/WriteImgRes.c ****     }
 555:../../MMI/Resource/WriteImgRes.c **** 
 556:../../MMI/Resource/WriteImgRes.c ****     /* ABM encoding */
 557:../../MMI/Resource/WriteImgRes.c ****     if ((failure_flag == MMI_FALSE) &&
 3485              	LM110:
 3486              	LBE9:
 3487              	LBE8:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 34


 3488 1154 837DF400 		cmpl	$0, -12(%ebp)
 3489 1158 0F857B03 		jne	L85
 3489      0000
 3490 115e 8D85E8EF 		leal	-4120(%ebp), %eax
 3490      FFFF
 3491 1164 890424   		movl	%eax, (%esp)
 3492 1167 E8AF0A00 		call	_isEmsImage
 3492      00
 3493 116c 84C0     		testb	%al, %al
 3494 116e 0F856503 		jne	L85
 3494      0000
 558:../../MMI/Resource/WriteImgRes.c ****         !isEmsImage(filename_buffer))
 559:../../MMI/Resource/WriteImgRes.c ****     {
 560:../../MMI/Resource/WriteImgRes.c ****         S32 ext_type_2 = -1;
 3496              	LM111:
 3497              	LBB10:
 3498 1174 C785C0ED 		movl	$-1, -4672(%ebp)
 3498      FFFFFFFF 
 3498      FFFF
 561:../../MMI/Resource/WriteImgRes.c ****         ext_type_2 = ExtractExtension(filename_buffer, RES_IMAGE);
 3500              	LM112:
 3501 117e C7442404 		movl	$0, 4(%esp)
 3501      00000000 
 3502 1186 8D85E8EF 		leal	-4120(%ebp), %eax
 3502      FFFF
 3503 118c 890424   		movl	%eax, (%esp)
 3504 118f E8000000 		call	_ExtractExtension
 3504      00
 3505 1194 0FB6C0   		movzbl	%al, %eax
 3506 1197 8985C0ED 		movl	%eax, -4672(%ebp)
 3506      FFFF
 562:../../MMI/Resource/WriteImgRes.c **** 
 563:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_BLENDING__)
 564:../../MMI/Resource/WriteImgRes.c ****         /* If PNG, we will convert it to ABM conditionally */
 565:../../MMI/Resource/WriteImgRes.c ****         if (ext_type_2 == IMAGE_TYPE_PNG)
 3508              	LM113:
 3509 119d 83BDC0ED 		cmpl	$19, -4672(%ebp)
 3509      FFFF13
 3510 11a4 0F85AB02 		jne	L86
 3510      0000
 566:../../MMI/Resource/WriteImgRes.c ****         {
 567:../../MMI/Resource/WriteImgRes.c ****             BOOL is_need_convert = TRUE;
 3512              	LM114:
 3513              	LBB11:
 3514 11aa C785C4ED 		movl	$1, -4668(%ebp)
 3514      FFFF0100 
 3514      0000
 568:../../MMI/Resource/WriteImgRes.c ****             S8 tempBMPFile[BUFFER_SIZE];
 569:../../MMI/Resource/WriteImgRes.c **** 
 570:../../MMI/Resource/WriteImgRes.c ****             /* convert PNG to 32-bits BMP */
 571:../../MMI/Resource/WriteImgRes.c ****             if (strlen(filename_buffer) >  BUFFER_SIZE)
 3516              	LM115:
 3517 11b4 8D85E8EF 		leal	-4120(%ebp), %eax
 3517      FFFF
 3518 11ba 890424   		movl	%eax, (%esp)
 3519 11bd E8000000 		call	_strlen
 3519      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 35


 3520 11c2 3D001000 		cmpl	$4096, %eax
 3520      00
 3521 11c7 7638     		jbe	L87
 572:../../MMI/Resource/WriteImgRes.c ****             {
 573:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_E("Iload: strlen(filename_buffer) >  BUFFER_SIZE\n");
 3523              	LM116:
 3524 11c9 C7442408 		movl	$LC47, 8(%esp)
 3524      400B0000 
 3525 11d1 C7442404 		movl	$LC34, 4(%esp)
 3525      64060000 
 3526 11d9 C7042403 		movl	$3, (%esp)
 3526      000000
 3527 11e0 E8000000 		call	_reslog_adaptor_log
 3527      00
 574:../../MMI/Resource/WriteImgRes.c ****                 assert(0);
 3529              	LM117:
 3530 11e5 C7442408 		movl	$574, 8(%esp)
 3530      3E020000 
 3531 11ed C7442404 		movl	$LC35, 4(%esp)
 3531      80060000 
 3532 11f5 C70424A1 		movl	$LC36, (%esp)
 3532      060000
 3533 11fc E8000000 		call	__assert
 3533      00
 3534              	L87:
 575:../../MMI/Resource/WriteImgRes.c ****                 exit(2);
 576:../../MMI/Resource/WriteImgRes.c ****             }
 577:../../MMI/Resource/WriteImgRes.c ****             strcpy((char*)tempBMPFile, (const char*)filename_buffer);
 3536              	LM118:
 3537 1201 8D85E8EF 		leal	-4120(%ebp), %eax
 3537      FFFF
 3538 1207 89442404 		movl	%eax, 4(%esp)
 3539 120b 8D85B8DD 		leal	-8776(%ebp), %eax
 3539      FFFF
 3540 1211 890424   		movl	%eax, (%esp)
 3541 1214 E8000000 		call	_strcpy
 3541      00
 578:../../MMI/Resource/WriteImgRes.c **** 
 579:../../MMI/Resource/WriteImgRes.c ****             if ((strlen(filename_buffer)+strlen(tempBMPFile)) >  MAX_FILENAME_LEN)
 3543              	LM119:
 3544 1219 8D85E8EF 		leal	-4120(%ebp), %eax
 3544      FFFF
 3545 121f 890424   		movl	%eax, (%esp)
 3546 1222 E8000000 		call	_strlen
 3546      00
 3547 1227 89C3     		movl	%eax, %ebx
 3548 1229 8D85B8DD 		leal	-8776(%ebp), %eax
 3548      FFFF
 3549 122f 890424   		movl	%eax, (%esp)
 3550 1232 E8000000 		call	_strlen
 3550      00
 3551 1237 8D0418   		leal	(%eax,%ebx), %eax
 3552 123a 3D000200 		cmpl	$512, %eax
 3552      00
 3553 123f 7638     		jbe	L88
 580:../../MMI/Resource/WriteImgRes.c ****             {
 581:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_E("Iload: (strlen(filename_buffer)+strlen(tempBMPFile)) >  MAX_FILENAME_
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 36


 3555              	LM120:
 3556 1241 C7442408 		movl	$LC48, 8(%esp)
 3556      800B0000 
 3557 1249 C7442404 		movl	$LC34, 4(%esp)
 3557      64060000 
 3558 1251 C7042403 		movl	$3, (%esp)
 3558      000000
 3559 1258 E8000000 		call	_reslog_adaptor_log
 3559      00
 582:../../MMI/Resource/WriteImgRes.c ****                 assert(0);
 3561              	LM121:
 3562 125d C7442408 		movl	$582, 8(%esp)
 3562      46020000 
 3563 1265 C7442404 		movl	$LC35, 4(%esp)
 3563      80060000 
 3564 126d C70424A1 		movl	$LC36, (%esp)
 3564      060000
 3565 1274 E8000000 		call	__assert
 3565      00
 3566              	L88:
 583:../../MMI/Resource/WriteImgRes.c ****                 exit(2);
 584:../../MMI/Resource/WriteImgRes.c ****             }
 585:../../MMI/Resource/WriteImgRes.c **** 
 586:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(tempBMPFile, RES_IMAGE, IMAGE_TYPE_BMP);
 3568              	LM122:
 3569 1279 C7442408 		movl	$1, 8(%esp)
 3569      01000000 
 3570 1281 C7442404 		movl	$0, 4(%esp)
 3570      00000000 
 3571 1289 8D85B8DD 		leal	-8776(%ebp), %eax
 3571      FFFF
 3572 128f 890424   		movl	%eax, (%esp)
 3573 1292 E8000000 		call	_ChangeExtension
 3573      00
 587:../../MMI/Resource/WriteImgRes.c ****             strcat(tempBMPFile, "A");
 3575              	LM123:
 3576 1297 C7442404 		movl	$LC49, 4(%esp)
 3576      CA0B0000 
 3577 129f 8D85B8DD 		leal	-8776(%ebp), %eax
 3577      FFFF
 3578 12a5 890424   		movl	%eax, (%esp)
 3579 12a8 E8000000 		call	_strcat
 3579      00
 588:../../MMI/Resource/WriteImgRes.c **** 
 589:../../MMI/Resource/WriteImgRes.c ****             if (toolFlag != 1)
 3581              	LM124:
 3582 12ad 833D0000 		cmpl	$1, _toolFlag
 3582      000001
 3583 12b4 743D     		je	L89
 590:../../MMI/Resource/WriteImgRes.c ****             {
 591:../../MMI/Resource/WriteImgRes.c ****                 if (resgen_compare_file_time(tempBMPFile, filename_buffer) == -1)
 3585              	LM125:
 3586 12b6 8D85E8EF 		leal	-4120(%ebp), %eax
 3586      FFFF
 3587 12bc 89442404 		movl	%eax, 4(%esp)
 3588 12c0 8D85B8DD 		leal	-8776(%ebp), %eax
 3588      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 37


 3589 12c6 890424   		movl	%eax, (%esp)
 3590 12c9 E8000000 		call	_resgen_compare_file_time
 3590      00
 3591 12ce 83F8FF   		cmpl	$-1, %eax
 3592 12d1 7520     		jne	L89
 592:../../MMI/Resource/WriteImgRes.c ****                 {
 593:../../MMI/Resource/WriteImgRes.c ****                     is_need_convert = FALSE;
 3594              	LM126:
 3595 12d3 C785C4ED 		movl	$0, -4668(%ebp)
 3595      FFFF0000 
 3595      0000
 594:../../MMI/Resource/WriteImgRes.c ****                     RES_PRINT_INFO("[%s] no need convert 01\n", filename_buffer);
 3597              	LM127:
 3598 12dd 8D85E8EF 		leal	-4120(%ebp), %eax
 3598      FFFF
 3599 12e3 89442404 		movl	%eax, 4(%esp)
 3600 12e7 C70424CC 		movl	$LC50, (%esp)
 3600      0B0000
 3601 12ee E8000000 		call	_MtkResgenTrace
 3601      00
 3602              	L89:
 595:../../MMI/Resource/WriteImgRes.c ****                 }
 596:../../MMI/Resource/WriteImgRes.c ****             }
 597:../../MMI/Resource/WriteImgRes.c **** 
 598:../../MMI/Resource/WriteImgRes.c ****             if (is_need_convert && flag_file_exist)
 3604              	LM128:
 3605 12f3 83BDC4ED 		cmpl	$0, -4668(%ebp)
 3605      FFFF00
 3606 12fa 746B     		je	L91
 3607 12fc 837DF000 		cmpl	$0, -16(%ebp)
 3608 1300 7465     		je	L91
 599:../../MMI/Resource/WriteImgRes.c ****             {
 600:../../MMI/Resource/WriteImgRes.c ****                 S8 tempCommand[SHELL_CMD_BUFLEN];
 601:../../MMI/Resource/WriteImgRes.c ****                 //sprintf(tempCommand, ".\\\\convert.exe -channel Alpha -negate -compress none png:
 602:../../MMI/Resource/WriteImgRes.c ****                 sprintf(tempCommand, ".\\\\convert.exe -channel Alpha -negate -compress none png:%s
 3610              	LM129:
 3611              	LBB12:
 3612 1302 8D85B8DD 		leal	-8776(%ebp), %eax
 3612      FFFF
 3613 1308 8944240C 		movl	%eax, 12(%esp)
 3614 130c 8D85E8EF 		leal	-4120(%ebp), %eax
 3614      FFFF
 3615 1312 89442408 		movl	%eax, 8(%esp)
 3616 1316 C7442404 		movl	$LC51, 4(%esp)
 3616      000C0000 
 3617 131e 8D8548DB 		leal	-9400(%ebp), %eax
 3617      FFFF
 3618 1324 890424   		movl	%eax, (%esp)
 3619 1327 E8000000 		call	_sprintf
 3619      00
 603:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("%s\n", tempCommand);
 3621              	LM130:
 3622 132c 8D8548DB 		leal	-9400(%ebp), %eax
 3622      FFFF
 3623 1332 89442404 		movl	%eax, 4(%esp)
 3624 1336 C7042449 		movl	$LC52, (%esp)
 3624      0C0000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 38


 3625 133d E8000000 		call	_MtkResgenTrace
 3625      00
 604:../../MMI/Resource/WriteImgRes.c ****                 ASSERT(SHELL_CMD_BUFLEN > strlen(tempCommand));
 3627              	LM131:
 3628 1342 8D8548DB 		leal	-9400(%ebp), %eax
 3628      FFFF
 3629 1348 890424   		movl	%eax, (%esp)
 3630 134b E8000000 		call	_strlen
 3630      00
 3631 1350 3D630200 		cmpl	$611, %eax
 3631      00
 3632 1355 7602     		jbe	L96
 3633              	L93:
 3634 1357 EBFE     		jmp	L93
 3635              	L96:
 605:../../MMI/Resource/WriteImgRes.c **** 
 606:../../MMI/Resource/WriteImgRes.c ****                 system(tempCommand);
 3637              	LM132:
 3638 1359 8D8548DB 		leal	-9400(%ebp), %eax
 3638      FFFF
 3639 135f 890424   		movl	%eax, (%esp)
 3640 1362 E8000000 		call	_system
 3640      00
 3641              	L91:
 607:../../MMI/Resource/WriteImgRes.c ****             }
 608:../../MMI/Resource/WriteImgRes.c **** 
 609:../../MMI/Resource/WriteImgRes.c ****             /* convert 32-bits BMP to ABM */
 610:../../MMI/Resource/WriteImgRes.c ****             failure_flag = Write_Processed_Data(tempBMPFile, IMAGE_TYPE_ABM, output_image_names, pr
 3643              	LM133:
 3644              	LBE12:
 3645 1367 8D85D0ED 		leal	-4656(%ebp), %eax
 3645      FFFF
 3646 136d 89442428 		movl	%eax, 40(%esp)
 3647 1371 8B4514   		movl	20(%ebp), %eax
 3648 1374 89442424 		movl	%eax, 36(%esp)
 3649 1378 8D85D8ED 		leal	-4648(%ebp), %eax
 3649      FFFF
 3650 137e 89442420 		movl	%eax, 32(%esp)
 3651 1382 8B85D4ED 		movl	-4652(%ebp), %eax
 3651      FFFF
 3652 1388 8944241C 		movl	%eax, 28(%esp)
 3653 138c 8B4510   		movl	16(%ebp), %eax
 3654 138f 89442418 		movl	%eax, 24(%esp)
 3655 1393 8B85E4EF 		movl	-4124(%ebp), %eax
 3655      FFFF
 3656 1399 89442414 		movl	%eax, 20(%esp)
 3657 139d 8B450C   		movl	12(%ebp), %eax
 3658 13a0 89442410 		movl	%eax, 16(%esp)
 3659 13a4 8B4514   		movl	20(%ebp), %eax
 3660 13a7 8B800402 		movl	516(%eax), %eax
 3660      0000
 3661 13ad 8944240C 		movl	%eax, 12(%esp)
 3662 13b1 8B45EC   		movl	-20(%ebp), %eax
 3663 13b4 89442408 		movl	%eax, 8(%esp)
 3664 13b8 C7442404 		movl	$40, 4(%esp)
 3664      28000000 
 3665 13c0 8D85B8DD 		leal	-8776(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 39


 3665      FFFF
 3666 13c6 890424   		movl	%eax, (%esp)
 3667 13c9 E8900A00 		call	_Write_Processed_Data
 3667      00
 3668 13ce 8945F4   		movl	%eax, -12(%ebp)
 611:../../MMI/Resource/WriteImgRes.c ****             if(failure_flag == MMI_FALSE && proc_img_err_code ==  ABM_ENC_INPUT_BITMAP_ERROR)
 3670              	LM134:
 3671 13d1 837DF400 		cmpl	$0, -12(%ebp)
 3672 13d5 0F85FE00 		jne	L85
 3672      0000
 3673 13db 83BDD0ED 		cmpl	$-2, -4656(%ebp)
 3673      FFFFFE
 3674 13e2 0F85F100 		jne	L85
 3674      0000
 612:../../MMI/Resource/WriteImgRes.c ****             {
 613:../../MMI/Resource/WriteImgRes.c ****                   // Release resoruce before return
 614:../../MMI/Resource/WriteImgRes.c ****             	    if (extImageFlag == NFB_PROGRESS_IMAGE)
 3676              	LM135:
 3677 13e8 837D0C02 		cmpl	$2, 12(%ebp)
 3678 13ec 754D     		jne	L98
 615:../../MMI/Resource/WriteImgRes.c ****             	    {
 616:../../MMI/Resource/WriteImgRes.c ****             	        RESIMG_LOG_V("NFB_PROGRESS_IMAGE is set - Close CustNFBProgressImg.c before Il
 3680              	LM136:
 3681 13ee C7442408 		movl	$LC45, 8(%esp)
 3681      A00A0000 
 3682 13f6 C7442404 		movl	$LC34, 4(%esp)
 3682      64060000 
 3683 13fe C7042401 		movl	$1, (%esp)
 3683      000000
 3684 1405 E8000000 		call	_reslog_adaptor_log
 3684      00
 617:../../MMI/Resource/WriteImgRes.c ****                       fflush(stdout);
 3686              	LM137:
 3687 140a A1000000 		movl	__imp___iob, %eax
 3687      00
 3688 140f 83C020   		addl	$32, %eax
 3689 1412 890424   		movl	%eax, (%esp)
 3690 1415 E8000000 		call	_fflush
 3690      00
 618:../../MMI/Resource/WriteImgRes.c ****                       MYFCLOSE(nfb_img_res_file);
 3692              	LM138:
 3693 141a 83BDD4ED 		cmpl	$0, -4652(%ebp)
 3693      FFFF00
 3694 1421 7418     		je	L98
 3695 1423 8B85D4ED 		movl	-4652(%ebp), %eax
 3695      FFFF
 3696 1429 890424   		movl	%eax, (%esp)
 3697 142c E8000000 		call	_fclose
 3697      00
 3698 1431 C785D4ED 		movl	$0, -4652(%ebp)
 3698      FFFF0000 
 3698      0000
 3699              	L98:
 619:../../MMI/Resource/WriteImgRes.c ****                   }
 620:../../MMI/Resource/WriteImgRes.c ****                   free(output_image_names);
 3701              	LM139:
 3702 143b 8B45EC   		movl	-20(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 40


 3703 143e 890424   		movl	%eax, (%esp)
 3704 1441 E8000000 		call	_free
 3704      00
 621:../../MMI/Resource/WriteImgRes.c ****                   return MMI_FALSE;
 3706              	LM140:
 3707 1446 C78538DB 		movl	$0, -9416(%ebp)
 3707      FFFF0000 
 3707      0000
 3708 1450 E9A50700 		jmp	L57
 3708      00
 3709              	L86:
 622:../../MMI/Resource/WriteImgRes.c ****             }
 623:../../MMI/Resource/WriteImgRes.c ****         }
 624:../../MMI/Resource/WriteImgRes.c ****         else
 625:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_BLENDING__) */
 626:../../MMI/Resource/WriteImgRes.c **** 
 627:../../MMI/Resource/WriteImgRes.c ****         /* If BMP/PBM, we will convert it to ABM conditionally */
 628:../../MMI/Resource/WriteImgRes.c ****         if ((ext_type_2 == IMAGE_TYPE_BMP) ||
 3711              	LM141:
 3712              	LBE11:
 3713 1455 83BDC0ED 		cmpl	$1, -4672(%ebp)
 3713      FFFF01
 3714 145c 740B     		je	L103
 3715 145e 83BDC0ED 		cmpl	$4, -4672(%ebp)
 3715      FFFF04
 3716 1465 7402     		je	L103
 3717 1467 EB70     		jmp	L85
 3718              	L103:
 629:../../MMI/Resource/WriteImgRes.c ****             (ext_type_2 == IMAGE_TYPE_DEVICE_BITMAP))
 630:../../MMI/Resource/WriteImgRes.c ****         {
 631:../../MMI/Resource/WriteImgRes.c ****             if (force_type != FORCE_BMP)
 3720              	LM142:
 3721 1469 837D1003 		cmpl	$3, 16(%ebp)
 3722 146d 746A     		je	L85
 632:../../MMI/Resource/WriteImgRes.c ****             {
 633:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = Write_Processed_Data(filename_buffer, IMAGE_TYPE_ABM, output_image_n
 3724              	LM143:
 3725 146f 8D85D0ED 		leal	-4656(%ebp), %eax
 3725      FFFF
 3726 1475 89442428 		movl	%eax, 40(%esp)
 3727 1479 8B4514   		movl	20(%ebp), %eax
 3728 147c 89442424 		movl	%eax, 36(%esp)
 3729 1480 8D85D8ED 		leal	-4648(%ebp), %eax
 3729      FFFF
 3730 1486 89442420 		movl	%eax, 32(%esp)
 3731 148a 8B85D4ED 		movl	-4652(%ebp), %eax
 3731      FFFF
 3732 1490 8944241C 		movl	%eax, 28(%esp)
 3733 1494 8B4510   		movl	16(%ebp), %eax
 3734 1497 89442418 		movl	%eax, 24(%esp)
 3735 149b 8B85E4EF 		movl	-4124(%ebp), %eax
 3735      FFFF
 3736 14a1 89442414 		movl	%eax, 20(%esp)
 3737 14a5 8B450C   		movl	12(%ebp), %eax
 3738 14a8 89442410 		movl	%eax, 16(%esp)
 3739 14ac 8B4514   		movl	20(%ebp), %eax
 3740 14af 8B800402 		movl	516(%eax), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 41


 3740      0000
 3741 14b5 8944240C 		movl	%eax, 12(%esp)
 3742 14b9 8B45EC   		movl	-20(%ebp), %eax
 3743 14bc 89442408 		movl	%eax, 8(%esp)
 3744 14c0 C7442404 		movl	$40, 4(%esp)
 3744      28000000 
 3745 14c8 8D85E8EF 		leal	-4120(%ebp), %eax
 3745      FFFF
 3746 14ce 890424   		movl	%eax, (%esp)
 3747 14d1 E8880900 		call	_Write_Processed_Data
 3747      00
 3748 14d6 8945F4   		movl	%eax, -12(%ebp)
 3749              	L85:
 634:../../MMI/Resource/WriteImgRes.c ****             }
 635:../../MMI/Resource/WriteImgRes.c ****         }
 636:../../MMI/Resource/WriteImgRes.c **** 
 637:../../MMI/Resource/WriteImgRes.c ****         /* all of the resource above may not be converted to ABM certainly
 638:../../MMI/Resource/WriteImgRes.c ****          * if not, it will be populated as usual */
 639:../../MMI/Resource/WriteImgRes.c ****     }
 640:../../MMI/Resource/WriteImgRes.c **** 
 641:../../MMI/Resource/WriteImgRes.c ****     if (failure_flag == MMI_FALSE)
 3751              	LM144:
 3752              	LBE10:
 3753 14d9 837DF400 		cmpl	$0, -12(%ebp)
 3754 14dd 0F85D404 		jne	L105
 3754      0000
 642:../../MMI/Resource/WriteImgRes.c ****     {
 643:../../MMI/Resource/WriteImgRes.c ****         S16 filenameLen_1;
 644:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_ALPHA_LAYER_SUPPORT__
 645:../../MMI/Resource/WriteImgRes.c ****         /* fetch PNG by GIF or BMP,
 646:../../MMI/Resource/WriteImgRes.c ****          * application can add PNG file directly without modifying Res_XXX.c */
 647:../../MMI/Resource/WriteImgRes.c ****         S32 ext_type_3 = -1;
 648:../../MMI/Resource/WriteImgRes.c ****         ext_type_3 = ExtractExtension(filename_buffer, RES_IMAGE);
 649:../../MMI/Resource/WriteImgRes.c ****         if (ext_type_3 == IMAGE_TYPE_GIF || ext_type_3 == IMAGE_TYPE_BMP)
 650:../../MMI/Resource/WriteImgRes.c ****         {
 651:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(filename_buffer, RES_IMAGE, IMAGE_TYPE_PNG);
 652:../../MMI/Resource/WriteImgRes.c ****         }
 653:../../MMI/Resource/WriteImgRes.c **** 
 654:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(filename_buffer))
 655:../../MMI/Resource/WriteImgRes.c ****         {
 656:../../MMI/Resource/WriteImgRes.c ****             strcpy(processData->real_filename, filename_buffer);
 657:../../MMI/Resource/WriteImgRes.c ****         }
 658:../../MMI/Resource/WriteImgRes.c ****         else
 659:../../MMI/Resource/WriteImgRes.c ****         {
 660:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(filename_buffer, RES_IMAGE, ext_type_3);
 661:../../MMI/Resource/WriteImgRes.c ****         }
 662:../../MMI/Resource/WriteImgRes.c **** #endif
 663:../../MMI/Resource/WriteImgRes.c **** 
 664:../../MMI/Resource/WriteImgRes.c ****         filenameLen_1 = strlen(filename_buffer);
 3756              	LM145:
 3757              	LBB13:
 3758 14e3 8D85E8EF 		leal	-4120(%ebp), %eax
 3758      FFFF
 3759 14e9 890424   		movl	%eax, (%esp)
 3760 14ec E8000000 		call	_strlen
 3760      00
 3761 14f1 66898546 		movw	%ax, -9402(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 42


 3761      DBFFFF
 665:../../MMI/Resource/WriteImgRes.c ****         if (filenameLen_1 <= 3)
 3763              	LM146:
 3764 14f8 6683BD46 		cmpw	$3, -9402(%ebp)
 3764      DBFFFF03 
 3765 1500 7F38     		jg	L106
 666:../../MMI/Resource/WriteImgRes.c ****         {
 667:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_E("Iload: filename_buffer too short");
 3767              	LM147:
 3768 1502 C7442408 		movl	$LC53, 8(%esp)
 3768      600C0000 
 3769 150a C7442404 		movl	$LC34, 4(%esp)
 3769      64060000 
 3770 1512 C7042403 		movl	$3, (%esp)
 3770      000000
 3771 1519 E8000000 		call	_reslog_adaptor_log
 3771      00
 668:../../MMI/Resource/WriteImgRes.c ****             assert(0);
 3773              	LM148:
 3774 151e C7442408 		movl	$668, 8(%esp)
 3774      9C020000 
 3775 1526 C7442404 		movl	$LC35, 4(%esp)
 3775      80060000 
 3776 152e C70424A1 		movl	$LC36, (%esp)
 3776      060000
 3777 1535 E8000000 		call	__assert
 3777      00
 3778              	L106:
 669:../../MMI/Resource/WriteImgRes.c ****             exit(2);
 670:../../MMI/Resource/WriteImgRes.c ****         }
 671:../../MMI/Resource/WriteImgRes.c **** 
 672:../../MMI/Resource/WriteImgRes.c ****         /* process EMS image */
 673:../../MMI/Resource/WriteImgRes.c ****         if (isEmsImage(filename_buffer))
 3780              	LM149:
 3781 153a 8D85E8EF 		leal	-4120(%ebp), %eax
 3781      FFFF
 3782 1540 890424   		movl	%eax, (%esp)
 3783 1543 E8D30600 		call	_isEmsImage
 3783      00
 3784 1548 84C0     		testb	%al, %al
 3785 154a 0F84C100 		je	L107
 3785      0000
 674:../../MMI/Resource/WriteImgRes.c ****         {
 675:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(filename_buffer) )
 3787              	LM150:
 3788 1550 8D85E8EF 		leal	-4120(%ebp), %eax
 3788      FFFF
 3789 1556 890424   		movl	%eax, (%esp)
 3790 1559 E8000000 		call	_file_exist
 3790      00
 3791 155e 85C0     		testl	%eax, %eax
 3792 1560 0F849F00 		je	L108
 3792      0000
 676:../../MMI/Resource/WriteImgRes.c ****             {
 677:../../MMI/Resource/WriteImgRes.c ****                 int ret = 1;
 3794              	LM151:
 3795              	LBB14:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 43


 3796 1566 C785C0ED 		movl	$1, -4672(%ebp)
 3796      FFFF0100 
 3796      0000
 678:../../MMI/Resource/WriteImgRes.c **** 
 679:../../MMI/Resource/WriteImgRes.c ****                 if (toolFlag == 0)
 3798              	LM152:
 3799 1570 833D0000 		cmpl	$0, _toolFlag
 3799      000000
 3800 1577 7520     		jne	L109
 680:../../MMI/Resource/WriteImgRes.c ****                 {
 681:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(processData->outstream, "const U8 %s[] = ", output_image_n
 3802              	LM153:
 3803 1579 8B45EC   		movl	-20(%ebp), %eax
 3804 157c 89442408 		movl	%eax, 8(%esp)
 3805 1580 C7442404 		movl	$LC54, 4(%esp)
 3805      810C0000 
 3806 1588 8B4514   		movl	20(%ebp), %eax
 3807 158b 8B800402 		movl	516(%eax), %eax
 3807      0000
 3808 1591 890424   		movl	%eax, (%esp)
 3809 1594 E8000000 		call	_ImageOutStreamPrintf
 3809      00
 3810              	L109:
 682:../../MMI/Resource/WriteImgRes.c ****                 }
 683:../../MMI/Resource/WriteImgRes.c ****                 ret = bmp2ems(filename_buffer, processData->outstream, 1, 0, processData);
 3812              	LM154:
 3813 1599 8B4514   		movl	20(%ebp), %eax
 3814 159c 89442410 		movl	%eax, 16(%esp)
 3815 15a0 C744240C 		movl	$0, 12(%esp)
 3815      00000000 
 3816 15a8 C7442408 		movl	$1, 8(%esp)
 3816      01000000 
 3817 15b0 8B4514   		movl	20(%ebp), %eax
 3818 15b3 8B800402 		movl	516(%eax), %eax
 3818      0000
 3819 15b9 89442404 		movl	%eax, 4(%esp)
 3820 15bd 8D85E8EF 		leal	-4120(%ebp), %eax
 3820      FFFF
 3821 15c3 890424   		movl	%eax, (%esp)
 3822 15c6 E8000000 		call	_bmp2ems
 3822      00
 3823 15cb 8985C0ED 		movl	%eax, -4672(%ebp)
 3823      FFFF
 684:../../MMI/Resource/WriteImgRes.c ****                 if (toolFlag)
 3825              	LM155:
 3826 15d1 833D0000 		cmpl	$0, _toolFlag
 3826      000000
 3827 15d8 741F     		je	L110
 685:../../MMI/Resource/WriteImgRes.c ****                 {
 686:../../MMI/Resource/WriteImgRes.c ****                     if (ret == 0)
 3829              	LM156:
 3830 15da 83BDC0ED 		cmpl	$0, -4672(%ebp)
 3830      FFFF00
 3831 15e1 750C     		jne	L111
 687:../../MMI/Resource/WriteImgRes.c ****                     {
 688:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 1;
 3833              	LM157:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 44


 3834 15e3 C7050000 		movl	$1, _resultFailFlag
 3834      00000100 
 3834      0000
 3835 15ed EB0A     		jmp	L110
 3836              	L111:
 689:../../MMI/Resource/WriteImgRes.c ****                     }
 690:../../MMI/Resource/WriteImgRes.c ****                     else
 691:../../MMI/Resource/WriteImgRes.c ****                     {
 692:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 0;
 3838              	LM158:
 3839 15ef C7050000 		movl	$0, _resultFailFlag
 3839      00000000 
 3839      0000
 3840              	L110:
 693:../../MMI/Resource/WriteImgRes.c ****                     }
 694:../../MMI/Resource/WriteImgRes.c ****                 }
 695:../../MMI/Resource/WriteImgRes.c **** 
 696:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_TRUE;
 3842              	LM159:
 3843 15f9 C745F401 		movl	$1, -12(%ebp)
 3843      000000
 3844              	LBE14:
 3845 1600 E9B20300 		jmp	L105
 3845      00
 3846              	L108:
 697:../../MMI/Resource/WriteImgRes.c ****             }
 698:../../MMI/Resource/WriteImgRes.c ****             else
 699:../../MMI/Resource/WriteImgRes.c ****             {
 700:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_FALSE;
 3848              	LM160:
 3849 1605 C745F400 		movl	$0, -12(%ebp)
 3849      000000
 3850 160c E9A60300 		jmp	L105
 3850      00
 3851              	L107:
 701:../../MMI/Resource/WriteImgRes.c ****             }
 702:../../MMI/Resource/WriteImgRes.c ****         }
 703:../../MMI/Resource/WriteImgRes.c ****         /* process PBM */
 704:../../MMI/Resource/WriteImgRes.c ****         else if ((filename_buffer[filenameLen_1 - 1] == 'M') &&
 3853              	LM161:
 3854 1611 0FBF8546 		movswl	-9402(%ebp),%eax
 3854      DBFFFF
 3855 1618 80BC05E7 		cmpb	$77, -4121(%ebp,%eax)
 3855      EFFFFF4D 
 3856 1620 0F859500 		jne	L115
 3856      0000
 3857 1626 0FBF8546 		movswl	-9402(%ebp),%eax
 3857      DBFFFF
 3858 162d 80BC05E6 		cmpb	$66, -4122(%ebp,%eax)
 3858      EFFFFF42 
 3859 1635 0F858000 		jne	L115
 3859      0000
 3860 163b 0FBF8546 		movswl	-9402(%ebp),%eax
 3860      DBFFFF
 3861 1642 80BC05E5 		cmpb	$80, -4123(%ebp,%eax)
 3861      EFFFFF50 
 3862 164a 756F     		jne	L115
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 45


 705:../../MMI/Resource/WriteImgRes.c ****                  (filename_buffer[filenameLen_1 - 2] == 'B') &&
 706:../../MMI/Resource/WriteImgRes.c ****                  (filename_buffer[filenameLen_1 - 3] == 'P'))
 707:../../MMI/Resource/WriteImgRes.c ****         {
 708:../../MMI/Resource/WriteImgRes.c ****             failure_flag = Write_Processed_Data(filename_buffer, IMAGE_TYPE_DEVICE_BITMAP, output_i
 3864              	LM162:
 3865 164c 8D85D0ED 		leal	-4656(%ebp), %eax
 3865      FFFF
 3866 1652 89442428 		movl	%eax, 40(%esp)
 3867 1656 8B4514   		movl	20(%ebp), %eax
 3868 1659 89442424 		movl	%eax, 36(%esp)
 3869 165d 8D85D8ED 		leal	-4648(%ebp), %eax
 3869      FFFF
 3870 1663 89442420 		movl	%eax, 32(%esp)
 3871 1667 8B85D4ED 		movl	-4652(%ebp), %eax
 3871      FFFF
 3872 166d 8944241C 		movl	%eax, 28(%esp)
 3873 1671 8B4510   		movl	16(%ebp), %eax
 3874 1674 89442418 		movl	%eax, 24(%esp)
 3875 1678 8B85E4EF 		movl	-4124(%ebp), %eax
 3875      FFFF
 3876 167e 89442414 		movl	%eax, 20(%esp)
 3877 1682 8B450C   		movl	12(%ebp), %eax
 3878 1685 89442410 		movl	%eax, 16(%esp)
 3879 1689 8B4514   		movl	20(%ebp), %eax
 3880 168c 8B800402 		movl	516(%eax), %eax
 3880      0000
 3881 1692 8944240C 		movl	%eax, 12(%esp)
 3882 1696 8B45EC   		movl	-20(%ebp), %eax
 3883 1699 89442408 		movl	%eax, 8(%esp)
 3884 169d C7442404 		movl	$4, 4(%esp)
 3884      04000000 
 3885 16a5 8D85E8EF 		leal	-4120(%ebp), %eax
 3885      FFFF
 3886 16ab 890424   		movl	%eax, (%esp)
 3887 16ae E8AB0700 		call	_Write_Processed_Data
 3887      00
 3888 16b3 8945F4   		movl	%eax, -12(%ebp)
 3889 16b6 E9FC0200 		jmp	L105
 3889      00
 3890              	L115:
 709:../../MMI/Resource/WriteImgRes.c ****         }
 710:../../MMI/Resource/WriteImgRes.c ****         else
 711:../../MMI/Resource/WriteImgRes.c ****         {
 712:../../MMI/Resource/WriteImgRes.c ****             U8 staticFlag = 1;  /* Non animated image */
 3892              	LM163:
 3893              	LBB15:
 3894 16bb C68545DB 		movb	$1, -9403(%ebp)
 3894      FFFF01
 713:../../MMI/Resource/WriteImgRes.c ****             /* MTK Leo add, for read images with same filename but different in ".bmp" and ".gif" *
 714:../../MMI/Resource/WriteImgRes.c ****             if (!file_exist(filename_buffer) )
 3896              	LM164:
 3897 16c2 8D85E8EF 		leal	-4120(%ebp), %eax
 3897      FFFF
 3898 16c8 890424   		movl	%eax, (%esp)
 3899 16cb E8000000 		call	_file_exist
 3899      00
 3900 16d0 85C0     		testl	%eax, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 46


 3901 16d2 0F85C200 		jne	L117
 3901      0000
 715:../../MMI/Resource/WriteImgRes.c ****             {
 716:../../MMI/Resource/WriteImgRes.c ****                 if (filename_buffer[filenameLen_1 - 1] == 'P' &&
 3903              	LM165:
 3904 16d8 0FBF8546 		movswl	-9402(%ebp),%eax
 3904      DBFFFF
 3905 16df 80BC05E7 		cmpb	$80, -4121(%ebp,%eax)
 3905      EFFFFF50 
 3906 16e7 7551     		jne	L118
 3907 16e9 0FBF8546 		movswl	-9402(%ebp),%eax
 3907      DBFFFF
 3908 16f0 80BC05E6 		cmpb	$77, -4122(%ebp,%eax)
 3908      EFFFFF4D 
 3909 16f8 7540     		jne	L118
 3910 16fa 0FBF8546 		movswl	-9402(%ebp),%eax
 3910      DBFFFF
 3911 1701 80BC05E5 		cmpb	$66, -4123(%ebp,%eax)
 3911      EFFFFF42 
 3912 1709 752F     		jne	L118
 717:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 2] == 'M' &&
 718:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 3] == 'B')
 719:../../MMI/Resource/WriteImgRes.c ****                 {
 720:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 1] = 'F';
 3914              	LM166:
 3915 170b 0FBF8546 		movswl	-9402(%ebp),%eax
 3915      DBFFFF
 3916 1712 C68405E7 		movb	$70, -4121(%ebp,%eax)
 3916      EFFFFF46 
 721:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 2] = 'I';
 3918              	LM167:
 3919 171a 0FBF8546 		movswl	-9402(%ebp),%eax
 3919      DBFFFF
 3920 1721 C68405E6 		movb	$73, -4122(%ebp,%eax)
 3920      EFFFFF49 
 722:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 3] = 'G';
 3922              	LM168:
 3923 1729 0FBF8546 		movswl	-9402(%ebp),%eax
 3923      DBFFFF
 3924 1730 C68405E5 		movb	$71, -4123(%ebp,%eax)
 3924      EFFFFF47 
 3925 1738 EB60     		jmp	L117
 3926              	L118:
 723:../../MMI/Resource/WriteImgRes.c ****                 }
 724:../../MMI/Resource/WriteImgRes.c ****                 else if (filename_buffer[filenameLen_1 - 1] == 'F' &&
 3928              	LM169:
 3929 173a 0FBF8546 		movswl	-9402(%ebp),%eax
 3929      DBFFFF
 3930 1741 80BC05E7 		cmpb	$70, -4121(%ebp,%eax)
 3930      EFFFFF46 
 3931 1749 754F     		jne	L117
 3932 174b 0FBF8546 		movswl	-9402(%ebp),%eax
 3932      DBFFFF
 3933 1752 80BC05E6 		cmpb	$73, -4122(%ebp,%eax)
 3933      EFFFFF49 
 3934 175a 753E     		jne	L117
 3935 175c 0FBF8546 		movswl	-9402(%ebp),%eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 47


 3935      DBFFFF
 3936 1763 80BC05E5 		cmpb	$71, -4123(%ebp,%eax)
 3936      EFFFFF47 
 3937 176b 752D     		jne	L117
 725:../../MMI/Resource/WriteImgRes.c ****                          filename_buffer[filenameLen_1 - 2] == 'I' &&
 726:../../MMI/Resource/WriteImgRes.c ****                          filename_buffer[filenameLen_1 - 3] == 'G')
 727:../../MMI/Resource/WriteImgRes.c ****                 {
 728:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 1] = 'P';
 3939              	LM170:
 3940 176d 0FBF8546 		movswl	-9402(%ebp),%eax
 3940      DBFFFF
 3941 1774 C68405E7 		movb	$80, -4121(%ebp,%eax)
 3941      EFFFFF50 
 729:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 2] = 'M';
 3943              	LM171:
 3944 177c 0FBF8546 		movswl	-9402(%ebp),%eax
 3944      DBFFFF
 3945 1783 C68405E6 		movb	$77, -4122(%ebp,%eax)
 3945      EFFFFF4D 
 730:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 3] = 'B';
 3947              	LM172:
 3948 178b 0FBF8546 		movswl	-9402(%ebp),%eax
 3948      DBFFFF
 3949 1792 C68405E5 		movb	$66, -4123(%ebp,%eax)
 3949      EFFFFF42 
 3950              	L117:
 731:../../MMI/Resource/WriteImgRes.c ****                 }
 732:../../MMI/Resource/WriteImgRes.c ****             }
 733:../../MMI/Resource/WriteImgRes.c **** 
 734:../../MMI/Resource/WriteImgRes.c ****             if (!file_exist(filename_buffer) )
 3952              	LM173:
 3953 179a 8D85E8EF 		leal	-4120(%ebp), %eax
 3953      FFFF
 3954 17a0 890424   		movl	%eax, (%esp)
 3955 17a3 E8000000 		call	_file_exist
 3955      00
 3956 17a8 85C0     		testl	%eax, %eax
 3957 17aa 0F85DD00 		jne	L121
 3957      0000
 735:../../MMI/Resource/WriteImgRes.c ****             {
 736:../../MMI/Resource/WriteImgRes.c ****                 if (toolFlag == 0)
 3959              	LM174:
 3960 17b0 833D0000 		cmpl	$0, _toolFlag
 3960      000000
 3961 17b7 7564     		jne	L122
 737:../../MMI/Resource/WriteImgRes.c ****                 {
 738:../../MMI/Resource/WriteImgRes.c ****                     FILE *fail = fopen(".\\\\debug\\\\fail.txt", "a+");
 3963              	LM175:
 3964              	LBB16:
 3965 17b9 C7442404 		movl	$LC55, 4(%esp)
 3965      920C0000 
 3966 17c1 C7042495 		movl	$LC56, (%esp)
 3966      0C0000
 3967 17c8 E8000000 		call	_fopen
 3967      00
 3968 17cd 8985C0ED 		movl	%eax, -4672(%ebp)
 3968      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 48


 739:../../MMI/Resource/WriteImgRes.c **** 
 740:../../MMI/Resource/WriteImgRes.c ****                     if (fail != NULL)
 3970              	LM176:
 3971 17d3 83BDC0ED 		cmpl	$0, -4672(%ebp)
 3971      FFFF00
 3972 17da 7441     		je	L122
 741:../../MMI/Resource/WriteImgRes.c ****                     {
 742:../../MMI/Resource/WriteImgRes.c ****                         fprintf(fail, "%s\n", filename_buffer);
 3974              	LM177:
 3975 17dc 8D85E8EF 		leal	-4120(%ebp), %eax
 3975      FFFF
 3976 17e2 89442408 		movl	%eax, 8(%esp)
 3977 17e6 C7442404 		movl	$LC52, 4(%esp)
 3977      490C0000 
 3978 17ee 8B85C0ED 		movl	-4672(%ebp), %eax
 3978      FFFF
 3979 17f4 890424   		movl	%eax, (%esp)
 3980 17f7 E8000000 		call	_fprintf
 3980      00
 743:../../MMI/Resource/WriteImgRes.c ****                         MYFCLOSE(fail);
 3982              	LM178:
 3983 17fc 83BDC0ED 		cmpl	$0, -4672(%ebp)
 3983      FFFF00
 3984 1803 7418     		je	L122
 3985 1805 8B85C0ED 		movl	-4672(%ebp), %eax
 3985      FFFF
 3986 180b 890424   		movl	%eax, (%esp)
 3987 180e E8000000 		call	_fclose
 3987      00
 3988 1813 C785C0ED 		movl	$0, -4672(%ebp)
 3988      FFFF0000 
 3988      0000
 3989              	L122:
 744:../../MMI/Resource/WriteImgRes.c ****                     }
 745:../../MMI/Resource/WriteImgRes.c ****                 }
 746:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_V("File %s not exist, trying to load sequential image",filename_buffer);
 3991              	LM179:
 3992              	LBE16:
 3993 181d 8D85E8EF 		leal	-4120(%ebp), %eax
 3993      FFFF
 3994 1823 8944240C 		movl	%eax, 12(%esp)
 3995 1827 C7442408 		movl	$LC57, 8(%esp)
 3995      C00C0000 
 3996 182f C7442404 		movl	$LC34, 4(%esp)
 3996      64060000 
 3997 1837 C7042401 		movl	$1, (%esp)
 3997      000000
 3998 183e E8000000 		call	_reslog_adaptor_log
 3998      00
 747:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = Write_Sequential_Image(filename_buffer, output_image_names, processD
 4000              	LM180:
 4001 1843 8B4514   		movl	20(%ebp), %eax
 4002 1846 89442414 		movl	%eax, 20(%esp)
 4003 184a 8B4510   		movl	16(%ebp), %eax
 4004 184d 89442410 		movl	%eax, 16(%esp)
 4005 1851 8B85E4EF 		movl	-4124(%ebp), %eax
 4005      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 49


 4006 1857 8944240C 		movl	%eax, 12(%esp)
 4007 185b 8B4514   		movl	20(%ebp), %eax
 4008 185e 8B800402 		movl	516(%eax), %eax
 4008      0000
 4009 1864 89442408 		movl	%eax, 8(%esp)
 4010 1868 8B45EC   		movl	-20(%ebp), %eax
 4011 186b 89442404 		movl	%eax, 4(%esp)
 4012 186f 8D85E8EF 		leal	-4120(%ebp), %eax
 4012      FFFF
 4013 1875 890424   		movl	%eax, (%esp)
 4014 1878 E8411B00 		call	_Write_Sequential_Image
 4014      00
 4015 187d 8945F4   		movl	%eax, -12(%ebp)
 748:../../MMI/Resource/WriteImgRes.c ****                 if (failure_flag == MMI_TRUE)
 4017              	LM181:
 4018 1880 837DF401 		cmpl	$1, -12(%ebp)
 4019 1884 7507     		jne	L121
 749:../../MMI/Resource/WriteImgRes.c ****                 {
 750:../../MMI/Resource/WriteImgRes.c ****                     staticFlag = 0;
 4021              	LM182:
 4022 1886 C68545DB 		movb	$0, -9403(%ebp)
 4022      FFFF00
 4023              	L121:
 751:../../MMI/Resource/WriteImgRes.c ****                 }
 752:../../MMI/Resource/WriteImgRes.c ****             }
 753:../../MMI/Resource/WriteImgRes.c **** 
 754:../../MMI/Resource/WriteImgRes.c ****             /* process static image */
 755:../../MMI/Resource/WriteImgRes.c ****             if ((failure_flag == MMI_FALSE) && (staticFlag))
 4025              	LM183:
 4026 188d 837DF400 		cmpl	$0, -12(%ebp)
 4027 1891 0F852001 		jne	L105
 4027      0000
 4028 1897 80BD45DB 		cmpb	$0, -9403(%ebp)
 4028      FFFF00
 4029 189e 0F841301 		je	L105
 4029      0000
 756:../../MMI/Resource/WriteImgRes.c ****             {
 757:../../MMI/Resource/WriteImgRes.c ****                 FILE *image_data_file_4 = NULL;
 4031              	LM184:
 4032              	LBB17:
 4033 18a4 C785C0ED 		movl	$0, -4672(%ebp)
 4033      FFFF0000 
 4033      0000
 758:../../MMI/Resource/WriteImgRes.c ****                 image_data_file_4 = fopen(filename_buffer, "rb");
 4035              	LM185:
 4036 18ae C7442404 		movl	$LC58, 4(%esp)
 4036      F30C0000 
 4037 18b6 8D85E8EF 		leal	-4120(%ebp), %eax
 4037      FFFF
 4038 18bc 890424   		movl	%eax, (%esp)
 4039 18bf E8000000 		call	_fopen
 4039      00
 4040 18c4 8985C0ED 		movl	%eax, -4672(%ebp)
 4040      FFFF
 759:../../MMI/Resource/WriteImgRes.c **** 
 760:../../MMI/Resource/WriteImgRes.c ****                 if (image_data_file_4 != NULL)
 4042              	LM186:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 50


 4043 18ca 83BDC0ED 		cmpl	$0, -4672(%ebp)
 4043      FFFF00
 4044 18d1 0F84E000 		je	L105
 4044      0000
 761:../../MMI/Resource/WriteImgRes.c ****                 {
 762:../../MMI/Resource/WriteImgRes.c ****                     S32 nImageSize = 0;
 4046              	LM187:
 4047              	LBB18:
 4048 18d7 C785C4ED 		movl	$0, -4668(%ebp)
 4048      FFFF0000 
 4048      0000
 763:../../MMI/Resource/WriteImgRes.c ****                     /* patch added by vikram for getting image file size */
 764:../../MMI/Resource/WriteImgRes.c ****                     fseek(image_data_file_4, 0, SEEK_END);
 4050              	LM188:
 4051 18e1 C7442408 		movl	$2, 8(%esp)
 4051      02000000 
 4052 18e9 C7442404 		movl	$0, 4(%esp)
 4052      00000000 
 4053 18f1 8B85C0ED 		movl	-4672(%ebp), %eax
 4053      FFFF
 4054 18f7 890424   		movl	%eax, (%esp)
 4055 18fa E8000000 		call	_fseek
 4055      00
 765:../../MMI/Resource/WriteImgRes.c ****                     nImageSize = ftell(image_data_file_4);
 4057              	LM189:
 4058 18ff 8B85C0ED 		movl	-4672(%ebp), %eax
 4058      FFFF
 4059 1905 890424   		movl	%eax, (%esp)
 4060 1908 E8000000 		call	_ftell
 4060      00
 4061 190d 8985C4ED 		movl	%eax, -4668(%ebp)
 4061      FFFF
 766:../../MMI/Resource/WriteImgRes.c ****                     fseek(image_data_file_4, 0, SEEK_SET);
 4063              	LM190:
 4064 1913 C7442408 		movl	$0, 8(%esp)
 4064      00000000 
 4065 191b C7442404 		movl	$0, 4(%esp)
 4065      00000000 
 4066 1923 8B85C0ED 		movl	-4672(%ebp), %eax
 4066      FFFF
 4067 1929 890424   		movl	%eax, (%esp)
 4068 192c E8000000 		call	_fseek
 4068      00
 767:../../MMI/Resource/WriteImgRes.c **** 
 768:../../MMI/Resource/WriteImgRes.c ****                     failure_flag = Write_Unprocessed_Data(
 4070              	LM191:
 4071 1931 8B4514   		movl	20(%ebp), %eax
 4072 1934 89442424 		movl	%eax, 36(%esp)
 4073 1938 8B85D4ED 		movl	-4652(%ebp), %eax
 4073      FFFF
 4074 193e 89442420 		movl	%eax, 32(%esp)
 4075 1942 8D85D8ED 		leal	-4648(%ebp), %eax
 4075      FFFF
 4076 1948 8944241C 		movl	%eax, 28(%esp)
 4077 194c 8B85E4EF 		movl	-4124(%ebp), %eax
 4077      FFFF
 4078 1952 89442418 		movl	%eax, 24(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 51


 4079 1956 8B450C   		movl	12(%ebp), %eax
 4080 1959 89442414 		movl	%eax, 20(%esp)
 4081 195d 8B4514   		movl	20(%ebp), %eax
 4082 1960 8B800402 		movl	516(%eax), %eax
 4082      0000
 4083 1966 89442410 		movl	%eax, 16(%esp)
 4084 196a 8B45EC   		movl	-20(%ebp), %eax
 4085 196d 8944240C 		movl	%eax, 12(%esp)
 4086 1971 8B85C4ED 		movl	-4668(%ebp), %eax
 4086      FFFF
 4087 1977 89442408 		movl	%eax, 8(%esp)
 4088 197b 8B85C0ED 		movl	-4672(%ebp), %eax
 4088      FFFF
 4089 1981 89442404 		movl	%eax, 4(%esp)
 4090 1985 8D85E8EF 		leal	-4120(%ebp), %eax
 4090      FFFF
 4091 198b 890424   		movl	%eax, (%esp)
 4092 198e E8920C00 		call	_Write_Unprocessed_Data
 4092      00
 4093 1993 8945F4   		movl	%eax, -12(%ebp)
 769:../../MMI/Resource/WriteImgRes.c ****                             filename_buffer,
 770:../../MMI/Resource/WriteImgRes.c ****                             image_data_file_4,
 771:../../MMI/Resource/WriteImgRes.c ****                             nImageSize,
 772:../../MMI/Resource/WriteImgRes.c ****                             output_image_names,
 773:../../MMI/Resource/WriteImgRes.c ****                             processData->outstream,
 774:../../MMI/Resource/WriteImgRes.c ****                             extImageFlag,
 775:../../MMI/Resource/WriteImgRes.c ****                             is9slice,
 776:../../MMI/Resource/WriteImgRes.c ****                             _9slice_filename,
 777:../../MMI/Resource/WriteImgRes.c ****                             nfb_img_res_file,
 778:../../MMI/Resource/WriteImgRes.c ****                             processData);
 779:../../MMI/Resource/WriteImgRes.c **** 
 780:../../MMI/Resource/WriteImgRes.c ****                     MYFCLOSE(image_data_file_4);
 4095              	LM192:
 4096 1996 83BDC0ED 		cmpl	$0, -4672(%ebp)
 4096      FFFF00
 4097 199d 7418     		je	L105
 4098 199f 8B85C0ED 		movl	-4672(%ebp), %eax
 4098      FFFF
 4099 19a5 890424   		movl	%eax, (%esp)
 4100 19a8 E8000000 		call	_fclose
 4100      00
 4101 19ad C785C0ED 		movl	$0, -4672(%ebp)
 4101      FFFF0000 
 4101      0000
 4102              	L105:
 781:../../MMI/Resource/WriteImgRes.c ****                 }
 782:../../MMI/Resource/WriteImgRes.c ****             }
 783:../../MMI/Resource/WriteImgRes.c ****         }
 784:../../MMI/Resource/WriteImgRes.c ****     }
 785:../../MMI/Resource/WriteImgRes.c **** 
 786:../../MMI/Resource/WriteImgRes.c ****     /* 120704 Calvin added for populating with .bmp or .gif but actually extsion name is not */
 787:../../MMI/Resource/WriteImgRes.c ****     if (failure_flag == MMI_FALSE)
 4104              	LM193:
 4105              	LBE18:
 4106              	LBE17:
 4107              	LBE15:
 4108              	LBE13:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 52


 4109 19b7 837DF400 		cmpl	$0, -12(%ebp)
 4110 19bb 0F85D201 		jne	L131
 4110      0000
 788:../../MMI/Resource/WriteImgRes.c ****     {
 789:../../MMI/Resource/WriteImgRes.c ****         /* RES_PRINT_INFO("*************failed !!!********************\n"); */
 790:../../MMI/Resource/WriteImgRes.c ****         /* try each supported extension */
 791:../../MMI/Resource/WriteImgRes.c ****         S32 j;
 792:../../MMI/Resource/WriteImgRes.c ****         S16 filenameLen_2;
 793:../../MMI/Resource/WriteImgRes.c ****         filenameLen_2 = strlen(filename_buffer);
 4112              	LM194:
 4113              	LBB19:
 4114 19c1 8D85E8EF 		leal	-4120(%ebp), %eax
 4114      FFFF
 4115 19c7 890424   		movl	%eax, (%esp)
 4116 19ca E8000000 		call	_strlen
 4116      00
 4117 19cf 66898546 		movw	%ax, -9402(%ebp)
 4117      DBFFFF
 794:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL has_file = MMI_FALSE;
 4119              	LM195:
 4120 19d6 C785C4ED 		movl	$0, -4668(%ebp)
 4120      FFFF0000 
 4120      0000
 795:../../MMI/Resource/WriteImgRes.c ****         for (j = 0; j < SUPPORT_N_MEDIA_TYPE; j++)
 4122              	LM196:
 4123 19e0 C785C0ED 		movl	$0, -4672(%ebp)
 4123      FFFF0000 
 4123      0000
 4124              	L132:
 4125 19ea 83BDC0ED 		cmpl	$5, -4672(%ebp)
 4125      FFFF05
 4126 19f1 7E05     		jle	L135
 4127 19f3 E9850000 		jmp	L133
 4127      00
 4128              	L135:
 796:../../MMI/Resource/WriteImgRes.c ****         {
 797:../../MMI/Resource/WriteImgRes.c ****             S32 l;
 798:../../MMI/Resource/WriteImgRes.c **** 
 799:../../MMI/Resource/WriteImgRes.c ****             ASSERT(filenameLen_2 >= 3);
 4130              	LM197:
 4131              	LBB20:
 4132 19f8 6683BD46 		cmpw	$2, -9402(%ebp)
 4132      DBFFFF02 
 4133 1a00 7F02     		jg	L140
 4134              	L137:
 4135 1a02 EBFE     		jmp	L137
 4136              	L140:
 800:../../MMI/Resource/WriteImgRes.c ****             for (l = 0; l < 3; l++)
 4138              	LM198:
 4139 1a04 C785C8ED 		movl	$0, -4664(%ebp)
 4139      FFFF0000 
 4139      0000
 4140              	L141:
 4141 1a0e 83BDC8ED 		cmpl	$2, -4664(%ebp)
 4141      FFFF02
 4142 1a15 7E02     		jle	L144
 4143 1a17 EB39     		jmp	L142
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 53


 4144              	L144:
 801:../../MMI/Resource/WriteImgRes.c ****             {
 802:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[filenameLen_2 - 1 - l] = support_media_ext[j][2 - l];
 4146              	LM199:
 4147 1a19 0FBF8546 		movswl	-9402(%ebp),%eax
 4147      DBFFFF
 4148 1a20 89C1     		movl	%eax, %ecx
 4149 1a22 2B8DC8ED 		subl	-4664(%ebp), %ecx
 4149      FFFF
 4150 1a28 8B85C0ED 		movl	-4672(%ebp), %eax
 4150      FFFF
 4151 1a2e 8B95C8ED 		movl	-4664(%ebp), %edx
 4151      FFFF
 4152 1a34 8B048500 		movl	_support_media_ext(,%eax,4), %eax
 4152      000000
 4153 1a3b 29D0     		subl	%edx, %eax
 4154 1a3d 0FB64002 		movzbl	2(%eax), %eax
 4155 1a41 88840DE7 		movb	%al, -4121(%ebp,%ecx)
 4155      EFFFFF
 4157              	LM200:
 4158 1a48 8D85C8ED 		leal	-4664(%ebp), %eax
 4158      FFFF
 4159 1a4e FF00     		incl	(%eax)
 4160 1a50 EBBC     		jmp	L141
 4161              	L142:
 803:../../MMI/Resource/WriteImgRes.c ****             }
 804:../../MMI/Resource/WriteImgRes.c **** 
 805:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(filename_buffer) )
 4163              	LM201:
 4164 1a52 8D85E8EF 		leal	-4120(%ebp), %eax
 4164      FFFF
 4165 1a58 890424   		movl	%eax, (%esp)
 4166 1a5b E8000000 		call	_file_exist
 4166      00
 4167 1a60 85C0     		testl	%eax, %eax
 4168 1a62 740C     		je	L134
 806:../../MMI/Resource/WriteImgRes.c ****             {
 807:../../MMI/Resource/WriteImgRes.c ****                 has_file = MMI_TRUE;
 4170              	LM202:
 4171 1a64 C785C4ED 		movl	$1, -4668(%ebp)
 4171      FFFF0100 
 4171      0000
 808:../../MMI/Resource/WriteImgRes.c ****                 break;
 4173              	LM203:
 4174 1a6e EB0D     		jmp	L133
 4176              	LM204:
 4177              	L134:
 4178 1a70 8D85C0ED 		leal	-4672(%ebp), %eax
 4178      FFFF
 4179              	LBE20:
 4180 1a76 FF00     		incl	(%eax)
 4181 1a78 E96DFFFF 		jmp	L132
 4181      FF
 4182              	L133:
 809:../../MMI/Resource/WriteImgRes.c ****             }
 810:../../MMI/Resource/WriteImgRes.c ****         }
 811:../../MMI/Resource/WriteImgRes.c **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 54


 812:../../MMI/Resource/WriteImgRes.c ****         if (has_file)
 4184              	LM205:
 4185 1a7d 83BDC4ED 		cmpl	$0, -4668(%ebp)
 4185      FFFF00
 4186 1a84 0F840901 		je	L131
 4186      0000
 813:../../MMI/Resource/WriteImgRes.c ****         {
 814:../../MMI/Resource/WriteImgRes.c ****             FILE *image_data_file_5 = fopen(filename_buffer, "rb");
 4188              	LM206:
 4189              	LBB21:
 4190 1a8a C7442404 		movl	$LC58, 4(%esp)
 4190      F30C0000 
 4191 1a92 8D85E8EF 		leal	-4120(%ebp), %eax
 4191      FFFF
 4192 1a98 890424   		movl	%eax, (%esp)
 4193 1a9b E8000000 		call	_fopen
 4193      00
 4194 1aa0 898540DB 		movl	%eax, -9408(%ebp)
 4194      FFFF
 815:../../MMI/Resource/WriteImgRes.c ****             if (image_data_file_5 != NULL)
 4196              	LM207:
 4197 1aa6 83BD40DB 		cmpl	$0, -9408(%ebp)
 4197      FFFF00
 4198 1aad 0F84E000 		je	L131
 4198      0000
 816:../../MMI/Resource/WriteImgRes.c ****             {
 817:../../MMI/Resource/WriteImgRes.c ****                 S32 nImageSize = 0;
 4200              	LM208:
 4201              	LBB22:
 4202 1ab3 C7853CDB 		movl	$0, -9412(%ebp)
 4202      FFFF0000 
 4202      0000
 818:../../MMI/Resource/WriteImgRes.c ****                 //failure_flag = MMI_TRUE;
 819:../../MMI/Resource/WriteImgRes.c **** 
 820:../../MMI/Resource/WriteImgRes.c ****                 fseek(image_data_file_5, 0, SEEK_END);
 4204              	LM209:
 4205 1abd C7442408 		movl	$2, 8(%esp)
 4205      02000000 
 4206 1ac5 C7442404 		movl	$0, 4(%esp)
 4206      00000000 
 4207 1acd 8B8540DB 		movl	-9408(%ebp), %eax
 4207      FFFF
 4208 1ad3 890424   		movl	%eax, (%esp)
 4209 1ad6 E8000000 		call	_fseek
 4209      00
 821:../../MMI/Resource/WriteImgRes.c ****                 nImageSize = ftell(image_data_file_5);
 4211              	LM210:
 4212 1adb 8B8540DB 		movl	-9408(%ebp), %eax
 4212      FFFF
 4213 1ae1 890424   		movl	%eax, (%esp)
 4214 1ae4 E8000000 		call	_ftell
 4214      00
 4215 1ae9 89853CDB 		movl	%eax, -9412(%ebp)
 4215      FFFF
 822:../../MMI/Resource/WriteImgRes.c ****                 fseek(image_data_file_5, 0, SEEK_SET);
 4217              	LM211:
 4218 1aef C7442408 		movl	$0, 8(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 55


 4218      00000000 
 4219 1af7 C7442404 		movl	$0, 4(%esp)
 4219      00000000 
 4220 1aff 8B8540DB 		movl	-9408(%ebp), %eax
 4220      FFFF
 4221 1b05 890424   		movl	%eax, (%esp)
 4222 1b08 E8000000 		call	_fseek
 4222      00
 823:../../MMI/Resource/WriteImgRes.c **** 
 824:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = Write_Unprocessed_Data(
 4224              	LM212:
 4225 1b0d 8B4514   		movl	20(%ebp), %eax
 4226 1b10 89442424 		movl	%eax, 36(%esp)
 4227 1b14 8B85D4ED 		movl	-4652(%ebp), %eax
 4227      FFFF
 4228 1b1a 89442420 		movl	%eax, 32(%esp)
 4229 1b1e 8D85D8ED 		leal	-4648(%ebp), %eax
 4229      FFFF
 4230 1b24 8944241C 		movl	%eax, 28(%esp)
 4231 1b28 8B85E4EF 		movl	-4124(%ebp), %eax
 4231      FFFF
 4232 1b2e 89442418 		movl	%eax, 24(%esp)
 4233 1b32 8B450C   		movl	12(%ebp), %eax
 4234 1b35 89442414 		movl	%eax, 20(%esp)
 4235 1b39 8B4514   		movl	20(%ebp), %eax
 4236 1b3c 8B800402 		movl	516(%eax), %eax
 4236      0000
 4237 1b42 89442410 		movl	%eax, 16(%esp)
 4238 1b46 8B45EC   		movl	-20(%ebp), %eax
 4239 1b49 8944240C 		movl	%eax, 12(%esp)
 4240 1b4d 8B853CDB 		movl	-9412(%ebp), %eax
 4240      FFFF
 4241 1b53 89442408 		movl	%eax, 8(%esp)
 4242 1b57 8B8540DB 		movl	-9408(%ebp), %eax
 4242      FFFF
 4243 1b5d 89442404 		movl	%eax, 4(%esp)
 4244 1b61 8D85E8EF 		leal	-4120(%ebp), %eax
 4244      FFFF
 4245 1b67 890424   		movl	%eax, (%esp)
 4246 1b6a E8B60A00 		call	_Write_Unprocessed_Data
 4246      00
 4247 1b6f 8945F4   		movl	%eax, -12(%ebp)
 825:../../MMI/Resource/WriteImgRes.c ****                         filename_buffer,
 826:../../MMI/Resource/WriteImgRes.c ****                         image_data_file_5,
 827:../../MMI/Resource/WriteImgRes.c ****                         nImageSize,
 828:../../MMI/Resource/WriteImgRes.c ****                         output_image_names,
 829:../../MMI/Resource/WriteImgRes.c ****                         processData->outstream,
 830:../../MMI/Resource/WriteImgRes.c ****                         extImageFlag,
 831:../../MMI/Resource/WriteImgRes.c ****                         is9slice,
 832:../../MMI/Resource/WriteImgRes.c ****                         _9slice_filename,
 833:../../MMI/Resource/WriteImgRes.c ****                         nfb_img_res_file,
 834:../../MMI/Resource/WriteImgRes.c ****                         processData);
 835:../../MMI/Resource/WriteImgRes.c **** 
 836:../../MMI/Resource/WriteImgRes.c ****                 MYFCLOSE(image_data_file_5);
 4249              	LM213:
 4250 1b72 83BD40DB 		cmpl	$0, -9408(%ebp)
 4250      FFFF00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 56


 4251 1b79 7418     		je	L131
 4252 1b7b 8B8540DB 		movl	-9408(%ebp), %eax
 4252      FFFF
 4253 1b81 890424   		movl	%eax, (%esp)
 4254 1b84 E8000000 		call	_fclose
 4254      00
 4255 1b89 C78540DB 		movl	$0, -9408(%ebp)
 4255      FFFF0000 
 4255      0000
 4256              	L131:
 837:../../MMI/Resource/WriteImgRes.c ****             }
 838:../../MMI/Resource/WriteImgRes.c ****         }
 839:../../MMI/Resource/WriteImgRes.c ****     }
 840:../../MMI/Resource/WriteImgRes.c **** 
 841:../../MMI/Resource/WriteImgRes.c ****     // Release resoruce before return
 842:../../MMI/Resource/WriteImgRes.c ****     if (extImageFlag == NFB_PROGRESS_IMAGE){
 4258              	LM214:
 4259              	LBE22:
 4260              	LBE21:
 4261              	LBE19:
 4262 1b93 837D0C02 		cmpl	$2, 12(%ebp)
 4263 1b97 754D     		jne	L150
 843:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_V("NFB_PROGRESS_IMAGE is set - Close CustNFBProgressImg.c before Iload return");
 4265              	LM215:
 4266 1b99 C7442408 		movl	$LC45, 8(%esp)
 4266      A00A0000 
 4267 1ba1 C7442404 		movl	$LC34, 4(%esp)
 4267      64060000 
 4268 1ba9 C7042401 		movl	$1, (%esp)
 4268      000000
 4269 1bb0 E8000000 		call	_reslog_adaptor_log
 4269      00
 844:../../MMI/Resource/WriteImgRes.c ****         fflush(stdout);
 4271              	LM216:
 4272 1bb5 A1000000 		movl	__imp___iob, %eax
 4272      00
 4273 1bba 83C020   		addl	$32, %eax
 4274 1bbd 890424   		movl	%eax, (%esp)
 4275 1bc0 E8000000 		call	_fflush
 4275      00
 845:../../MMI/Resource/WriteImgRes.c ****         MYFCLOSE(nfb_img_res_file);
 4277              	LM217:
 4278 1bc5 83BDD4ED 		cmpl	$0, -4652(%ebp)
 4278      FFFF00
 4279 1bcc 7418     		je	L150
 4280 1bce 8B85D4ED 		movl	-4652(%ebp), %eax
 4280      FFFF
 4281 1bd4 890424   		movl	%eax, (%esp)
 4282 1bd7 E8000000 		call	_fclose
 4282      00
 4283 1bdc C785D4ED 		movl	$0, -4652(%ebp)
 4283      FFFF0000 
 4283      0000
 4284              	L150:
 846:../../MMI/Resource/WriteImgRes.c ****     }
 847:../../MMI/Resource/WriteImgRes.c ****     free(output_image_names);
 4286              	LM218:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 57


 4287 1be6 8B45EC   		movl	-20(%ebp), %eax
 4288 1be9 890424   		movl	%eax, (%esp)
 4289 1bec E8000000 		call	_free
 4289      00
 848:../../MMI/Resource/WriteImgRes.c **** 	
 849:../../MMI/Resource/WriteImgRes.c ****     return failure_flag;
 4291              	LM219:
 4292 1bf1 8B45F4   		movl	-12(%ebp), %eax
 4293 1bf4 898538DB 		movl	%eax, -9416(%ebp)
 4293      FFFF
 850:../../MMI/Resource/WriteImgRes.c **** }
 4295              	LM220:
 4296              	L57:
 4297              	LBE6:
 4298 1bfa 8B8538DB 		movl	-9416(%ebp), %eax
 4298      FFFF
 4299 1c00 81C4F424 		addl	$9460, %esp
 4299      0000
 4300 1c06 5B       		popl	%ebx
 4301 1c07 5D       		popl	%ebp
 4302 1c08 C3       		ret
 4366              	Lscope4:
 4368              	LC59:
 4369 1c09 4D41494E 		.ascii "MAINLCD\\\\SMS\\\\PIC\0"
 4369      4C43445C 
 4369      5C534D53 
 4369      5C5C5049 
 4369      4300
 4373              	_isEmsImage:
 851:../../MMI/Resource/WriteImgRes.c **** 
 852:../../MMI/Resource/WriteImgRes.c **** 
 853:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 854:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 855:../../MMI/Resource/WriteImgRes.c ****  *  isEmsImage
 856:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 857:../../MMI/Resource/WriteImgRes.c ****  *  Decide if the iamge is used for EMS picture
 858:../../MMI/Resource/WriteImgRes.c ****  *
 859:../../MMI/Resource/WriteImgRes.c ****  *  use EMS_IMAGE_PATH (defined in CustDataRes.h) to decide if a EMS picture
 860:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 861:../../MMI/Resource/WriteImgRes.c ****  *  path        [IN]        -> string containing file name and path
 862:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 863:../../MMI/Resource/WriteImgRes.c ****  *  U8 --> 1: EMS picture, 0: Not EMS picture
 864:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 865:../../MMI/Resource/WriteImgRes.c **** static U8 isEmsImage(S8 *path)
 866:../../MMI/Resource/WriteImgRes.c **** {
 4375              	LM221:
 4376 1c1b 55       		pushl	%ebp
 4377 1c1c 89E5     		movl	%esp, %ebp
 4378 1c1e 83EC48   		subl	$72, %esp
 867:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 868:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
 869:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 870:../../MMI/Resource/WriteImgRes.c ****     S8 ems_path[] = EMS_IMAGE_PATH;
 4380              	LM222:
 4381              	LBB23:
 4382 1c21 A1091C00 		movl	LC59, %eax
 4382      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 58


 4383 1c26 8945D8   		movl	%eax, -40(%ebp)
 4384 1c29 A10D1C00 		movl	LC59+4, %eax
 4384      00
 4385 1c2e 8945DC   		movl	%eax, -36(%ebp)
 4386 1c31 A1111C00 		movl	LC59+8, %eax
 4386      00
 4387 1c36 8945E0   		movl	%eax, -32(%ebp)
 4388 1c39 A1151C00 		movl	LC59+12, %eax
 4388      00
 4389 1c3e 8945E4   		movl	%eax, -28(%ebp)
 4390 1c41 0FB70519 		movzwl	LC59+16, %eax
 4390      1C0000
 4391 1c48 668945E8 		movw	%ax, -24(%ebp)
 871:../../MMI/Resource/WriteImgRes.c ****     U8 pos = 0, ems_len = 0, i = 0;
 4393              	LM223:
 4394 1c4c C645D700 		movb	$0, -41(%ebp)
 4395 1c50 C645D600 		movb	$0, -42(%ebp)
 4396 1c54 C645D500 		movb	$0, -43(%ebp)
 872:../../MMI/Resource/WriteImgRes.c **** 
 873:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 874:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
 875:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 876:../../MMI/Resource/WriteImgRes.c ****     ems_len = strlen(ems_path);
 4398              	LM224:
 4399 1c58 8D45D8   		leal	-40(%ebp), %eax
 4400 1c5b 890424   		movl	%eax, (%esp)
 4401 1c5e E8000000 		call	_strlen
 4401      00
 4402 1c63 8845D6   		movb	%al, -42(%ebp)
 877:../../MMI/Resource/WriteImgRes.c ****     pos = strlen(path) - 1;
 4404              	LM225:
 4405 1c66 8B4508   		movl	8(%ebp), %eax
 4406 1c69 890424   		movl	%eax, (%esp)
 4407 1c6c E8000000 		call	_strlen
 4407      00
 4408 1c71 FEC8     		decb	%al
 4409 1c73 8845D7   		movb	%al, -41(%ebp)
 878:../../MMI/Resource/WriteImgRes.c ****     while (path[pos] != '\\')
 4411              	LM226:
 4412              	L154:
 4413 1c76 0FB655D7 		movzbl	-41(%ebp), %edx
 4414 1c7a 8B4508   		movl	8(%ebp), %eax
 4415 1c7d 803C025C 		cmpb	$92, (%edx,%eax)
 4416 1c81 7502     		jne	L156
 4417 1c83 EB16     		jmp	L155
 4418              	L156:
 879:../../MMI/Resource/WriteImgRes.c ****     {
 880:../../MMI/Resource/WriteImgRes.c ****         /* __CUSTPACK_MULTIBIN Calvin BEGIN */
 881:../../MMI/Resource/WriteImgRes.c ****         if (pos == 0)   /* 040805 CustPack: Calvin added */
 4420              	LM227:
 4421 1c85 807DD700 		cmpb	$0, -41(%ebp)
 4422 1c89 7509     		jne	L157
 882:../../MMI/Resource/WriteImgRes.c ****         {
 883:../../MMI/Resource/WriteImgRes.c ****             return 0;
 4424              	LM228:
 4425 1c8b C745D000 		movl	$0, -48(%ebp)
 4425      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 59


 4426 1c92 EB56     		jmp	L153
 4427              	L157:
 884:../../MMI/Resource/WriteImgRes.c ****         }
 885:../../MMI/Resource/WriteImgRes.c ****         /* __CUSTPACK_MULTIBIN Calvin END */
 886:../../MMI/Resource/WriteImgRes.c ****         pos--;
 4429              	LM229:
 4430 1c94 8D45D7   		leal	-41(%ebp), %eax
 4431 1c97 FE08     		decb	(%eax)
 4432 1c99 EBDB     		jmp	L154
 4433              	L155:
 887:../../MMI/Resource/WriteImgRes.c ****     }
 888:../../MMI/Resource/WriteImgRes.c ****     pos -= ems_len + 1;
 4435              	LM230:
 4436 1c9b 0FB655D6 		movzbl	-42(%ebp), %edx
 4437 1c9f 0FB645D7 		movzbl	-41(%ebp), %eax
 4438 1ca3 28D0     		subb	%dl, %al
 4439 1ca5 FEC8     		decb	%al
 4440 1ca7 8845D7   		movb	%al, -41(%ebp)
 889:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < ems_len; i++)
 4442              	LM231:
 4443 1caa C645D500 		movb	$0, -43(%ebp)
 4444              	L158:
 4445 1cae 0FB645D5 		movzbl	-43(%ebp), %eax
 4446 1cb2 3A45D6   		cmpb	-42(%ebp), %al
 4447 1cb5 7202     		jb	L161
 4448 1cb7 EB2A     		jmp	L159
 4449              	L161:
 890:../../MMI/Resource/WriteImgRes.c ****     {
 891:../../MMI/Resource/WriteImgRes.c ****         if (ems_path[i] != path[pos])
 4451              	LM232:
 4452 1cb9 0FB645D5 		movzbl	-43(%ebp), %eax
 4453 1cbd 0FB64DD7 		movzbl	-41(%ebp), %ecx
 4454 1cc1 8B5508   		movl	8(%ebp), %edx
 4455 1cc4 0FB64405 		movzbl	-40(%ebp,%eax), %eax
 4455      D8
 4456 1cc9 3A0411   		cmpb	(%ecx,%edx), %al
 4457 1ccc 7409     		je	L162
 892:../../MMI/Resource/WriteImgRes.c ****         {
 893:../../MMI/Resource/WriteImgRes.c ****             return 0;
 4459              	LM233:
 4460 1cce C745D000 		movl	$0, -48(%ebp)
 4460      000000
 4461 1cd5 EB13     		jmp	L153
 4462              	L162:
 894:../../MMI/Resource/WriteImgRes.c ****         }
 895:../../MMI/Resource/WriteImgRes.c ****         else
 896:../../MMI/Resource/WriteImgRes.c ****         {
 897:../../MMI/Resource/WriteImgRes.c ****             pos++;
 4464              	LM234:
 4465 1cd7 8D45D7   		leal	-41(%ebp), %eax
 4466 1cda FE00     		incb	(%eax)
 4468              	LM235:
 4469 1cdc 8D45D5   		leal	-43(%ebp), %eax
 4470 1cdf FE00     		incb	(%eax)
 4471 1ce1 EBCB     		jmp	L158
 4472              	L159:
 898:../../MMI/Resource/WriteImgRes.c ****         }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 60


 899:../../MMI/Resource/WriteImgRes.c ****     }
 900:../../MMI/Resource/WriteImgRes.c **** 
 901:../../MMI/Resource/WriteImgRes.c ****     return 1;
 4474              	LM236:
 4475 1ce3 C745D001 		movl	$1, -48(%ebp)
 4475      000000
 902:../../MMI/Resource/WriteImgRes.c **** }
 4477              	LM237:
 4478              	L153:
 4479              	LBE23:
 4480 1cea 8B45D0   		movl	-48(%ebp), %eax
 4481 1ced C9       		leave
 4482 1cee C3       		ret
 4489              	Lscope5:
 4491              	LC60:
 4492 1cef 2E41424D 		.ascii ".ABM\0"
 4492      00
 4493              	LC61:
 4494 1cf4 5B25735D 		.ascii "[%s] no need convert\12\0"
 4494      206E6F20 
 4494      6E656564 
 4494      20636F6E 
 4494      76657274 
 4495              	LC62:
 4496 1d0a 2E5C7465 		.ascii ".\\temp\\\0"
 4496      6D705C00 
 4497              	LC63:
 4498 1d12 2E74656D 		.ascii ".temp\0"
 4498      7000
 4499              	LC64:
 4500 1d18 5F5F616C 		.ascii "__align(4) const U8 %s[] =\12\0"
 4500      69676E28 
 4500      34292063 
 4500      6F6E7374 
 4500      20553820 
 4501 1d34 8DB60000 		.align 32
 4501      00008DBF 
 4501      00000000 
 4502              	LC65:
 4503 1d40 7B0A09   		.ascii "{\12\11"
 4504 1d43 30783030 		.ascii "0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00\12};\12\0"
 4504      2C203078 
 4504      30312C20 
 4504      30783030 
 4504      2C203078 
 4505 1d76 8D76008D 		.align 32
 4505      BC270000 
 4505      0000
 4506              	LC66:
 4507 1d80 57726974 		.ascii "Write NFB_PROGRESS_IMAGE in Write_Processed_Data for empty bmp file\0"
 4507      65204E46 
 4507      425F5052 
 4507      4F475245 
 4507      53535F49 
 4508              	LC67:
 4509 1dc4 6F757470 		.ascii "output_name = %s\0"
 4509      75745F6E 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 61


 4509      616D6520 
 4509      3D202573 
 4509      00
 4510              	LC68:
 4511 1dd5 2855382A 		.ascii "(U8*)&%s,\12\0"
 4511      29262573 
 4511      2C0A00
 4512              	LC69:
 4513 1de0 6F757470 		.ascii "output_name can't be NULL!!\0"
 4513      75745F6E 
 4513      616D6520 
 4513      63616E27 
 4513      74206265 
 4514              	LC70:
 4515 1dfc 6E66625F 		.ascii "nfb_img_res_file not opened\0"
 4515      696D675F 
 4515      7265735F 
 4515      66696C65 
 4515      206E6F74 
 4516 1e18 908DB426 		.align 32
 4516      00000000 
 4517              	LC71:
 4518 1e20 57726974 		.ascii "Write NFB_PROGRESS_IMAGE in Write_Processed_Data, type = %d\0"
 4518      65204E46 
 4518      425F5052 
 4518      4F475245 
 4518      53535F49 
 4519              	LC72:
 4520 1e5c 0A00     		.ascii "\12\0"
 4534              	_Write_Processed_Data:
 903:../../MMI/Resource/WriteImgRes.c **** 
 904:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 905:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 906:../../MMI/Resource/WriteImgRes.c ****  *  Write_Processed_Data
 907:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 908:../../MMI/Resource/WriteImgRes.c ****  *  write processed data
 909:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 910:../../MMI/Resource/WriteImgRes.c ****  *  pathname        [IN]        path name for sequential image
 911:../../MMI/Resource/WriteImgRes.c ****  *  type            [IN]        image type
 912:../../MMI/Resource/WriteImgRes.c ****  *  output_name     [IN]        output variable name
 913:../../MMI/Resource/WriteImgRes.c ****  *  output_file     [OUT]       output file handle
 914:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 915:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
 916:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 917:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Processed_Data(
 918:../../MMI/Resource/WriteImgRes.c ****         char *filename,
 919:../../MMI/Resource/WriteImgRes.c ****         U8 type,
 920:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
 921:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 922:../../MMI/Resource/WriteImgRes.c ****         image_type_enum extImageFlag,
 923:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 924:../../MMI/Resource/WriteImgRes.c ****         S32 force_type,
 925:../../MMI/Resource/WriteImgRes.c ****         FILE *nfb_img_res_file,
 926:../../MMI/Resource/WriteImgRes.c ****         U8 *_9slice_filename,
 927:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData,
 928:../../MMI/Resource/WriteImgRes.c ****         S32 *proc_img_err_code
 929:../../MMI/Resource/WriteImgRes.c ****         )
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 62


 930:../../MMI/Resource/WriteImgRes.c **** {
 4536              	LM238:
 4537 1e5e 55       		pushl	%ebp
 4538 1e5f 89E5     		movl	%esp, %ebp
 4539 1e61 B8781400 		movl	$5240, %eax
 4539      00
 4540 1e66 E8000000 		call	__alloca
 4540      00
 4541 1e6b 8B450C   		movl	12(%ebp), %eax
 4542 1e6e 8845F7   		movb	%al, -9(%ebp)
 931:../../MMI/Resource/WriteImgRes.c ****     *proc_img_err_code = 0;
 4544              	LM239:
 4545              	LBB24:
 4546 1e71 8B4530   		movl	48(%ebp), %eax
 4547 1e74 C7000000 		movl	$0, (%eax)
 4547      0000
 932:../../MMI/Resource/WriteImgRes.c ****     
 933:../../MMI/Resource/WriteImgRes.c ****     S8 tempDestFile[BUFFER_SIZE];
 934:../../MMI/Resource/WriteImgRes.c **** 
 935:../../MMI/Resource/WriteImgRes.c ****     BOOL is_need_convert = TRUE;
 4549              	LM240:
 4550 1e7a C785E4EF 		movl	$1, -4124(%ebp)
 4550      FFFF0100 
 4550      0000
 936:../../MMI/Resource/WriteImgRes.c **** 
 937:../../MMI/Resource/WriteImgRes.c ****     if (type == IMAGE_TYPE_ABM)
 4552              	LM241:
 4553 1e84 807DF728 		cmpb	$40, -9(%ebp)
 4554 1e88 7575     		jne	L165
 938:../../MMI/Resource/WriteImgRes.c ****     {
 939:../../MMI/Resource/WriteImgRes.c ****         strcpy(tempDestFile, filename);
 4556              	LM242:
 4557 1e8a 8B4508   		movl	8(%ebp), %eax
 4558 1e8d 89442404 		movl	%eax, 4(%esp)
 4559 1e91 8D85E8EF 		leal	-4120(%ebp), %eax
 4559      FFFF
 4560 1e97 890424   		movl	%eax, (%esp)
 4561 1e9a E8000000 		call	_strcpy
 4561      00
 940:../../MMI/Resource/WriteImgRes.c ****         strcat(tempDestFile, ".ABM");
 4563              	LM243:
 4564 1e9f C7442404 		movl	$LC60, 4(%esp)
 4564      EF1C0000 
 4565 1ea7 8D85E8EF 		leal	-4120(%ebp), %eax
 4565      FFFF
 4566 1ead 890424   		movl	%eax, (%esp)
 4567 1eb0 E8000000 		call	_strcat
 4567      00
 941:../../MMI/Resource/WriteImgRes.c **** 
 942:../../MMI/Resource/WriteImgRes.c **** #if !defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
 943:../../MMI/Resource/WriteImgRes.c ****         if (toolFlag != 1)
 4569              	LM244:
 4570 1eb5 833D0000 		cmpl	$1, _toolFlag
 4570      000001
 4571 1ebc 0F849E00 		je	L168
 4571      0000
 944:../../MMI/Resource/WriteImgRes.c ****         {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 63


 945:../../MMI/Resource/WriteImgRes.c ****             if (resgen_compare_file_time(tempDestFile, filename) == -1)
 4573              	LM245:
 4574 1ec2 8B4508   		movl	8(%ebp), %eax
 4575 1ec5 89442404 		movl	%eax, 4(%esp)
 4576 1ec9 8D85E8EF 		leal	-4120(%ebp), %eax
 4576      FFFF
 4577 1ecf 890424   		movl	%eax, (%esp)
 4578 1ed2 E8000000 		call	_resgen_compare_file_time
 4578      00
 4579 1ed7 83F8FF   		cmpl	$-1, %eax
 4580 1eda 0F858000 		jne	L168
 4580      0000
 946:../../MMI/Resource/WriteImgRes.c ****             {
 947:../../MMI/Resource/WriteImgRes.c ****                 is_need_convert = FALSE;
 4582              	LM246:
 4583 1ee0 C785E4EF 		movl	$0, -4124(%ebp)
 4583      FFFF0000 
 4583      0000
 948:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("[%s] no need convert\n", filename);
 4585              	LM247:
 4586 1eea 8B4508   		movl	8(%ebp), %eax
 4587 1eed 89442404 		movl	%eax, 4(%esp)
 4588 1ef1 C70424F4 		movl	$LC61, (%esp)
 4588      1C0000
 4589 1ef8 E8000000 		call	_MtkResgenTrace
 4589      00
 4590 1efd EB61     		jmp	L168
 4591              	L165:
 949:../../MMI/Resource/WriteImgRes.c ****             }
 950:../../MMI/Resource/WriteImgRes.c ****         }
 951:../../MMI/Resource/WriteImgRes.c **** #endif /* #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__) */
 952:../../MMI/Resource/WriteImgRes.c ****     }
 953:../../MMI/Resource/WriteImgRes.c ****     else
 954:../../MMI/Resource/WriteImgRes.c ****     {
 955:../../MMI/Resource/WriteImgRes.c ****         char temp_filename[1024];
 956:../../MMI/Resource/WriteImgRes.c ****         Extract_Name(temp_filename, filename, SYSTEM_IMAGE);
 4593              	LM248:
 4594              	LBB25:
 4595 1eff C7442408 		movl	$0, 8(%esp)
 4595      00000000 
 4596 1f07 8B4508   		movl	8(%ebp), %eax
 4597 1f0a 89442404 		movl	%eax, 4(%esp)
 4598 1f0e 8D85D8EB 		leal	-5160(%ebp), %eax
 4598      FFFF
 4599 1f14 890424   		movl	%eax, (%esp)
 4600 1f17 E8000000 		call	_Extract_Name
 4600      00
 957:../../MMI/Resource/WriteImgRes.c ****         strcpy(tempDestFile, ".\\temp\\");
 4602              	LM249:
 4603 1f1c C7442404 		movl	$LC62, 4(%esp)
 4603      0A1D0000 
 4604 1f24 8D85E8EF 		leal	-4120(%ebp), %eax
 4604      FFFF
 4605 1f2a 890424   		movl	%eax, (%esp)
 4606 1f2d E8000000 		call	_strcpy
 4606      00
 958:../../MMI/Resource/WriteImgRes.c ****         strcat(tempDestFile, temp_filename);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 64


 4608              	LM250:
 4609 1f32 8D85D8EB 		leal	-5160(%ebp), %eax
 4609      FFFF
 4610 1f38 89442404 		movl	%eax, 4(%esp)
 4611 1f3c 8D85E8EF 		leal	-4120(%ebp), %eax
 4611      FFFF
 4612 1f42 890424   		movl	%eax, (%esp)
 4613 1f45 E8000000 		call	_strcat
 4613      00
 959:../../MMI/Resource/WriteImgRes.c ****         strcat(tempDestFile, ".temp");
 4615              	LM251:
 4616 1f4a C7442404 		movl	$LC63, 4(%esp)
 4616      121D0000 
 4617 1f52 8D85E8EF 		leal	-4120(%ebp), %eax
 4617      FFFF
 4618 1f58 890424   		movl	%eax, (%esp)
 4619 1f5b E8000000 		call	_strcat
 4619      00
 4620              	L168:
 960:../../MMI/Resource/WriteImgRes.c ****     }
 961:../../MMI/Resource/WriteImgRes.c **** 
 962:../../MMI/Resource/WriteImgRes.c ****     if (file_exist(filename) )
 4622              	LM252:
 4623              	LBE25:
 4624 1f60 8B4508   		movl	8(%ebp), %eax
 4625 1f63 890424   		movl	%eax, (%esp)
 4626 1f66 E8000000 		call	_file_exist
 4626      00
 4627 1f6b 85C0     		testl	%eax, %eax
 4628 1f6d 0F840105 		je	L169
 4628      0000
 963:../../MMI/Resource/WriteImgRes.c ****     {
 964:../../MMI/Resource/WriteImgRes.c ****         int ret;
 965:../../MMI/Resource/WriteImgRes.c ****         switch (type)
 4630              	LM253:
 4631              	LBB26:
 4632 1f73 0FB645F7 		movzbl	-9(%ebp), %eax
 4633 1f77 8985C0EB 		movl	%eax, -5184(%ebp)
 4633      FFFF
 4634 1f7d 83BDC0EB 		cmpl	$4, -5184(%ebp)
 4634      FFFF04
 4635 1f84 7450     		je	L173
 4636 1f86 83BDC0EB 		cmpl	$4, -5184(%ebp)
 4636      FFFF04
 4637 1f8d 7F0E     		jg	L199
 4638 1f8f 83BDC0EB 		cmpl	$3, -5184(%ebp)
 4638      FFFF03
 4639 1f96 7417     		je	L171
 4640 1f98 E9C90200 		jmp	L197
 4640      00
 4641              	L199:
 4642 1f9d 83BDC0EB 		cmpl	$40, -5184(%ebp)
 4642      FFFF28
 4643 1fa4 0F849D01 		je	L186
 4643      0000
 4644 1faa E9B70200 		jmp	L197
 4644      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 65


 4645              	L171:
 966:../../MMI/Resource/WriteImgRes.c ****         {
 967:../../MMI/Resource/WriteImgRes.c ****             case IMAGE_TYPE_GIF:
 968:../../MMI/Resource/WriteImgRes.c ****                 if (is_need_convert)
 4647              	LM254:
 4648 1faf 83BDE4EF 		cmpl	$0, -4124(%ebp)
 4648      FFFF00
 4649 1fb6 0F84B902 		je	L170
 4649      0000
 969:../../MMI/Resource/WriteImgRes.c ****                 {
 970:../../MMI/Resource/WriteImgRes.c ****                     GIFLoader(filename, tempDestFile);
 4651              	LM255:
 4652              	LBB27:
 4653 1fbc 8D85E8EF 		leal	-4120(%ebp), %eax
 4653      FFFF
 4654 1fc2 89442404 		movl	%eax, 4(%esp)
 4655 1fc6 8B4508   		movl	8(%ebp), %eax
 4656 1fc9 890424   		movl	%eax, (%esp)
 4657 1fcc E8000000 		call	_GIFLoader
 4657      00
 971:../../MMI/Resource/WriteImgRes.c ****                 }
 972:../../MMI/Resource/WriteImgRes.c ****                 break;
 4659              	LM256:
 4660              	LBE27:
 4661 1fd1 E99F0200 		jmp	L170
 4661      00
 4662              	L173:
 973:../../MMI/Resource/WriteImgRes.c **** 
 974:../../MMI/Resource/WriteImgRes.c ****             case IMAGE_TYPE_DEVICE_BITMAP:
 975:../../MMI/Resource/WriteImgRes.c ****                 if (is_need_convert)
 4664              	LM257:
 4665 1fd6 83BDE4EF 		cmpl	$0, -4124(%ebp)
 4665      FFFF00
 4666 1fdd 743A     		je	L174
 976:../../MMI/Resource/WriteImgRes.c ****                 {
 977:../../MMI/Resource/WriteImgRes.c ****                     ret = BMPLoader(filename, tempDestFile, __MMI_DEVICE_BMP_FORMAT__, _9slice_file
 4668              	LM258:
 4669 1fdf 8B452C   		movl	44(%ebp), %eax
 4670 1fe2 89442414 		movl	%eax, 20(%esp)
 4671 1fe6 8B451C   		movl	28(%ebp), %eax
 4672 1fe9 89442410 		movl	%eax, 16(%esp)
 4673 1fed 8B4528   		movl	40(%ebp), %eax
 4674 1ff0 8944240C 		movl	%eax, 12(%esp)
 4675 1ff4 C7442408 		movl	$16, 8(%esp)
 4675      10000000 
 4676 1ffc 8D85E8EF 		leal	-4120(%ebp), %eax
 4676      FFFF
 4677 2002 89442404 		movl	%eax, 4(%esp)
 4678 2006 8B4508   		movl	8(%ebp), %eax
 4679 2009 890424   		movl	%eax, (%esp)
 4680 200c E8000000 		call	_BMPLoader
 4680      00
 4681 2011 8985D4EB 		movl	%eax, -5164(%ebp)
 4681      FFFF
 4682 2017 EB0A     		jmp	L175
 4683              	L174:
 978:../../MMI/Resource/WriteImgRes.c ****                 }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 66


 979:../../MMI/Resource/WriteImgRes.c ****                 else
 980:../../MMI/Resource/WriteImgRes.c ****                 {
 981:../../MMI/Resource/WriteImgRes.c ****                     ret = 1;
 4685              	LM259:
 4686 2019 C785D4EB 		movl	$1, -5164(%ebp)
 4686      FFFF0100 
 4686      0000
 4687              	L175:
 982:../../MMI/Resource/WriteImgRes.c ****                 }
 983:../../MMI/Resource/WriteImgRes.c **** 
 984:../../MMI/Resource/WriteImgRes.c ****                 if (toolFlag)
 4689              	LM260:
 4690 2023 833D0000 		cmpl	$0, _toolFlag
 4690      000000
 4691 202a 7427     		je	L176
 985:../../MMI/Resource/WriteImgRes.c ****                 {
 986:../../MMI/Resource/WriteImgRes.c ****                     if (ret == 0)
 4693              	LM261:
 4694 202c 83BDD4EB 		cmpl	$0, -5164(%ebp)
 4694      FFFF00
 4695 2033 750F     		jne	L177
 987:../../MMI/Resource/WriteImgRes.c ****                     {
 988:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 1;
 4697              	LM262:
 4698 2035 C7050000 		movl	$1, _resultFailFlag
 4698      00000100 
 4698      0000
 4699 203f E9310200 		jmp	L170
 4699      00
 4700              	L177:
 989:../../MMI/Resource/WriteImgRes.c ****                     }
 990:../../MMI/Resource/WriteImgRes.c ****                     else
 991:../../MMI/Resource/WriteImgRes.c ****                     {
 992:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 0;
 4702              	LM263:
 4703 2044 C7050000 		movl	$0, _resultFailFlag
 4703      00000000 
 4703      0000
 4704 204e E9220200 		jmp	L170
 4704      00
 4705              	L176:
 993:../../MMI/Resource/WriteImgRes.c ****                     }
 994:../../MMI/Resource/WriteImgRes.c ****                 }
 995:../../MMI/Resource/WriteImgRes.c ****                 else
 996:../../MMI/Resource/WriteImgRes.c ****                 {
 997:../../MMI/Resource/WriteImgRes.c ****                     /* we handle empty bmp file here, maybe we should handle it in Write_Unprocesse
 998:../../MMI/Resource/WriteImgRes.c ****                     if (ret == 0)
 4707              	LM264:
 4708 2053 83BDD4EB 		cmpl	$0, -5164(%ebp)
 4708      FFFF00
 4709 205a 0F851502 		jne	L170
 4709      0000
 999:../../MMI/Resource/WriteImgRes.c ****                     {
1000:../../MMI/Resource/WriteImgRes.c ****                         ImageOutStreamPrintf(outstream, "__align(4) const U8 %s[] =\n", output_name
 4711              	LM265:
 4712 2060 8B4510   		movl	16(%ebp), %eax
 4713 2063 89442408 		movl	%eax, 8(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 67


 4714 2067 C7442404 		movl	$LC64, 4(%esp)
 4714      181D0000 
 4715 206f 8B4514   		movl	20(%ebp), %eax
 4716 2072 890424   		movl	%eax, (%esp)
 4717 2075 E8000000 		call	_ImageOutStreamPrintf
 4717      00
1001:../../MMI/Resource/WriteImgRes.c ****                         ImageOutStreamPrintf(outstream, "{\n\t0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0
 4719              	LM266:
 4720 207a C7442404 		movl	$LC65, 4(%esp)
 4720      401D0000 
 4721 2082 8B4514   		movl	20(%ebp), %eax
 4722 2085 890424   		movl	%eax, (%esp)
 4723 2088 E8000000 		call	_ImageOutStreamPrintf
 4723      00
1002:../../MMI/Resource/WriteImgRes.c ****                         if (extImageFlag == NFB_PROGRESS_IMAGE)
 4725              	LM267:
 4726 208d 837D1802 		cmpl	$2, 24(%ebp)
 4727 2091 0F85A100 		jne	L181
 4727      0000
1003:../../MMI/Resource/WriteImgRes.c ****                         {
1004:../../MMI/Resource/WriteImgRes.c ****                             RESIMG_LOG_V("Write NFB_PROGRESS_IMAGE in Write_Processed_Data for empt
 4729              	LM268:
 4730 2097 C7442408 		movl	$LC66, 8(%esp)
 4730      801D0000 
 4731 209f C7442404 		movl	$LC34, 4(%esp)
 4731      64060000 
 4732 20a7 C7042401 		movl	$1, (%esp)
 4732      000000
 4733 20ae E8000000 		call	_reslog_adaptor_log
 4733      00
1005:../../MMI/Resource/WriteImgRes.c ****                             if (nfb_img_res_file != NULL)
 4735              	LM269:
 4736 20b3 837D2400 		cmpl	$0, 36(%ebp)
 4737 20b7 7463     		je	L182
1006:../../MMI/Resource/WriteImgRes.c ****                             {
1007:../../MMI/Resource/WriteImgRes.c ****                                 if(output_name != NULL){							
 4739              	LM270:
 4740 20b9 837D1000 		cmpl	$0, 16(%ebp)
 4741 20bd 743F     		je	L183
1008:../../MMI/Resource/WriteImgRes.c ****                                     RESIMG_LOG_V("output_name = %s", output_name);
 4743              	LM271:
 4744 20bf 8B4510   		movl	16(%ebp), %eax
 4745 20c2 8944240C 		movl	%eax, 12(%esp)
 4746 20c6 C7442408 		movl	$LC67, 8(%esp)
 4746      C41D0000 
 4747 20ce C7442404 		movl	$LC34, 4(%esp)
 4747      64060000 
 4748 20d6 C7042401 		movl	$1, (%esp)
 4748      000000
 4749 20dd E8000000 		call	_reslog_adaptor_log
 4749      00
1009:../../MMI/Resource/WriteImgRes.c ****                                 fprintf(nfb_img_res_file, "(U8*)&%s,\n", output_name);
 4751              	LM272:
 4752 20e2 8B4510   		movl	16(%ebp), %eax
 4753 20e5 89442408 		movl	%eax, 8(%esp)
 4754 20e9 C7442404 		movl	$LC68, 4(%esp)
 4754      D51D0000 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 68


 4755 20f1 8B4524   		movl	36(%ebp), %eax
 4756 20f4 890424   		movl	%eax, (%esp)
 4757 20f7 E8000000 		call	_fprintf
 4757      00
 4758 20fc EB3A     		jmp	L181
 4759              	L183:
1010:../../MMI/Resource/WriteImgRes.c ****                                 }else{
1011:../../MMI/Resource/WriteImgRes.c ****                                     RESIMG_LOG_E("output_name can't be NULL!!");
 4761              	LM273:
 4762 20fe C7442408 		movl	$LC69, 8(%esp)
 4762      E01D0000 
 4763 2106 C7442404 		movl	$LC34, 4(%esp)
 4763      64060000 
 4764 210e C7042403 		movl	$3, (%esp)
 4764      000000
 4765 2115 E8000000 		call	_reslog_adaptor_log
 4765      00
 4766 211a EB1C     		jmp	L181
 4767              	L182:
1012:../../MMI/Resource/WriteImgRes.c **** 								}
1013:../../MMI/Resource/WriteImgRes.c ****                             }
1014:../../MMI/Resource/WriteImgRes.c ****                             else
1015:../../MMI/Resource/WriteImgRes.c ****                             {
1016:../../MMI/Resource/WriteImgRes.c ****                                 RESIMG_LOG_E("nfb_img_res_file not opened");
 4769              	LM274:
 4770 211c C7442408 		movl	$LC70, 8(%esp)
 4770      FC1D0000 
 4771 2124 C7442404 		movl	$LC34, 4(%esp)
 4771      64060000 
 4772 212c C7042403 		movl	$3, (%esp)
 4772      000000
 4773 2133 E8000000 		call	_reslog_adaptor_log
 4773      00
 4774              	L181:
1017:../../MMI/Resource/WriteImgRes.c ****                             }
1018:../../MMI/Resource/WriteImgRes.c ****                         }
1019:../../MMI/Resource/WriteImgRes.c ****                         return MMI_TRUE;
 4776              	LM275:
 4777 2138 C785C4EB 		movl	$1, -5180(%ebp)
 4777      FFFF0100 
 4777      0000
 4778 2142 E9430300 		jmp	L164
 4778      00
 4779              	L186:
1020:../../MMI/Resource/WriteImgRes.c ****                     }
1021:../../MMI/Resource/WriteImgRes.c ****                 }
1022:../../MMI/Resource/WriteImgRes.c ****                 break;
1023:../../MMI/Resource/WriteImgRes.c **** 
1024:../../MMI/Resource/WriteImgRes.c ****             case IMAGE_TYPE_ABM:
1025:../../MMI/Resource/WriteImgRes.c ****                 if (is_need_convert)
 4781              	LM276:
 4782 2147 83BDE4EF 		cmpl	$0, -4124(%ebp)
 4782      FFFF00
 4783 214e 0F84BD00 		je	L187
 4783      0000
1026:../../MMI/Resource/WriteImgRes.c ****                 {
1027:../../MMI/Resource/WriteImgRes.c ****                     RG_SET_CPZ(TRUE);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 69


1028:../../MMI/Resource/WriteImgRes.c ****                     if (force_type == FORCE_ABM)
 4785              	LM277:
 4786 2154 837D2001 		cmpl	$1, 32(%ebp)
 4787 2158 753D     		jne	L188
1029:../../MMI/Resource/WriteImgRes.c ****                     {
1030:../../MMI/Resource/WriteImgRes.c ****                         ret = ABMLoader(filename, tempDestFile, ABM_ENC_OPTION_FLAG_ABM, is9slice, 
 4789              	LM278:
 4790 215a 8B452C   		movl	44(%ebp), %eax
 4791 215d 89442414 		movl	%eax, 20(%esp)
 4792 2161 8B4528   		movl	40(%ebp), %eax
 4793 2164 89442410 		movl	%eax, 16(%esp)
 4794 2168 8B451C   		movl	28(%ebp), %eax
 4795 216b 8944240C 		movl	%eax, 12(%esp)
 4796 216f C7442408 		movl	$2, 8(%esp)
 4796      02000000 
 4797 2177 8D85E8EF 		leal	-4120(%ebp), %eax
 4797      FFFF
 4798 217d 89442404 		movl	%eax, 4(%esp)
 4799 2181 8B4508   		movl	8(%ebp), %eax
 4800 2184 890424   		movl	%eax, (%esp)
 4801 2187 E8000000 		call	_ABMLoader
 4801      00
 4802 218c 8985D4EB 		movl	%eax, -5164(%ebp)
 4802      FFFF
 4803 2192 E9840000 		jmp	L192
 4803      00
 4804              	L188:
1031:../../MMI/Resource/WriteImgRes.c ****                     }
1032:../../MMI/Resource/WriteImgRes.c ****                     else if(force_type == FORCE_AB2)
 4806              	LM279:
 4807 2197 837D2002 		cmpl	$2, 32(%ebp)
 4808 219b 753A     		jne	L190
1033:../../MMI/Resource/WriteImgRes.c ****                     {
1034:../../MMI/Resource/WriteImgRes.c ****                         ret = ABMLoader(filename, tempDestFile, ABM_ENC_OPTION_FLAG_AB2, is9slice, 
 4810              	LM280:
 4811 219d 8B452C   		movl	44(%ebp), %eax
 4812 21a0 89442414 		movl	%eax, 20(%esp)
 4813 21a4 8B4528   		movl	40(%ebp), %eax
 4814 21a7 89442410 		movl	%eax, 16(%esp)
 4815 21ab 8B451C   		movl	28(%ebp), %eax
 4816 21ae 8944240C 		movl	%eax, 12(%esp)
 4817 21b2 C7442408 		movl	$4, 8(%esp)
 4817      04000000 
 4818 21ba 8D85E8EF 		leal	-4120(%ebp), %eax
 4818      FFFF
 4819 21c0 89442404 		movl	%eax, 4(%esp)
 4820 21c4 8B4508   		movl	8(%ebp), %eax
 4821 21c7 890424   		movl	%eax, (%esp)
 4822 21ca E8000000 		call	_ABMLoader
 4822      00
 4823 21cf 8985D4EB 		movl	%eax, -5164(%ebp)
 4823      FFFF
 4824 21d5 EB44     		jmp	L192
 4825              	L190:
1035:../../MMI/Resource/WriteImgRes.c ****                     }                	
1036:../../MMI/Resource/WriteImgRes.c ****                     else
1037:../../MMI/Resource/WriteImgRes.c ****                     {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 70


1038:../../MMI/Resource/WriteImgRes.c ****                         ret = ABMLoader(filename, tempDestFile, ABM_ENC_OPTION_FLAG_ALL, is9slice, 
 4827              	LM281:
 4828 21d7 8B452C   		movl	44(%ebp), %eax
 4829 21da 89442414 		movl	%eax, 20(%esp)
 4830 21de 8B4528   		movl	40(%ebp), %eax
 4831 21e1 89442410 		movl	%eax, 16(%esp)
 4832 21e5 8B451C   		movl	28(%ebp), %eax
 4833 21e8 8944240C 		movl	%eax, 12(%esp)
 4834 21ec C7442408 		movl	$7, 8(%esp)
 4834      07000000 
 4835 21f4 8D85E8EF 		leal	-4120(%ebp), %eax
 4835      FFFF
 4836 21fa 89442404 		movl	%eax, 4(%esp)
 4837 21fe 8B4508   		movl	8(%ebp), %eax
 4838 2201 890424   		movl	%eax, (%esp)
 4839 2204 E8000000 		call	_ABMLoader
 4839      00
 4840 2209 8985D4EB 		movl	%eax, -5164(%ebp)
 4840      FFFF
 4841 220f EB0A     		jmp	L192
 4842              	L187:
1039:../../MMI/Resource/WriteImgRes.c ****                     }
1040:../../MMI/Resource/WriteImgRes.c ****                     RG_SET_CPZ(FALSE);
1041:../../MMI/Resource/WriteImgRes.c ****                 }
1042:../../MMI/Resource/WriteImgRes.c ****                 else
1043:../../MMI/Resource/WriteImgRes.c ****                 {
1044:../../MMI/Resource/WriteImgRes.c ****                     ret = ABM_ENC_RETURN_USE_ABM;
 4844              	LM282:
 4845 2211 C785D4EB 		movl	$1, -5164(%ebp)
 4845      FFFF0100 
 4845      0000
 4846              	L192:
1045:../../MMI/Resource/WriteImgRes.c ****                 }
1046:../../MMI/Resource/WriteImgRes.c **** 
1047:../../MMI/Resource/WriteImgRes.c ****                 if (ret != ABM_ENC_RETURN_USE_ABM)
 4848              	LM283:
 4849 221b 83BDD4EB 		cmpl	$1, -5164(%ebp)
 4849      FFFF01
 4850 2222 742D     		je	L193
1048:../../MMI/Resource/WriteImgRes.c ****                 {
1049:../../MMI/Resource/WriteImgRes.c ****                     if (toolFlag)
 4852              	LM284:
 4853 2224 833D0000 		cmpl	$0, _toolFlag
 4853      000000
 4854 222b 740A     		je	L194
1050:../../MMI/Resource/WriteImgRes.c ****                     {
1051:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 1;
 4856              	LM285:
 4857 222d C7050000 		movl	$1, _resultFailFlag
 4857      00000100 
 4857      0000
 4858              	L194:
1052:../../MMI/Resource/WriteImgRes.c ****                     }
1053:../../MMI/Resource/WriteImgRes.c ****                     *proc_img_err_code = ret;
 4860              	LM286:
 4861 2237 8B5530   		movl	48(%ebp), %edx
 4862 223a 8B85D4EB 		movl	-5164(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 71


 4862      FFFF
 4863 2240 8902     		movl	%eax, (%edx)
1054:../../MMI/Resource/WriteImgRes.c ****                     
1055:../../MMI/Resource/WriteImgRes.c ****                     return MMI_FALSE;
 4865              	LM287:
 4866 2242 C785C4EB 		movl	$0, -5180(%ebp)
 4866      FFFF0000 
 4866      0000
 4867 224c E9390200 		jmp	L164
 4867      00
 4868              	L193:
1056:../../MMI/Resource/WriteImgRes.c ****                 }
1057:../../MMI/Resource/WriteImgRes.c ****                 else
1058:../../MMI/Resource/WriteImgRes.c ****                 {
1059:../../MMI/Resource/WriteImgRes.c ****                     if (toolFlag)
 4870              	LM288:
 4871 2251 833D0000 		cmpl	$0, _toolFlag
 4871      000000
 4872 2258 741B     		je	L170
1060:../../MMI/Resource/WriteImgRes.c ****                     {
1061:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 0;
 4874              	LM289:
 4875 225a C7050000 		movl	$0, _resultFailFlag
 4875      00000000 
 4875      0000
1062:../../MMI/Resource/WriteImgRes.c ****                     }
1063:../../MMI/Resource/WriteImgRes.c ****                 }
1064:../../MMI/Resource/WriteImgRes.c ****                 break;
 4877              	LM290:
 4878 2264 EB0F     		jmp	L170
 4879              	L197:
1065:../../MMI/Resource/WriteImgRes.c **** 
1066:../../MMI/Resource/WriteImgRes.c ****             default:
1067:../../MMI/Resource/WriteImgRes.c ****                 return MMI_FALSE;
 4881              	LM291:
 4882 2266 C785C4EB 		movl	$0, -5180(%ebp)
 4882      FFFF0000 
 4882      0000
 4883 2270 E9150200 		jmp	L164
 4883      00
 4884              	L170:
1068:../../MMI/Resource/WriteImgRes.c ****         }
1069:../../MMI/Resource/WriteImgRes.c **** 
1070:../../MMI/Resource/WriteImgRes.c ****         if (toolFlag == 0)
 4886              	LM292:
 4887 2275 833D0000 		cmpl	$0, _toolFlag
 4887      000000
 4888 227c 0F85FE01 		jne	L213
 4888      0000
1071:../../MMI/Resource/WriteImgRes.c ****         {
1072:../../MMI/Resource/WriteImgRes.c ****             FILE *fp;
1073:../../MMI/Resource/WriteImgRes.c **** 
1074:../../MMI/Resource/WriteImgRes.c ****             fp = fopen(tempDestFile, "rb");
 4890              	LM293:
 4891              	LBB28:
 4892 2282 C7442404 		movl	$LC58, 4(%esp)
 4892      F30C0000 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 72


 4893 228a 8D85E8EF 		leal	-4120(%ebp), %eax
 4893      FFFF
 4894 2290 890424   		movl	%eax, (%esp)
 4895 2293 E8000000 		call	_fopen
 4895      00
 4896 2298 8985D0EB 		movl	%eax, -5168(%ebp)
 4896      FFFF
1075:../../MMI/Resource/WriteImgRes.c ****             if (fp != NULL)
 4898              	LM294:
 4899 229e 83BDD0EB 		cmpl	$0, -5168(%ebp)
 4899      FFFF00
 4900 22a5 0F84D501 		je	L213
 4900      0000
1076:../../MMI/Resource/WriteImgRes.c ****             {
1077:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
1078:../../MMI/Resource/WriteImgRes.c ****                 if (g_is_compressed)
1079:../../MMI/Resource/WriteImgRes.c ****                 {
1080:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "__align(4) U8 %s[%d];\n", output_name, g_res_c
1081:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "__align(4) const U8 %s_zip[] =\n", output_name
1082:../../MMI/Resource/WriteImgRes.c **** 
1083:../../MMI/Resource/WriteImgRes.c ****                     strcpy(g_res_compress_data_image[g_res_compress_count_image-1].ro_name, output_
1084:../../MMI/Resource/WriteImgRes.c ****                     strcpy(g_res_compress_data_image[g_res_compress_count_image-1].zi_name, output_
1085:../../MMI/Resource/WriteImgRes.c ****                     strcat(g_res_compress_data_image[g_res_compress_count_image-1].ro_name, "_zip")
1086:../../MMI/Resource/WriteImgRes.c ****                 }
1087:../../MMI/Resource/WriteImgRes.c ****                 else
1088:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_RESOURCE_IMAGE_COMPRESS__ */
1089:../../MMI/Resource/WriteImgRes.c ****                 {
1090:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "__align(4) const U8 %s[] =\n", output_name);
 4902              	LM295:
 4903              	LBB29:
 4904 22ab 8B4510   		movl	16(%ebp), %eax
 4905 22ae 89442408 		movl	%eax, 8(%esp)
 4906 22b2 C7442404 		movl	$LC64, 4(%esp)
 4906      181D0000 
 4907 22ba 8B4514   		movl	20(%ebp), %eax
 4908 22bd 890424   		movl	%eax, (%esp)
 4909 22c0 E8000000 		call	_ImageOutStreamPrintf
 4909      00
1091:../../MMI/Resource/WriteImgRes.c ****                 }
1092:../../MMI/Resource/WriteImgRes.c **** 
1093:../../MMI/Resource/WriteImgRes.c ****                 if (extImageFlag == NFB_PROGRESS_IMAGE)
 4911              	LM296:
 4912 22c5 837D1802 		cmpl	$2, 24(%ebp)
 4913 22c9 0F85AD00 		jne	L202
 4913      0000
1094:../../MMI/Resource/WriteImgRes.c ****                 {
1095:../../MMI/Resource/WriteImgRes.c ****                     if (nfb_img_res_file != NULL)
 4915              	LM297:
 4916 22cf 837D2400 		cmpl	$0, 36(%ebp)
 4917 22d3 0F848700 		je	L203
 4917      0000
1096:../../MMI/Resource/WriteImgRes.c ****                     {
1097:../../MMI/Resource/WriteImgRes.c ****                         RESIMG_LOG_V("Write NFB_PROGRESS_IMAGE in Write_Processed_Data, type = %d",
 4919              	LM298:
 4920 22d9 0FB645F7 		movzbl	-9(%ebp), %eax
 4921 22dd 8944240C 		movl	%eax, 12(%esp)
 4922 22e1 C7442408 		movl	$LC71, 8(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 73


 4922      201E0000 
 4923 22e9 C7442404 		movl	$LC34, 4(%esp)
 4923      64060000 
 4924 22f1 C7042401 		movl	$1, (%esp)
 4924      000000
 4925 22f8 E8000000 		call	_reslog_adaptor_log
 4925      00
1098:../../MMI/Resource/WriteImgRes.c **** 
1099:../../MMI/Resource/WriteImgRes.c ****                         if(output_name != NULL){
 4927              	LM299:
 4928 22fd 837D1000 		cmpl	$0, 16(%ebp)
 4929 2301 743F     		je	L204
1100:../../MMI/Resource/WriteImgRes.c ****                             RESIMG_LOG_V("output_name = %s", output_name);
 4931              	LM300:
 4932 2303 8B4510   		movl	16(%ebp), %eax
 4933 2306 8944240C 		movl	%eax, 12(%esp)
 4934 230a C7442408 		movl	$LC67, 8(%esp)
 4934      C41D0000 
 4935 2312 C7442404 		movl	$LC34, 4(%esp)
 4935      64060000 
 4936 231a C7042401 		movl	$1, (%esp)
 4936      000000
 4937 2321 E8000000 		call	_reslog_adaptor_log
 4937      00
1101:../../MMI/Resource/WriteImgRes.c ****                             fprintf(nfb_img_res_file, "(U8*)&%s,\n", output_name);
 4939              	LM301:
 4940 2326 8B4510   		movl	16(%ebp), %eax
 4941 2329 89442408 		movl	%eax, 8(%esp)
 4942 232d C7442404 		movl	$LC68, 4(%esp)
 4942      D51D0000 
 4943 2335 8B4524   		movl	36(%ebp), %eax
 4944 2338 890424   		movl	%eax, (%esp)
 4945 233b E8000000 		call	_fprintf
 4945      00
 4946 2340 EB3A     		jmp	L202
 4947              	L204:
1102:../../MMI/Resource/WriteImgRes.c ****                         }
1103:../../MMI/Resource/WriteImgRes.c ****                         else
1104:../../MMI/Resource/WriteImgRes.c ****                         {
1105:../../MMI/Resource/WriteImgRes.c ****                             RESIMG_LOG_E("output_name can't be NULL!!");
 4949              	LM302:
 4950 2342 C7442408 		movl	$LC69, 8(%esp)
 4950      E01D0000 
 4951 234a C7442404 		movl	$LC34, 4(%esp)
 4951      64060000 
 4952 2352 C7042403 		movl	$3, (%esp)
 4952      000000
 4953 2359 E8000000 		call	_reslog_adaptor_log
 4953      00
 4954 235e EB1C     		jmp	L202
 4955              	L203:
1106:../../MMI/Resource/WriteImgRes.c ****                         }
1107:../../MMI/Resource/WriteImgRes.c ****                     }
1108:../../MMI/Resource/WriteImgRes.c ****                     else
1109:../../MMI/Resource/WriteImgRes.c ****                     {
1110:../../MMI/Resource/WriteImgRes.c ****                         RESIMG_LOG_E("nfb_img_res_file not opened");
 4957              	LM303:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 74


 4958 2360 C7442408 		movl	$LC70, 8(%esp)
 4958      FC1D0000 
 4959 2368 C7442404 		movl	$LC34, 4(%esp)
 4959      64060000 
 4960 2370 C7042403 		movl	$3, (%esp)
 4960      000000
 4961 2377 E8000000 		call	_reslog_adaptor_log
 4961      00
 4962              	L202:
1111:../../MMI/Resource/WriteImgRes.c ****                     }
1112:../../MMI/Resource/WriteImgRes.c ****                 }
1113:../../MMI/Resource/WriteImgRes.c **** 
1114:../../MMI/Resource/WriteImgRes.c ****                 //const int buffer_size = 64 * 1024;
1115:../../MMI/Resource/WriteImgRes.c ****                 const int buffer_size = 200;
 4964              	LM304:
 4965 237c C785CCEB 		movl	$200, -5172(%ebp)
 4965      FFFFC800 
 4965      0000
1116:../../MMI/Resource/WriteImgRes.c ****                 while (!feof(fp))
 4967              	LM305:
 4968              	L207:
 4969 2386 8B85D0EB 		movl	-5168(%ebp), %eax
 4969      FFFF
 4970 238c 890424   		movl	%eax, (%esp)
 4971 238f E8000000 		call	_feof
 4971      00
 4972 2394 85C0     		testl	%eax, %eax
 4973 2396 7405     		je	L209
 4974 2398 E9A10000 		jmp	L208
 4974      00
 4975              	L209:
 4976              	LBB30:
 4977 239d 89A5BCEB 		movl	%esp, -5188(%ebp)
 4977      FFFF
1117:../../MMI/Resource/WriteImgRes.c ****                 {
1118:../../MMI/Resource/WriteImgRes.c ****                     S8 buffer[buffer_size];
 4979              	LM306:
 4980 23a3 8B85CCEB 		movl	-5172(%ebp), %eax
 4980      FFFF
 4981 23a9 83C00F   		addl	$15, %eax
 4982 23ac C1E804   		shrl	$4, %eax
 4983 23af C1E004   		sall	$4, %eax
 4984 23b2 8985B4EB 		movl	%eax, -5196(%ebp)
 4984      FFFF
 4985 23b8 8B85B4EB 		movl	-5196(%ebp), %eax
 4985      FFFF
 4986 23be E8000000 		call	__alloca
 4986      00
 4987 23c3 8D442418 		leal	24(%esp), %eax
 4988 23c7 8985B8EB 		movl	%eax, -5192(%ebp)
 4988      FFFF
1119:../../MMI/Resource/WriteImgRes.c ****                     size_t size;
1120:../../MMI/Resource/WriteImgRes.c **** 
1121:../../MMI/Resource/WriteImgRes.c ****                     size = fread(buffer, 1, buffer_size, fp);
 4990              	LM307:
 4991 23cd 8B85D0EB 		movl	-5168(%ebp), %eax
 4991      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 75


 4992 23d3 8944240C 		movl	%eax, 12(%esp)
 4993 23d7 8B85CCEB 		movl	-5172(%ebp), %eax
 4993      FFFF
 4994 23dd 89442408 		movl	%eax, 8(%esp)
 4995 23e1 C7442404 		movl	$1, 4(%esp)
 4995      01000000 
 4996 23e9 8B85B8EB 		movl	-5192(%ebp), %eax
 4996      FFFF
 4997 23ef 890424   		movl	%eax, (%esp)
 4998 23f2 E8000000 		call	_fread
 4998      00
 4999 23f7 8985C8EB 		movl	%eax, -5176(%ebp)
 4999      FFFF
1122:../../MMI/Resource/WriteImgRes.c ****                     if (size > 0 && size <= buffer_size)
 5001              	LM308:
 5002 23fd 83BDC8EB 		cmpl	$0, -5176(%ebp)
 5002      FFFF00
 5003 2404 742D     		je	L210
 5004 2406 8B85C8EB 		movl	-5176(%ebp), %eax
 5004      FFFF
 5005 240c 3B85CCEB 		cmpl	-5172(%ebp), %eax
 5005      FFFF
 5006 2412 771F     		ja	L210
1123:../../MMI/Resource/WriteImgRes.c ****                     {
1124:../../MMI/Resource/WriteImgRes.c ****                         ImageOutStreamAppend(outstream, buffer, size);
 5008              	LM309:
 5009 2414 8B85C8EB 		movl	-5176(%ebp), %eax
 5009      FFFF
 5010 241a 89442408 		movl	%eax, 8(%esp)
 5011 241e 8B85B8EB 		movl	-5192(%ebp), %eax
 5011      FFFF
 5012 2424 89442404 		movl	%eax, 4(%esp)
 5013 2428 8B4514   		movl	20(%ebp), %eax
 5014 242b 890424   		movl	%eax, (%esp)
 5015 242e E8000000 		call	_ImageOutStreamAppend
 5015      00
 5016              	L210:
 5017 2433 8BA5BCEB 		movl	-5188(%ebp), %esp
 5017      FFFF
 5018              	LBE30:
 5019 2439 E948FFFF 		jmp	L207
 5019      FF
 5020              	L208:
1125:../../MMI/Resource/WriteImgRes.c ****                     }
1126:../../MMI/Resource/WriteImgRes.c ****                 }
1127:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "\n");
 5022              	LM310:
 5023 243e C7442404 		movl	$LC72, 4(%esp)
 5023      5C1E0000 
 5024 2446 8B4514   		movl	20(%ebp), %eax
 5025 2449 890424   		movl	%eax, (%esp)
 5026 244c E8000000 		call	_ImageOutStreamPrintf
 5026      00
1128:../../MMI/Resource/WriteImgRes.c **** 
1129:../../MMI/Resource/WriteImgRes.c ****                 MYFCLOSE(fp);
 5028              	LM311:
 5029 2451 83BDD0EB 		cmpl	$0, -5168(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 76


 5029      FFFF00
 5030 2458 7426     		je	L213
 5031 245a 8B85D0EB 		movl	-5168(%ebp), %eax
 5031      FFFF
 5032 2460 890424   		movl	%eax, (%esp)
 5033 2463 E8000000 		call	_fclose
 5033      00
 5034 2468 C785D0EB 		movl	$0, -5168(%ebp)
 5034      FFFF0000 
 5034      0000
 5035              	LBE29:
 5036              	LBE28:
 5037              	LBE26:
 5038 2472 EB0C     		jmp	L213
 5039              	L169:
1130:../../MMI/Resource/WriteImgRes.c ****             }
1131:../../MMI/Resource/WriteImgRes.c ****         }
1132:../../MMI/Resource/WriteImgRes.c ****     }
1133:../../MMI/Resource/WriteImgRes.c ****     else
1134:../../MMI/Resource/WriteImgRes.c ****     {
1135:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 5041              	LM312:
 5042 2474 C785C4EB 		movl	$0, -5180(%ebp)
 5042      FFFF0000 
 5042      0000
 5043 247e EB0A     		jmp	L164
 5044              	L213:
1136:../../MMI/Resource/WriteImgRes.c ****     }
1137:../../MMI/Resource/WriteImgRes.c **** 
1138:../../MMI/Resource/WriteImgRes.c ****     return MMI_TRUE;
 5046              	LM313:
 5047 2480 C785C4EB 		movl	$1, -5180(%ebp)
 5047      FFFF0100 
 5047      0000
1139:../../MMI/Resource/WriteImgRes.c **** }
 5049              	LM314:
 5050              	L164:
 5051              	LBE24:
 5052 248a 8B85C4EB 		movl	-5180(%ebp), %eax
 5052      FFFF
 5053 2490 C9       		leave
 5054 2491 C3       		ret
 5076              	Lscope6:
 5078 2492 8DB42600 		.align 32
 5078      0000008D 
 5078      BC270000 
 5078      0000
 5079              	LC73:
 5080 24a0 2A2A2A57 		.ascii "***Warning***\11PNG file is not populated successfully.\12\11%s\12\0"
 5080      61726E69 
 5080      6E672A2A 
 5080      2A09504E 
 5080      47206669 
 5081 24db 908D7426 		.align 32
 5081      00
 5082              	LC74:
 5083 24e0 2A2A2A57 		.ascii "***Warning***\11PNG file is not populated successfully.\12\11%s\0"
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 77


 5083      61726E69 
 5083      6E672A2A 
 5083      2A09504E 
 5083      47206669 
 5084              	LC75:
 5085 251a 0A476574 		.ascii "\12Get dimensions failed:\11%s\0"
 5085      2064696D 
 5085      656E7369 
 5085      6F6E7320 
 5085      6661696C 
 5086              	LC76:
 5087 2535 5F5F616C 		.ascii "__align(4) \0"
 5087      69676E28 
 5087      34292000 
 5088              	LC77:
 5089 2541 5B5D203D 		.ascii "[] =\12{\0"
 5089      0A7B00
 5090              	LC78:
 5091 2548 636F6E73 		.ascii "const U8 %s%s\0"
 5091      74205538 
 5091      20257325 
 5091      7300
 5092              	LC79:
 5093 2556 57726974 		.ascii "Write NFB_PROGRESS_IMAGE\0"
 5093      65204E46 
 5093      425F5052 
 5093      4F475245 
 5093      53535F49 
 5094 256f 90909090 		.align 32
 5094      90909090 
 5094      90909090 
 5094      90909090 
 5094      90
 5095              	LC80:
 5096 2580 57726974 		.ascii "Write output name to nfb_img_res_file: %s\0"
 5096      65206F75 
 5096      74707574 
 5096      206E616D 
 5096      6520746F 
 5097 25aa 90909090 		.align 32
 5097      90909090 
 5097      90909090 
 5097      90909090 
 5097      90909090 
 5098              	LC81:
 5099 25c0 4F757470 		.ascii "Output name can't be NULL in Write_Unprocessed_Data\0"
 5099      7574206E 
 5099      616D6520 
 5099      63616E27 
 5099      74206265 
 5100 25f4 8DB60000 		.align 32
 5100      00008DBF 
 5100      00000000 
 5101              	LC82:
 5102 2600 6E66625F 		.ascii "nfb_img_res_file is not opened\0"
 5102      696D675F 
 5102      7265735F 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 78


 5102      66696C65 
 5102      20697320 
 5103              	LC83:
 5104 261f 0A207D3B 		.ascii "\12 };\12\0"
 5104      0A00
 5117              	_Write_Unprocessed_Data:
1140:../../MMI/Resource/WriteImgRes.c **** 
1141:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
1142:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
1143:../../MMI/Resource/WriteImgRes.c ****  *  Write_Unprocessed_Data
1144:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
1145:../../MMI/Resource/WriteImgRes.c ****  *  write unprocessed data
1146:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
1147:../../MMI/Resource/WriteImgRes.c ****  *  pathname        [IN]        path name for sequential image
1148:../../MMI/Resource/WriteImgRes.c ****  *  output_name     [IN]        output variable name
1149:../../MMI/Resource/WriteImgRes.c ****  *  output_file     [OUT]       output file handle
1150:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
1151:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
1152:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
1153:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Unprocessed_Data(
1154:../../MMI/Resource/WriteImgRes.c ****         char *filename,
1155:../../MMI/Resource/WriteImgRes.c ****         FILE *image_file,
1156:../../MMI/Resource/WriteImgRes.c ****         S32 nImageSize,
1157:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
1158:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
1159:../../MMI/Resource/WriteImgRes.c ****         image_type_enum extImageFlag,
1160:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
1161:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename,
1162:../../MMI/Resource/WriteImgRes.c ****         FILE *nfb_img_res_file,
1163:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
1164:../../MMI/Resource/WriteImgRes.c **** {
 5119              	LM315:
 5120 2625 55       		pushl	%ebp
 5121 2626 89E5     		movl	%esp, %ebp
 5122 2628 53       		pushl	%ebx
 5123 2629 81EC9400 		subl	$148, %esp
 5123      0000
1165:../../MMI/Resource/WriteImgRes.c ****     U8 image_identifier;
1166:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL failure_flag = MMI_TRUE;
 5125              	LM316:
 5126              	LBB31:
 5127 262f C745F001 		movl	$1, -16(%ebp)
 5127      000000
1167:../../MMI/Resource/WriteImgRes.c ****     S32 n_frames = 0;
 5129              	LM317:
 5130 2636 C745EC00 		movl	$0, -20(%ebp)
 5130      000000
1168:../../MMI/Resource/WriteImgRes.c ****     U32 width = 0, height = 0;
 5132              	LM318:
 5133 263d C745E800 		movl	$0, -24(%ebp)
 5133      000000
 5134 2644 C745E400 		movl	$0, -28(%ebp)
 5134      000000
1169:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1170:../../MMI/Resource/WriteImgRes.c ****     U32 enfb_width, enfb_height;
1171:../../MMI/Resource/WriteImgRes.c ****     S32 enfb_ret;
1172:../../MMI/Resource/WriteImgRes.c **** #endif
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 79


1173:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
1174:../../MMI/Resource/WriteImgRes.c ****     U8 *dest_buf = NULL;
1175:../../MMI/Resource/WriteImgRes.c ****     U32 dest_size = 0;
1176:../../MMI/Resource/WriteImgRes.c ****     U32 file_size = 0;
1177:../../MMI/Resource/WriteImgRes.c **** #endif
1178:../../MMI/Resource/WriteImgRes.c ****     /* Currently assuming that all single files are BMP */
1179:../../MMI/Resource/WriteImgRes.c ****     if (nImageSize == 0)
 5136              	LM319:
 5137 264b 837D1000 		cmpl	$0, 16(%ebp)
 5138 264f 7506     		jne	L215
1180:../../MMI/Resource/WriteImgRes.c ****     {
1181:../../MMI/Resource/WriteImgRes.c ****         image_identifier = IMAGE_TYPE_INVALID;
 5140              	LM320:
 5141 2651 C645F700 		movb	$0, -9(%ebp)
 5142 2655 EB16     		jmp	L216
 5143              	L215:
1182:../../MMI/Resource/WriteImgRes.c ****     }
1183:../../MMI/Resource/WriteImgRes.c ****     else
1184:../../MMI/Resource/WriteImgRes.c ****     {
1185:../../MMI/Resource/WriteImgRes.c ****         /* for read images with same filename but different in ".bmp" and ".gif" */
1186:../../MMI/Resource/WriteImgRes.c ****         image_identifier = ExtractExtension(filename, RES_IMAGE);
 5145              	LM321:
 5146 2657 C7442404 		movl	$0, 4(%esp)
 5146      00000000 
 5147 265f 8B4508   		movl	8(%ebp), %eax
 5148 2662 890424   		movl	%eax, (%esp)
 5149 2665 E8000000 		call	_ExtractExtension
 5149      00
 5150 266a 8845F7   		movb	%al, -9(%ebp)
 5151              	L216:
1187:../../MMI/Resource/WriteImgRes.c ****     }
1188:../../MMI/Resource/WriteImgRes.c **** 
1189:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG)
1190:../../MMI/Resource/WriteImgRes.c ****     /* IMAGE_TYPE_PNG is only for future usage.
1191:../../MMI/Resource/WriteImgRes.c ****      * Currently, output PNG format for image resource is not allowed */
1192:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_PNG)
 5153              	LM322:
 5154 266d 807DF713 		cmpb	$19, -9(%ebp)
 5155 2671 754E     		jne	L217
1193:../../MMI/Resource/WriteImgRes.c ****     {
1194:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "***Warning***\tPNG file is not populated successfully.\n\t%s\n", filename)
 5157              	LM323:
 5158 2673 8B4508   		movl	8(%ebp), %eax
 5159 2676 89442408 		movl	%eax, 8(%esp)
 5160 267a C7442404 		movl	$LC73, 4(%esp)
 5160      A0240000 
 5161 2682 A1000000 		movl	__imp___iob, %eax
 5161      00
 5162 2687 83C040   		addl	$64, %eax
 5163 268a 890424   		movl	%eax, (%esp)
 5164 268d E8000000 		call	_fprintf
 5164      00
1195:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("***Warning***\tPNG file is not populated successfully.\n\t%s", filename);
 5166              	LM324:
 5167 2692 8B4508   		movl	8(%ebp), %eax
 5168 2695 8944240C 		movl	%eax, 12(%esp)
 5169 2699 C7442408 		movl	$LC74, 8(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 80


 5169      E0240000 
 5170 26a1 C7442404 		movl	$LC34, 4(%esp)
 5170      64060000 
 5171 26a9 C7042403 		movl	$3, (%esp)
 5171      000000
 5172 26b0 E8000000 		call	_reslog_adaptor_log
 5172      00
1196:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 5174              	LM325:
 5175 26b5 C7459C00 		movl	$0, -100(%ebp)
 5175      000000
 5176 26bc E9070300 		jmp	L214
 5176      00
 5177              	L217:
1197:../../MMI/Resource/WriteImgRes.c ****     }
1198:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG) */
1199:../../MMI/Resource/WriteImgRes.c **** 
1200:../../MMI/Resource/WriteImgRes.c **** #ifdef GDI_USING_IMAGE_SINGLE_BANK_CACHE
1201:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_GIF ||
1202:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_JPG)
1203:../../MMI/Resource/WriteImgRes.c ****     {
1204:../../MMI/Resource/WriteImgRes.c ****         FILE *fp;
1205:../../MMI/Resource/WriteImgRes.c **** 
1206:../../MMI/Resource/WriteImgRes.c ****         fp = fopen(filename, "rb");
1207:../../MMI/Resource/WriteImgRes.c ****         if (fp != NULL)
1208:../../MMI/Resource/WriteImgRes.c ****         {
1209:../../MMI/Resource/WriteImgRes.c ****             S32 fs;
1210:../../MMI/Resource/WriteImgRes.c **** 
1211:../../MMI/Resource/WriteImgRes.c ****             fseek(fp, 0, SEEK_END);
1212:../../MMI/Resource/WriteImgRes.c ****             fs = ftell(fp);
1213:../../MMI/Resource/WriteImgRes.c ****             MYFCLOSE(fp);
1214:../../MMI/Resource/WriteImgRes.c **** 
1215:../../MMI/Resource/WriteImgRes.c ****             if ((fs + 8/* header */) > GDI_IMAGE_SINGLE_BANK_CACHE_SIZE)
1216:../../MMI/Resource/WriteImgRes.c ****             {
1217:../../MMI/Resource/WriteImgRes.c ****                 fprintf(stderr, "[Single Bank]:\timage oversize,\t%s\n", filename);
1218:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_E("[Single Bank]:\timage oversize,\t%s\n", filename);
1219:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_FALSE;
1220:../../MMI/Resource/WriteImgRes.c ****                 assert(0);
1221:../../MMI/Resource/WriteImgRes.c ****                 exit(2);
1222:../../MMI/Resource/WriteImgRes.c ****             }
1223:../../MMI/Resource/WriteImgRes.c ****         }
1224:../../MMI/Resource/WriteImgRes.c ****         else
1225:../../MMI/Resource/WriteImgRes.c ****         {
1226:../../MMI/Resource/WriteImgRes.c ****             failure_flag = MMI_FALSE;
1227:../../MMI/Resource/WriteImgRes.c ****         }
1228:../../MMI/Resource/WriteImgRes.c ****     }
1229:../../MMI/Resource/WriteImgRes.c **** #endif
1230:../../MMI/Resource/WriteImgRes.c **** 
1231:../../MMI/Resource/WriteImgRes.c ****     if (failure_flag == MMI_TRUE)
 5179              	LM326:
 5180 26c1 837DF001 		cmpl	$1, -16(%ebp)
 5181 26c5 0F853E01 		jne	L218
 5181      0000
1232:../../MMI/Resource/WriteImgRes.c ****     {
1233:../../MMI/Resource/WriteImgRes.c ****         /* get frame count, width and height of the image */
1234:../../MMI/Resource/WriteImgRes.c ****         if (image_identifier == IMAGE_TYPE_BMP ||
 5183              	LM327:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 81


 5184 26cb 807DF701 		cmpb	$1, -9(%ebp)
 5185 26cf 7414     		je	L220
 5186 26d1 807DF703 		cmpb	$3, -9(%ebp)
 5187 26d5 740E     		je	L220
 5188 26d7 807DF709 		cmpb	$9, -9(%ebp)
 5189 26db 7408     		je	L220
 5190 26dd 807DF713 		cmpb	$19, -9(%ebp)
 5191 26e1 7402     		je	L220
 5192 26e3 EB45     		jmp	L219
 5193              	L220:
1235:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_GIF ||
1236:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_JPG ||
1237:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_PNG)
1238:../../MMI/Resource/WriteImgRes.c ****         {
1239:../../MMI/Resource/WriteImgRes.c ****             n_frames = Image_Get_Dimensions(filename, &width, &height);
 5195              	LM328:
 5196 26e5 8D45E4   		leal	-28(%ebp), %eax
 5197 26e8 89442408 		movl	%eax, 8(%esp)
 5198 26ec 8D45E8   		leal	-24(%ebp), %eax
 5199 26ef 89442404 		movl	%eax, 4(%esp)
 5200 26f3 8B4508   		movl	8(%ebp), %eax
 5201 26f6 890424   		movl	%eax, (%esp)
 5202 26f9 E8000000 		call	_Image_Get_Dimensions
 5202      00
 5203 26fe 8945EC   		movl	%eax, -20(%ebp)
1240:../../MMI/Resource/WriteImgRes.c ****             if (n_frames <= 0)
 5205              	LM329:
 5206 2701 837DEC00 		cmpl	$0, -20(%ebp)
 5207 2705 0F8FFE00 		jg	L218
 5207      0000
1241:../../MMI/Resource/WriteImgRes.c ****             {
1242:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("\nGet dimensions failed:\t%s", filename);
 5209              	LM330:
 5210 270b 8B4508   		movl	8(%ebp), %eax
 5211 270e 89442404 		movl	%eax, 4(%esp)
 5212 2712 C704241A 		movl	$LC75, (%esp)
 5212      250000
 5213 2719 E8000000 		call	_MtkResgenTrace
 5213      00
1243:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_FALSE;
 5215              	LM331:
 5216 271e C745F000 		movl	$0, -16(%ebp)
 5216      000000
 5217 2725 E9DF0000 		jmp	L218
 5217      00
 5218              	L219:
1244:../../MMI/Resource/WriteImgRes.c ****             }
1245:../../MMI/Resource/WriteImgRes.c ****         }
1246:../../MMI/Resource/WriteImgRes.c ****         else if (image_identifier == IMAGE_TYPE_KTX)
 5220              	LM332:
 5221 272a 807DF743 		cmpb	$67, -9(%ebp)
 5222 272e 0F85D500 		jne	L218
 5222      0000
1247:../../MMI/Resource/WriteImgRes.c ****         {
1248:../../MMI/Resource/WriteImgRes.c ****             FILE * fp = NULL;
 5224              	LM333:
 5225              	LBB32:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 82


 5226 2734 C745E000 		movl	$0, -32(%ebp)
 5226      000000
1249:../../MMI/Resource/WriteImgRes.c ****             U8 tempBuffer[44];
1250:../../MMI/Resource/WriteImgRes.c ****             fp = fopen(filename, "rb");
 5228              	LM334:
 5229 273b C7442404 		movl	$LC58, 4(%esp)
 5229      F30C0000 
 5230 2743 8B4508   		movl	8(%ebp), %eax
 5231 2746 890424   		movl	%eax, (%esp)
 5232 2749 E8000000 		call	_fopen
 5232      00
 5233 274e 8945E0   		movl	%eax, -32(%ebp)
1251:../../MMI/Resource/WriteImgRes.c ****             if (fp != NULL)
 5235              	LM335:
 5236 2751 837DE000 		cmpl	$0, -32(%ebp)
 5237 2755 0F84AE00 		je	L218
 5237      0000
1252:../../MMI/Resource/WriteImgRes.c ****             {
1253:../../MMI/Resource/WriteImgRes.c ****                 U8 read_count = fread(tempBuffer, 1, 44, fp);
 5239              	LM336:
 5240              	LBB33:
 5241 275b 8B45E0   		movl	-32(%ebp), %eax
 5242 275e 8944240C 		movl	%eax, 12(%esp)
 5243 2762 C7442408 		movl	$44, 8(%esp)
 5243      2C000000 
 5244 276a C7442404 		movl	$1, 4(%esp)
 5244      01000000 
 5245 2772 8D45A8   		leal	-88(%ebp), %eax
 5246 2775 890424   		movl	%eax, (%esp)
 5247 2778 E8000000 		call	_fread
 5247      00
 5248 277d 8845A7   		movb	%al, -89(%ebp)
1254:../../MMI/Resource/WriteImgRes.c ****                 if (read_count == 44)
 5250              	LM337:
 5251 2780 807DA72C 		cmpb	$44, -89(%ebp)
 5252 2784 7578     		jne	L225
1255:../../MMI/Resource/WriteImgRes.c ****                 {
1256:../../MMI/Resource/WriteImgRes.c ****                     U8 *data_ptr = tempBuffer;
 5254              	LM338:
 5255              	LBB34:
 5256 2786 8D45A8   		leal	-88(%ebp), %eax
 5257 2789 8945A0   		movl	%eax, -96(%ebp)
1257:../../MMI/Resource/WriteImgRes.c ****                     data_ptr += 36;
 5259              	LM339:
 5260 278c 8D45A0   		leal	-96(%ebp), %eax
 5261 278f 830024   		addl	$36, (%eax)
1258:../../MMI/Resource/WriteImgRes.c ****                     width = (data_ptr[3] << 24) | (data_ptr[2] << 16) | (data_ptr[1] << 8) | (data_
 5263              	LM340:
 5264 2792 8B45A0   		movl	-96(%ebp), %eax
 5265 2795 83C003   		addl	$3, %eax
 5266 2798 0FB600   		movzbl	(%eax), %eax
 5267 279b 89C2     		movl	%eax, %edx
 5268 279d C1E218   		sall	$24, %edx
 5269 27a0 8B45A0   		movl	-96(%ebp), %eax
 5270 27a3 83C002   		addl	$2, %eax
 5271 27a6 0FB600   		movzbl	(%eax), %eax
 5272 27a9 C1E010   		sall	$16, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 83


 5273 27ac 09C2     		orl	%eax, %edx
 5274 27ae 8B45A0   		movl	-96(%ebp), %eax
 5275 27b1 40       		incl	%eax
 5276 27b2 0FB600   		movzbl	(%eax), %eax
 5277 27b5 C1E008   		sall	$8, %eax
 5278 27b8 09C2     		orl	%eax, %edx
 5279 27ba 8B45A0   		movl	-96(%ebp), %eax
 5280 27bd 0FB600   		movzbl	(%eax), %eax
 5281 27c0 09D0     		orl	%edx, %eax
 5282 27c2 8945E8   		movl	%eax, -24(%ebp)
1259:../../MMI/Resource/WriteImgRes.c ****                     data_ptr += 4;
 5284              	LM341:
 5285 27c5 8D45A0   		leal	-96(%ebp), %eax
 5286 27c8 830004   		addl	$4, (%eax)
1260:../../MMI/Resource/WriteImgRes.c ****                     height = (data_ptr[3] << 24) | (data_ptr[2] << 16) | (data_ptr[1] << 8) | (data
 5288              	LM342:
 5289 27cb 8B45A0   		movl	-96(%ebp), %eax
 5290 27ce 83C003   		addl	$3, %eax
 5291 27d1 0FB600   		movzbl	(%eax), %eax
 5292 27d4 89C2     		movl	%eax, %edx
 5293 27d6 C1E218   		sall	$24, %edx
 5294 27d9 8B45A0   		movl	-96(%ebp), %eax
 5295 27dc 83C002   		addl	$2, %eax
 5296 27df 0FB600   		movzbl	(%eax), %eax
 5297 27e2 C1E010   		sall	$16, %eax
 5298 27e5 09C2     		orl	%eax, %edx
 5299 27e7 8B45A0   		movl	-96(%ebp), %eax
 5300 27ea 40       		incl	%eax
 5301 27eb 0FB600   		movzbl	(%eax), %eax
 5302 27ee C1E008   		sall	$8, %eax
 5303 27f1 09C2     		orl	%eax, %edx
 5304 27f3 8B45A0   		movl	-96(%ebp), %eax
 5305 27f6 0FB600   		movzbl	(%eax), %eax
 5306 27f9 09D0     		orl	%edx, %eax
 5307 27fb 8945E4   		movl	%eax, -28(%ebp)
 5308              	L225:
1261:../../MMI/Resource/WriteImgRes.c ****                 }
1262:../../MMI/Resource/WriteImgRes.c ****                 fclose(fp);
 5310              	LM343:
 5311              	LBE34:
 5312 27fe 8B45E0   		movl	-32(%ebp), %eax
 5313 2801 890424   		movl	%eax, (%esp)
 5314 2804 E8000000 		call	_fclose
 5314      00
 5315              	L218:
1263:../../MMI/Resource/WriteImgRes.c ****             }
1264:../../MMI/Resource/WriteImgRes.c ****         }
1265:../../MMI/Resource/WriteImgRes.c ****     }
1266:../../MMI/Resource/WriteImgRes.c **** 
1267:../../MMI/Resource/WriteImgRes.c ****     strcpy(processData->real_filename, filename);
 5317              	LM344:
 5318              	LBE33:
 5319              	LBE32:
 5320 2809 8B4508   		movl	8(%ebp), %eax
 5321 280c 89442404 		movl	%eax, 4(%esp)
 5322 2810 8B452C   		movl	44(%ebp), %eax
 5323 2813 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 84


 5324 2816 E8000000 		call	_strcpy
 5324      00
1268:../../MMI/Resource/WriteImgRes.c **** 
1269:../../MMI/Resource/WriteImgRes.c ****     if (failure_flag == MMI_TRUE)
 5326              	LM345:
 5327 281b 837DF001 		cmpl	$1, -16(%ebp)
 5328 281f 0F859D01 		jne	L226
 5328      0000
1270:../../MMI/Resource/WriteImgRes.c ****     {
1271:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
1272:../../MMI/Resource/WriteImgRes.c ****         if (image_identifier == IMAGE_TYPE_BMP ||
1273:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_GIF ||
1274:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_JPG ||
1275:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_PNG)
1276:../../MMI/Resource/WriteImgRes.c ****         {
1277:../../MMI/Resource/WriteImgRes.c ****             U8 *buffer = NULL;
1278:../../MMI/Resource/WriteImgRes.c **** 
1279:../../MMI/Resource/WriteImgRes.c ****             fseek(image_file, 0, SEEK_END);
1280:../../MMI/Resource/WriteImgRes.c ****             file_size = ftell(image_file);
1281:../../MMI/Resource/WriteImgRes.c ****             fseek(image_file, 0, SEEK_SET);
1282:../../MMI/Resource/WriteImgRes.c **** 
1283:../../MMI/Resource/WriteImgRes.c ****             mmi_rg_set_compress(TRUE);
1284:../../MMI/Resource/WriteImgRes.c ****             buffer = malloc(file_size);
1285:../../MMI/Resource/WriteImgRes.c ****             fread(buffer, 1, file_size, image_file);
1286:../../MMI/Resource/WriteImgRes.c ****             dest_buf = mmi_rg_compress_image(buffer, file_size, &dest_size, image_identifier, (((wi
1287:../../MMI/Resource/WriteImgRes.c ****             mmi_rg_set_compress(FALSE);
1288:../../MMI/Resource/WriteImgRes.c ****         }
1289:../../MMI/Resource/WriteImgRes.c **** 
1290:../../MMI/Resource/WriteImgRes.c ****         if (g_is_compressed)
1291:../../MMI/Resource/WriteImgRes.c ****         {
1292:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "__align(4) U8 %s[%d];\n", output_name, g_res_compress_
1293:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "__align(4) const U8 %s_zip[] =\n{", output_name);
1294:../../MMI/Resource/WriteImgRes.c **** 
1295:../../MMI/Resource/WriteImgRes.c ****             strcpy(g_res_compress_data_image[g_res_compress_count_image-1].ro_name, output_name);
1296:../../MMI/Resource/WriteImgRes.c ****             strcpy(g_res_compress_data_image[g_res_compress_count_image-1].zi_name, output_name);
1297:../../MMI/Resource/WriteImgRes.c ****             strcat(g_res_compress_data_image[g_res_compress_count_image-1].ro_name, "_zip");
1298:../../MMI/Resource/WriteImgRes.c **** 
1299:../../MMI/Resource/WriteImgRes.c ****             mmi_rg_output_compressed_image(dest_buf, dest_size, outstream);
1300:../../MMI/Resource/WriteImgRes.c **** 
1301:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n };\n");
1302:../../MMI/Resource/WriteImgRes.c ****         }
1303:../../MMI/Resource/WriteImgRes.c ****         else
1304:../../MMI/Resource/WriteImgRes.c **** #endif
1305:../../MMI/Resource/WriteImgRes.c ****         {
1306:../../MMI/Resource/WriteImgRes.c ****             /* load the data */
1307:../../MMI/Resource/WriteImgRes.c ****             /* construct the data structure name */
1308:../../MMI/Resource/WriteImgRes.c ****             if (image_identifier == IMAGE_TYPE_GIF || image_identifier == IMAGE_TYPE_3GP ||
 5330              	LM346:
 5331 2825 807DF703 		cmpb	$3, -9(%ebp)
 5332 2829 7444     		je	L228
 5333 282b 807DF70E 		cmpb	$14, -9(%ebp)
 5334 282f 743E     		je	L228
 5335 2831 807DF710 		cmpb	$16, -9(%ebp)
 5336 2835 7438     		je	L228
 5337 2837 807DF70C 		cmpb	$12, -9(%ebp)
 5338 283b 7432     		je	L228
 5339 283d 807DF713 		cmpb	$19, -9(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 85


 5340 2841 742C     		je	L228
 5341 2843 807DF74A 		cmpb	$74, -9(%ebp)
 5342 2847 7426     		je	L228
 5343 2849 807DF74C 		cmpb	$76, -9(%ebp)
 5344 284d 7420     		je	L228
 5345 284f 807DF74E 		cmpb	$78, -9(%ebp)
 5346 2853 741A     		je	L228
 5347 2855 807DF719 		cmpb	$25, -9(%ebp)
 5348 2859 7414     		je	L228
 5349 285b 807DF71D 		cmpb	$29, -9(%ebp)
 5350 285f 740E     		je	L228
 5351 2861 807DF743 		cmpb	$67, -9(%ebp)
 5352 2865 7408     		je	L228
 5353 2867 807DF709 		cmpb	$9, -9(%ebp)
 5354 286b 7402     		je	L228
 5355 286d EB13     		jmp	L227
 5356              	L228:
1309:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_MP4 || image_identifier == IMAGE_TYPE_AVI ||
1310:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_PNG || image_identifier == IMAGE_TYPE_RV  ||
1311:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_RM  || image_identifier == IMAGE_TYPE_RMVB ||
1312:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_M3D || image_identifier == IMAGE_TYPE_SWFLASH ||
1313:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_KTX || image_identifier == IMAGE_TYPE_JPG)
1314:../../MMI/Resource/WriteImgRes.c ****             {
1315:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "__align(4) ");
 5358              	LM347:
 5359 286f C7442404 		movl	$LC76, 4(%esp)
 5359      35250000 
 5360 2877 8B4518   		movl	24(%ebp), %eax
 5361 287a 890424   		movl	%eax, (%esp)
 5362 287d E8000000 		call	_ImageOutStreamPrintf
 5362      00
 5363              	L227:
1316:../../MMI/Resource/WriteImgRes.c ****             }
1317:../../MMI/Resource/WriteImgRes.c **** 
1318:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "const U8 %s%s", output_name, OUTPUT_IMAGE_NAMES_END);
 5365              	LM348:
 5366 2882 C744240C 		movl	$LC77, 12(%esp)
 5366      41250000 
 5367 288a 8B4514   		movl	20(%ebp), %eax
 5368 288d 89442408 		movl	%eax, 8(%esp)
 5369 2891 C7442404 		movl	$LC78, 4(%esp)
 5369      48250000 
 5370 2899 8B4518   		movl	24(%ebp), %eax
 5371 289c 890424   		movl	%eax, (%esp)
 5372 289f E8000000 		call	_ImageOutStreamPrintf
 5372      00
1319:../../MMI/Resource/WriteImgRes.c **** 
1320:../../MMI/Resource/WriteImgRes.c **** 
1321:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1322:../../MMI/Resource/WriteImgRes.c ****             enfb_ret = Image_Test(filename, &enfb_width, &enfb_height, processData->disable_enfb);
1323:../../MMI/Resource/WriteImgRes.c ****             if (enfb_ret != ENFB_IMAGE_NONE)
1324:../../MMI/Resource/WriteImgRes.c ****             {
1325:../../MMI/Resource/WriteImgRes.c ****                 processData->enfb_flag = 1;
1326:../../MMI/Resource/WriteImgRes.c ****                 if (enfb_ret == ENFB_IMAGE_ASSOCIATE)
1327:../../MMI/Resource/WriteImgRes.c ****                 {
1328:../../MMI/Resource/WriteImgRes.c ****                     ENFBAssociatedIDAdded = MMI_TRUE;
1329:../../MMI/Resource/WriteImgRes.c ****                 }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 86


1330:../../MMI/Resource/WriteImgRes.c ****             }
1331:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1332:../../MMI/Resource/WriteImgRes.c **** 
1333:../../MMI/Resource/WriteImgRes.c ****             processData->res_size = Load_Image_Data(outstream, image_file, image_identifier, n_fram
 5374              	LM349:
 5375 28a4 8B5D2C   		movl	44(%ebp), %ebx
 5376 28a7 8B452C   		movl	44(%ebp), %eax
 5377 28aa 89442420 		movl	%eax, 32(%esp)
 5378 28ae 8B4524   		movl	36(%ebp), %eax
 5379 28b1 8944241C 		movl	%eax, 28(%esp)
 5380 28b5 8B4520   		movl	32(%ebp), %eax
 5381 28b8 89442418 		movl	%eax, 24(%esp)
 5382 28bc 8B45E4   		movl	-28(%ebp), %eax
 5383 28bf 89442414 		movl	%eax, 20(%esp)
 5384 28c3 8B45E8   		movl	-24(%ebp), %eax
 5385 28c6 89442410 		movl	%eax, 16(%esp)
 5386 28ca 8B45EC   		movl	-20(%ebp), %eax
 5387 28cd 8944240C 		movl	%eax, 12(%esp)
 5388 28d1 0FB645F7 		movzbl	-9(%ebp), %eax
 5389 28d5 89442408 		movl	%eax, 8(%esp)
 5390 28d9 8B450C   		movl	12(%ebp), %eax
 5391 28dc 89442404 		movl	%eax, 4(%esp)
 5392 28e0 8B4518   		movl	24(%ebp), %eax
 5393 28e3 890424   		movl	%eax, (%esp)
 5394 28e6 E88B1A00 		call	_Load_Image_Data
 5394      00
 5395 28eb 89830002 		movl	%eax, 512(%ebx)
 5395      0000
1334:../../MMI/Resource/WriteImgRes.c ****             if (processData->res_size == 0)
 5397              	LM350:
 5398 28f1 8B452C   		movl	44(%ebp), %eax
 5399 28f4 83B80002 		cmpl	$0, 512(%eax)
 5399      000000
 5400 28fb 7507     		jne	L229
1335:../../MMI/Resource/WriteImgRes.c ****             {
1336:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_FALSE;
 5402              	LM351:
 5403 28fd C745F000 		movl	$0, -16(%ebp)
 5403      000000
 5404              	L229:
1337:../../MMI/Resource/WriteImgRes.c ****             }
1338:../../MMI/Resource/WriteImgRes.c **** 
1339:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1340:../../MMI/Resource/WriteImgRes.c ****             processData->enfb_flag = 0;
1341:../../MMI/Resource/WriteImgRes.c **** #endif
1342:../../MMI/Resource/WriteImgRes.c **** 
1343:../../MMI/Resource/WriteImgRes.c ****             if (extImageFlag == NFB_PROGRESS_IMAGE)
 5406              	LM352:
 5407 2904 837D1C02 		cmpl	$2, 28(%ebp)
 5408 2908 0F85A100 		jne	L230
 5408      0000
1344:../../MMI/Resource/WriteImgRes.c ****             {
1345:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_V("Write NFB_PROGRESS_IMAGE");
 5410              	LM353:
 5411 290e C7442408 		movl	$LC79, 8(%esp)
 5411      56250000 
 5412 2916 C7442404 		movl	$LC34, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 87


 5412      64060000 
 5413 291e C7042401 		movl	$1, (%esp)
 5413      000000
 5414 2925 E8000000 		call	_reslog_adaptor_log
 5414      00
1346:../../MMI/Resource/WriteImgRes.c ****    			
1347:../../MMI/Resource/WriteImgRes.c ****                 if (nfb_img_res_file != NULL)
 5416              	LM354:
 5417 292a 837D2800 		cmpl	$0, 40(%ebp)
 5418 292e 7463     		je	L231
1348:../../MMI/Resource/WriteImgRes.c ****                 {
1349:../../MMI/Resource/WriteImgRes.c ****                     if(output_name != NULL)
 5420              	LM355:
 5421 2930 837D1400 		cmpl	$0, 20(%ebp)
 5422 2934 743F     		je	L232
1350:../../MMI/Resource/WriteImgRes.c ****                     {
1351:../../MMI/Resource/WriteImgRes.c ****                         RESIMG_LOG_V("Write output name to nfb_img_res_file: %s",output_name);
 5424              	LM356:
 5425 2936 8B4514   		movl	20(%ebp), %eax
 5426 2939 8944240C 		movl	%eax, 12(%esp)
 5427 293d C7442408 		movl	$LC80, 8(%esp)
 5427      80250000 
 5428 2945 C7442404 		movl	$LC34, 4(%esp)
 5428      64060000 
 5429 294d C7042401 		movl	$1, (%esp)
 5429      000000
 5430 2954 E8000000 		call	_reslog_adaptor_log
 5430      00
1352:../../MMI/Resource/WriteImgRes.c ****                         fprintf(nfb_img_res_file, "(U8*)&%s,\n", output_name);
 5432              	LM357:
 5433 2959 8B4514   		movl	20(%ebp), %eax
 5434 295c 89442408 		movl	%eax, 8(%esp)
 5435 2960 C7442404 		movl	$LC68, 4(%esp)
 5435      D51D0000 
 5436 2968 8B4528   		movl	40(%ebp), %eax
 5437 296b 890424   		movl	%eax, (%esp)
 5438 296e E8000000 		call	_fprintf
 5438      00
 5439 2973 EB3A     		jmp	L230
 5440              	L232:
1353:../../MMI/Resource/WriteImgRes.c ****                     }
1354:../../MMI/Resource/WriteImgRes.c ****                     else
1355:../../MMI/Resource/WriteImgRes.c ****                     {
1356:../../MMI/Resource/WriteImgRes.c ****                         RESIMG_LOG_E("Output name can't be NULL in Write_Unprocessed_Data");
 5442              	LM358:
 5443 2975 C7442408 		movl	$LC81, 8(%esp)
 5443      C0250000 
 5444 297d C7442404 		movl	$LC34, 4(%esp)
 5444      64060000 
 5445 2985 C7042403 		movl	$3, (%esp)
 5445      000000
 5446 298c E8000000 		call	_reslog_adaptor_log
 5446      00
 5447 2991 EB1C     		jmp	L230
 5448              	L231:
1357:../../MMI/Resource/WriteImgRes.c ****                     }
1358:../../MMI/Resource/WriteImgRes.c ****                 }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 88


1359:../../MMI/Resource/WriteImgRes.c ****                 else
1360:../../MMI/Resource/WriteImgRes.c ****                 {
1361:../../MMI/Resource/WriteImgRes.c ****                     RESIMG_LOG_E("nfb_img_res_file is not opened");
 5450              	LM359:
 5451 2993 C7442408 		movl	$LC82, 8(%esp)
 5451      00260000 
 5452 299b C7442404 		movl	$LC34, 4(%esp)
 5452      64060000 
 5453 29a3 C7042403 		movl	$3, (%esp)
 5453      000000
 5454 29aa E8000000 		call	_reslog_adaptor_log
 5454      00
 5455              	L230:
1362:../../MMI/Resource/WriteImgRes.c ****                 }
1363:../../MMI/Resource/WriteImgRes.c ****             }
1364:../../MMI/Resource/WriteImgRes.c **** 
1365:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n };\n");
 5457              	LM360:
 5458 29af C7442404 		movl	$LC83, 4(%esp)
 5458      1F260000 
 5459 29b7 8B4518   		movl	24(%ebp), %eax
 5460 29ba 890424   		movl	%eax, (%esp)
 5461 29bd E8000000 		call	_ImageOutStreamPrintf
 5461      00
 5462              	L226:
1366:../../MMI/Resource/WriteImgRes.c ****         }
1367:../../MMI/Resource/WriteImgRes.c ****     }
1368:../../MMI/Resource/WriteImgRes.c ****     return failure_flag;
 5464              	LM361:
 5465 29c2 8B45F0   		movl	-16(%ebp), %eax
 5466 29c5 89459C   		movl	%eax, -100(%ebp)
1369:../../MMI/Resource/WriteImgRes.c **** }
 5468              	LM362:
 5469              	L214:
 5470              	LBE31:
 5471 29c8 8B459C   		movl	-100(%ebp), %eax
 5472 29cb 81C49400 		addl	$148, %esp
 5472      0000
 5473 29d1 5B       		popl	%ebx
 5474 29d2 5D       		popl	%ebp
 5475 29d3 C3       		ret
 5493              	Lscope7:
 5495              	LC84:
 5496 29d4 25632563 		.ascii "%c%c%c%c%c%c%c%c\0"
 5496      25632563 
 5496      25632563 
 5496      25632563 
 5496      00
 5497              	LC85:
 5498 29e5 25632563 		.ascii "%c%c%c%c\0"
 5498      25632563 
 5498      00
 5499 29ee 90909090 		.align 32
 5499      90909090 
 5499      90909090 
 5499      90909090 
 5499      9090
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 89


 5500              	LC86:
 5501 2a00 0A09     		.ascii "\12\11"
 5502 2a02 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X,\12\11\0"
 5502      32582C20 
 5502      30782530 
 5502      32582C20 
 5502      30782530 
 5503 2a44 90909090 		.align 32
 5503      90909090 
 5503      90909090 
 5503      90909090 
 5503      90909090 
 5504              	LC87:
 5505 2a60 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, \0"
 5505      32582C20 
 5505      30782530 
 5505      32582C20 
 5505      30782530 
 5506 2a81 90909090 		.align 32
 5506      90909090 
 5506      90909090 
 5506      90909090 
 5506      90909090 
 5507              	LC88:
 5508 2aa0 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X,\12\11\0"
 5508      32582C20 
 5508      30782530 
 5508      32582C20 
 5508      30782530 
 5521              	_Write_Sequential_Image_Header:
1370:../../MMI/Resource/WriteImgRes.c **** 
1371:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
1372:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
1373:../../MMI/Resource/WriteImgRes.c ****  *  Write_Sequential_Image_Header
1374:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
1375:../../MMI/Resource/WriteImgRes.c ****  *  construct the header for sequential images
1376:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
1377:../../MMI/Resource/WriteImgRes.c ****  *  output_file             [IN]        output file handle
1378:../../MMI/Resource/WriteImgRes.c ****  *  image_identifier        [IN]        sequential image type
1379:../../MMI/Resource/WriteImgRes.c ****  *  n_frames                [IN]        the number of the frames
1380:../../MMI/Resource/WriteImgRes.c ****  *  play_count              [IN]        number of playing times
1381:../../MMI/Resource/WriteImgRes.c ****  *  seq_filesize            [IN]        pointer to a list of file sizes
1382:../../MMI/Resource/WriteImgRes.c ****  *  seq_offset              [OUT]       pointer to a list of offsets
1383:../../MMI/Resource/WriteImgRes.c ****  *  width                   [IN]        maximun width
1384:../../MMI/Resource/WriteImgRes.c ****  *  height                  [IN]        maximun height
1385:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
1386:../../MMI/Resource/WriteImgRes.c ****  *  void
1387:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
1388:../../MMI/Resource/WriteImgRes.c **** static void Write_Sequential_Image_Header(
1389:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
1390:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
1391:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
1392:../../MMI/Resource/WriteImgRes.c ****         U8 play_count,
1393:../../MMI/Resource/WriteImgRes.c ****         S32 *seq_filesize,
1394:../../MMI/Resource/WriteImgRes.c ****         S32 *seq_offset,
1395:../../MMI/Resource/WriteImgRes.c ****         U32 width,
1396:../../MMI/Resource/WriteImgRes.c ****         U32 height,
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 90


1397:../../MMI/Resource/WriteImgRes.c ****         S32 sequential_interval[MAX_SEQUENTIAL_IMAGE_FRAME],
1398:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
1399:../../MMI/Resource/WriteImgRes.c **** {
 5523              	LM363:
 5524 2ac2 55       		pushl	%ebp
 5525 2ac3 89E5     		movl	%esp, %ebp
 5526 2ac5 53       		pushl	%ebx
 5527 2ac6 83EC44   		subl	$68, %esp
 5528 2ac9 8B450C   		movl	12(%ebp), %eax
 5529 2acc 8B5514   		movl	20(%ebp), %edx
 5530 2acf 8845FB   		movb	%al, -5(%ebp)
 5531 2ad2 8855FA   		movb	%dl, -6(%ebp)
1400:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1401:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
1402:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1403:../../MMI/Resource/WriteImgRes.c ****     S32 i;
1404:../../MMI/Resource/WriteImgRes.c ****     S32 offset = 8;
 5533              	LM364:
 5534              	LBB35:
 5535 2ad5 C745F008 		movl	$8, -16(%ebp)
 5535      000000
1405:../../MMI/Resource/WriteImgRes.c ****     S32 real_size;
1406:../../MMI/Resource/WriteImgRes.c ****     U32 width_height;
1407:../../MMI/Resource/WriteImgRes.c **** 
1408:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1409:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
1410:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1411:../../MMI/Resource/WriteImgRes.c ****     width_height = ((width & 0XFFF) << 12) | (height & 0XFFF);
 5537              	LM365:
 5538 2adc 8B4520   		movl	32(%ebp), %eax
 5539 2adf 25FF0F00 		andl	$4095, %eax
 5539      00
 5540 2ae4 89C2     		movl	%eax, %edx
 5541 2ae6 C1E20C   		sall	$12, %edx
 5542 2ae9 8B4524   		movl	36(%ebp), %eax
 5543 2aec 25FF0F00 		andl	$4095, %eax
 5543      00
 5544 2af1 09D0     		orl	%edx, %eax
 5545 2af3 8945E8   		movl	%eax, -24(%ebp)
1412:../../MMI/Resource/WriteImgRes.c **** 
1413:../../MMI/Resource/WriteImgRes.c ****     if (toolFlag == 1)
 5547              	LM366:
 5548 2af6 833D0000 		cmpl	$1, _toolFlag
 5548      000001
 5549 2afd 0F851002 		jne	L236
 5549      0000
1414:../../MMI/Resource/WriteImgRes.c ****     {
1415:../../MMI/Resource/WriteImgRes.c ****         /* the major header */
1416:../../MMI/Resource/WriteImgRes.c ****         fprintf(dest_file, "%c%c%c%c%c%c%c%c",
 5551              	LM367:
 5552 2b03 8B45E8   		movl	-24(%ebp), %eax
 5553 2b06 250000FF 		andl	$16711680, %eax
 5553      00
 5554 2b0b C1E810   		shrl	$16, %eax
 5555 2b0e 89442424 		movl	%eax, 36(%esp)
 5556 2b12 8B45E8   		movl	-24(%ebp), %eax
 5557 2b15 2500FF00 		andl	$65280, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 91


 5557      00
 5558 2b1a C1E808   		shrl	$8, %eax
 5559 2b1d 89442420 		movl	%eax, 32(%esp)
 5560 2b21 0FB645E8 		movzbl	-24(%ebp),%eax
 5561 2b25 8944241C 		movl	%eax, 28(%esp)
 5562 2b29 C7442418 		movl	$0, 24(%esp)
 5562      00000000 
 5563 2b31 C7442414 		movl	$0, 20(%esp)
 5563      00000000 
 5564 2b39 0FB645FA 		movzbl	-6(%ebp), %eax
 5565 2b3d 89442410 		movl	%eax, 16(%esp)
 5566 2b41 8B4510   		movl	16(%ebp), %eax
 5567 2b44 8944240C 		movl	%eax, 12(%esp)
 5568 2b48 0FB645FB 		movzbl	-5(%ebp), %eax
 5569 2b4c 89442408 		movl	%eax, 8(%esp)
 5570 2b50 C7442404 		movl	$LC84, 4(%esp)
 5570      D4290000 
 5571 2b58 A1000000 		movl	_dest_file, %eax
 5571      00
 5572 2b5d 890424   		movl	%eax, (%esp)
 5573 2b60 E8000000 		call	_fprintf
 5573      00
1417:../../MMI/Resource/WriteImgRes.c ****                 image_identifier,
1418:../../MMI/Resource/WriteImgRes.c ****                 n_frames,
1419:../../MMI/Resource/WriteImgRes.c ****                 play_count,
1420:../../MMI/Resource/WriteImgRes.c ****                 0, 0,    /* file size (not used) */
1421:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff),
1422:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff00) >> 8,
1423:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff0000) >> 16);
1424:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < n_frames; i++)
 5575              	LM368:
 5576 2b65 C745F400 		movl	$0, -12(%ebp)
 5576      000000
 5577              	L237:
 5578 2b6c 8B45F4   		movl	-12(%ebp), %eax
 5579 2b6f 3B4510   		cmpl	16(%ebp), %eax
 5580 2b72 7C05     		jl	L240
 5581 2b74 E9DC0300 		jmp	L235
 5581      00
 5582              	L240:
1425:../../MMI/Resource/WriteImgRes.c ****         {
1426:../../MMI/Resource/WriteImgRes.c ****             int interval = sequential_interval[i];
 5584              	LM369:
 5585              	LBB36:
 5586 2b79 8B45F4   		movl	-12(%ebp), %eax
 5587 2b7c 8D148500 		leal	0(,%eax,4), %edx
 5587      000000
 5588 2b83 8B4528   		movl	40(%ebp), %eax
 5589 2b86 8B0410   		movl	(%eax,%edx), %eax
 5590 2b89 8945E4   		movl	%eax, -28(%ebp)
1427:../../MMI/Resource/WriteImgRes.c **** 
1428:../../MMI/Resource/WriteImgRes.c ****             seq_offset[i] = offset;
 5592              	LM370:
 5593 2b8c 8B45F4   		movl	-12(%ebp), %eax
 5594 2b8f 8D0C8500 		leal	0(,%eax,4), %ecx
 5594      000000
 5595 2b96 8B551C   		movl	28(%ebp), %edx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 92


 5596 2b99 8B45F0   		movl	-16(%ebp), %eax
 5597 2b9c 89040A   		movl	%eax, (%edx,%ecx)
1429:../../MMI/Resource/WriteImgRes.c ****             real_size = ((seq_filesize[i] + 3) >> 2) << 2;
 5599              	LM371:
 5600 2b9f 8B45F4   		movl	-12(%ebp), %eax
 5601 2ba2 8D148500 		leal	0(,%eax,4), %edx
 5601      000000
 5602 2ba9 8B4518   		movl	24(%ebp), %eax
 5603 2bac 8B0410   		movl	(%eax,%edx), %eax
 5604 2baf 83C003   		addl	$3, %eax
 5605 2bb2 C1F802   		sarl	$2, %eax
 5606 2bb5 C1E002   		sall	$2, %eax
 5607 2bb8 8945EC   		movl	%eax, -20(%ebp)
1430:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c%c%c%c", seq_offset[i] & 0xff, (seq_offset[i] & 0xff00) >> 8, (se
 5609              	LM372:
 5610 2bbb 8B45F4   		movl	-12(%ebp), %eax
 5611 2bbe 8D148500 		leal	0(,%eax,4), %edx
 5611      000000
 5612 2bc5 8B451C   		movl	28(%ebp), %eax
 5613 2bc8 8B0410   		movl	(%eax,%edx), %eax
 5614 2bcb 25000000 		andl	$-16777216, %eax
 5614      FF
 5615 2bd0 C1E818   		shrl	$24, %eax
 5616 2bd3 89442414 		movl	%eax, 20(%esp)
 5617 2bd7 8B45F4   		movl	-12(%ebp), %eax
 5618 2bda 8D148500 		leal	0(,%eax,4), %edx
 5618      000000
 5619 2be1 8B451C   		movl	28(%ebp), %eax
 5620 2be4 8B0410   		movl	(%eax,%edx), %eax
 5621 2be7 250000FF 		andl	$16711680, %eax
 5621      00
 5622 2bec C1F810   		sarl	$16, %eax
 5623 2bef 89442410 		movl	%eax, 16(%esp)
 5624 2bf3 8B45F4   		movl	-12(%ebp), %eax
 5625 2bf6 8D148500 		leal	0(,%eax,4), %edx
 5625      000000
 5626 2bfd 8B451C   		movl	28(%ebp), %eax
 5627 2c00 8B0410   		movl	(%eax,%edx), %eax
 5628 2c03 2500FF00 		andl	$65280, %eax
 5628      00
 5629 2c08 C1F808   		sarl	$8, %eax
 5630 2c0b 8944240C 		movl	%eax, 12(%esp)
 5631 2c0f 8B45F4   		movl	-12(%ebp), %eax
 5632 2c12 8D148500 		leal	0(,%eax,4), %edx
 5632      000000
 5633 2c19 8B451C   		movl	28(%ebp), %eax
 5634 2c1c 0FB60410 		movzbl	(%eax,%edx),%eax
 5635 2c20 89442408 		movl	%eax, 8(%esp)
 5636 2c24 C7442404 		movl	$LC85, 4(%esp)
 5636      E5290000 
 5637 2c2c A1000000 		movl	_dest_file, %eax
 5637      00
 5638 2c31 890424   		movl	%eax, (%esp)
 5639 2c34 E8000000 		call	_fprintf
 5639      00
1431:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c%c%c%c", seq_filesize[i] & 0xff, (seq_filesize[i] & 0xff00) >> 8,
 5641              	LM373:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 93


 5642 2c39 8B45F4   		movl	-12(%ebp), %eax
 5643 2c3c 8D148500 		leal	0(,%eax,4), %edx
 5643      000000
 5644 2c43 8B4518   		movl	24(%ebp), %eax
 5645 2c46 8B0410   		movl	(%eax,%edx), %eax
 5646 2c49 25000000 		andl	$-16777216, %eax
 5646      FF
 5647 2c4e C1E818   		shrl	$24, %eax
 5648 2c51 89442414 		movl	%eax, 20(%esp)
 5649 2c55 8B45F4   		movl	-12(%ebp), %eax
 5650 2c58 8D148500 		leal	0(,%eax,4), %edx
 5650      000000
 5651 2c5f 8B4518   		movl	24(%ebp), %eax
 5652 2c62 8B0410   		movl	(%eax,%edx), %eax
 5653 2c65 250000FF 		andl	$16711680, %eax
 5653      00
 5654 2c6a C1F810   		sarl	$16, %eax
 5655 2c6d 89442410 		movl	%eax, 16(%esp)
 5656 2c71 8B45F4   		movl	-12(%ebp), %eax
 5657 2c74 8D148500 		leal	0(,%eax,4), %edx
 5657      000000
 5658 2c7b 8B4518   		movl	24(%ebp), %eax
 5659 2c7e 8B0410   		movl	(%eax,%edx), %eax
 5660 2c81 2500FF00 		andl	$65280, %eax
 5660      00
 5661 2c86 C1F808   		sarl	$8, %eax
 5662 2c89 8944240C 		movl	%eax, 12(%esp)
 5663 2c8d 8B45F4   		movl	-12(%ebp), %eax
 5664 2c90 8D148500 		leal	0(,%eax,4), %edx
 5664      000000
 5665 2c97 8B4518   		movl	24(%ebp), %eax
 5666 2c9a 0FB60410 		movzbl	(%eax,%edx),%eax
 5667 2c9e 89442408 		movl	%eax, 8(%esp)
 5668 2ca2 C7442404 		movl	$LC85, 4(%esp)
 5668      E5290000 
 5669 2caa A1000000 		movl	_dest_file, %eax
 5669      00
 5670 2caf 890424   		movl	%eax, (%esp)
 5671 2cb2 E8000000 		call	_fprintf
 5671      00
1432:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c%c%c%c", interval & 0xff, (interval & 0xff00) >> 8, (interval & 0
 5673              	LM374:
 5674 2cb7 8B45E4   		movl	-28(%ebp), %eax
 5675 2cba 25000000 		andl	$-16777216, %eax
 5675      FF
 5676 2cbf C1E818   		shrl	$24, %eax
 5677 2cc2 89442414 		movl	%eax, 20(%esp)
 5678 2cc6 8B45E4   		movl	-28(%ebp), %eax
 5679 2cc9 250000FF 		andl	$16711680, %eax
 5679      00
 5680 2cce C1F810   		sarl	$16, %eax
 5681 2cd1 89442410 		movl	%eax, 16(%esp)
 5682 2cd5 8B45E4   		movl	-28(%ebp), %eax
 5683 2cd8 2500FF00 		andl	$65280, %eax
 5683      00
 5684 2cdd C1F808   		sarl	$8, %eax
 5685 2ce0 8944240C 		movl	%eax, 12(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 94


 5686 2ce4 0FB645E4 		movzbl	-28(%ebp),%eax
 5687 2ce8 89442408 		movl	%eax, 8(%esp)
 5688 2cec C7442404 		movl	$LC85, 4(%esp)
 5688      E5290000 
 5689 2cf4 A1000000 		movl	_dest_file, %eax
 5689      00
 5690 2cf9 890424   		movl	%eax, (%esp)
 5691 2cfc E8000000 		call	_fprintf
 5691      00
1433:../../MMI/Resource/WriteImgRes.c ****             offset += real_size;
 5693              	LM375:
 5694 2d01 8B55EC   		movl	-20(%ebp), %edx
 5695 2d04 8D45F0   		leal	-16(%ebp), %eax
 5696 2d07 0110     		addl	%edx, (%eax)
 5698              	LM376:
 5699 2d09 8D45F4   		leal	-12(%ebp), %eax
 5700              	LBE36:
 5701 2d0c FF00     		incl	(%eax)
 5702 2d0e E959FEFF 		jmp	L237
 5702      FF
 5703              	L236:
1434:../../MMI/Resource/WriteImgRes.c ****         }
1435:../../MMI/Resource/WriteImgRes.c ****     }
1436:../../MMI/Resource/WriteImgRes.c **** 
1437:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1438:../../MMI/Resource/WriteImgRes.c ****     /* write ENFB header to CustImgDataxxx.h and image header/data to ENFB image data file */
1439:../../MMI/Resource/WriteImgRes.c ****     else if (processData->enfb_flag == 1)
1440:../../MMI/Resource/WriteImgRes.c ****     {
1441:../../MMI/Resource/WriteImgRes.c ****         S32 data_size = 0;
1442:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < n_frames; i++)
1443:../../MMI/Resource/WriteImgRes.c ****         {
1444:../../MMI/Resource/WriteImgRes.c ****             real_size = ((seq_filesize[i] + 3) >> 2) << 2;
1445:../../MMI/Resource/WriteImgRes.c ****             data_size += real_size;
1446:../../MMI/Resource/WriteImgRes.c ****         }
1447:../../MMI/Resource/WriteImgRes.c ****         enfb_size = 8 + 12*n_frames + data_size;
1448:../../MMI/Resource/WriteImgRes.c **** 
1449:../../MMI/Resource/WriteImgRes.c ****         /* write ENFB header to CustImgDataxxx.h */
1450:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream,
1451:../../MMI/Resource/WriteImgRes.c ****             "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x
1452:../../MMI/Resource/WriteImgRes.c ****             (U8) 255,                   //type
1453:../../MMI/Resource/WriteImgRes.c ****             (U8) ENFBAssociatedIDAdded, //associated id
1454:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
1455:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
1456:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_offset & 0xff),
1457:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 8) & 0xff),
1458:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 16) & 0xff),
1459:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 24) & 0xff),
1460:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_size & 0xff),
1461:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 8) & 0xff),
1462:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 16) & 0xff),
1463:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 24) & 0xff));
1464:../../MMI/Resource/WriteImgRes.c **** 
1465:../../MMI/Resource/WriteImgRes.c ****         /* image header/data to ENFB image data file */
1466:../../MMI/Resource/WriteImgRes.c ****         /* the major header */
1467:../../MMI/Resource/WriteImgRes.c ****         fprintf(enfb_img_data_file, "%c%c%c%c%c%c%c%c",
1468:../../MMI/Resource/WriteImgRes.c ****                 image_identifier,
1469:../../MMI/Resource/WriteImgRes.c ****                 n_frames,
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 95


1470:../../MMI/Resource/WriteImgRes.c ****                 play_count,
1471:../../MMI/Resource/WriteImgRes.c ****                 0, 0,    /* file size (not used) */
1472:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff),
1473:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff00) >> 8,
1474:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff0000) >> 16);
1475:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < n_frames; i++)
1476:../../MMI/Resource/WriteImgRes.c ****         {
1477:../../MMI/Resource/WriteImgRes.c ****             int interval = sequential_interval[i];
1478:../../MMI/Resource/WriteImgRes.c **** 
1479:../../MMI/Resource/WriteImgRes.c ****             seq_offset[i] = offset;
1480:../../MMI/Resource/WriteImgRes.c ****             real_size = ((seq_filesize[i] + 3) >> 2) << 2;
1481:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c%c%c%c", seq_offset[i] & 0xff, (seq_offset[i] & 0xff00) 
1482:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c%c%c%c", seq_filesize[i] & 0xff, (seq_filesize[i] & 0xff
1483:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c%c%c%c", interval & 0xff, (interval & 0xff00) >> 8, (int
1484:../../MMI/Resource/WriteImgRes.c ****             offset += real_size;
1485:../../MMI/Resource/WriteImgRes.c ****         }
1486:../../MMI/Resource/WriteImgRes.c **** 
1487:../../MMI/Resource/WriteImgRes.c ****         enfb_offset += enfb_size;
1488:../../MMI/Resource/WriteImgRes.c ****         processData->res_size += enfb_size;
1489:../../MMI/Resource/WriteImgRes.c ****     }
1490:../../MMI/Resource/WriteImgRes.c **** #endif
1491:../../MMI/Resource/WriteImgRes.c **** 
1492:../../MMI/Resource/WriteImgRes.c ****     else
1493:../../MMI/Resource/WriteImgRes.c ****     {
1494:../../MMI/Resource/WriteImgRes.c ****         /* the major header */
1495:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream, 
 5705              	LM377:
 5706 2d13 8B45E8   		movl	-24(%ebp), %eax
 5707 2d16 250000FF 		andl	$16711680, %eax
 5707      00
 5708 2d1b C1E810   		shrl	$16, %eax
 5709 2d1e 89442424 		movl	%eax, 36(%esp)
 5710 2d22 8B45E8   		movl	-24(%ebp), %eax
 5711 2d25 2500FF00 		andl	$65280, %eax
 5711      00
 5712 2d2a C1E808   		shrl	$8, %eax
 5713 2d2d 89442420 		movl	%eax, 32(%esp)
 5714 2d31 0FB645E8 		movzbl	-24(%ebp),%eax
 5715 2d35 8944241C 		movl	%eax, 28(%esp)
 5716 2d39 C7442418 		movl	$0, 24(%esp)
 5716      00000000 
 5717 2d41 C7442414 		movl	$0, 20(%esp)
 5717      00000000 
 5718 2d49 0FB645FA 		movzbl	-6(%ebp), %eax
 5719 2d4d 89442410 		movl	%eax, 16(%esp)
 5720 2d51 8B4510   		movl	16(%ebp), %eax
 5721 2d54 8944240C 		movl	%eax, 12(%esp)
 5722 2d58 0FB645FB 		movzbl	-5(%ebp), %eax
 5723 2d5c 89442408 		movl	%eax, 8(%esp)
 5724 2d60 C7442404 		movl	$LC86, 4(%esp)
 5724      002A0000 
 5725 2d68 8B4508   		movl	8(%ebp), %eax
 5726 2d6b 890424   		movl	%eax, (%esp)
 5727 2d6e E8000000 		call	_ImageOutStreamPrintf
 5727      00
1496:../../MMI/Resource/WriteImgRes.c ****                 "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X,\n\t",
1497:../../MMI/Resource/WriteImgRes.c ****                 image_identifier,
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 96


1498:../../MMI/Resource/WriteImgRes.c ****                 n_frames,
1499:../../MMI/Resource/WriteImgRes.c ****                 play_count,
1500:../../MMI/Resource/WriteImgRes.c ****                 0, 0,
1501:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff),
1502:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff00) >> 8,
1503:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff0000) >> 16);
1504:../../MMI/Resource/WriteImgRes.c ****         processData->res_size += 8;
 5729              	LM378:
 5730 2d73 8B552C   		movl	44(%ebp), %edx
 5731 2d76 8B452C   		movl	44(%ebp), %eax
 5732 2d79 8B800002 		movl	512(%eax), %eax
 5732      0000
 5733 2d7f 83C008   		addl	$8, %eax
 5734 2d82 89820002 		movl	%eax, 512(%edx)
 5734      0000
1505:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < n_frames; i++)
 5736              	LM379:
 5737 2d88 C745F400 		movl	$0, -12(%ebp)
 5737      000000
 5738              	L242:
 5739 2d8f 8B45F4   		movl	-12(%ebp), %eax
 5740 2d92 3B4510   		cmpl	16(%ebp), %eax
 5741 2d95 7C05     		jl	L245
 5742 2d97 E9B90100 		jmp	L235
 5742      00
 5743              	L245:
1506:../../MMI/Resource/WriteImgRes.c ****         {
1507:../../MMI/Resource/WriteImgRes.c ****             int interval = sequential_interval[i];
 5745              	LM380:
 5746              	LBB37:
 5747 2d9c 8B45F4   		movl	-12(%ebp), %eax
 5748 2d9f 8D148500 		leal	0(,%eax,4), %edx
 5748      000000
 5749 2da6 8B4528   		movl	40(%ebp), %eax
 5750 2da9 8B0410   		movl	(%eax,%edx), %eax
 5751 2dac 8945E4   		movl	%eax, -28(%ebp)
1508:../../MMI/Resource/WriteImgRes.c **** 
1509:../../MMI/Resource/WriteImgRes.c ****             seq_offset[i] = offset;
 5753              	LM381:
 5754 2daf 8B45F4   		movl	-12(%ebp), %eax
 5755 2db2 8D0C8500 		leal	0(,%eax,4), %ecx
 5755      000000
 5756 2db9 8B551C   		movl	28(%ebp), %edx
 5757 2dbc 8B45F0   		movl	-16(%ebp), %eax
 5758 2dbf 89040A   		movl	%eax, (%edx,%ecx)
1510:../../MMI/Resource/WriteImgRes.c ****             real_size = ((seq_filesize[i] + 3) >> 2) << 2;
 5760              	LM382:
 5761 2dc2 8B45F4   		movl	-12(%ebp), %eax
 5762 2dc5 8D148500 		leal	0(,%eax,4), %edx
 5762      000000
 5763 2dcc 8B4518   		movl	24(%ebp), %eax
 5764 2dcf 8B0410   		movl	(%eax,%edx), %eax
 5765 2dd2 83C003   		addl	$3, %eax
 5766 2dd5 C1F802   		sarl	$2, %eax
 5767 2dd8 C1E002   		sall	$2, %eax
 5768 2ddb 8945EC   		movl	%eax, -20(%ebp)
1511:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x%02X, 0x%02X, 0x%02X, 0x%02X, ", seq_offset[i] & 0xf
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 97


 5770              	LM383:
 5771 2dde 8B45F4   		movl	-12(%ebp), %eax
 5772 2de1 8D148500 		leal	0(,%eax,4), %edx
 5772      000000
 5773 2de8 8B451C   		movl	28(%ebp), %eax
 5774 2deb 8B0410   		movl	(%eax,%edx), %eax
 5775 2dee 25000000 		andl	$-16777216, %eax
 5775      FF
 5776 2df3 C1E818   		shrl	$24, %eax
 5777 2df6 89442414 		movl	%eax, 20(%esp)
 5778 2dfa 8B45F4   		movl	-12(%ebp), %eax
 5779 2dfd 8D148500 		leal	0(,%eax,4), %edx
 5779      000000
 5780 2e04 8B451C   		movl	28(%ebp), %eax
 5781 2e07 8B0410   		movl	(%eax,%edx), %eax
 5782 2e0a 250000FF 		andl	$16711680, %eax
 5782      00
 5783 2e0f C1F810   		sarl	$16, %eax
 5784 2e12 89442410 		movl	%eax, 16(%esp)
 5785 2e16 8B45F4   		movl	-12(%ebp), %eax
 5786 2e19 8D148500 		leal	0(,%eax,4), %edx
 5786      000000
 5787 2e20 8B451C   		movl	28(%ebp), %eax
 5788 2e23 8B0410   		movl	(%eax,%edx), %eax
 5789 2e26 2500FF00 		andl	$65280, %eax
 5789      00
 5790 2e2b C1F808   		sarl	$8, %eax
 5791 2e2e 8944240C 		movl	%eax, 12(%esp)
 5792 2e32 8B45F4   		movl	-12(%ebp), %eax
 5793 2e35 8D148500 		leal	0(,%eax,4), %edx
 5793      000000
 5794 2e3c 8B451C   		movl	28(%ebp), %eax
 5795 2e3f 0FB60410 		movzbl	(%eax,%edx),%eax
 5796 2e43 89442408 		movl	%eax, 8(%esp)
 5797 2e47 C7442404 		movl	$LC87, 4(%esp)
 5797      602A0000 
 5798 2e4f 8B4508   		movl	8(%ebp), %eax
 5799 2e52 890424   		movl	%eax, (%esp)
 5800 2e55 E8000000 		call	_ImageOutStreamPrintf
 5800      00
1512:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x%02X, 0x%02X, 0x%02X, 0x%02X, ", seq_filesize[i] & 0
 5802              	LM384:
 5803 2e5a 8B45F4   		movl	-12(%ebp), %eax
 5804 2e5d 8D148500 		leal	0(,%eax,4), %edx
 5804      000000
 5805 2e64 8B4518   		movl	24(%ebp), %eax
 5806 2e67 8B0410   		movl	(%eax,%edx), %eax
 5807 2e6a 25000000 		andl	$-16777216, %eax
 5807      FF
 5808 2e6f C1E818   		shrl	$24, %eax
 5809 2e72 89442414 		movl	%eax, 20(%esp)
 5810 2e76 8B45F4   		movl	-12(%ebp), %eax
 5811 2e79 8D148500 		leal	0(,%eax,4), %edx
 5811      000000
 5812 2e80 8B4518   		movl	24(%ebp), %eax
 5813 2e83 8B0410   		movl	(%eax,%edx), %eax
 5814 2e86 250000FF 		andl	$16711680, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 98


 5814      00
 5815 2e8b C1F810   		sarl	$16, %eax
 5816 2e8e 89442410 		movl	%eax, 16(%esp)
 5817 2e92 8B45F4   		movl	-12(%ebp), %eax
 5818 2e95 8D148500 		leal	0(,%eax,4), %edx
 5818      000000
 5819 2e9c 8B4518   		movl	24(%ebp), %eax
 5820 2e9f 8B0410   		movl	(%eax,%edx), %eax
 5821 2ea2 2500FF00 		andl	$65280, %eax
 5821      00
 5822 2ea7 C1F808   		sarl	$8, %eax
 5823 2eaa 8944240C 		movl	%eax, 12(%esp)
 5824 2eae 8B45F4   		movl	-12(%ebp), %eax
 5825 2eb1 8D148500 		leal	0(,%eax,4), %edx
 5825      000000
 5826 2eb8 8B4518   		movl	24(%ebp), %eax
 5827 2ebb 0FB60410 		movzbl	(%eax,%edx),%eax
 5828 2ebf 89442408 		movl	%eax, 8(%esp)
 5829 2ec3 C7442404 		movl	$LC87, 4(%esp)
 5829      602A0000 
 5830 2ecb 8B4508   		movl	8(%ebp), %eax
 5831 2ece 890424   		movl	%eax, (%esp)
 5832 2ed1 E8000000 		call	_ImageOutStreamPrintf
 5832      00
1513:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x%02X, 0x%02X, 0x%02X, 0x%02X,\n\t", interval & 0xff,
 5834              	LM385:
 5835 2ed6 8B45E4   		movl	-28(%ebp), %eax
 5836 2ed9 25000000 		andl	$-16777216, %eax
 5836      FF
 5837 2ede C1E818   		shrl	$24, %eax
 5838 2ee1 89442414 		movl	%eax, 20(%esp)
 5839 2ee5 8B45E4   		movl	-28(%ebp), %eax
 5840 2ee8 250000FF 		andl	$16711680, %eax
 5840      00
 5841 2eed C1F810   		sarl	$16, %eax
 5842 2ef0 89442410 		movl	%eax, 16(%esp)
 5843 2ef4 8B45E4   		movl	-28(%ebp), %eax
 5844 2ef7 2500FF00 		andl	$65280, %eax
 5844      00
 5845 2efc C1F808   		sarl	$8, %eax
 5846 2eff 8944240C 		movl	%eax, 12(%esp)
 5847 2f03 0FB645E4 		movzbl	-28(%ebp),%eax
 5848 2f07 89442408 		movl	%eax, 8(%esp)
 5849 2f0b C7442404 		movl	$LC88, 4(%esp)
 5849      A02A0000 
 5850 2f13 8B4508   		movl	8(%ebp), %eax
 5851 2f16 890424   		movl	%eax, (%esp)
 5852 2f19 E8000000 		call	_ImageOutStreamPrintf
 5852      00
1514:../../MMI/Resource/WriteImgRes.c ****             offset += real_size;
 5854              	LM386:
 5855 2f1e 8B55EC   		movl	-20(%ebp), %edx
 5856 2f21 8D45F0   		leal	-16(%ebp), %eax
 5857 2f24 0110     		addl	%edx, (%eax)
1515:../../MMI/Resource/WriteImgRes.c **** 
1516:../../MMI/Resource/WriteImgRes.c ****             processData->res_size += 12 + seq_filesize[i];
 5859              	LM387:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 99


 5860 2f26 8B5D2C   		movl	44(%ebp), %ebx
 5861 2f29 8B4D2C   		movl	44(%ebp), %ecx
 5862 2f2c 8B45F4   		movl	-12(%ebp), %eax
 5863 2f2f 8D148500 		leal	0(,%eax,4), %edx
 5863      000000
 5864 2f36 8B4518   		movl	24(%ebp), %eax
 5865 2f39 8B0410   		movl	(%eax,%edx), %eax
 5866 2f3c 03810002 		addl	512(%ecx), %eax
 5866      0000
 5867 2f42 83C00C   		addl	$12, %eax
 5868 2f45 89830002 		movl	%eax, 512(%ebx)
 5868      0000
 5870              	LM388:
 5871 2f4b 8D45F4   		leal	-12(%ebp), %eax
 5872              	LBE37:
 5873 2f4e FF00     		incl	(%eax)
 5874 2f50 E93AFEFF 		jmp	L242
 5874      FF
1517:../../MMI/Resource/WriteImgRes.c ****         }
1518:../../MMI/Resource/WriteImgRes.c ****     }
1519:../../MMI/Resource/WriteImgRes.c **** }
 5876              	LM389:
 5877              	L235:
 5878 2f55 83C444   		addl	$68, %esp
 5879 2f58 5B       		popl	%ebx
 5880 2f59 5D       		popl	%ebp
 5881 2f5a C3       		ret
 5882              	LBE35:
 5897              	Lscope8:
 5899              	LC89:
 5900 2f5b 256300   		.ascii "%c\0"
 5901              	LC90:
 5902 2f5e 30782530 		.ascii "0x%02X, \0"
 5902      32582C20 
 5902      00
 5903              	LC91:
 5904 2f67 0A0900   		.ascii "\12\11\0"
 5905              	LC92:
 5906 2f6a 30783030 		.ascii "0x00, \0"
 5906      2C2000
 5913              	_Write_Sequential_Image_File:
1520:../../MMI/Resource/WriteImgRes.c **** 
1521:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
1522:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
1523:../../MMI/Resource/WriteImgRes.c ****  *  Write_Sequential_Image_File
1524:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
1525:../../MMI/Resource/WriteImgRes.c ****  *  write raw date from a frame of an image to the output file
1526:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
1527:../../MMI/Resource/WriteImgRes.c ****  *  output_file     [IN]        output file handle
1528:../../MMI/Resource/WriteImgRes.c ****  *  input_file      [IN]        input file handle
1529:../../MMI/Resource/WriteImgRes.c ****  *  filesize        [IN]        the input file size
1530:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
1531:../../MMI/Resource/WriteImgRes.c ****  *  void
1532:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
1533:../../MMI/Resource/WriteImgRes.c **** static void Write_Sequential_Image_File(
1534:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
1535:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 100


1536:../../MMI/Resource/WriteImgRes.c ****         S32 filesize,
1537:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
1538:../../MMI/Resource/WriteImgRes.c **** {
 5915              	LM390:
 5916 2f71 55       		pushl	%ebp
 5917 2f72 89E5     		movl	%esp, %ebp
 5918 2f74 83EC38   		subl	$56, %esp
1539:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1540:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
1541:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1542:../../MMI/Resource/WriteImgRes.c ****     U32 i;
1543:../../MMI/Resource/WriteImgRes.c ****     U32 o = 0;
 5920              	LM391:
 5921              	LBB38:
 5922 2f77 C745F800 		movl	$0, -8(%ebp)
 5922      000000
1544:../../MMI/Resource/WriteImgRes.c ****     U8 ch;
1545:../../MMI/Resource/WriteImgRes.c **** 
1546:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1547:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
1548:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1549:../../MMI/Resource/WriteImgRes.c ****     if (toolFlag == 1)
 5924              	LM392:
 5925 2f7e 833D0000 		cmpl	$1, _toolFlag
 5925      000001
 5926 2f85 757C     		jne	L247
1550:../../MMI/Resource/WriteImgRes.c ****     {
1551:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < filesize; i++)
 5928              	LM393:
 5929 2f87 C745FC00 		movl	$0, -4(%ebp)
 5929      000000
 5930              	L248:
 5931 2f8e 8B45FC   		movl	-4(%ebp), %eax
 5932 2f91 3B4510   		cmpl	16(%ebp), %eax
 5933 2f94 7202     		jb	L251
 5934 2f96 EB32     		jmp	L249
 5935              	L251:
1552:../../MMI/Resource/WriteImgRes.c ****         {
1553:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(input_file);
 5937              	LM394:
 5938 2f98 8B450C   		movl	12(%ebp), %eax
 5939 2f9b 890424   		movl	%eax, (%esp)
 5940 2f9e E8000000 		call	_fgetc
 5940      00
 5941 2fa3 8845F7   		movb	%al, -9(%ebp)
1554:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c", ch);
 5943              	LM395:
 5944 2fa6 0FB645F7 		movzbl	-9(%ebp), %eax
 5945 2faa 89442408 		movl	%eax, 8(%esp)
 5946 2fae C7442404 		movl	$LC89, 4(%esp)
 5946      5B2F0000 
 5947 2fb6 A1000000 		movl	_dest_file, %eax
 5947      00
 5948 2fbb 890424   		movl	%eax, (%esp)
 5949 2fbe E8000000 		call	_fprintf
 5949      00
 5951              	LM396:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 101


 5952 2fc3 8D45FC   		leal	-4(%ebp), %eax
 5953 2fc6 FF00     		incl	(%eax)
 5954 2fc8 EBC4     		jmp	L248
 5955              	L249:
1555:../../MMI/Resource/WriteImgRes.c ****         }
1556:../../MMI/Resource/WriteImgRes.c **** 
1557:../../MMI/Resource/WriteImgRes.c ****         for (i = filesize; i % 4 != 0; i++)
 5957              	LM397:
 5958 2fca 8B4510   		movl	16(%ebp), %eax
 5959 2fcd 8945FC   		movl	%eax, -4(%ebp)
 5960              	L252:
 5961 2fd0 8B45FC   		movl	-4(%ebp), %eax
 5962 2fd3 83E003   		andl	$3, %eax
 5963 2fd6 85C0     		testl	%eax, %eax
 5964 2fd8 7505     		jne	L255
 5965 2fda E9270100 		jmp	L246
 5965      00
 5966              	L255:
1558:../../MMI/Resource/WriteImgRes.c ****         {
1559:../../MMI/Resource/WriteImgRes.c ****             /* for 4 byte alignment */
1560:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c", 0);
 5968              	LM398:
 5969 2fdf C7442408 		movl	$0, 8(%esp)
 5969      00000000 
 5970 2fe7 C7442404 		movl	$LC89, 4(%esp)
 5970      5B2F0000 
 5971 2fef A1000000 		movl	_dest_file, %eax
 5971      00
 5972 2ff4 890424   		movl	%eax, (%esp)
 5973 2ff7 E8000000 		call	_fprintf
 5973      00
 5975              	LM399:
 5976 2ffc 8D45FC   		leal	-4(%ebp), %eax
 5977 2fff FF00     		incl	(%eax)
 5978 3001 EBCD     		jmp	L252
 5979              	L247:
1561:../../MMI/Resource/WriteImgRes.c ****         }
1562:../../MMI/Resource/WriteImgRes.c ****     }
1563:../../MMI/Resource/WriteImgRes.c **** 
1564:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1565:../../MMI/Resource/WriteImgRes.c ****     /* write ENFB header to CustImgDataxxx.h and image header/data to ENFB image data file */
1566:../../MMI/Resource/WriteImgRes.c ****     else if (processData->enfb_flag == 1)
1567:../../MMI/Resource/WriteImgRes.c ****     {
1568:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < filesize; i++)
1569:../../MMI/Resource/WriteImgRes.c ****         {
1570:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(input_file);
1571:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c", ch);
1572:../../MMI/Resource/WriteImgRes.c ****         }
1573:../../MMI/Resource/WriteImgRes.c **** 
1574:../../MMI/Resource/WriteImgRes.c ****         for (i = filesize; i % 4 != 0; i++)
1575:../../MMI/Resource/WriteImgRes.c ****         {
1576:../../MMI/Resource/WriteImgRes.c ****             /* for 4 byte alignment */
1577:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c", 0);
1578:../../MMI/Resource/WriteImgRes.c ****         }
1579:../../MMI/Resource/WriteImgRes.c ****     }
1580:../../MMI/Resource/WriteImgRes.c **** #endif
1581:../../MMI/Resource/WriteImgRes.c **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 102


1582:../../MMI/Resource/WriteImgRes.c ****     else
1583:../../MMI/Resource/WriteImgRes.c ****     {
1584:../../MMI/Resource/WriteImgRes.c ****         /*
1585:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < filesize; i++)
1586:../../MMI/Resource/WriteImgRes.c ****         {
1587:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(input_file);
1588:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x%02X, ", ch);
1589:../../MMI/Resource/WriteImgRes.c ****             o++;
1590:../../MMI/Resource/WriteImgRes.c ****             if ((o % 16) == 0)
1591:../../MMI/Resource/WriteImgRes.c ****             {
1592:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "\n\t");
1593:../../MMI/Resource/WriteImgRes.c ****             }
1594:../../MMI/Resource/WriteImgRes.c ****         }
1595:../../MMI/Resource/WriteImgRes.c ****         */
1596:../../MMI/Resource/WriteImgRes.c ****         const int buffer_size = 16 * 1024;
 5981              	LM400:
 5982              	LBB39:
 5983 3003 C745F000 		movl	$16384, -16(%ebp)
 5983      400000
1597:../../MMI/Resource/WriteImgRes.c ****         while (1)
 5985              	LM401:
 5986              	L257:
 5987              	LBB40:
 5988 300a 8965E8   		movl	%esp, -24(%ebp)
1598:../../MMI/Resource/WriteImgRes.c ****         {
1599:../../MMI/Resource/WriteImgRes.c ****             U8 buffer[buffer_size];
 5990              	LM402:
 5991 300d 8B45F0   		movl	-16(%ebp), %eax
 5992 3010 83C00F   		addl	$15, %eax
 5993 3013 C1E804   		shrl	$4, %eax
 5994 3016 C1E004   		sall	$4, %eax
 5995 3019 8945E0   		movl	%eax, -32(%ebp)
 5996 301c 8B45E0   		movl	-32(%ebp), %eax
 5997 301f E8000000 		call	__alloca
 5997      00
 5998 3024 8D542410 		leal	16(%esp), %edx
 5999 3028 8955E4   		movl	%edx, -28(%ebp)
1600:../../MMI/Resource/WriteImgRes.c ****             U32 size = fread(buffer, 1, buffer_size, input_file);
 6001              	LM403:
 6002 302b 8B450C   		movl	12(%ebp), %eax
 6003 302e 8944240C 		movl	%eax, 12(%esp)
 6004 3032 8B45F0   		movl	-16(%ebp), %eax
 6005 3035 89442408 		movl	%eax, 8(%esp)
 6006 3039 C7442404 		movl	$1, 4(%esp)
 6006      01000000 
 6007 3041 8B45E4   		movl	-28(%ebp), %eax
 6008 3044 890424   		movl	%eax, (%esp)
 6009 3047 E8000000 		call	_fread
 6009      00
 6010 304c 8945EC   		movl	%eax, -20(%ebp)
1601:../../MMI/Resource/WriteImgRes.c ****             if (size == 0)
 6012              	LM404:
 6013 304f 837DEC00 		cmpl	$0, -20(%ebp)
 6014 3053 7505     		jne	L260
1602:../../MMI/Resource/WriteImgRes.c ****             {
1603:../../MMI/Resource/WriteImgRes.c ****                 break;
 6016              	LM405:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 103


 6017              	LBB41:
 6018 3055 8B65E8   		movl	-24(%ebp), %esp
 6019              	LBE41:
 6020 3058 EB63     		jmp	L258
 6021              	L260:
1604:../../MMI/Resource/WriteImgRes.c ****             }
1605:../../MMI/Resource/WriteImgRes.c ****             for (i = 0; i < size; i++)
 6023              	LM406:
 6024 305a C745FC00 		movl	$0, -4(%ebp)
 6024      000000
 6025              	L261:
 6026 3061 8B45FC   		movl	-4(%ebp), %eax
 6027 3064 3B45EC   		cmpl	-20(%ebp), %eax
 6028 3067 7202     		jb	L264
 6029 3069 EB4A     		jmp	L262
 6030              	L264:
1606:../../MMI/Resource/WriteImgRes.c ****             {
1607:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "0x%02X, ", buffer[i]);
 6032              	LM407:
 6033 306b 8B45FC   		movl	-4(%ebp), %eax
 6034 306e 8B55E4   		movl	-28(%ebp), %edx
 6035 3071 0FB60402 		movzbl	(%edx,%eax), %eax
 6036 3075 89442408 		movl	%eax, 8(%esp)
 6037 3079 C7442404 		movl	$LC90, 4(%esp)
 6037      5E2F0000 
 6038 3081 8B4508   		movl	8(%ebp), %eax
 6039 3084 890424   		movl	%eax, (%esp)
 6040 3087 E8000000 		call	_ImageOutStreamPrintf
 6040      00
1608:../../MMI/Resource/WriteImgRes.c ****                 if ((++o % 16) == 0)
 6042              	LM408:
 6043 308c 8D45F8   		leal	-8(%ebp), %eax
 6044 308f FF00     		incl	(%eax)
 6045 3091 8B45F8   		movl	-8(%ebp), %eax
 6046 3094 83E00F   		andl	$15, %eax
 6047 3097 85C0     		testl	%eax, %eax
 6048 3099 7513     		jne	L263
1609:../../MMI/Resource/WriteImgRes.c ****                 {
1610:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "\n\t");
 6050              	LM409:
 6051 309b C7442404 		movl	$LC91, 4(%esp)
 6051      672F0000 
 6052 30a3 8B4508   		movl	8(%ebp), %eax
 6053 30a6 890424   		movl	%eax, (%esp)
 6054 30a9 E8000000 		call	_ImageOutStreamPrintf
 6054      00
 6056              	LM410:
 6057              	L263:
 6058 30ae 8D45FC   		leal	-4(%ebp), %eax
 6059 30b1 FF00     		incl	(%eax)
 6060 30b3 EBAC     		jmp	L261
 6061              	L262:
 6062 30b5 8B65E8   		movl	-24(%ebp), %esp
 6063              	LBE40:
 6064 30b8 E94DFFFF 		jmp	L257
 6064      FF
 6065              	L258:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 104


1611:../../MMI/Resource/WriteImgRes.c ****                 }
1612:../../MMI/Resource/WriteImgRes.c ****             }
1613:../../MMI/Resource/WriteImgRes.c ****         }
1614:../../MMI/Resource/WriteImgRes.c **** 
1615:../../MMI/Resource/WriteImgRes.c ****         for (i = filesize; i % 4 != 0; i++)
 6067              	LM411:
 6068 30bd 8B4510   		movl	16(%ebp), %eax
 6069 30c0 8945FC   		movl	%eax, -4(%ebp)
 6070              	L266:
 6071 30c3 8B45FC   		movl	-4(%ebp), %eax
 6072 30c6 83E003   		andl	$3, %eax
 6073 30c9 85C0     		testl	%eax, %eax
 6074 30cb 7502     		jne	L269
 6075 30cd EB1A     		jmp	L267
 6076              	L269:
1616:../../MMI/Resource/WriteImgRes.c ****         {
1617:../../MMI/Resource/WriteImgRes.c ****             /* for 4 byte alignment */
1618:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x00, ");
 6078              	LM412:
 6079 30cf C7442404 		movl	$LC92, 4(%esp)
 6079      6A2F0000 
 6080 30d7 8B4508   		movl	8(%ebp), %eax
 6081 30da 890424   		movl	%eax, (%esp)
 6082 30dd E8000000 		call	_ImageOutStreamPrintf
 6082      00
 6084              	LM413:
 6085 30e2 8D45FC   		leal	-4(%ebp), %eax
 6086 30e5 FF00     		incl	(%eax)
 6087 30e7 EBDA     		jmp	L266
 6088              	L267:
1619:../../MMI/Resource/WriteImgRes.c ****         }
1620:../../MMI/Resource/WriteImgRes.c **** 
1621:../../MMI/Resource/WriteImgRes.c ****         if ((o % 16) != 0)
 6090              	LM414:
 6091 30e9 8B45F8   		movl	-8(%ebp), %eax
 6092 30ec 83E00F   		andl	$15, %eax
 6093 30ef 85C0     		testl	%eax, %eax
 6094 30f1 7413     		je	L246
1622:../../MMI/Resource/WriteImgRes.c ****         {
1623:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n\t");
 6096              	LM415:
 6097 30f3 C7442404 		movl	$LC91, 4(%esp)
 6097      672F0000 
 6098 30fb 8B4508   		movl	8(%ebp), %eax
 6099 30fe 890424   		movl	%eax, (%esp)
 6100 3101 E8000000 		call	_ImageOutStreamPrintf
 6100      00
1624:../../MMI/Resource/WriteImgRes.c ****         }
1625:../../MMI/Resource/WriteImgRes.c ****     }
1626:../../MMI/Resource/WriteImgRes.c **** }
 6102              	LM416:
 6103              	L246:
 6104 3106 C9       		leave
 6105 3107 C3       		ret
 6106              	LBE39:
 6107              	LBE38:
 6120              	Lscope9:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 105


 6122              	LC93:
 6123 3108 25735C5C 		.ascii "%s\\\\0.%s\0"
 6123      302E2573 
 6123      00
 6124              	LC94:
 6125 3111 25735C5C 		.ascii "%s\\\\interval.txt\0"
 6125      696E7465 
 6125      7276616C 
 6125      2E747874 
 6125      00
 6126              	LC95:
 6127 3122 7200     		.ascii "r\0"
 6128              	LC96:
 6129 3124 4552523A 		.ascii "ERR: Can't find %s\12\0"
 6129      2043616E 
 6129      27742066 
 6129      696E6420 
 6129      25730A00 
 6130              	LC97:
 6131 3138 20256400 		.ascii " %d\0"
 6132              	LC98:
 6133 313c 204C4F4F 		.ascii " LOOP %d\0"
 6133      50202564 
 6133      00
 6134              	LC99:
 6135 3145 25735C5C 		.ascii "%s\\\\%d.%s\0"
 6135      25642E25 
 6135      7300
 6136              	LC100:
 6137 314f 61626D73 		.ascii "abms\0"
 6137      00
 6138 3154 8DB60000 		.align 32
 6138      00008DBF 
 6138      00000000 
 6139              	LC101:
 6140 3160 57726974 		.ascii "Write_Sequential_image: buffer == NULL\12\0"
 6140      655F5365 
 6140      7175656E 
 6140      7469616C 
 6140      5F696D61 
 6141              	LC102:
 6142 3188 77622B00 		.ascii "wb+\0"
 6143 318c 90909090 		.align 32
 6143      90909090 
 6143      90909090 
 6143      90909090 
 6143      90909090 
 6144              	LC103:
 6145 31a0 5B424D50 		.ascii "[BMP->ABM sequence] size not match:\11%s\12\0"
 6145      2D3E4142 
 6145      4D207365 
 6145      7175656E 
 6145      63655D20 
 6146 31c8 90909090 		.align 32
 6146      90909090 
 6146      90909090 
 6146      90909090 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 106


 6146      90909090 
 6147              	LC104:
 6148 31e0 5B424D50 		.ascii "[BMP->ABM sequence] read size not match:\11%s\12\0"
 6148      2D3E4142 
 6148      4D207365 
 6148      7175656E 
 6148      63655D20 
 6149 320d 90909090 		.align 32
 6149      90909090 
 6149      90909090 
 6149      90909090 
 6149      909090
 6150              	LC105:
 6151 3220 5B424D50 		.ascii "[BMP->ABM sequence] write size not match:\11%s\12\0"
 6151      2D3E4142 
 6151      4D207365 
 6151      7175656E 
 6151      63655D20 
 6152 324e 90909090 		.align 32
 6152      90909090 
 6152      90909090 
 6152      90909090 
 6152      9090
 6153              	LC106:
 6154 3260 5B424D50 		.ascii "[BMP->ABM sequence] err encode format:\11%s\12\0"
 6154      2D3E4142 
 6154      4D207365 
 6154      7175656E 
 6154      63655D20 
 6155              	LC107:
 6156 328b 61623273 		.ascii "ab2s\0"
 6156      00
 6157 3290 90909090 		.align 32
 6157      90909090 
 6157      90909090 
 6157      90909090 
 6158              	LC108:
 6159 32a0 2E5C5C63 		.ascii ".\\\\convert.exe -channel Alpha -negate -compress none %s %s > NUL\0"
 6159      6F6E7665 
 6159      72742E65 
 6159      7865202D 
 6159      6368616E 
 6160 32e1 90909090 		.align 32
 6160      90909090 
 6160      90909090 
 6160      90909090 
 6160      90909090 
 6161              	LC109:
 6162 3300 5B41424D 		.ascii "[ABM sequence] size not match:\11%s\12\0"
 6162      20736571 
 6162      75656E63 
 6162      655D2073 
 6162      697A6520 
 6163 3323 90909090 		.align 32
 6163      90909090 
 6163      90909090 
 6163      90909090 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 107


 6163      90909090 
 6164              	LC110:
 6165 3340 5B41424D 		.ascii "[ABM sequence] err encode format:\11%s\12\0"
 6165      20736571 
 6165      75656E63 
 6165      655D2065 
 6165      72722065 
 6166              	LC111:
 6167 3366 5F5F616C 		.ascii "__align(4) const U8 %s%s\0"
 6167      69676E28 
 6167      34292063 
 6167      6F6E7374 
 6167      20553820 
 6168 337f 90       		.align 32
 6169              	LC112:
 6170 3380 496D6167 		.ascii "Image get dimensions failed:\11%s\12\0"
 6170      65206765 
 6170      74206469 
 6170      6D656E73 
 6170      696F6E73 
 6171              	LC113:
 6172 33a1 25735C5C 		.ascii "%s\\\\%d.abms\0"
 6172      25642E61 
 6172      626D7300 
 6173              	LC114:
 6174 33ad 25735C5C 		.ascii "%s\\\\%d.ab2s\0"
 6174      25642E61 
 6174      62327300 
 6175              	LC115:
 6176 33b9 0A7D3B0A 		.ascii "\12};\12\0"
 6176      00
 6185              	_Write_Sequential_Image:
1627:../../MMI/Resource/WriteImgRes.c **** 
1628:../../MMI/Resource/WriteImgRes.c **** 
1629:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
1630:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
1631:../../MMI/Resource/WriteImgRes.c ****  *  Write_Sequential_Image
1632:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
1633:../../MMI/Resource/WriteImgRes.c ****  *  write sequential image
1634:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
1635:../../MMI/Resource/WriteImgRes.c ****  *  pathname        [IN]        path name for sequential image
1636:../../MMI/Resource/WriteImgRes.c ****  *  output_name     [IN]        output variable name
1637:../../MMI/Resource/WriteImgRes.c ****  *  output_file     [OUT]       output file handle
1638:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
1639:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
1640:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
1641:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Sequential_Image(
1642:../../MMI/Resource/WriteImgRes.c ****         char *pathname,
1643:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
1644:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
1645:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
1646:../../MMI/Resource/WriteImgRes.c ****         S32 force_type,
1647:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
1648:../../MMI/Resource/WriteImgRes.c **** {
 6187              	LM417:
 6188 33be 55       		pushl	%ebp
 6189 33bf 89E5     		movl	%esp, %ebp
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 108


 6190 33c1 53       		pushl	%ebx
 6191 33c2 B8343B00 		movl	$15156, %eax
 6191      00
 6192 33c7 E8000000 		call	__alloca
 6192      00
1649:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1650:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
1651:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1652:../../MMI/Resource/WriteImgRes.c ****     S32 sequential_filesize[MAX_SEQUENTIAL_IMAGE_FRAME];
1653:../../MMI/Resource/WriteImgRes.c ****     S32 sequential_offset[MAX_SEQUENTIAL_IMAGE_FRAME];
1654:../../MMI/Resource/WriteImgRes.c ****     S8 filename[BUFFER_SIZE];
1655:../../MMI/Resource/WriteImgRes.c ****     FILE *imgfp;
1656:../../MMI/Resource/WriteImgRes.c ****     S32 sequential_frame;
1657:../../MMI/Resource/WriteImgRes.c ****     S32 sequence_counter;
1658:../../MMI/Resource/WriteImgRes.c ****     S32 n_frames;
1659:../../MMI/Resource/WriteImgRes.c ****     S32 type = -1;
 6194              	LM418:
 6195              	LBB42:
 6196 33cc C785E4DF 		movl	$-1, -8220(%ebp)
 6196      FFFFFFFF 
 6196      FFFF
1660:../../MMI/Resource/WriteImgRes.c ****     U32 width = 0, height = 0;
 6198              	LM419:
 6199 33d6 C785E0DF 		movl	$0, -8224(%ebp)
 6199      FFFF0000 
 6199      0000
 6200 33e0 C785DCDF 		movl	$0, -8228(%ebp)
 6200      FFFF0000 
 6200      0000
1661:../../MMI/Resource/WriteImgRes.c ****     U32 seq_max_width = 0, seq_max_height = 0;
 6202              	LM420:
 6203 33ea C785D8DF 		movl	$0, -8232(%ebp)
 6203      FFFF0000 
 6203      0000
 6204 33f4 C785D4DF 		movl	$0, -8236(%ebp)
 6204      FFFF0000 
 6204      0000
1662:../../MMI/Resource/WriteImgRes.c ****     S32 j;
1663:../../MMI/Resource/WriteImgRes.c ****     U8 play_count = 0;
 6206              	LM421:
 6207 33fe C685CFDF 		movb	$0, -8241(%ebp)
 6207      FFFF00
1664:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1665:../../MMI/Resource/WriteImgRes.c ****     U32 enfb_width, enfb_height;
1666:../../MMI/Resource/WriteImgRes.c ****     S32 enfb_ret;
1667:../../MMI/Resource/WriteImgRes.c **** #endif
1668:../../MMI/Resource/WriteImgRes.c ****     S32 sequential_interval[MAX_SEQUENTIAL_IMAGE_FRAME];
1669:../../MMI/Resource/WriteImgRes.c **** 
1670:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1671:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
1672:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1673:../../MMI/Resource/WriteImgRes.c ****     /* find the right extension file name */
1674:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__)
1675:../../MMI/Resource/WriteImgRes.c ****     for (j = SUPPORT_N_SEQUENTIAL_IMAGE_TYPE - 1; j >= 0; j--)  /* search from PNG */
 6209              	LM422:
 6210 3405 C785D0DF 		movl	$2, -8240(%ebp)
 6210      FFFF0200 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 109


 6210      0000
 6211              	L272:
 6212 340f 83BDD0DF 		cmpl	$0, -8240(%ebp)
 6212      FFFF00
 6213 3416 7902     		jns	L275
 6214 3418 EB58     		jmp	L273
 6215              	L275:
1676:../../MMI/Resource/WriteImgRes.c **** #else /* defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__) */
1677:../../MMI/Resource/WriteImgRes.c ****     for (j = 0; j < SUPPORT_N_SEQUENTIAL_IMAGE_TYPE; j++)       /* search from BMP */
1678:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__) */
1679:../../MMI/Resource/WriteImgRes.c ****     {
1680:../../MMI/Resource/WriteImgRes.c ****         sprintf(filename, "%s\\\\0.%s", pathname, sequential_image[j].filename_ext);
 6217              	LM423:
 6218 341a 8B85D0DF 		movl	-8240(%ebp), %eax
 6218      FFFF
 6219 3420 8B04C500 		movl	_sequential_image(,%eax,8), %eax
 6219      000000
 6220 3427 8944240C 		movl	%eax, 12(%esp)
 6221 342b 8B4508   		movl	8(%ebp), %eax
 6222 342e 89442408 		movl	%eax, 8(%esp)
 6223 3432 C7442404 		movl	$LC93, 4(%esp)
 6223      08310000 
 6224 343a 8D85F8DF 		leal	-8200(%ebp), %eax
 6224      FFFF
 6225 3440 890424   		movl	%eax, (%esp)
 6226 3443 E8000000 		call	_sprintf
 6226      00
1681:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(filename) )
 6228              	LM424:
 6229 3448 8D85F8DF 		leal	-8200(%ebp), %eax
 6229      FFFF
 6230 344e 890424   		movl	%eax, (%esp)
 6231 3451 E8000000 		call	_file_exist
 6231      00
 6232 3456 85C0     		testl	%eax, %eax
 6233 3458 740E     		je	L274
1682:../../MMI/Resource/WriteImgRes.c ****         {
1683:../../MMI/Resource/WriteImgRes.c ****             type = j;
 6235              	LM425:
 6236 345a 8B85D0DF 		movl	-8240(%ebp), %eax
 6236      FFFF
 6237 3460 8985E4DF 		movl	%eax, -8220(%ebp)
 6237      FFFF
1684:../../MMI/Resource/WriteImgRes.c ****             break;
 6239              	LM426:
 6240 3466 EB0A     		jmp	L273
 6242              	LM427:
 6243              	L274:
 6244 3468 8D85D0DF 		leal	-8240(%ebp), %eax
 6244      FFFF
 6245 346e FF08     		decl	(%eax)
 6246 3470 EB9D     		jmp	L272
 6247              	L273:
1685:../../MMI/Resource/WriteImgRes.c ****         }
1686:../../MMI/Resource/WriteImgRes.c ****     }
1687:../../MMI/Resource/WriteImgRes.c ****     if (type == -1)
 6249              	LM428:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 110


 6250 3472 83BDE4DF 		cmpl	$-1, -8220(%ebp)
 6250      FFFFFF
 6251 3479 750F     		jne	L277
1688:../../MMI/Resource/WriteImgRes.c ****     {
1689:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 6253              	LM429:
 6254 347b C78508C5 		movl	$0, -15096(%ebp)
 6254      FFFF0000 
 6254      0000
 6255 3485 E95A0C00 		jmp	L271
 6255      00
 6256              	L277:
1690:../../MMI/Resource/WriteImgRes.c ****     }
1691:../../MMI/Resource/WriteImgRes.c **** 
1692:../../MMI/Resource/WriteImgRes.c ****     /* read during & find how many files are in sequence */
1693:../../MMI/Resource/WriteImgRes.c ****     sprintf(filename, "%s\\\\interval.txt", pathname);
 6258              	LM430:
 6259 348a 8B4508   		movl	8(%ebp), %eax
 6260 348d 89442408 		movl	%eax, 8(%esp)
 6261 3491 C7442404 		movl	$LC94, 4(%esp)
 6261      11310000 
 6262 3499 8D85F8DF 		leal	-8200(%ebp), %eax
 6262      FFFF
 6263 349f 890424   		movl	%eax, (%esp)
 6264 34a2 E8000000 		call	_sprintf
 6264      00
1694:../../MMI/Resource/WriteImgRes.c ****     imgfp = fopen(filename, "r");
 6266              	LM431:
 6267 34a7 C7442404 		movl	$LC95, 4(%esp)
 6267      22310000 
 6268 34af 8D85F8DF 		leal	-8200(%ebp), %eax
 6268      FFFF
 6269 34b5 890424   		movl	%eax, (%esp)
 6270 34b8 E8000000 		call	_fopen
 6270      00
 6271 34bd 8985F4DF 		movl	%eax, -8204(%ebp)
 6271      FFFF
1695:../../MMI/Resource/WriteImgRes.c ****     if (imgfp == NULL)
 6273              	LM432:
 6274 34c3 83BDF4DF 		cmpl	$0, -8204(%ebp)
 6274      FFFF00
 6275 34ca 7525     		jne	L278
1696:../../MMI/Resource/WriteImgRes.c ****     {
1697:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("ERR: Can't find %s\n", filename);
 6277              	LM433:
 6278 34cc 8D85F8DF 		leal	-8200(%ebp), %eax
 6278      FFFF
 6279 34d2 89442404 		movl	%eax, 4(%esp)
 6280 34d6 C7042424 		movl	$LC96, (%esp)
 6280      310000
 6281 34dd E8000000 		call	_MtkResgenTrace
 6281      00
1698:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 6283              	LM434:
 6284 34e2 C78508C5 		movl	$0, -15096(%ebp)
 6284      FFFF0000 
 6284      0000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 111


 6285 34ec E9F30B00 		jmp	L271
 6285      00
 6286              	L278:
1699:../../MMI/Resource/WriteImgRes.c ****     }
1700:../../MMI/Resource/WriteImgRes.c ****     else
1701:../../MMI/Resource/WriteImgRes.c ****     {
1702:../../MMI/Resource/WriteImgRes.c ****         S32 count = 0;
 6288              	LM435:
 6289              	LBB43:
 6290 34f1 C785C4D7 		movl	$0, -10300(%ebp)
 6290      FFFF0000 
 6290      0000
1703:../../MMI/Resource/WriteImgRes.c ****         S32 duration;
1704:../../MMI/Resource/WriteImgRes.c **** 
1705:../../MMI/Resource/WriteImgRes.c ****         sequence_counter = 0;
 6292              	LM436:
 6293 34fb C785ECDF 		movl	$0, -8212(%ebp)
 6293      FFFF0000 
 6293      0000
1706:../../MMI/Resource/WriteImgRes.c ****         while(fscanf(imgfp, " %d", &duration) == 1)
 6295              	LM437:
 6296              	L280:
 6297 3505 8D85C0D7 		leal	-10304(%ebp), %eax
 6297      FFFF
 6298 350b 89442408 		movl	%eax, 8(%esp)
 6299 350f C7442404 		movl	$LC97, 4(%esp)
 6299      38310000 
 6300 3517 8B85F4DF 		movl	-8204(%ebp), %eax
 6300      FFFF
 6301 351d 890424   		movl	%eax, (%esp)
 6302 3520 E8000000 		call	_fscanf
 6302      00
 6303 3525 83F801   		cmpl	$1, %eax
 6304 3528 7402     		je	L282
 6305 352a EB1F     		jmp	L281
 6306              	L282:
1707:../../MMI/Resource/WriteImgRes.c ****         {
1708:../../MMI/Resource/WriteImgRes.c ****             sequential_interval[sequence_counter++] = duration;
 6308              	LM438:
 6309 352c 8B85ECDF 		movl	-8212(%ebp), %eax
 6309      FFFF
 6310 3532 89C2     		movl	%eax, %edx
 6311 3534 8B85C0D7 		movl	-10304(%ebp), %eax
 6311      FFFF
 6312 353a 898495C8 		movl	%eax, -10296(%ebp,%edx,4)
 6312      D7FFFF
 6313 3541 8D85ECDF 		leal	-8212(%ebp), %eax
 6313      FFFF
 6314 3547 FF00     		incl	(%eax)
 6315 3549 EBBA     		jmp	L280
 6316              	L281:
1709:../../MMI/Resource/WriteImgRes.c ****         }
1710:../../MMI/Resource/WriteImgRes.c **** 
1711:../../MMI/Resource/WriteImgRes.c ****         /* we will recognize "LOOP " as prefix */
1712:../../MMI/Resource/WriteImgRes.c ****         play_count = (fscanf(imgfp, " LOOP %d", &count) == 1) ? ((U8)count) : (0);
 6318              	LM439:
 6319 354b 8D85C4D7 		leal	-10300(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 112


 6319      FFFF
 6320 3551 89442408 		movl	%eax, 8(%esp)
 6321 3555 C7442404 		movl	$LC98, 4(%esp)
 6321      3C310000 
 6322 355d 8B85F4DF 		movl	-8204(%ebp), %eax
 6322      FFFF
 6323 3563 890424   		movl	%eax, (%esp)
 6324 3566 E8000000 		call	_fscanf
 6324      00
 6325 356b 83F801   		cmpl	$1, %eax
 6326 356e 750F     		jne	L283
 6327 3570 0FB685C4 		movzbl	-10300(%ebp), %eax
 6327      D7FFFF
 6328 3577 888507C5 		movb	%al, -15097(%ebp)
 6328      FFFF
 6329 357d EB07     		jmp	L284
 6330              	L283:
 6331 357f C68507C5 		movb	$0, -15097(%ebp)
 6331      FFFF00
 6332              	L284:
 6333 3586 0FB68507 		movzbl	-15097(%ebp), %eax
 6333      C5FFFF
 6334 358d 8885CFDF 		movb	%al, -8241(%ebp)
 6334      FFFF
1713:../../MMI/Resource/WriteImgRes.c **** 
1714:../../MMI/Resource/WriteImgRes.c ****         MYFCLOSE(imgfp);
 6336              	LM440:
 6337 3593 83BDF4DF 		cmpl	$0, -8204(%ebp)
 6337      FFFF00
 6338 359a 7418     		je	L279
 6339 359c 8B85F4DF 		movl	-8204(%ebp), %eax
 6339      FFFF
 6340 35a2 890424   		movl	%eax, (%esp)
 6341 35a5 E8000000 		call	_fclose
 6341      00
 6342 35aa C785F4DF 		movl	$0, -8204(%ebp)
 6342      FFFF0000 
 6342      0000
 6343              	L279:
1715:../../MMI/Resource/WriteImgRes.c ****     }
1716:../../MMI/Resource/WriteImgRes.c **** 
1717:../../MMI/Resource/WriteImgRes.c ****     for (j = 0; j < sequence_counter; j++)
 6345              	LM441:
 6346              	LBE43:
 6347 35b4 C785D0DF 		movl	$0, -8240(%ebp)
 6347      FFFF0000 
 6347      0000
 6348              	L287:
 6349 35be 8B85D0DF 		movl	-8240(%ebp), %eax
 6349      FFFF
 6350 35c4 3B85ECDF 		cmpl	-8212(%ebp), %eax
 6350      FFFF
 6351 35ca 7C05     		jl	L290
 6352 35cc E90A0700 		jmp	L288
 6352      00
 6353              	L290:
1718:../../MMI/Resource/WriteImgRes.c ****     {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 113


1719:../../MMI/Resource/WriteImgRes.c ****         sprintf(filename, "%s\\\\%d.%s", pathname, j, sequential_image[type].filename_ext);
 6355              	LM442:
 6356 35d1 8B85E4DF 		movl	-8220(%ebp), %eax
 6356      FFFF
 6357 35d7 8B04C500 		movl	_sequential_image(,%eax,8), %eax
 6357      000000
 6358 35de 89442410 		movl	%eax, 16(%esp)
 6359 35e2 8B85D0DF 		movl	-8240(%ebp), %eax
 6359      FFFF
 6360 35e8 8944240C 		movl	%eax, 12(%esp)
 6361 35ec 8B4508   		movl	8(%ebp), %eax
 6362 35ef 89442408 		movl	%eax, 8(%esp)
 6363 35f3 C7442404 		movl	$LC99, 4(%esp)
 6363      45310000 
 6364 35fb 8D85F8DF 		leal	-8200(%ebp), %eax
 6364      FFFF
 6365 3601 890424   		movl	%eax, (%esp)
 6366 3604 E8000000 		call	_sprintf
 6366      00
1720:../../MMI/Resource/WriteImgRes.c ****         imgfp = fopen(filename, "rb");
 6368              	LM443:
 6369 3609 C7442404 		movl	$LC58, 4(%esp)
 6369      F30C0000 
 6370 3611 8D85F8DF 		leal	-8200(%ebp), %eax
 6370      FFFF
 6371 3617 890424   		movl	%eax, (%esp)
 6372 361a E8000000 		call	_fopen
 6372      00
 6373 361f 8985F4DF 		movl	%eax, -8204(%ebp)
 6373      FFFF
1721:../../MMI/Resource/WriteImgRes.c ****         if (imgfp != NULL)
 6375              	LM444:
 6376 3625 83BDF4DF 		cmpl	$0, -8204(%ebp)
 6376      FFFF00
 6377 362c 0F848D06 		je	L291
 6377      0000
1722:../../MMI/Resource/WriteImgRes.c ****         {
1723:../../MMI/Resource/WriteImgRes.c ****             if (sequential_image[type].file_type == IMAGE_TYPE_BMP_SEQUENCE && force_type == FORCE_
 6379              	LM445:
 6380 3632 8B85E4DF 		movl	-8220(%ebp), %eax
 6380      FFFF
 6381 3638 803CC504 		cmpb	$2, _sequential_image+4(,%eax,8)
 6381      00000002 
 6382 3640 0F856003 		jne	L292
 6382      0000
 6383 3646 837D1804 		cmpl	$4, 24(%ebp)
 6384 364a 0F855603 		jne	L292
 6384      0000
1724:../../MMI/Resource/WriteImgRes.c ****             {
1725:../../MMI/Resource/WriteImgRes.c ****                 U8 *buffer;
1726:../../MMI/Resource/WriteImgRes.c ****                 S32 size, width, height, ret;
1727:../../MMI/Resource/WriteImgRes.c ****                 FILE *outfp = NULL;
 6386              	LM446:
 6387              	LBB44:
 6388 3650 C785A8D7 		movl	$0, -10328(%ebp)
 6388      FFFF0000 
 6388      0000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 114


1728:../../MMI/Resource/WriteImgRes.c **** 
1729:../../MMI/Resource/WriteImgRes.c ****                 const char *ext = "abms";
 6390              	LM447:
 6391 365a C785A4D7 		movl	$LC100, -10332(%ebp)
 6391      FFFF4F31 
 6391      0000
1730:../../MMI/Resource/WriteImgRes.c ****                 U32 encode_option = ABM_ENC_OPTION_FLAG_ABM; /* ABM exactly */
 6393              	LM448:
 6394 3664 C785A0D7 		movl	$2, -10336(%ebp)
 6394      FFFF0200 
 6394      0000
1731:../../MMI/Resource/WriteImgRes.c ****                 U32 want_ret = ABM_ENC_RETURN_USE_ABM;
 6396              	LM449:
 6397 366e C7859CD7 		movl	$1, -10340(%ebp)
 6397      FFFF0100 
 6397      0000
1732:../../MMI/Resource/WriteImgRes.c **** 
1733:../../MMI/Resource/WriteImgRes.c ****                 /* convert BMP to ABM */
1734:../../MMI/Resource/WriteImgRes.c ****                 buffer = (U8*)malloc(ABMENC_BMP_FILE_BUFFER_SIZE*sizeof(U8));
 6399              	LM450:
 6400 3678 C7042400 		movl	$16777216, (%esp)
 6400      000001
 6401 367f E8000000 		call	_malloc
 6401      00
 6402 3684 8985BCD7 		movl	%eax, -10308(%ebp)
 6402      FFFF
1735:../../MMI/Resource/WriteImgRes.c ****                 if (buffer == NULL)
 6404              	LM451:
 6405 368a 83BDBCD7 		cmpl	$0, -10308(%ebp)
 6405      FFFF00
 6406 3691 7538     		jne	L293
1736:../../MMI/Resource/WriteImgRes.c ****                 {
1737:../../MMI/Resource/WriteImgRes.c ****                     RESIMG_LOG_E("Write_Sequential_image: buffer == NULL\n");
 6408              	LM452:
 6409 3693 C7442408 		movl	$LC101, 8(%esp)
 6409      60310000 
 6410 369b C7442404 		movl	$LC34, 4(%esp)
 6410      64060000 
 6411 36a3 C7042403 		movl	$3, (%esp)
 6411      000000
 6412 36aa E8000000 		call	_reslog_adaptor_log
 6412      00
1738:../../MMI/Resource/WriteImgRes.c ****                     assert(0);
 6414              	LM453:
 6415 36af C7442408 		movl	$1738, 8(%esp)
 6415      CA060000 
 6416 36b7 C7442404 		movl	$LC35, 4(%esp)
 6416      80060000 
 6417 36bf C70424A1 		movl	$LC36, (%esp)
 6417      060000
 6418 36c6 E8000000 		call	__assert
 6418      00
 6419              	L293:
1739:../../MMI/Resource/WriteImgRes.c ****                     exit(2);
1740:../../MMI/Resource/WriteImgRes.c ****                 }
1741:../../MMI/Resource/WriteImgRes.c **** 
1742:../../MMI/Resource/WriteImgRes.c ****                 ret = ABM_load(filename,
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 115


 6421              	LM454:
 6422 36cb 8B451C   		movl	28(%ebp), %eax
 6423 36ce 89442424 		movl	%eax, 36(%esp)
 6424 36d2 8B4514   		movl	20(%ebp), %eax
 6425 36d5 89442420 		movl	%eax, 32(%esp)
 6426 36d9 8D85B0D7 		leal	-10320(%ebp), %eax
 6426      FFFF
 6427 36df 8944241C 		movl	%eax, 28(%esp)
 6428 36e3 8D85B4D7 		leal	-10316(%ebp), %eax
 6428      FFFF
 6429 36e9 89442418 		movl	%eax, 24(%esp)
 6430 36ed 8D85B8D7 		leal	-10312(%ebp), %eax
 6430      FFFF
 6431 36f3 89442414 		movl	%eax, 20(%esp)
 6432 36f7 8B85BCD7 		movl	-10308(%ebp), %eax
 6432      FFFF
 6433 36fd 89442410 		movl	%eax, 16(%esp)
 6434 3701 8B85A0D7 		movl	-10336(%ebp), %eax
 6434      FFFF
 6435 3707 8944240C 		movl	%eax, 12(%esp)
 6436 370b C7442408 		movl	$1, 8(%esp)
 6436      01000000 
 6437 3713 C7442404 		movl	$16, 4(%esp)
 6437      10000000 
 6438 371b 8D85F8DF 		leal	-8200(%ebp), %eax
 6438      FFFF
 6439 3721 890424   		movl	%eax, (%esp)
 6440 3724 E8000000 		call	_ABM_load
 6440      00
 6441 3729 8985ACD7 		movl	%eax, -10324(%ebp)
 6441      FFFF
1743:../../MMI/Resource/WriteImgRes.c ****                         __MMI_DEVICE_BMP_FORMAT__,
1744:../../MMI/Resource/WriteImgRes.c ****                         IMAGE_TYPE_BMP, /* non PBM */
1745:../../MMI/Resource/WriteImgRes.c ****                         encode_option,
1746:../../MMI/Resource/WriteImgRes.c ****                         buffer,
1747:../../MMI/Resource/WriteImgRes.c ****                         &size, &width, &height, is9slice, processData);
1748:../../MMI/Resource/WriteImgRes.c **** 
1749:../../MMI/Resource/WriteImgRes.c ****                 sequential_filesize[j] = size;
 6443              	LM455:
 6444 372f 8B95D0DF 		movl	-8240(%ebp), %edx
 6444      FFFF
 6445 3735 8B85B8D7 		movl	-10312(%ebp), %eax
 6445      FFFF
 6446 373b 898495F8 		movl	%eax, -2056(%ebp,%edx,4)
 6446      F7FFFF
1750:../../MMI/Resource/WriteImgRes.c **** 
1751:../../MMI/Resource/WriteImgRes.c ****                 sprintf(filename, "%s\\\\%d.%s", pathname, j, ext);
 6448              	LM456:
 6449 3742 8B85A4D7 		movl	-10332(%ebp), %eax
 6449      FFFF
 6450 3748 89442410 		movl	%eax, 16(%esp)
 6451 374c 8B85D0DF 		movl	-8240(%ebp), %eax
 6451      FFFF
 6452 3752 8944240C 		movl	%eax, 12(%esp)
 6453 3756 8B4508   		movl	8(%ebp), %eax
 6454 3759 89442408 		movl	%eax, 8(%esp)
 6455 375d C7442404 		movl	$LC99, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 116


 6455      45310000 
 6456 3765 8D85F8DF 		leal	-8200(%ebp), %eax
 6456      FFFF
 6457 376b 890424   		movl	%eax, (%esp)
 6458 376e E8000000 		call	_sprintf
 6458      00
1752:../../MMI/Resource/WriteImgRes.c ****                 if (ret == want_ret)
 6460              	LM457:
 6461 3773 8B85ACD7 		movl	-10324(%ebp), %eax
 6461      FFFF
 6462 3779 3B859CD7 		cmpl	-10340(%ebp), %eax
 6462      FFFF
 6463 377f 0F859000 		jne	L294
 6463      0000
1753:../../MMI/Resource/WriteImgRes.c ****                 {
1754:../../MMI/Resource/WriteImgRes.c ****                     outfp = fopen(filename, "wb+");
 6465              	LM458:
 6466 3785 C7442404 		movl	$LC102, 4(%esp)
 6466      88310000 
 6467 378d 8D85F8DF 		leal	-8200(%ebp), %eax
 6467      FFFF
 6468 3793 890424   		movl	%eax, (%esp)
 6469 3796 E8000000 		call	_fopen
 6469      00
 6470 379b 8985A8D7 		movl	%eax, -10328(%ebp)
 6470      FFFF
1755:../../MMI/Resource/WriteImgRes.c ****                     if (outfp != NULL)
 6472              	LM459:
 6473 37a1 83BDA8D7 		cmpl	$0, -10328(%ebp)
 6473      FFFF00
 6474 37a8 0F84E501 		je	L297
 6474      0000
1756:../../MMI/Resource/WriteImgRes.c ****                     {
1757:../../MMI/Resource/WriteImgRes.c ****                         S32 wsize;
1758:../../MMI/Resource/WriteImgRes.c **** 
1759:../../MMI/Resource/WriteImgRes.c ****                         wsize = fwrite(buffer, sizeof(U8), size, outfp);
 6476              	LM460:
 6477              	LBB45:
 6478 37ae 8B85A8D7 		movl	-10328(%ebp), %eax
 6478      FFFF
 6479 37b4 8944240C 		movl	%eax, 12(%esp)
 6480 37b8 8B85B8D7 		movl	-10312(%ebp), %eax
 6480      FFFF
 6481 37be 89442408 		movl	%eax, 8(%esp)
 6482 37c2 C7442404 		movl	$1, 4(%esp)
 6482      01000000 
 6483 37ca 8B85BCD7 		movl	-10308(%ebp), %eax
 6483      FFFF
 6484 37d0 890424   		movl	%eax, (%esp)
 6485 37d3 E8000000 		call	_fwrite
 6485      00
 6486 37d8 898598D7 		movl	%eax, -10344(%ebp)
 6486      FFFF
1760:../../MMI/Resource/WriteImgRes.c ****                         if (wsize != size)
 6488              	LM461:
 6489 37de 8B8598D7 		movl	-10344(%ebp), %eax
 6489      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 117


 6490 37e4 3B85B8D7 		cmpl	-10312(%ebp), %eax
 6490      FFFF
 6491 37ea 7416     		je	L296
1761:../../MMI/Resource/WriteImgRes.c ****                         {
1762:../../MMI/Resource/WriteImgRes.c ****                             RES_PRINT_INFO("[BMP->ABM sequence] size not match:\t%s\n", filename);
 6493              	LM462:
 6494 37ec 8D85F8DF 		leal	-8200(%ebp), %eax
 6494      FFFF
 6495 37f2 89442404 		movl	%eax, 4(%esp)
 6496 37f6 C70424A0 		movl	$LC103, (%esp)
 6496      310000
 6497 37fd E8000000 		call	_MtkResgenTrace
 6497      00
 6498              	L296:
1763:../../MMI/Resource/WriteImgRes.c ****                         }
1764:../../MMI/Resource/WriteImgRes.c ****                         fclose(outfp);
 6500              	LM463:
 6501 3802 8B85A8D7 		movl	-10328(%ebp), %eax
 6501      FFFF
 6502 3808 890424   		movl	%eax, (%esp)
 6503 380b E8000000 		call	_fclose
 6503      00
 6504              	LBE45:
 6505 3810 E97E0100 		jmp	L297
 6505      00
 6506              	L294:
1765:../../MMI/Resource/WriteImgRes.c ****                     }
1766:../../MMI/Resource/WriteImgRes.c ****                 }
1767:../../MMI/Resource/WriteImgRes.c ****                 else
1768:../../MMI/Resource/WriteImgRes.c ****                 {
1769:../../MMI/Resource/WriteImgRes.c ****                     if(ABM_ENC_RETURN_KEEP_ORIGINAL == ret) /* add for CMCC TD */
 6508              	LM464:
 6509 3815 83BDACD7 		cmpl	$0, -10324(%ebp)
 6509      FFFF00
 6510 381c 0F855B01 		jne	L298
 6510      0000
1770:../../MMI/Resource/WriteImgRes.c ****                     {
1771:../../MMI/Resource/WriteImgRes.c ****                         S32 isize = 0, risize = 0;
 6512              	LM465:
 6513              	LBB46:
 6514 3822 C78598D7 		movl	$0, -10344(%ebp)
 6514      FFFF0000 
 6514      0000
 6515 382c C78594D7 		movl	$0, -10348(%ebp)
 6515      FFFF0000 
 6515      0000
1772:../../MMI/Resource/WriteImgRes.c ****                         force_type = AUTO_TYPE;
 6517              	LM466:
 6518 3836 C7451800 		movl	$0, 24(%ebp)
 6518      000000
1773:../../MMI/Resource/WriteImgRes.c ****                         
1774:../../MMI/Resource/WriteImgRes.c ****                         fseek(imgfp, 0, SEEK_END);
 6520              	LM467:
 6521 383d C7442408 		movl	$2, 8(%esp)
 6521      02000000 
 6522 3845 C7442404 		movl	$0, 4(%esp)
 6522      00000000 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 118


 6523 384d 8B85F4DF 		movl	-8204(%ebp), %eax
 6523      FFFF
 6524 3853 890424   		movl	%eax, (%esp)
 6525 3856 E8000000 		call	_fseek
 6525      00
1775:../../MMI/Resource/WriteImgRes.c ****                         isize = ftell(imgfp);
 6527              	LM468:
 6528 385b 8B85F4DF 		movl	-8204(%ebp), %eax
 6528      FFFF
 6529 3861 890424   		movl	%eax, (%esp)
 6530 3864 E8000000 		call	_ftell
 6530      00
 6531 3869 898598D7 		movl	%eax, -10344(%ebp)
 6531      FFFF
1776:../../MMI/Resource/WriteImgRes.c ****                         fseek(imgfp, 0, SEEK_SET);
 6533              	LM469:
 6534 386f C7442408 		movl	$0, 8(%esp)
 6534      00000000 
 6535 3877 C7442404 		movl	$0, 4(%esp)
 6535      00000000 
 6536 387f 8B85F4DF 		movl	-8204(%ebp), %eax
 6536      FFFF
 6537 3885 890424   		movl	%eax, (%esp)
 6538 3888 E8000000 		call	_fseek
 6538      00
1777:../../MMI/Resource/WriteImgRes.c ****                         risize = fread(buffer, sizeof(U8), isize, imgfp);
 6540              	LM470:
 6541 388d 8B85F4DF 		movl	-8204(%ebp), %eax
 6541      FFFF
 6542 3893 8944240C 		movl	%eax, 12(%esp)
 6543 3897 8B8598D7 		movl	-10344(%ebp), %eax
 6543      FFFF
 6544 389d 89442408 		movl	%eax, 8(%esp)
 6545 38a1 C7442404 		movl	$1, 4(%esp)
 6545      01000000 
 6546 38a9 8B85BCD7 		movl	-10308(%ebp), %eax
 6546      FFFF
 6547 38af 890424   		movl	%eax, (%esp)
 6548 38b2 E8000000 		call	_fread
 6548      00
 6549 38b7 898594D7 		movl	%eax, -10348(%ebp)
 6549      FFFF
1778:../../MMI/Resource/WriteImgRes.c ****                         if(risize != isize)
 6551              	LM471:
 6552 38bd 8B8594D7 		movl	-10348(%ebp), %eax
 6552      FFFF
 6553 38c3 3B8598D7 		cmpl	-10344(%ebp), %eax
 6553      FFFF
 6554 38c9 7416     		je	L299
1779:../../MMI/Resource/WriteImgRes.c ****                         {
1780:../../MMI/Resource/WriteImgRes.c ****                             RES_PRINT_INFO("[BMP->ABM sequence] read size not match:\t%s\n", filena
 6556              	LM472:
 6557 38cb 8D85F8DF 		leal	-8200(%ebp), %eax
 6557      FFFF
 6558 38d1 89442404 		movl	%eax, 4(%esp)
 6559 38d5 C70424E0 		movl	$LC104, (%esp)
 6559      310000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 119


 6560 38dc E8000000 		call	_MtkResgenTrace
 6560      00
 6561              	L299:
1781:../../MMI/Resource/WriteImgRes.c ****                         }
1782:../../MMI/Resource/WriteImgRes.c **** 				                
1783:../../MMI/Resource/WriteImgRes.c ****                         outfp = fopen(filename, "wb+");
 6563              	LM473:
 6564 38e1 C7442404 		movl	$LC102, 4(%esp)
 6564      88310000 
 6565 38e9 8D85F8DF 		leal	-8200(%ebp), %eax
 6565      FFFF
 6566 38ef 890424   		movl	%eax, (%esp)
 6567 38f2 E8000000 		call	_fopen
 6567      00
 6568 38f7 8985A8D7 		movl	%eax, -10328(%ebp)
 6568      FFFF
1784:../../MMI/Resource/WriteImgRes.c ****                         if (outfp != NULL)
 6570              	LM474:
 6571 38fd 83BDA8D7 		cmpl	$0, -10328(%ebp)
 6571      FFFF00
 6572 3904 7462     		je	L300
1785:../../MMI/Resource/WriteImgRes.c ****                         {
1786:../../MMI/Resource/WriteImgRes.c ****                             S32 wsize;
1787:../../MMI/Resource/WriteImgRes.c **** 		                        
1788:../../MMI/Resource/WriteImgRes.c ****                             wsize = fwrite(buffer, sizeof(U8), risize, outfp);
 6574              	LM475:
 6575              	LBB47:
 6576 3906 8B85A8D7 		movl	-10328(%ebp), %eax
 6576      FFFF
 6577 390c 8944240C 		movl	%eax, 12(%esp)
 6578 3910 8B8594D7 		movl	-10348(%ebp), %eax
 6578      FFFF
 6579 3916 89442408 		movl	%eax, 8(%esp)
 6580 391a C7442404 		movl	$1, 4(%esp)
 6580      01000000 
 6581 3922 8B85BCD7 		movl	-10308(%ebp), %eax
 6581      FFFF
 6582 3928 890424   		movl	%eax, (%esp)
 6583 392b E8000000 		call	_fwrite
 6583      00
 6584 3930 898590D7 		movl	%eax, -10352(%ebp)
 6584      FFFF
1789:../../MMI/Resource/WriteImgRes.c ****                             if (wsize != risize)
 6586              	LM476:
 6587 3936 8B8590D7 		movl	-10352(%ebp), %eax
 6587      FFFF
 6588 393c 3B8594D7 		cmpl	-10348(%ebp), %eax
 6588      FFFF
 6589 3942 7416     		je	L301
1790:../../MMI/Resource/WriteImgRes.c ****                             {
1791:../../MMI/Resource/WriteImgRes.c ****                                 RES_PRINT_INFO("[BMP->ABM sequence] write size not match:\t%s\n", f
 6591              	LM477:
 6592 3944 8D85F8DF 		leal	-8200(%ebp), %eax
 6592      FFFF
 6593 394a 89442404 		movl	%eax, 4(%esp)
 6594 394e C7042420 		movl	$LC105, (%esp)
 6594      320000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 120


 6595 3955 E8000000 		call	_MtkResgenTrace
 6595      00
 6596              	L301:
1792:../../MMI/Resource/WriteImgRes.c ****                             }
1793:../../MMI/Resource/WriteImgRes.c ****                             fclose(outfp);
 6598              	LM478:
 6599 395a 8B85A8D7 		movl	-10328(%ebp), %eax
 6599      FFFF
 6600 3960 890424   		movl	%eax, (%esp)
 6601 3963 E8000000 		call	_fclose
 6601      00
 6602              	L300:
1794:../../MMI/Resource/WriteImgRes.c ****                         }
1795:../../MMI/Resource/WriteImgRes.c ****                         sequential_filesize[j] = isize;
 6604              	LM479:
 6605              	LBE47:
 6606 3968 8B95D0DF 		movl	-8240(%ebp), %edx
 6606      FFFF
 6607 396e 8B8598D7 		movl	-10344(%ebp), %eax
 6607      FFFF
 6608 3974 898495F8 		movl	%eax, -2056(%ebp,%edx,4)
 6608      F7FFFF
 6609              	LBE46:
 6610 397b EB16     		jmp	L297
 6611              	L298:
1796:../../MMI/Resource/WriteImgRes.c ****                     }
1797:../../MMI/Resource/WriteImgRes.c ****                     else
1798:../../MMI/Resource/WriteImgRes.c ****                     {
1799:../../MMI/Resource/WriteImgRes.c ****                         RES_PRINT_INFO("[BMP->ABM sequence] err encode format:\t%s\n", filename);
 6613              	LM480:
 6614 397d 8D85F8DF 		leal	-8200(%ebp), %eax
 6614      FFFF
 6615 3983 89442404 		movl	%eax, 4(%esp)
 6616 3987 C7042460 		movl	$LC106, (%esp)
 6616      320000
 6617 398e E8000000 		call	_MtkResgenTrace
 6617      00
 6618              	L297:
1800:../../MMI/Resource/WriteImgRes.c ****                     }
1801:../../MMI/Resource/WriteImgRes.c ****                 }
1802:../../MMI/Resource/WriteImgRes.c **** 
1803:../../MMI/Resource/WriteImgRes.c ****                 free(buffer);
 6620              	LM481:
 6621 3993 8B85BCD7 		movl	-10308(%ebp), %eax
 6621      FFFF
 6622 3999 890424   		movl	%eax, (%esp)
 6623 399c E8000000 		call	_free
 6623      00
 6624              	LBE44:
 6625 39a1 E9F60200 		jmp	L303
 6625      00
 6626              	L292:
1804:../../MMI/Resource/WriteImgRes.c ****             }
1805:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_BLENDING__) //&& !defined(GDI_USING_HW_PNG)
1806:../../MMI/Resource/WriteImgRes.c ****             /* If PNG, we will convert it to ABM or AB2 */
1807:../../MMI/Resource/WriteImgRes.c ****             else if (sequential_image[type].file_type == IMAGE_TYPE_ABM_SEQUENCE ||
 6628              	LM482:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 121


 6629 39a6 8B85E4DF 		movl	-8220(%ebp), %eax
 6629      FFFF
 6630 39ac 803CC504 		cmpb	$41, _sequential_image+4(,%eax,8)
 6630      00000029 
 6631 39b4 742F     		je	L305
 6632 39b6 8B85E4DF 		movl	-8220(%ebp), %eax
 6632      FFFF
 6633 39bc 803CC504 		cmpb	$53, _sequential_image+4(,%eax,8)
 6633      00000035 
 6634 39c4 741F     		je	L305
 6635 39c6 8B85E4DF 		movl	-8220(%ebp), %eax
 6635      FFFF
 6636 39cc 803CC504 		cmpb	$21, _sequential_image+4(,%eax,8)
 6636      00000015 
 6637 39d4 0F856B02 		jne	L304
 6637      0000
 6638 39da 837D1804 		cmpl	$4, 24(%ebp)
 6639 39de 7405     		je	L305
 6640 39e0 E9600200 		jmp	L304
 6640      00
 6641              	L305:
1808:../../MMI/Resource/WriteImgRes.c ****                 sequential_image[type].file_type == IMAGE_TYPE_AB2_SEQUENCE ||
1809:../../MMI/Resource/WriteImgRes.c ****                 (sequential_image[type].file_type == IMAGE_TYPE_PNG_SEQUENCE && force_type == FORCE
1810:../../MMI/Resource/WriteImgRes.c ****             {
1811:../../MMI/Resource/WriteImgRes.c ****                 S8 tempBMPFile[BUFFER_SIZE];
1812:../../MMI/Resource/WriteImgRes.c ****                 S8 tempCommand[SHELL_CMD_BUFLEN];
1813:../../MMI/Resource/WriteImgRes.c ****                 U8 *buffer;
1814:../../MMI/Resource/WriteImgRes.c ****                 S32 size, width, height, ret;
1815:../../MMI/Resource/WriteImgRes.c ****                 FILE *outfp = NULL;
 6643              	LM483:
 6644              	LBB48:
 6645 39e5 C785A4D7 		movl	$0, -10332(%ebp)
 6645      FFFF0000 
 6645      0000
1816:../../MMI/Resource/WriteImgRes.c **** 
1817:../../MMI/Resource/WriteImgRes.c ****                 const char *ext = "abms";
 6647              	LM484:
 6648 39ef C785A8D7 		movl	$LC100, -10328(%ebp)
 6648      FFFF4F31 
 6648      0000
1818:../../MMI/Resource/WriteImgRes.c ****                 U32 encode_option = ABM_ENC_OPTION_FLAG_ABM; /* ABM exactly */
 6650              	LM485:
 6651 39f9 C785ACD7 		movl	$2, -10324(%ebp)
 6651      FFFF0200 
 6651      0000
1819:../../MMI/Resource/WriteImgRes.c ****                 U32 want_ret = ABM_ENC_RETURN_USE_ABM;
 6653              	LM486:
 6654 3a03 C785BCD7 		movl	$1, -10308(%ebp)
 6654      FFFF0100 
 6654      0000
1820:../../MMI/Resource/WriteImgRes.c **** 
1821:../../MMI/Resource/WriteImgRes.c ****                 /* decide which format */
1822:../../MMI/Resource/WriteImgRes.c ****                 if (sequential_image[type].file_type == IMAGE_TYPE_AB2_SEQUENCE)
 6656              	LM487:
 6657 3a0d 8B85E4DF 		movl	-8220(%ebp), %eax
 6657      FFFF
 6658 3a13 803CC504 		cmpb	$53, _sequential_image+4(,%eax,8)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 122


 6658      00000035 
 6659 3a1b 751E     		jne	L306
1823:../../MMI/Resource/WriteImgRes.c ****                 {
1824:../../MMI/Resource/WriteImgRes.c ****                     const char *ext = "ab2s";
 6661              	LM488:
 6662              	LBB49:
 6663 3a1d C78514C5 		movl	$LC107, -15084(%ebp)
 6663      FFFF8B32 
 6663      0000
1825:../../MMI/Resource/WriteImgRes.c ****                     U32 encode_option = ABM_ENC_OPTION_FLAG_AB2; /* AB2 exactly */
 6665              	LM489:
 6666 3a27 C78510C5 		movl	$4, -15088(%ebp)
 6666      FFFF0400 
 6666      0000
1826:../../MMI/Resource/WriteImgRes.c ****                     U32 want_ret = ABM_ENC_RETURN_USE_AB2;
 6668              	LM490:
 6669 3a31 C7850CC5 		movl	$2, -15092(%ebp)
 6669      FFFF0200 
 6669      0000
 6670              	L306:
1827:../../MMI/Resource/WriteImgRes.c ****                 }
1828:../../MMI/Resource/WriteImgRes.c **** 
1829:../../MMI/Resource/WriteImgRes.c ****                 /* convert PNG to 32-bits BMP */
1830:../../MMI/Resource/WriteImgRes.c ****                 strcpy((char*)tempBMPFile, (const char*)filename);
 6672              	LM491:
 6673              	LBE49:
 6674 3a3b 8D85F8DF 		leal	-8200(%ebp), %eax
 6674      FFFF
 6675 3a41 89442404 		movl	%eax, 4(%esp)
 6676 3a45 8D8588C7 		leal	-14456(%ebp), %eax
 6676      FFFF
 6677 3a4b 890424   		movl	%eax, (%esp)
 6678 3a4e E8000000 		call	_strcpy
 6678      00
1831:../../MMI/Resource/WriteImgRes.c ****                 ChangeExtension(tempBMPFile, RES_IMAGE, IMAGE_TYPE_BMP);
 6680              	LM492:
 6681 3a53 C7442408 		movl	$1, 8(%esp)
 6681      01000000 
 6682 3a5b C7442404 		movl	$0, 4(%esp)
 6682      00000000 
 6683 3a63 8D8588C7 		leal	-14456(%ebp), %eax
 6683      FFFF
 6684 3a69 890424   		movl	%eax, (%esp)
 6685 3a6c E8000000 		call	_ChangeExtension
 6685      00
1832:../../MMI/Resource/WriteImgRes.c ****                 //sprintf(tempCommand, ".\\\\convert.exe -channel Alpha -negate -compress none %s %
1833:../../MMI/Resource/WriteImgRes.c ****                 sprintf(tempCommand, ".\\\\convert.exe -channel Alpha -negate -compress none %s %s 
 6687              	LM493:
 6688 3a71 8D8588C7 		leal	-14456(%ebp), %eax
 6688      FFFF
 6689 3a77 8944240C 		movl	%eax, 12(%esp)
 6690 3a7b 8D85F8DF 		leal	-8200(%ebp), %eax
 6690      FFFF
 6691 3a81 89442408 		movl	%eax, 8(%esp)
 6692 3a85 C7442404 		movl	$LC108, 4(%esp)
 6692      A0320000 
 6693 3a8d 8D8518C5 		leal	-15080(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 123


 6693      FFFF
 6694 3a93 890424   		movl	%eax, (%esp)
 6695 3a96 E8000000 		call	_sprintf
 6695      00
1834:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("%s\n", tempCommand);
 6697              	LM494:
 6698 3a9b 8D8518C5 		leal	-15080(%ebp), %eax
 6698      FFFF
 6699 3aa1 89442404 		movl	%eax, 4(%esp)
 6700 3aa5 C7042449 		movl	$LC52, (%esp)
 6700      0C0000
 6701 3aac E8000000 		call	_MtkResgenTrace
 6701      00
1835:../../MMI/Resource/WriteImgRes.c ****                 system(tempCommand);
 6703              	LM495:
 6704 3ab1 8D8518C5 		leal	-15080(%ebp), %eax
 6704      FFFF
 6705 3ab7 890424   		movl	%eax, (%esp)
 6706 3aba E8000000 		call	_system
 6706      00
1836:../../MMI/Resource/WriteImgRes.c **** 
1837:../../MMI/Resource/WriteImgRes.c ****                 /* convert 32-bits BMP to ABM */
1838:../../MMI/Resource/WriteImgRes.c ****                 buffer = (U8*)malloc(ABMENC_BMP_FILE_BUFFER_SIZE*sizeof(U8));
 6708              	LM496:
 6709 3abf C7042400 		movl	$16777216, (%esp)
 6709      000001
 6710 3ac6 E8000000 		call	_malloc
 6710      00
 6711 3acb 898590D7 		movl	%eax, -10352(%ebp)
 6711      FFFF
1839:../../MMI/Resource/WriteImgRes.c ****                 ASSERT(buffer != NULL);
 6713              	LM497:
 6714 3ad1 83BD90D7 		cmpl	$0, -10352(%ebp)
 6714      FFFF00
 6715 3ad8 7502     		jne	L311
 6716              	L308:
 6717 3ada EBFE     		jmp	L308
 6718              	L311:
1840:../../MMI/Resource/WriteImgRes.c **** 
1841:../../MMI/Resource/WriteImgRes.c ****                 ret = ABM_load(tempBMPFile,
 6720              	LM498:
 6721 3adc 8B451C   		movl	28(%ebp), %eax
 6722 3adf 89442424 		movl	%eax, 36(%esp)
 6723 3ae3 8B4514   		movl	20(%ebp), %eax
 6724 3ae6 89442420 		movl	%eax, 32(%esp)
 6725 3aea 8D859CD7 		leal	-10340(%ebp), %eax
 6725      FFFF
 6726 3af0 8944241C 		movl	%eax, 28(%esp)
 6727 3af4 8D8598D7 		leal	-10344(%ebp), %eax
 6727      FFFF
 6728 3afa 89442418 		movl	%eax, 24(%esp)
 6729 3afe 8D8594D7 		leal	-10348(%ebp), %eax
 6729      FFFF
 6730 3b04 89442414 		movl	%eax, 20(%esp)
 6731 3b08 8B8590D7 		movl	-10352(%ebp), %eax
 6731      FFFF
 6732 3b0e 89442410 		movl	%eax, 16(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 124


 6733 3b12 8B85ACD7 		movl	-10324(%ebp), %eax
 6733      FFFF
 6734 3b18 8944240C 		movl	%eax, 12(%esp)
 6735 3b1c C7442408 		movl	$19, 8(%esp)
 6735      13000000 
 6736 3b24 C7442404 		movl	$16, 4(%esp)
 6736      10000000 
 6737 3b2c 8D8588C7 		leal	-14456(%ebp), %eax
 6737      FFFF
 6738 3b32 890424   		movl	%eax, (%esp)
 6739 3b35 E8000000 		call	_ABM_load
 6739      00
 6740 3b3a 8985A0D7 		movl	%eax, -10336(%ebp)
 6740      FFFF
1842:../../MMI/Resource/WriteImgRes.c ****                         __MMI_DEVICE_BMP_FORMAT__,
1843:../../MMI/Resource/WriteImgRes.c ****                         IMAGE_TYPE_PNG, /* non PBM */
1844:../../MMI/Resource/WriteImgRes.c ****                         encode_option,
1845:../../MMI/Resource/WriteImgRes.c ****                         buffer,
1846:../../MMI/Resource/WriteImgRes.c ****                         &size, &width, &height, is9slice, processData);
1847:../../MMI/Resource/WriteImgRes.c **** 
1848:../../MMI/Resource/WriteImgRes.c ****                 sequential_filesize[j] = size;
 6742              	LM499:
 6743 3b40 8B95D0DF 		movl	-8240(%ebp), %edx
 6743      FFFF
 6744 3b46 8B8594D7 		movl	-10348(%ebp), %eax
 6744      FFFF
 6745 3b4c 898495F8 		movl	%eax, -2056(%ebp,%edx,4)
 6745      F7FFFF
1849:../../MMI/Resource/WriteImgRes.c **** 
1850:../../MMI/Resource/WriteImgRes.c ****                 sprintf(tempBMPFile, "%s\\\\%d.%s", pathname, j, ext);
 6747              	LM500:
 6748 3b53 8B85A8D7 		movl	-10328(%ebp), %eax
 6748      FFFF
 6749 3b59 89442410 		movl	%eax, 16(%esp)
 6750 3b5d 8B85D0DF 		movl	-8240(%ebp), %eax
 6750      FFFF
 6751 3b63 8944240C 		movl	%eax, 12(%esp)
 6752 3b67 8B4508   		movl	8(%ebp), %eax
 6753 3b6a 89442408 		movl	%eax, 8(%esp)
 6754 3b6e C7442404 		movl	$LC99, 4(%esp)
 6754      45310000 
 6755 3b76 8D8588C7 		leal	-14456(%ebp), %eax
 6755      FFFF
 6756 3b7c 890424   		movl	%eax, (%esp)
 6757 3b7f E8000000 		call	_sprintf
 6757      00
1851:../../MMI/Resource/WriteImgRes.c ****                 if (ret == want_ret)
 6759              	LM501:
 6760 3b84 8B85A0D7 		movl	-10336(%ebp), %eax
 6760      FFFF
 6761 3b8a 3B85BCD7 		cmpl	-10308(%ebp), %eax
 6761      FFFF
 6762 3b90 0F858900 		jne	L312
 6762      0000
1852:../../MMI/Resource/WriteImgRes.c ****                 {
1853:../../MMI/Resource/WriteImgRes.c ****                     outfp = fopen(tempBMPFile, "wb+");
 6764              	LM502:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 125


 6765 3b96 C7442404 		movl	$LC102, 4(%esp)
 6765      88310000 
 6766 3b9e 8D8588C7 		leal	-14456(%ebp), %eax
 6766      FFFF
 6767 3ba4 890424   		movl	%eax, (%esp)
 6768 3ba7 E8000000 		call	_fopen
 6768      00
 6769 3bac 8985A4D7 		movl	%eax, -10332(%ebp)
 6769      FFFF
1854:../../MMI/Resource/WriteImgRes.c ****                     if (outfp != NULL)
 6771              	LM503:
 6772 3bb2 83BDA4D7 		cmpl	$0, -10332(%ebp)
 6772      FFFF00
 6773 3bb9 747A     		je	L315
1855:../../MMI/Resource/WriteImgRes.c ****                     {
1856:../../MMI/Resource/WriteImgRes.c ****                         S32 wsize;
1857:../../MMI/Resource/WriteImgRes.c **** 
1858:../../MMI/Resource/WriteImgRes.c ****                         wsize = fwrite(buffer, sizeof(U8), size, outfp);
 6775              	LM504:
 6776              	LBB50:
 6777 3bbb 8B85A4D7 		movl	-10332(%ebp), %eax
 6777      FFFF
 6778 3bc1 8944240C 		movl	%eax, 12(%esp)
 6779 3bc5 8B8594D7 		movl	-10348(%ebp), %eax
 6779      FFFF
 6780 3bcb 89442408 		movl	%eax, 8(%esp)
 6781 3bcf C7442404 		movl	$1, 4(%esp)
 6781      01000000 
 6782 3bd7 8B8590D7 		movl	-10352(%ebp), %eax
 6782      FFFF
 6783 3bdd 890424   		movl	%eax, (%esp)
 6784 3be0 E8000000 		call	_fwrite
 6784      00
 6785 3be5 89850CC5 		movl	%eax, -15092(%ebp)
 6785      FFFF
1859:../../MMI/Resource/WriteImgRes.c ****                         if (wsize != size)
 6787              	LM505:
 6788 3beb 8B850CC5 		movl	-15092(%ebp), %eax
 6788      FFFF
 6789 3bf1 3B8594D7 		cmpl	-10348(%ebp), %eax
 6789      FFFF
 6790 3bf7 7416     		je	L314
1860:../../MMI/Resource/WriteImgRes.c ****                         {
1861:../../MMI/Resource/WriteImgRes.c ****                             RES_PRINT_INFO("[ABM sequence] size not match:\t%s\n", tempBMPFile);
 6792              	LM506:
 6793 3bf9 8D8588C7 		leal	-14456(%ebp), %eax
 6793      FFFF
 6794 3bff 89442404 		movl	%eax, 4(%esp)
 6795 3c03 C7042400 		movl	$LC109, (%esp)
 6795      330000
 6796 3c0a E8000000 		call	_MtkResgenTrace
 6796      00
 6797              	L314:
1862:../../MMI/Resource/WriteImgRes.c ****                         }
1863:../../MMI/Resource/WriteImgRes.c ****                         fclose(outfp);
 6799              	LM507:
 6800 3c0f 8B85A4D7 		movl	-10332(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 126


 6800      FFFF
 6801 3c15 890424   		movl	%eax, (%esp)
 6802 3c18 E8000000 		call	_fclose
 6802      00
 6803              	LBE50:
 6804 3c1d EB16     		jmp	L315
 6805              	L312:
1864:../../MMI/Resource/WriteImgRes.c ****                     }
1865:../../MMI/Resource/WriteImgRes.c ****                 }
1866:../../MMI/Resource/WriteImgRes.c ****                 else
1867:../../MMI/Resource/WriteImgRes.c ****                 {
1868:../../MMI/Resource/WriteImgRes.c ****                     RES_PRINT_INFO("[ABM sequence] err encode format:\t%s\n", tempBMPFile);
 6807              	LM508:
 6808 3c1f 8D8588C7 		leal	-14456(%ebp), %eax
 6808      FFFF
 6809 3c25 89442404 		movl	%eax, 4(%esp)
 6810 3c29 C7042440 		movl	$LC110, (%esp)
 6810      330000
 6811 3c30 E8000000 		call	_MtkResgenTrace
 6811      00
 6812              	L315:
1869:../../MMI/Resource/WriteImgRes.c ****                 }
1870:../../MMI/Resource/WriteImgRes.c **** 
1871:../../MMI/Resource/WriteImgRes.c ****                 free(buffer);
 6814              	LM509:
 6815 3c35 8B8590D7 		movl	-10352(%ebp), %eax
 6815      FFFF
 6816 3c3b 890424   		movl	%eax, (%esp)
 6817 3c3e E8000000 		call	_free
 6817      00
 6818              	LBE48:
 6819 3c43 EB57     		jmp	L303
 6820              	L304:
1872:../../MMI/Resource/WriteImgRes.c ****             }
1873:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG) */
1874:../../MMI/Resource/WriteImgRes.c ****             else
1875:../../MMI/Resource/WriteImgRes.c ****             {
1876:../../MMI/Resource/WriteImgRes.c ****                 fseek(imgfp, 0, SEEK_END);
 6822              	LM510:
 6823 3c45 C7442408 		movl	$2, 8(%esp)
 6823      02000000 
 6824 3c4d C7442404 		movl	$0, 4(%esp)
 6824      00000000 
 6825 3c55 8B85F4DF 		movl	-8204(%ebp), %eax
 6825      FFFF
 6826 3c5b 890424   		movl	%eax, (%esp)
 6827 3c5e E8000000 		call	_fseek
 6827      00
1877:../../MMI/Resource/WriteImgRes.c ****                 sequential_filesize[j] = ftell(imgfp);
 6829              	LM511:
 6830 3c63 8B9DD0DF 		movl	-8240(%ebp), %ebx
 6830      FFFF
 6831 3c69 8B85F4DF 		movl	-8204(%ebp), %eax
 6831      FFFF
 6832 3c6f 890424   		movl	%eax, (%esp)
 6833 3c72 E8000000 		call	_ftell
 6833      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 127


 6834 3c77 89849DF8 		movl	%eax, -2056(%ebp,%ebx,4)
 6834      F7FFFF
1878:../../MMI/Resource/WriteImgRes.c ****                 fseek(imgfp, 0, SEEK_SET);
 6836              	LM512:
 6837 3c7e C7442408 		movl	$0, 8(%esp)
 6837      00000000 
 6838 3c86 C7442404 		movl	$0, 4(%esp)
 6838      00000000 
 6839 3c8e 8B85F4DF 		movl	-8204(%ebp), %eax
 6839      FFFF
 6840 3c94 890424   		movl	%eax, (%esp)
 6841 3c97 E8000000 		call	_fseek
 6841      00
 6842              	L303:
1879:../../MMI/Resource/WriteImgRes.c ****             }
1880:../../MMI/Resource/WriteImgRes.c **** 
1881:../../MMI/Resource/WriteImgRes.c ****             MYFCLOSE(imgfp);
 6844              	LM513:
 6845 3c9c 83BDF4DF 		cmpl	$0, -8204(%ebp)
 6845      FFFF00
 6846 3ca3 7429     		je	L289
 6847 3ca5 8B85F4DF 		movl	-8204(%ebp), %eax
 6847      FFFF
 6848 3cab 890424   		movl	%eax, (%esp)
 6849 3cae E8000000 		call	_fclose
 6849      00
 6850 3cb3 C785F4DF 		movl	$0, -8204(%ebp)
 6850      FFFF0000 
 6850      0000
 6851 3cbd EB0F     		jmp	L289
 6852              	L291:
1882:../../MMI/Resource/WriteImgRes.c ****         }
1883:../../MMI/Resource/WriteImgRes.c ****         else
1884:../../MMI/Resource/WriteImgRes.c ****         {
1885:../../MMI/Resource/WriteImgRes.c ****             return MMI_FALSE;
 6854              	LM514:
 6855 3cbf C78508C5 		movl	$0, -15096(%ebp)
 6855      FFFF0000 
 6855      0000
 6856 3cc9 E9160400 		jmp	L271
 6856      00
 6858              	LM515:
 6859              	L289:
 6860 3cce 8D85D0DF 		leal	-8240(%ebp), %eax
 6860      FFFF
 6861 3cd4 FF00     		incl	(%eax)
 6862 3cd6 E9E3F8FF 		jmp	L287
 6862      FF
 6863              	L288:
1886:../../MMI/Resource/WriteImgRes.c ****         }
1887:../../MMI/Resource/WriteImgRes.c ****     }
1888:../../MMI/Resource/WriteImgRes.c **** 
1889:../../MMI/Resource/WriteImgRes.c ****     /* write each image raw data */
1890:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1891:../../MMI/Resource/WriteImgRes.c ****     sprintf(filename, "%s\\\\0.%s", pathname, sequential_image[type].filename_ext);
1892:../../MMI/Resource/WriteImgRes.c ****     enfb_ret = Image_Test(filename, &enfb_width, &enfb_height, processData->disable_enfb);
1893:../../MMI/Resource/WriteImgRes.c ****     if (enfb_ret!= ENFB_IMAGE_NONE)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 128


1894:../../MMI/Resource/WriteImgRes.c ****     {
1895:../../MMI/Resource/WriteImgRes.c ****         processData->enfb_flag = 1;
1896:../../MMI/Resource/WriteImgRes.c ****         if (enfb_ret == ENFB_IMAGE_ASSOCIATE)
1897:../../MMI/Resource/WriteImgRes.c ****         {
1898:../../MMI/Resource/WriteImgRes.c ****             ENFBAssociatedIDAdded = MMI_TRUE;
1899:../../MMI/Resource/WriteImgRes.c ****         }
1900:../../MMI/Resource/WriteImgRes.c ****     }
1901:../../MMI/Resource/WriteImgRes.c **** #endif
1902:../../MMI/Resource/WriteImgRes.c **** 
1903:../../MMI/Resource/WriteImgRes.c ****     sequential_frame = sequence_counter;
 6865              	LM516:
 6866 3cdb 8B85ECDF 		movl	-8212(%ebp), %eax
 6866      FFFF
 6867 3ce1 8985F0DF 		movl	%eax, -8208(%ebp)
 6867      FFFF
1904:../../MMI/Resource/WriteImgRes.c **** 
1905:../../MMI/Resource/WriteImgRes.c ****     /* construct the data structure name */
1906:../../MMI/Resource/WriteImgRes.c ****     ImageOutStreamPrintf(outstream, "__align(4) const U8 %s%s", output_name, OUTPUT_IMAGE_NAMES_END
 6869              	LM517:
 6870 3ce7 C744240C 		movl	$LC77, 12(%esp)
 6870      41250000 
 6871 3cef 8B450C   		movl	12(%ebp), %eax
 6872 3cf2 89442408 		movl	%eax, 8(%esp)
 6873 3cf6 C7442404 		movl	$LC111, 4(%esp)
 6873      66330000 
 6874 3cfe 8B4510   		movl	16(%ebp), %eax
 6875 3d01 890424   		movl	%eax, (%esp)
 6876 3d04 E8000000 		call	_ImageOutStreamPrintf
 6876      00
1907:../../MMI/Resource/WriteImgRes.c **** 
1908:../../MMI/Resource/WriteImgRes.c ****     /* get width and height */
1909:../../MMI/Resource/WriteImgRes.c ****     for (j = 0; j < sequence_counter; j++)
 6878              	LM518:
 6879 3d09 C785D0DF 		movl	$0, -8240(%ebp)
 6879      FFFF0000 
 6879      0000
 6880              	L320:
 6881 3d13 8B85D0DF 		movl	-8240(%ebp), %eax
 6881      FFFF
 6882 3d19 3B85ECDF 		cmpl	-8212(%ebp), %eax
 6882      FFFF
 6883 3d1f 7C05     		jl	L323
 6884 3d21 E9E30000 		jmp	L321
 6884      00
 6885              	L323:
1910:../../MMI/Resource/WriteImgRes.c ****     {
1911:../../MMI/Resource/WriteImgRes.c ****         sprintf(filename, "%s\\\\%d.%s", pathname, j, sequential_image[type].filename_ext);
 6887              	LM519:
 6888 3d26 8B85E4DF 		movl	-8220(%ebp), %eax
 6888      FFFF
 6889 3d2c 8B04C500 		movl	_sequential_image(,%eax,8), %eax
 6889      000000
 6890 3d33 89442410 		movl	%eax, 16(%esp)
 6891 3d37 8B85D0DF 		movl	-8240(%ebp), %eax
 6891      FFFF
 6892 3d3d 8944240C 		movl	%eax, 12(%esp)
 6893 3d41 8B4508   		movl	8(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 129


 6894 3d44 89442408 		movl	%eax, 8(%esp)
 6895 3d48 C7442404 		movl	$LC99, 4(%esp)
 6895      45310000 
 6896 3d50 8D85F8DF 		leal	-8200(%ebp), %eax
 6896      FFFF
 6897 3d56 890424   		movl	%eax, (%esp)
 6898 3d59 E8000000 		call	_sprintf
 6898      00
1912:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(filename) )
 6900              	LM520:
 6901 3d5e 8D85F8DF 		leal	-8200(%ebp), %eax
 6901      FFFF
 6902 3d64 890424   		movl	%eax, (%esp)
 6903 3d67 E8000000 		call	_file_exist
 6903      00
 6904 3d6c 85C0     		testl	%eax, %eax
 6905 3d6e 747D     		je	L324
1913:../../MMI/Resource/WriteImgRes.c ****         {
1914:../../MMI/Resource/WriteImgRes.c ****             n_frames = Image_Get_Dimensions(filename, &width, &height);
 6907              	LM521:
 6908 3d70 8D85DCDF 		leal	-8228(%ebp), %eax
 6908      FFFF
 6909 3d76 89442408 		movl	%eax, 8(%esp)
 6910 3d7a 8D85E0DF 		leal	-8224(%ebp), %eax
 6910      FFFF
 6911 3d80 89442404 		movl	%eax, 4(%esp)
 6912 3d84 8D85F8DF 		leal	-8200(%ebp), %eax
 6912      FFFF
 6913 3d8a 890424   		movl	%eax, (%esp)
 6914 3d8d E8000000 		call	_Image_Get_Dimensions
 6914      00
 6915 3d92 8985E8DF 		movl	%eax, -8216(%ebp)
 6915      FFFF
1915:../../MMI/Resource/WriteImgRes.c ****             if (n_frames < 1)
 6917              	LM522:
 6918 3d98 83BDE8DF 		cmpl	$0, -8216(%ebp)
 6918      FFFF00
 6919 3d9f 7F16     		jg	L325
1916:../../MMI/Resource/WriteImgRes.c ****             {
1917:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("Image get dimensions failed:\t%s\n", filename);
 6921              	LM523:
 6922 3da1 8D85F8DF 		leal	-8200(%ebp), %eax
 6922      FFFF
 6923 3da7 89442404 		movl	%eax, 4(%esp)
 6924 3dab C7042480 		movl	$LC112, (%esp)
 6924      330000
 6925 3db2 E8000000 		call	_MtkResgenTrace
 6925      00
 6926              	L325:
1918:../../MMI/Resource/WriteImgRes.c ****             }
1919:../../MMI/Resource/WriteImgRes.c ****             if (width > seq_max_width)
 6928              	LM524:
 6929 3db7 8B85E0DF 		movl	-8224(%ebp), %eax
 6929      FFFF
 6930 3dbd 3B85D8DF 		cmpl	-8232(%ebp), %eax
 6930      FFFF
 6931 3dc3 760C     		jbe	L326
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 130


1920:../../MMI/Resource/WriteImgRes.c ****             {
1921:../../MMI/Resource/WriteImgRes.c ****                 seq_max_width = width;
 6933              	LM525:
 6934 3dc5 8B85E0DF 		movl	-8224(%ebp), %eax
 6934      FFFF
 6935 3dcb 8985D8DF 		movl	%eax, -8232(%ebp)
 6935      FFFF
 6936              	L326:
1922:../../MMI/Resource/WriteImgRes.c ****             }
1923:../../MMI/Resource/WriteImgRes.c ****             if (height > seq_max_height)
 6938              	LM526:
 6939 3dd1 8B85DCDF 		movl	-8228(%ebp), %eax
 6939      FFFF
 6940 3dd7 3B85D4DF 		cmpl	-8236(%ebp), %eax
 6940      FFFF
 6941 3ddd 761D     		jbe	L322
1924:../../MMI/Resource/WriteImgRes.c ****             {
1925:../../MMI/Resource/WriteImgRes.c ****                 seq_max_height = height;
 6943              	LM527:
 6944 3ddf 8B85DCDF 		movl	-8228(%ebp), %eax
 6944      FFFF
 6945 3de5 8985D4DF 		movl	%eax, -8236(%ebp)
 6945      FFFF
 6946 3deb EB0F     		jmp	L322
 6947              	L324:
1926:../../MMI/Resource/WriteImgRes.c ****             }
1927:../../MMI/Resource/WriteImgRes.c ****         }
1928:../../MMI/Resource/WriteImgRes.c ****         else
1929:../../MMI/Resource/WriteImgRes.c ****         {
1930:../../MMI/Resource/WriteImgRes.c ****             return MMI_FALSE;
 6949              	LM528:
 6950 3ded C78508C5 		movl	$0, -15096(%ebp)
 6950      FFFF0000 
 6950      0000
 6951 3df7 E9E80200 		jmp	L271
 6951      00
 6953              	LM529:
 6954              	L322:
 6955 3dfc 8D85D0DF 		leal	-8240(%ebp), %eax
 6955      FFFF
 6956 3e02 FF00     		incl	(%eax)
 6957 3e04 E90AFFFF 		jmp	L320
 6957      FF
 6958              	L321:
1931:../../MMI/Resource/WriteImgRes.c ****         }
1932:../../MMI/Resource/WriteImgRes.c ****     }
1933:../../MMI/Resource/WriteImgRes.c **** 
1934:../../MMI/Resource/WriteImgRes.c ****     /* write header of sequential images */
1935:../../MMI/Resource/WriteImgRes.c **** 
1936:../../MMI/Resource/WriteImgRes.c ****     if ((sequential_image[type].file_type == IMAGE_TYPE_PNG_SEQUENCE && force_type == FORCE_ABM_SEQ
 6960              	LM530:
 6961 3e09 8B85E4DF 		movl	-8220(%ebp), %eax
 6961      FFFF
 6962 3e0f 803CC504 		cmpb	$21, _sequential_image+4(,%eax,8)
 6962      00000015 
 6963 3e17 7506     		jne	L331
 6964 3e19 837D1804 		cmpl	$4, 24(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 131


 6965 3e1d 7418     		je	L330
 6966              	L331:
 6967 3e1f 8B85E4DF 		movl	-8220(%ebp), %eax
 6967      FFFF
 6968 3e25 803CC504 		cmpb	$2, _sequential_image+4(,%eax,8)
 6968      00000002 
 6969 3e2d 756B     		jne	L329
 6970 3e2f 837D1804 		cmpl	$4, 24(%ebp)
 6971 3e33 7402     		je	L330
 6972 3e35 EB63     		jmp	L329
 6973              	L330:
1937:../../MMI/Resource/WriteImgRes.c ****         (sequential_image[type].file_type == IMAGE_TYPE_BMP_SEQUENCE && force_type == FORCE_ABM_SEQ
1938:../../MMI/Resource/WriteImgRes.c ****     {
1939:../../MMI/Resource/WriteImgRes.c ****         Write_Sequential_Image_Header(outstream, IMAGE_TYPE_ABM_SEQUENCE, sequential_frame, play_co
 6975              	LM531:
 6976 3e37 8B451C   		movl	28(%ebp), %eax
 6977 3e3a 89442424 		movl	%eax, 36(%esp)
 6978 3e3e 8D85C8D7 		leal	-10296(%ebp), %eax
 6978      FFFF
 6979 3e44 89442420 		movl	%eax, 32(%esp)
 6980 3e48 8B85D4DF 		movl	-8236(%ebp), %eax
 6980      FFFF
 6981 3e4e 8944241C 		movl	%eax, 28(%esp)
 6982 3e52 8B85D8DF 		movl	-8232(%ebp), %eax
 6982      FFFF
 6983 3e58 89442418 		movl	%eax, 24(%esp)
 6984 3e5c 8D85F8EF 		leal	-4104(%ebp), %eax
 6984      FFFF
 6985 3e62 89442414 		movl	%eax, 20(%esp)
 6986 3e66 8D85F8F7 		leal	-2056(%ebp), %eax
 6986      FFFF
 6987 3e6c 89442410 		movl	%eax, 16(%esp)
 6988 3e70 0FB685CF 		movzbl	-8241(%ebp), %eax
 6988      DFFFFF
 6989 3e77 8944240C 		movl	%eax, 12(%esp)
 6990 3e7b 8B85F0DF 		movl	-8208(%ebp), %eax
 6990      FFFF
 6991 3e81 89442408 		movl	%eax, 8(%esp)
 6992 3e85 C7442404 		movl	$41, 4(%esp)
 6992      29000000 
 6993 3e8d 8B4510   		movl	16(%ebp), %eax
 6994 3e90 890424   		movl	%eax, (%esp)
 6995 3e93 E82AECFF 		call	_Write_Sequential_Image_Header
 6995      FF
 6996 3e98 EB6B     		jmp	L332
 6997              	L329:
1940:../../MMI/Resource/WriteImgRes.c ****     }
1941:../../MMI/Resource/WriteImgRes.c ****     else
1942:../../MMI/Resource/WriteImgRes.c ****     {
1943:../../MMI/Resource/WriteImgRes.c ****         Write_Sequential_Image_Header(outstream, sequential_image[type].file_type, sequential_frame
 6999              	LM532:
 7000 3e9a 8B451C   		movl	28(%ebp), %eax
 7001 3e9d 89442424 		movl	%eax, 36(%esp)
 7002 3ea1 8D85C8D7 		leal	-10296(%ebp), %eax
 7002      FFFF
 7003 3ea7 89442420 		movl	%eax, 32(%esp)
 7004 3eab 8B85D4DF 		movl	-8236(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 132


 7004      FFFF
 7005 3eb1 8944241C 		movl	%eax, 28(%esp)
 7006 3eb5 8B85D8DF 		movl	-8232(%ebp), %eax
 7006      FFFF
 7007 3ebb 89442418 		movl	%eax, 24(%esp)
 7008 3ebf 8D85F8EF 		leal	-4104(%ebp), %eax
 7008      FFFF
 7009 3ec5 89442414 		movl	%eax, 20(%esp)
 7010 3ec9 8D85F8F7 		leal	-2056(%ebp), %eax
 7010      FFFF
 7011 3ecf 89442410 		movl	%eax, 16(%esp)
 7012 3ed3 0FB685CF 		movzbl	-8241(%ebp), %eax
 7012      DFFFFF
 7013 3eda 8944240C 		movl	%eax, 12(%esp)
 7014 3ede 8B85F0DF 		movl	-8208(%ebp), %eax
 7014      FFFF
 7015 3ee4 89442408 		movl	%eax, 8(%esp)
 7016 3ee8 8B85E4DF 		movl	-8220(%ebp), %eax
 7016      FFFF
 7017 3eee 0FB604C5 		movzbl	_sequential_image+4(,%eax,8), %eax
 7017      04000000 
 7018 3ef6 89442404 		movl	%eax, 4(%esp)
 7019 3efa 8B4510   		movl	16(%ebp), %eax
 7020 3efd 890424   		movl	%eax, (%esp)
 7021 3f00 E8BDEBFF 		call	_Write_Sequential_Image_Header
 7021      FF
 7022              	L332:
1944:../../MMI/Resource/WriteImgRes.c ****     }
1945:../../MMI/Resource/WriteImgRes.c **** 
1946:../../MMI/Resource/WriteImgRes.c ****     /* load all files in the sequence   */
1947:../../MMI/Resource/WriteImgRes.c ****     for (j = 0; j < sequence_counter; j++)
 7024              	LM533:
 7025 3f05 C785D0DF 		movl	$0, -8240(%ebp)
 7025      FFFF0000 
 7025      0000
 7026              	L333:
 7027 3f0f 8B85D0DF 		movl	-8240(%ebp), %eax
 7027      FFFF
 7028 3f15 3B85ECDF 		cmpl	-8212(%ebp), %eax
 7028      FFFF
 7029 3f1b 7C05     		jl	L336
 7030 3f1d E9A50100 		jmp	L334
 7030      00
 7031              	L336:
1948:../../MMI/Resource/WriteImgRes.c ****     {
1949:../../MMI/Resource/WriteImgRes.c ****         if (sequential_image[type].file_type == IMAGE_TYPE_BMP_SEQUENCE && force_type == FORCE_ABM_
 7033              	LM534:
 7034 3f22 8B85E4DF 		movl	-8220(%ebp), %eax
 7034      FFFF
 7035 3f28 803CC504 		cmpb	$2, _sequential_image+4(,%eax,8)
 7035      00000002 
 7036 3f30 7532     		jne	L337
 7037 3f32 837D1804 		cmpl	$4, 24(%ebp)
 7038 3f36 752C     		jne	L337
1950:../../MMI/Resource/WriteImgRes.c ****         {
1951:../../MMI/Resource/WriteImgRes.c ****             sprintf(filename, "%s\\\\%d.abms", pathname, j);
 7040              	LM535:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 133


 7041 3f38 8B85D0DF 		movl	-8240(%ebp), %eax
 7041      FFFF
 7042 3f3e 8944240C 		movl	%eax, 12(%esp)
 7043 3f42 8B4508   		movl	8(%ebp), %eax
 7044 3f45 89442408 		movl	%eax, 8(%esp)
 7045 3f49 C7442404 		movl	$LC113, 4(%esp)
 7045      A1330000 
 7046 3f51 8D85F8DF 		leal	-8200(%ebp), %eax
 7046      FFFF
 7047 3f57 890424   		movl	%eax, (%esp)
 7048 3f5a E8000000 		call	_sprintf
 7048      00
 7049 3f5f E9C20000 		jmp	L338
 7049      00
 7050              	L337:
1952:../../MMI/Resource/WriteImgRes.c ****         }
1953:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_BLENDING__) //&& !defined(GDI_USING_HW_PNG)
1954:../../MMI/Resource/WriteImgRes.c ****         else if (sequential_image[type].file_type == IMAGE_TYPE_ABM_SEQUENCE ||
 7052              	LM536:
 7053 3f64 8B85E4DF 		movl	-8220(%ebp), %eax
 7053      FFFF
 7054 3f6a 803CC504 		cmpb	$41, _sequential_image+4(,%eax,8)
 7054      00000029 
 7055 3f72 7418     		je	L340
 7056 3f74 8B85E4DF 		movl	-8220(%ebp), %eax
 7056      FFFF
 7057 3f7a 803CC504 		cmpb	$21, _sequential_image+4(,%eax,8)
 7057      00000015 
 7058 3f82 7531     		jne	L339
 7059 3f84 837D1804 		cmpl	$4, 24(%ebp)
 7060 3f88 7402     		je	L340
 7061 3f8a EB29     		jmp	L339
 7062              	L340:
1955:../../MMI/Resource/WriteImgRes.c ****             (sequential_image[type].file_type == IMAGE_TYPE_PNG_SEQUENCE && force_type == FORCE_ABM
1956:../../MMI/Resource/WriteImgRes.c ****         {
1957:../../MMI/Resource/WriteImgRes.c ****             sprintf(filename, "%s\\\\%d.abms", pathname, j);
 7064              	LM537:
 7065 3f8c 8B85D0DF 		movl	-8240(%ebp), %eax
 7065      FFFF
 7066 3f92 8944240C 		movl	%eax, 12(%esp)
 7067 3f96 8B4508   		movl	8(%ebp), %eax
 7068 3f99 89442408 		movl	%eax, 8(%esp)
 7069 3f9d C7442404 		movl	$LC113, 4(%esp)
 7069      A1330000 
 7070 3fa5 8D85F8DF 		leal	-8200(%ebp), %eax
 7070      FFFF
 7071 3fab 890424   		movl	%eax, (%esp)
 7072 3fae E8000000 		call	_sprintf
 7072      00
 7073 3fb3 EB71     		jmp	L338
 7074              	L339:
1958:../../MMI/Resource/WriteImgRes.c ****         }
1959:../../MMI/Resource/WriteImgRes.c ****         else if (sequential_image[type].file_type == IMAGE_TYPE_AB2_SEQUENCE)
 7076              	LM538:
 7077 3fb5 8B85E4DF 		movl	-8220(%ebp), %eax
 7077      FFFF
 7078 3fbb 803CC504 		cmpb	$53, _sequential_image+4(,%eax,8)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 134


 7078      00000035 
 7079 3fc3 7529     		jne	L342
1960:../../MMI/Resource/WriteImgRes.c ****         {
1961:../../MMI/Resource/WriteImgRes.c ****             sprintf(filename, "%s\\\\%d.ab2s", pathname, j);
 7081              	LM539:
 7082 3fc5 8B85D0DF 		movl	-8240(%ebp), %eax
 7082      FFFF
 7083 3fcb 8944240C 		movl	%eax, 12(%esp)
 7084 3fcf 8B4508   		movl	8(%ebp), %eax
 7085 3fd2 89442408 		movl	%eax, 8(%esp)
 7086 3fd6 C7442404 		movl	$LC114, 4(%esp)
 7086      AD330000 
 7087 3fde 8D85F8DF 		leal	-8200(%ebp), %eax
 7087      FFFF
 7088 3fe4 890424   		movl	%eax, (%esp)
 7089 3fe7 E8000000 		call	_sprintf
 7089      00
 7090 3fec EB38     		jmp	L338
 7091              	L342:
1962:../../MMI/Resource/WriteImgRes.c ****         }
1963:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG) */
1964:../../MMI/Resource/WriteImgRes.c ****         else
1965:../../MMI/Resource/WriteImgRes.c ****         {
1966:../../MMI/Resource/WriteImgRes.c ****             sprintf(filename, "%s\\\\%d.%s", pathname, j, sequential_image[type].filename_ext);
 7093              	LM540:
 7094 3fee 8B85E4DF 		movl	-8220(%ebp), %eax
 7094      FFFF
 7095 3ff4 8B04C500 		movl	_sequential_image(,%eax,8), %eax
 7095      000000
 7096 3ffb 89442410 		movl	%eax, 16(%esp)
 7097 3fff 8B85D0DF 		movl	-8240(%ebp), %eax
 7097      FFFF
 7098 4005 8944240C 		movl	%eax, 12(%esp)
 7099 4009 8B4508   		movl	8(%ebp), %eax
 7100 400c 89442408 		movl	%eax, 8(%esp)
 7101 4010 C7442404 		movl	$LC99, 4(%esp)
 7101      45310000 
 7102 4018 8D85F8DF 		leal	-8200(%ebp), %eax
 7102      FFFF
 7103 401e 890424   		movl	%eax, (%esp)
 7104 4021 E8000000 		call	_sprintf
 7104      00
 7105              	L338:
1967:../../MMI/Resource/WriteImgRes.c ****         }
1968:../../MMI/Resource/WriteImgRes.c ****         imgfp = fopen(filename, "rb");
 7107              	LM541:
 7108 4026 C7442404 		movl	$LC58, 4(%esp)
 7108      F30C0000 
 7109 402e 8D85F8DF 		leal	-8200(%ebp), %eax
 7109      FFFF
 7110 4034 890424   		movl	%eax, (%esp)
 7111 4037 E8000000 		call	_fopen
 7111      00
 7112 403c 8985F4DF 		movl	%eax, -8204(%ebp)
 7112      FFFF
1969:../../MMI/Resource/WriteImgRes.c ****         if (imgfp != NULL)
 7114              	LM542:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 135


 7115 4042 83BDF4DF 		cmpl	$0, -8204(%ebp)
 7115      FFFF00
 7116 4049 7450     		je	L344
1970:../../MMI/Resource/WriteImgRes.c ****         {
1971:../../MMI/Resource/WriteImgRes.c ****             Write_Sequential_Image_File(outstream, imgfp, sequential_filesize[j], processData);
 7118              	LM543:
 7119 404b 8B451C   		movl	28(%ebp), %eax
 7120 404e 8944240C 		movl	%eax, 12(%esp)
 7121 4052 8B85D0DF 		movl	-8240(%ebp), %eax
 7121      FFFF
 7122 4058 8B8485F8 		movl	-2056(%ebp,%eax,4), %eax
 7122      F7FFFF
 7123 405f 89442408 		movl	%eax, 8(%esp)
 7124 4063 8B85F4DF 		movl	-8204(%ebp), %eax
 7124      FFFF
 7125 4069 89442404 		movl	%eax, 4(%esp)
 7126 406d 8B4510   		movl	16(%ebp), %eax
 7127 4070 890424   		movl	%eax, (%esp)
 7128 4073 E8F9EEFF 		call	_Write_Sequential_Image_File
 7128      FF
1972:../../MMI/Resource/WriteImgRes.c ****             MYFCLOSE(imgfp);
 7130              	LM544:
 7131 4078 83BDF4DF 		cmpl	$0, -8204(%ebp)
 7131      FFFF00
 7132 407f 7439     		je	L335
 7133 4081 8B85F4DF 		movl	-8204(%ebp), %eax
 7133      FFFF
 7134 4087 890424   		movl	%eax, (%esp)
 7135 408a E8000000 		call	_fclose
 7135      00
 7136 408f C785F4DF 		movl	$0, -8204(%ebp)
 7136      FFFF0000 
 7136      0000
 7137 4099 EB1F     		jmp	L335
 7138              	L344:
1973:../../MMI/Resource/WriteImgRes.c ****         }
1974:../../MMI/Resource/WriteImgRes.c ****         else
1975:../../MMI/Resource/WriteImgRes.c ****         {
1976:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n};\n");
 7140              	LM545:
 7141 409b C7442404 		movl	$LC115, 4(%esp)
 7141      B9330000 
 7142 40a3 8B4510   		movl	16(%ebp), %eax
 7143 40a6 890424   		movl	%eax, (%esp)
 7144 40a9 E8000000 		call	_ImageOutStreamPrintf
 7144      00
1977:../../MMI/Resource/WriteImgRes.c ****             return MMI_FALSE;
 7146              	LM546:
 7147 40ae C78508C5 		movl	$0, -15096(%ebp)
 7147      FFFF0000 
 7147      0000
 7148 40b8 EB2A     		jmp	L271
 7150              	LM547:
 7151              	L335:
 7152 40ba 8D85D0DF 		leal	-8240(%ebp), %eax
 7152      FFFF
 7153 40c0 FF00     		incl	(%eax)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 136


 7154 40c2 E948FEFF 		jmp	L333
 7154      FF
 7155              	L334:
1978:../../MMI/Resource/WriteImgRes.c ****         }
1979:../../MMI/Resource/WriteImgRes.c ****     }
1980:../../MMI/Resource/WriteImgRes.c ****     ImageOutStreamPrintf(outstream, "\n};\n");
 7157              	LM548:
 7158 40c7 C7442404 		movl	$LC115, 4(%esp)
 7158      B9330000 
 7159 40cf 8B4510   		movl	16(%ebp), %eax
 7160 40d2 890424   		movl	%eax, (%esp)
 7161 40d5 E8000000 		call	_ImageOutStreamPrintf
 7161      00
1981:../../MMI/Resource/WriteImgRes.c **** 
1982:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1983:../../MMI/Resource/WriteImgRes.c ****     processData->enfb_flag = 0;
1984:../../MMI/Resource/WriteImgRes.c **** #endif
1985:../../MMI/Resource/WriteImgRes.c **** 
1986:../../MMI/Resource/WriteImgRes.c ****     return MMI_TRUE;
 7163              	LM549:
 7164 40da C78508C5 		movl	$1, -15096(%ebp)
 7164      FFFF0100 
 7164      0000
1987:../../MMI/Resource/WriteImgRes.c **** }
 7166              	LM550:
 7167              	L271:
 7168              	LBE42:
 7169 40e4 8B8508C5 		movl	-15096(%ebp), %eax
 7169      FFFF
 7170 40ea 81C4343B 		addl	$15156, %esp
 7170      0000
 7171 40f0 5B       		popl	%ebx
 7172 40f1 5D       		popl	%ebp
 7173 40f2 C3       		ret
 7237              	Lscope10:
 7239              	LC116:
 7240 40f3 25632563 		.ascii "%c%c\0"
 7240      00
 7241              	LC117:
 7242 40f8 25632563 		.ascii "%c%c%c%c%c%c\0"
 7242      25632563 
 7242      25632563 
 7242      00
 7254              	_Load_Image_Data_Tool:
1988:../../MMI/Resource/WriteImgRes.c **** 
1989:../../MMI/Resource/WriteImgRes.c **** 
1990:../../MMI/Resource/WriteImgRes.c **** static void Load_Image_Data_Tool(
1991:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
1992:../../MMI/Resource/WriteImgRes.c ****         U32 file_size,
1993:../../MMI/Resource/WriteImgRes.c ****         S32 data_size,
1994:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
1995:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
1996:../../MMI/Resource/WriteImgRes.c ****         U32 width,
1997:../../MMI/Resource/WriteImgRes.c ****         U32 height,
1998:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
1999:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename)
2000:../../MMI/Resource/WriteImgRes.c **** {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 137


 7256              	LM551:
 7257 4105 55       		pushl	%ebp
 7258 4106 89E5     		movl	%esp, %ebp
 7259 4108 83EC38   		subl	$56, %esp
 7260 410b 8B4514   		movl	20(%ebp), %eax
 7261 410e 8845FF   		movb	%al, -1(%ebp)
2001:../../MMI/Resource/WriteImgRes.c ****     U32 width_height;
2002:../../MMI/Resource/WriteImgRes.c ****     U32 i;
2003:../../MMI/Resource/WriteImgRes.c **** 
2004:../../MMI/Resource/WriteImgRes.c ****     width_height = ((width & 0XFFF) << 12) | (height & 0XFFF);
 7263              	LM552:
 7264 4111 8B451C   		movl	28(%ebp), %eax
 7265              	LBB51:
 7266 4114 25FF0F00 		andl	$4095, %eax
 7266      00
 7267 4119 89C2     		movl	%eax, %edx
 7268 411b C1E20C   		sall	$12, %edx
 7269 411e 8B4520   		movl	32(%ebp), %eax
 7270 4121 25FF0F00 		andl	$4095, %eax
 7270      00
 7271 4126 09D0     		orl	%edx, %eax
 7272 4128 8945F8   		movl	%eax, -8(%ebp)
2005:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
 7274              	LM553:
 7275 412b 837D2400 		cmpl	$0, 36(%ebp)
 7276 412f 7426     		je	L349
2006:../../MMI/Resource/WriteImgRes.c ****     {
2007:../../MMI/Resource/WriteImgRes.c ****         fprintf(dest_file, "%c%c", IMAGE_TYPE_9SLICE, n_frames);
 7278              	LM554:
 7279 4131 8B4518   		movl	24(%ebp), %eax
 7280 4134 8944240C 		movl	%eax, 12(%esp)
 7281 4138 C7442408 		movl	$62, 8(%esp)
 7281      3E000000 
 7282 4140 C7442404 		movl	$LC116, 4(%esp)
 7282      F3400000 
 7283 4148 A1000000 		movl	_dest_file, %eax
 7283      00
 7284 414d 890424   		movl	%eax, (%esp)
 7285 4150 E8000000 		call	_fprintf
 7285      00
 7286 4155 EB24     		jmp	L350
 7287              	L349:
2008:../../MMI/Resource/WriteImgRes.c ****     }
2009:../../MMI/Resource/WriteImgRes.c ****     else
2010:../../MMI/Resource/WriteImgRes.c ****     {
2011:../../MMI/Resource/WriteImgRes.c ****         fprintf(dest_file, "%c%c", image_identifier, n_frames);
 7289              	LM555:
 7290 4157 8B4518   		movl	24(%ebp), %eax
 7291 415a 8944240C 		movl	%eax, 12(%esp)
 7292 415e 0FB645FF 		movzbl	-1(%ebp), %eax
 7293 4162 89442408 		movl	%eax, 8(%esp)
 7294 4166 C7442404 		movl	$LC116, 4(%esp)
 7294      F3400000 
 7295 416e A1000000 		movl	_dest_file, %eax
 7295      00
 7296 4173 890424   		movl	%eax, (%esp)
 7297 4176 E8000000 		call	_fprintf
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 138


 7297      00
 7298              	L350:
2012:../../MMI/Resource/WriteImgRes.c ****     }
2013:../../MMI/Resource/WriteImgRes.c **** 
2014:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_3GP || image_identifier == IMAGE_TYPE_MP4 ||
 7300              	LM556:
 7301 417b 807DFF0E 		cmpb	$14, -1(%ebp)
 7302 417f 742C     		je	L352
 7303 4181 807DFF10 		cmpb	$16, -1(%ebp)
 7304 4185 7426     		je	L352
 7305 4187 807DFF0C 		cmpb	$12, -1(%ebp)
 7306 418b 7420     		je	L352
 7307 418d 807DFF19 		cmpb	$25, -1(%ebp)
 7308 4191 741A     		je	L352
 7309 4193 807DFF4A 		cmpb	$74, -1(%ebp)
 7310 4197 7414     		je	L352
 7311 4199 807DFF4C 		cmpb	$76, -1(%ebp)
 7312 419d 740E     		je	L352
 7313 419f 807DFF4E 		cmpb	$78, -1(%ebp)
 7314 41a3 7408     		je	L352
 7315 41a5 807DFF1D 		cmpb	$29, -1(%ebp)
 7316 41a9 7402     		je	L352
 7317 41ab EB5C     		jmp	L351
 7318              	L352:
2015:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_AVI || image_identifier == IMAGE_TYPE_M3D ||
2016:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_RV  || image_identifier == IMAGE_TYPE_RM  ||
2017:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_RMVB || image_identifier == IMAGE_TYPE_SWFLASH)
2018:../../MMI/Resource/WriteImgRes.c ****     {
2019:../../MMI/Resource/WriteImgRes.c ****         fprintf(
 7320              	LM557:
 7321 41ad C744241C 		movl	$0, 28(%esp)
 7321      00000000 
 7322 41b5 C7442418 		movl	$0, 24(%esp)
 7322      00000000 
 7323 41bd 8B450C   		movl	12(%ebp), %eax
 7324 41c0 25000000 		andl	$-16777216, %eax
 7324      FF
 7325 41c5 C1E818   		shrl	$24, %eax
 7326 41c8 89442414 		movl	%eax, 20(%esp)
 7327 41cc 8B450C   		movl	12(%ebp), %eax
 7328 41cf 250000FF 		andl	$16711680, %eax
 7328      00
 7329 41d4 C1E810   		shrl	$16, %eax
 7330 41d7 89442410 		movl	%eax, 16(%esp)
 7331 41db 8B450C   		movl	12(%ebp), %eax
 7332 41de 2500FF00 		andl	$65280, %eax
 7332      00
 7333 41e3 C1E808   		shrl	$8, %eax
 7334 41e6 8944240C 		movl	%eax, 12(%esp)
 7335 41ea 0FB6450C 		movzbl	12(%ebp),%eax
 7336 41ee 89442408 		movl	%eax, 8(%esp)
 7337 41f2 C7442404 		movl	$LC117, 4(%esp)
 7337      F8400000 
 7338 41fa A1000000 		movl	_dest_file, %eax
 7338      00
 7339 41ff 890424   		movl	%eax, (%esp)
 7340 4202 E8000000 		call	_fprintf
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 139


 7340      00
 7341 4207 EB61     		jmp	L353
 7342              	L351:
2020:../../MMI/Resource/WriteImgRes.c ****             dest_file,
2021:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c",
2022:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff),
2023:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff00) >> 8,
2024:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff0000) >> 16,
2025:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff000000) >> 24,
2026:../../MMI/Resource/WriteImgRes.c ****             0,
2027:../../MMI/Resource/WriteImgRes.c ****             0);
2028:../../MMI/Resource/WriteImgRes.c ****     }
2029:../../MMI/Resource/WriteImgRes.c ****     else
2030:../../MMI/Resource/WriteImgRes.c ****     {
2031:../../MMI/Resource/WriteImgRes.c ****         fprintf(
 7344              	LM558:
 7345 4209 8B45F8   		movl	-8(%ebp), %eax
 7346 420c 250000FF 		andl	$16711680, %eax
 7346      00
 7347 4211 C1E810   		shrl	$16, %eax
 7348 4214 8944241C 		movl	%eax, 28(%esp)
 7349 4218 8B45F8   		movl	-8(%ebp), %eax
 7350 421b 2500FF00 		andl	$65280, %eax
 7350      00
 7351 4220 C1E808   		shrl	$8, %eax
 7352 4223 89442418 		movl	%eax, 24(%esp)
 7353 4227 0FB645F8 		movzbl	-8(%ebp),%eax
 7354 422b 89442414 		movl	%eax, 20(%esp)
 7355 422f 8B4510   		movl	16(%ebp), %eax
 7356 4232 250000FF 		andl	$16711680, %eax
 7356      00
 7357 4237 C1F810   		sarl	$16, %eax
 7358 423a 89442410 		movl	%eax, 16(%esp)
 7359 423e 8B4510   		movl	16(%ebp), %eax
 7360 4241 2500FF00 		andl	$65280, %eax
 7360      00
 7361 4246 C1F808   		sarl	$8, %eax
 7362 4249 8944240C 		movl	%eax, 12(%esp)
 7363 424d 0FB64510 		movzbl	16(%ebp),%eax
 7364 4251 89442408 		movl	%eax, 8(%esp)
 7365 4255 C7442404 		movl	$LC117, 4(%esp)
 7365      F8400000 
 7366 425d A1000000 		movl	_dest_file, %eax
 7366      00
 7367 4262 890424   		movl	%eax, (%esp)
 7368 4265 E8000000 		call	_fprintf
 7368      00
 7369              	L353:
2032:../../MMI/Resource/WriteImgRes.c ****             dest_file,
2033:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c",
2034:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff),
2035:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff00) >> 8,
2036:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff0000) >> 16,
2037:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff),
2038:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff00) >> 8,
2039:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff0000) >> 16);
2040:../../MMI/Resource/WriteImgRes.c ****     }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 140


2041:../../MMI/Resource/WriteImgRes.c **** 
2042:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
 7371              	LM559:
 7372 426a 837D2400 		cmpl	$0, 36(%ebp)
 7373 426e 7424     		je	L354
2043:../../MMI/Resource/WriteImgRes.c ****     {
2044:../../MMI/Resource/WriteImgRes.c ****         /* Write 9slice file header */
2045:../../MMI/Resource/WriteImgRes.c ****         mmi_rg_write_9slice_header(image_identifier, _9slice_filename, dest_file, MMI_TRUE);
 7375              	LM560:
 7376 4270 C744240C 		movl	$1, 12(%esp)
 7376      01000000 
 7377 4278 A1000000 		movl	_dest_file, %eax
 7377      00
 7378 427d 89442408 		movl	%eax, 8(%esp)
 7379 4281 8B4528   		movl	40(%ebp), %eax
 7380 4284 89442404 		movl	%eax, 4(%esp)
 7381 4288 0FB645FF 		movzbl	-1(%ebp), %eax
 7382 428c 890424   		movl	%eax, (%esp)
 7383 428f E82F0600 		call	_mmi_rg_write_9slice_header
 7383      00
 7384              	L354:
2046:../../MMI/Resource/WriteImgRes.c ****     }
2047:../../MMI/Resource/WriteImgRes.c **** 
2048:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < file_size; i++)
 7386              	LM561:
 7387 4294 C745F400 		movl	$0, -12(%ebp)
 7387      000000
 7388              	L355:
 7389 429b 8B45F4   		movl	-12(%ebp), %eax
 7390 429e 3B450C   		cmpl	12(%ebp), %eax
 7391 42a1 7202     		jb	L358
 7392 42a3 EB2A     		jmp	L348
 7393              	L358:
2049:../../MMI/Resource/WriteImgRes.c ****     {
2050:../../MMI/Resource/WriteImgRes.c ****         U8 ch;
2051:../../MMI/Resource/WriteImgRes.c ****         ch = fgetc(input_file);
 7395              	LM562:
 7396              	LBB52:
 7397 42a5 8B4508   		movl	8(%ebp), %eax
 7398 42a8 890424   		movl	%eax, (%esp)
 7399 42ab E8000000 		call	_fgetc
 7399      00
 7400 42b0 8845F3   		movb	%al, -13(%ebp)
2052:../../MMI/Resource/WriteImgRes.c ****         fputc(ch, dest_file);
 7402              	LM563:
 7403 42b3 A1000000 		movl	_dest_file, %eax
 7403      00
 7404 42b8 89442404 		movl	%eax, 4(%esp)
 7405 42bc 0FB645F3 		movzbl	-13(%ebp), %eax
 7406 42c0 890424   		movl	%eax, (%esp)
 7407 42c3 E8000000 		call	_fputc
 7407      00
 7409              	LM564:
 7410 42c8 8D45F4   		leal	-12(%ebp), %eax
 7411              	LBE52:
 7412 42cb FF00     		incl	(%eax)
 7413 42cd EBCC     		jmp	L355
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 141


2053:../../MMI/Resource/WriteImgRes.c ****     }
2054:../../MMI/Resource/WriteImgRes.c **** }
 7415              	LM565:
 7416              	L348:
 7417 42cf C9       		leave
 7418 42d0 C3       		ret
 7419              	LBE51:
 7428              	Lscope11:
 7430              	LC118:
 7431 42d1 0A496D61 		.ascii "\12Image is too big.\12\0"
 7431      67652069 
 7431      7320746F 
 7431      6F206269 
 7431      672E0A00 
 7432              	LC119:
 7433 42e5 0A09     		.ascii "\12\11"
 7434 42e7 30782530 		.ascii "0x%02X, 0x%02X, \0"
 7434      32582C20 
 7434      30782530 
 7434      32582C20 
 7434      00
 7435 42f8 908DB426 		.align 32
 7435      00000000 
 7436              	LC120:
 7437 4300 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x00, 0x00,\12\11\0"
 7437      32582C20 
 7437      30782530 
 7437      32582C20 
 7437      30782530 
 7438 432e 90909090 		.align 32
 7438      90909090 
 7438      90909090 
 7438      90909090 
 7438      9090
 7439              	LC121:
 7440 4340 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X,\12\11\0"
 7440      32582C20 
 7440      30782530 
 7440      32582C20 
 7440      30782530 
 7441              	LC122:
 7442 4372 25642C00 		.ascii "%d,\0"
 7454              	_Load_Image_Data:
2055:../../MMI/Resource/WriteImgRes.c **** 
2056:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
2057:../../MMI/Resource/WriteImgRes.c **** 
2058:../../MMI/Resource/WriteImgRes.c **** static S32 Load_Image_Data_ENFB(
2059:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
2060:../../MMI/Resource/WriteImgRes.c ****         U32 file_size,
2061:../../MMI/Resource/WriteImgRes.c ****         S32 data_size,
2062:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
2063:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
2064:../../MMI/Resource/WriteImgRes.c ****         U32 width,
2065:../../MMI/Resource/WriteImgRes.c ****         U32 height,
2066:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
2067:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename)
2068:../../MMI/Resource/WriteImgRes.c **** {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 142


2069:../../MMI/Resource/WriteImgRes.c ****     U32 width_height;
2070:../../MMI/Resource/WriteImgRes.c ****     U32 i;
2071:../../MMI/Resource/WriteImgRes.c **** 
2072:../../MMI/Resource/WriteImgRes.c ****     width_height = ((width & 0XFFF) << 12) | (height & 0XFFF);
2073:../../MMI/Resource/WriteImgRes.c **** 
2074:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
2075:../../MMI/Resource/WriteImgRes.c ****     {
2076:../../MMI/Resource/WriteImgRes.c ****         fprintf(enfb_img_data_file, "%c%c", IMAGE_TYPE_9SLICE, n_frames);
2077:../../MMI/Resource/WriteImgRes.c ****     }
2078:../../MMI/Resource/WriteImgRes.c ****     else
2079:../../MMI/Resource/WriteImgRes.c ****     {
2080:../../MMI/Resource/WriteImgRes.c ****         fprintf(enfb_img_data_file, "%c%c", image_identifier, n_frames);
2081:../../MMI/Resource/WriteImgRes.c ****     }
2082:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_3GP || image_identifier == IMAGE_TYPE_MP4 ||
2083:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_AVI || image_identifier == IMAGE_TYPE_M3D ||
2084:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_RV  || image_identifier == IMAGE_TYPE_RM ||
2085:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_RMVB || image_identifier == IMAGE_TYPE_SWFLASH)
2086:../../MMI/Resource/WriteImgRes.c ****     {
2087:../../MMI/Resource/WriteImgRes.c ****         fprintf(
2088:../../MMI/Resource/WriteImgRes.c ****             enfb_img_data_file,
2089:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c",
2090:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff),
2091:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff00) >> 8,
2092:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff0000) >> 16,
2093:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff000000) >> 24,
2094:../../MMI/Resource/WriteImgRes.c ****             0,
2095:../../MMI/Resource/WriteImgRes.c ****             0);
2096:../../MMI/Resource/WriteImgRes.c ****         enfb_size = 8 + file_size;
2097:../../MMI/Resource/WriteImgRes.c ****     }
2098:../../MMI/Resource/WriteImgRes.c ****     else
2099:../../MMI/Resource/WriteImgRes.c ****     {
2100:../../MMI/Resource/WriteImgRes.c ****         fprintf(
2101:../../MMI/Resource/WriteImgRes.c ****             enfb_img_data_file,
2102:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c",
2103:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff),
2104:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff00) >> 8,
2105:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff0000) >> 16,
2106:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff),
2107:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff00) >> 8,
2108:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff0000) >> 16);
2109:../../MMI/Resource/WriteImgRes.c ****         enfb_size = 8 + data_size;
2110:../../MMI/Resource/WriteImgRes.c ****     }
2111:../../MMI/Resource/WriteImgRes.c **** 
2112:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
2113:../../MMI/Resource/WriteImgRes.c ****     {
2114:../../MMI/Resource/WriteImgRes.c ****         /* Write 9slice file header */
2115:../../MMI/Resource/WriteImgRes.c ****         mmi_rg_write_9slice_header(image_identifier, _9slice_filename, enfb_img_data_file, MMI_TRUE
2116:../../MMI/Resource/WriteImgRes.c ****     }
2117:../../MMI/Resource/WriteImgRes.c **** 
2118:../../MMI/Resource/WriteImgRes.c ****     enfb_offset += enfb_size;
2119:../../MMI/Resource/WriteImgRes.c **** 
2120:../../MMI/Resource/WriteImgRes.c ****     /* write image data to ENFB image data file */
2121:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < file_size; i++)
2122:../../MMI/Resource/WriteImgRes.c ****     {
2123:../../MMI/Resource/WriteImgRes.c ****         U8 ch;
2124:../../MMI/Resource/WriteImgRes.c ****         ch = fgetc(input_file);
2125:../../MMI/Resource/WriteImgRes.c ****         fputc(ch, enfb_img_data_file);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 143


2126:../../MMI/Resource/WriteImgRes.c ****     }
2127:../../MMI/Resource/WriteImgRes.c **** }
2128:../../MMI/Resource/WriteImgRes.c **** 
2129:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_ENFB_SUPPORT__
2130:../../MMI/Resource/WriteImgRes.c **** 
2131:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2132:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2133:../../MMI/Resource/WriteImgRes.c ****  *  Load_Image_Data
2134:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2135:../../MMI/Resource/WriteImgRes.c ****  *  Identifies the image , BMP , ppf etc
2136:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2137:../../MMI/Resource/WriteImgRes.c ****  *  output_file             [IN]        -> Name of the file to which buffer
2138:../../MMI/Resource/WriteImgRes.c ****  *  input_file              [IN]        ->  Name of the input image file
2139:../../MMI/Resource/WriteImgRes.c ****  *  image_identifier        [IN]        -> image identifier
2140:../../MMI/Resource/WriteImgRes.c ****  *  n_frames                [IN]        -> no of frames
2141:../../MMI/Resource/WriteImgRes.c ****  *  is(?)                   [IN]        To be written
2142:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2143:../../MMI/Resource/WriteImgRes.c ****  *  S32 --> file size
2144:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2145:../../MMI/Resource/WriteImgRes.c **** static S32 Load_Image_Data(
2146:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
2147:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
2148:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
2149:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
2150:../../MMI/Resource/WriteImgRes.c ****         U32 width,
2151:../../MMI/Resource/WriteImgRes.c ****         U32 height,
2152:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
2153:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename,
2154:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
2155:../../MMI/Resource/WriteImgRes.c **** {
 7456              	LM566:
 7457 4376 55       		pushl	%ebp
 7458 4377 89E5     		movl	%esp, %ebp
 7459 4379 83EC58   		subl	$88, %esp
 7460 437c 8B4510   		movl	16(%ebp), %eax
 7461 437f 8845FF   		movb	%al, -1(%ebp)
2156:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2157:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
2158:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2159:../../MMI/Resource/WriteImgRes.c ****     U32 file_size, i;
2160:../../MMI/Resource/WriteImgRes.c ****     U32 width_height;
2161:../../MMI/Resource/WriteImgRes.c ****     S32 data_size;
2162:../../MMI/Resource/WriteImgRes.c **** 
2163:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2164:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
2165:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2166:../../MMI/Resource/WriteImgRes.c **** 
2167:../../MMI/Resource/WriteImgRes.c ****     if(n_frames==0)
 7463              	LM567:
 7464              	LBB53:
 7465 4382 837D1400 		cmpl	$0, 20(%ebp)
 7466 4386 7507     		jne	L360
2168:../../MMI/Resource/WriteImgRes.c ****     {
2169:../../MMI/Resource/WriteImgRes.c ****         n_frames = 1;
 7468              	LM568:
 7469 4388 C7451401 		movl	$1, 20(%ebp)
 7469      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 144


 7470              	L360:
2170:../../MMI/Resource/WriteImgRes.c ****     }
2171:../../MMI/Resource/WriteImgRes.c **** 
2172:../../MMI/Resource/WriteImgRes.c ****     fseek(input_file, 0, SEEK_END);
 7472              	LM569:
 7473 438f C7442408 		movl	$2, 8(%esp)
 7473      02000000 
 7474 4397 C7442404 		movl	$0, 4(%esp)
 7474      00000000 
 7475 439f 8B450C   		movl	12(%ebp), %eax
 7476 43a2 890424   		movl	%eax, (%esp)
 7477 43a5 E8000000 		call	_fseek
 7477      00
2173:../../MMI/Resource/WriteImgRes.c ****     file_size = ftell(input_file);
 7479              	LM570:
 7480 43aa 8B450C   		movl	12(%ebp), %eax
 7481 43ad 890424   		movl	%eax, (%esp)
 7482 43b0 E8000000 		call	_ftell
 7482      00
 7483 43b5 8945F8   		movl	%eax, -8(%ebp)
2174:../../MMI/Resource/WriteImgRes.c ****     fseek(input_file, 0, SEEK_SET);
 7485              	LM571:
 7486 43b8 C7442408 		movl	$0, 8(%esp)
 7486      00000000 
 7487 43c0 C7442404 		movl	$0, 4(%esp)
 7487      00000000 
 7488 43c8 8B450C   		movl	12(%ebp), %eax
 7489 43cb 890424   		movl	%eax, (%esp)
 7490 43ce E8000000 		call	_fseek
 7490      00
2175:../../MMI/Resource/WriteImgRes.c **** 
2176:../../MMI/Resource/WriteImgRes.c ****     width_height = ((width & 0XFFF) << 12) | (height & 0XFFF);
 7492              	LM572:
 7493 43d3 8B4518   		movl	24(%ebp), %eax
 7494 43d6 25FF0F00 		andl	$4095, %eax
 7494      00
 7495 43db 89C2     		movl	%eax, %edx
 7496 43dd C1E20C   		sall	$12, %edx
 7497 43e0 8B451C   		movl	28(%ebp), %eax
 7498 43e3 25FF0F00 		andl	$4095, %eax
 7498      00
 7499 43e8 09D0     		orl	%edx, %eax
 7500 43ea 8945F0   		movl	%eax, -16(%ebp)
2177:../../MMI/Resource/WriteImgRes.c **** 
2178:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_BMP ||
 7502              	LM573:
 7503 43ed 807DFF01 		cmpb	$1, -1(%ebp)
 7504 43f1 7414     		je	L362
 7505 43f3 807DFF03 		cmpb	$3, -1(%ebp)
 7506 43f7 740E     		je	L362
 7507 43f9 807DFF09 		cmpb	$9, -1(%ebp)
 7508 43fd 7408     		je	L362
 7509 43ff 807DFF13 		cmpb	$19, -1(%ebp)
 7510 4403 7402     		je	L362
 7511 4405 EB22     		jmp	L361
 7512              	L362:
2179:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_GIF ||
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 145


2180:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_JPG ||
2181:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_PNG)
2182:../../MMI/Resource/WriteImgRes.c ****     {
2183:../../MMI/Resource/WriteImgRes.c ****         if ((file_size >> 24) > 0)
 7514              	LM574:
 7515 4407 8B45F8   		movl	-8(%ebp), %eax
 7516 440a C1E818   		shrl	$24, %eax
 7517 440d 85C0     		testl	%eax, %eax
 7518 440f 7418     		je	L361
2184:../../MMI/Resource/WriteImgRes.c ****         {
2185:../../MMI/Resource/WriteImgRes.c ****             RES_PRINT_INFO("\nImage is too big.\n");
 7520              	LM575:
 7521 4411 C70424D1 		movl	$LC118, (%esp)
 7521      420000
 7522 4418 E8000000 		call	_MtkResgenTrace
 7522      00
2186:../../MMI/Resource/WriteImgRes.c ****             return 0;
 7524              	LM576:
 7525 441d C745DC00 		movl	$0, -36(%ebp)
 7525      000000
 7526 4424 E97F0200 		jmp	L359
 7526      00
 7527              	L361:
2187:../../MMI/Resource/WriteImgRes.c ****         }
2188:../../MMI/Resource/WriteImgRes.c ****     }
2189:../../MMI/Resource/WriteImgRes.c **** 
2190:../../MMI/Resource/WriteImgRes.c ****     data_size = file_size;
 7529              	LM577:
 7530 4429 8B45F8   		movl	-8(%ebp), %eax
 7531 442c 8945EC   		movl	%eax, -20(%ebp)
2191:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
 7533              	LM578:
 7534 442f 837D2000 		cmpl	$0, 32(%ebp)
 7535 4433 7406     		je	L364
2192:../../MMI/Resource/WriteImgRes.c ****         data_size += 20;
 7537              	LM579:
 7538 4435 8D45EC   		leal	-20(%ebp), %eax
 7539 4438 830014   		addl	$20, (%eax)
 7540              	L364:
2193:../../MMI/Resource/WriteImgRes.c **** 
2194:../../MMI/Resource/WriteImgRes.c ****     if (toolFlag)
 7542              	LM580:
 7543 443b 833D0000 		cmpl	$0, _toolFlag
 7543      000000
 7544 4442 7449     		je	L365
2195:../../MMI/Resource/WriteImgRes.c ****     {
2196:../../MMI/Resource/WriteImgRes.c ****         Load_Image_Data_Tool(input_file, file_size, data_size, image_identifier, n_frames, width, h
 7546              	LM581:
 7547 4444 8B4524   		movl	36(%ebp), %eax
 7548 4447 89442420 		movl	%eax, 32(%esp)
 7549 444b 8B4520   		movl	32(%ebp), %eax
 7550 444e 8944241C 		movl	%eax, 28(%esp)
 7551 4452 8B451C   		movl	28(%ebp), %eax
 7552 4455 89442418 		movl	%eax, 24(%esp)
 7553 4459 8B4518   		movl	24(%ebp), %eax
 7554 445c 89442414 		movl	%eax, 20(%esp)
 7555 4460 8B4514   		movl	20(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 146


 7556 4463 89442410 		movl	%eax, 16(%esp)
 7557 4467 0FB645FF 		movzbl	-1(%ebp), %eax
 7558 446b 8944240C 		movl	%eax, 12(%esp)
 7559 446f 8B45EC   		movl	-20(%ebp), %eax
 7560 4472 89442408 		movl	%eax, 8(%esp)
 7561 4476 8B45F8   		movl	-8(%ebp), %eax
 7562 4479 89442404 		movl	%eax, 4(%esp)
 7563 447d 8B450C   		movl	12(%ebp), %eax
 7564 4480 890424   		movl	%eax, (%esp)
 7565 4483 E87DFCFF 		call	_Load_Image_Data_Tool
 7565      FF
 7566 4488 E9120200 		jmp	L366
 7566      00
 7567              	L365:
2197:../../MMI/Resource/WriteImgRes.c ****     }
2198:../../MMI/Resource/WriteImgRes.c **** 
2199:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
2200:../../MMI/Resource/WriteImgRes.c ****     else if (processData->enfb_flag == 1) /* write ENFB header to CustImgDataxxx.h and image header
2201:../../MMI/Resource/WriteImgRes.c ****     {
2202:../../MMI/Resource/WriteImgRes.c ****         Load_Image_Data_ENFB(input_file, file_size, data_size, image_identifier, n_frames, width, h
2203:../../MMI/Resource/WriteImgRes.c **** 
2204:../../MMI/Resource/WriteImgRes.c ****         /* write ENFB header to CustImgDataxxx.h */
2205:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream,
2206:../../MMI/Resource/WriteImgRes.c ****             "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x
2207:../../MMI/Resource/WriteImgRes.c ****             (U8) 255,                   //type
2208:../../MMI/Resource/WriteImgRes.c ****             (U8) ENFBAssociatedIDAdded, //associated id
2209:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
2210:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
2211:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_offset & 0xff),
2212:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 8) & 0xff),
2213:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 16) & 0xff),
2214:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 24) & 0xff),
2215:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_size & 0xff),
2216:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 8) & 0xff),
2217:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 16) & 0xff),
2218:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 24) & 0xff));
2219:../../MMI/Resource/WriteImgRes.c ****     }
2220:../../MMI/Resource/WriteImgRes.c **** #endif
2221:../../MMI/Resource/WriteImgRes.c ****     else
2222:../../MMI/Resource/WriteImgRes.c ****     {
2223:../../MMI/Resource/WriteImgRes.c ****         if (is9slice)
 7569              	LM582:
 7570              	LBB54:
 7571 448d 837D2000 		cmpl	$0, 32(%ebp)
 7572 4491 7424     		je	L367
2224:../../MMI/Resource/WriteImgRes.c ****         {
2225:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n\t0x%02X, 0x%02X, ", IMAGE_TYPE_9SLICE, n_frames);
 7574              	LM583:
 7575 4493 8B4514   		movl	20(%ebp), %eax
 7576 4496 8944240C 		movl	%eax, 12(%esp)
 7577 449a C7442408 		movl	$62, 8(%esp)
 7577      3E000000 
 7578 44a2 C7442404 		movl	$LC119, 4(%esp)
 7578      E5420000 
 7579 44aa 8B4508   		movl	8(%ebp), %eax
 7580 44ad 890424   		movl	%eax, (%esp)
 7581 44b0 E8000000 		call	_ImageOutStreamPrintf
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 147


 7581      00
 7582 44b5 EB22     		jmp	L368
 7583              	L367:
2226:../../MMI/Resource/WriteImgRes.c ****         }
2227:../../MMI/Resource/WriteImgRes.c ****         else
2228:../../MMI/Resource/WriteImgRes.c ****         {
2229:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n\t0x%02X, 0x%02X, ", image_identifier, n_frames);
 7585              	LM584:
 7586 44b7 8B4514   		movl	20(%ebp), %eax
 7587 44ba 8944240C 		movl	%eax, 12(%esp)
 7588 44be 0FB645FF 		movzbl	-1(%ebp), %eax
 7589 44c2 89442408 		movl	%eax, 8(%esp)
 7590 44c6 C7442404 		movl	$LC119, 4(%esp)
 7590      E5420000 
 7591 44ce 8B4508   		movl	8(%ebp), %eax
 7592 44d1 890424   		movl	%eax, (%esp)
 7593 44d4 E8000000 		call	_ImageOutStreamPrintf
 7593      00
 7594              	L368:
2230:../../MMI/Resource/WriteImgRes.c ****         }
2231:../../MMI/Resource/WriteImgRes.c **** 
2232:../../MMI/Resource/WriteImgRes.c ****         if (image_identifier == IMAGE_TYPE_3GP || image_identifier == IMAGE_TYPE_MP4 ||
 7596              	LM585:
 7597 44d9 807DFF0E 		cmpb	$14, -1(%ebp)
 7598 44dd 742C     		je	L370
 7599 44df 807DFF10 		cmpb	$16, -1(%ebp)
 7600 44e3 7426     		je	L370
 7601 44e5 807DFF0C 		cmpb	$12, -1(%ebp)
 7602 44e9 7420     		je	L370
 7603 44eb 807DFF19 		cmpb	$25, -1(%ebp)
 7604 44ef 741A     		je	L370
 7605 44f1 807DFF4A 		cmpb	$74, -1(%ebp)
 7606 44f5 7414     		je	L370
 7607 44f7 807DFF4C 		cmpb	$76, -1(%ebp)
 7608 44fb 740E     		je	L370
 7609 44fd 807DFF4E 		cmpb	$78, -1(%ebp)
 7610 4501 7408     		je	L370
 7611 4503 807DFF1D 		cmpb	$29, -1(%ebp)
 7612 4507 7402     		je	L370
 7613 4509 EB4A     		jmp	L369
 7614              	L370:
2233:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_AVI || image_identifier == IMAGE_TYPE_M3D ||
2234:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_RV  || image_identifier == IMAGE_TYPE_RM  ||
2235:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_RMVB || image_identifier == IMAGE_TYPE_SWFLASH)
2236:../../MMI/Resource/WriteImgRes.c ****         {
2237:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream,
 7616              	LM586:
 7617 450b 8B45F8   		movl	-8(%ebp), %eax
 7618 450e 25000000 		andl	$-16777216, %eax
 7618      FF
 7619 4513 C1E818   		shrl	$24, %eax
 7620 4516 89442414 		movl	%eax, 20(%esp)
 7621 451a 8B45F8   		movl	-8(%ebp), %eax
 7622 451d 250000FF 		andl	$16711680, %eax
 7622      00
 7623 4522 C1E810   		shrl	$16, %eax
 7624 4525 89442410 		movl	%eax, 16(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 148


 7625 4529 8B45F8   		movl	-8(%ebp), %eax
 7626 452c 2500FF00 		andl	$65280, %eax
 7626      00
 7627 4531 C1E808   		shrl	$8, %eax
 7628 4534 8944240C 		movl	%eax, 12(%esp)
 7629 4538 0FB645F8 		movzbl	-8(%ebp),%eax
 7630 453c 89442408 		movl	%eax, 8(%esp)
 7631 4540 C7442404 		movl	$LC120, 4(%esp)
 7631      00430000 
 7632 4548 8B4508   		movl	8(%ebp), %eax
 7633 454b 890424   		movl	%eax, (%esp)
 7634 454e E8000000 		call	_ImageOutStreamPrintf
 7634      00
 7635 4553 EB5F     		jmp	L371
 7636              	L369:
2238:../../MMI/Resource/WriteImgRes.c ****                 "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x00, 0x00,\n\t",
2239:../../MMI/Resource/WriteImgRes.c ****                 (file_size & 0xff),
2240:../../MMI/Resource/WriteImgRes.c ****                 (file_size & 0xff00) >> 8,
2241:../../MMI/Resource/WriteImgRes.c ****                 (file_size & 0xff0000) >> 16,
2242:../../MMI/Resource/WriteImgRes.c ****                 (file_size & 0xff000000) >> 24);
2243:../../MMI/Resource/WriteImgRes.c ****         }
2244:../../MMI/Resource/WriteImgRes.c ****         else
2245:../../MMI/Resource/WriteImgRes.c ****         {
2246:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream,
 7638              	LM587:
 7639 4555 8B45F0   		movl	-16(%ebp), %eax
 7640 4558 250000FF 		andl	$16711680, %eax
 7640      00
 7641 455d C1E810   		shrl	$16, %eax
 7642 4560 8944241C 		movl	%eax, 28(%esp)
 7643 4564 8B45F0   		movl	-16(%ebp), %eax
 7644 4567 2500FF00 		andl	$65280, %eax
 7644      00
 7645 456c C1E808   		shrl	$8, %eax
 7646 456f 89442418 		movl	%eax, 24(%esp)
 7647 4573 0FB645F0 		movzbl	-16(%ebp),%eax
 7648 4577 89442414 		movl	%eax, 20(%esp)
 7649 457b 8B45EC   		movl	-20(%ebp), %eax
 7650 457e 250000FF 		andl	$16711680, %eax
 7650      00
 7651 4583 C1F810   		sarl	$16, %eax
 7652 4586 89442410 		movl	%eax, 16(%esp)
 7653 458a 8B45EC   		movl	-20(%ebp), %eax
 7654 458d 2500FF00 		andl	$65280, %eax
 7654      00
 7655 4592 C1F808   		sarl	$8, %eax
 7656 4595 8944240C 		movl	%eax, 12(%esp)
 7657 4599 0FB645EC 		movzbl	-20(%ebp),%eax
 7658 459d 89442408 		movl	%eax, 8(%esp)
 7659 45a1 C7442404 		movl	$LC121, 4(%esp)
 7659      40430000 
 7660 45a9 8B4508   		movl	8(%ebp), %eax
 7661 45ac 890424   		movl	%eax, (%esp)
 7662 45af E8000000 		call	_ImageOutStreamPrintf
 7662      00
 7663              	L371:
2247:../../MMI/Resource/WriteImgRes.c ****                 "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X,\n\t",
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 149


2248:../../MMI/Resource/WriteImgRes.c ****                 (data_size & 0xff),
2249:../../MMI/Resource/WriteImgRes.c ****                 (data_size & 0xff00) >> 8,
2250:../../MMI/Resource/WriteImgRes.c ****                 (data_size & 0xff0000) >> 16,
2251:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff),
2252:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff00) >> 8,
2253:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff0000) >> 16);
2254:../../MMI/Resource/WriteImgRes.c ****         }
2255:../../MMI/Resource/WriteImgRes.c **** 
2256:../../MMI/Resource/WriteImgRes.c ****         if (is9slice)
 7665              	LM588:
 7666 45b4 837D2000 		cmpl	$0, 32(%ebp)
 7667 45b8 7422     		je	L372
2257:../../MMI/Resource/WriteImgRes.c ****         {
2258:../../MMI/Resource/WriteImgRes.c ****             /* Write 9slice file header */
2259:../../MMI/Resource/WriteImgRes.c ****             mmi_rg_write_9slice_header(image_identifier, _9slice_filename, outstream, MMI_FALSE);
 7669              	LM589:
 7670 45ba C744240C 		movl	$0, 12(%esp)
 7670      00000000 
 7671 45c2 8B4508   		movl	8(%ebp), %eax
 7672 45c5 89442408 		movl	%eax, 8(%esp)
 7673 45c9 8B4524   		movl	36(%ebp), %eax
 7674 45cc 89442404 		movl	%eax, 4(%esp)
 7675 45d0 0FB645FF 		movzbl	-1(%ebp), %eax
 7676 45d4 890424   		movl	%eax, (%esp)
 7677 45d7 E8E70200 		call	_mmi_rg_write_9slice_header
 7677      00
 7678              	L372:
2260:../../MMI/Resource/WriteImgRes.c ****         }
2261:../../MMI/Resource/WriteImgRes.c **** 
2262:../../MMI/Resource/WriteImgRes.c ****         /*
2263:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < file_size; i++)
2264:../../MMI/Resource/WriteImgRes.c ****         {
2265:../../MMI/Resource/WriteImgRes.c ****             U8 ch;
2266:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(input_file);
2267:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "%d,", ch);
2268:../../MMI/Resource/WriteImgRes.c ****             if (((i + 1) % 256) == 0)
2269:../../MMI/Resource/WriteImgRes.c ****             {
2270:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "\n");
2271:../../MMI/Resource/WriteImgRes.c ****             }
2272:../../MMI/Resource/WriteImgRes.c ****         }
2273:../../MMI/Resource/WriteImgRes.c ****         */
2274:../../MMI/Resource/WriteImgRes.c ****         const int buffer_size = 16 * 1024;
 7680              	LM590:
 7681 45dc C745E800 		movl	$16384, -24(%ebp)
 7681      400000
2275:../../MMI/Resource/WriteImgRes.c ****         int out_index = 0;
 7683              	LM591:
 7684 45e3 C745E400 		movl	$0, -28(%ebp)
 7684      000000
2276:../../MMI/Resource/WriteImgRes.c ****         while (1)
 7686              	LM592:
 7687              	L373:
 7688              	LBB55:
 7689 45ea 8965D8   		movl	%esp, -40(%ebp)
2277:../../MMI/Resource/WriteImgRes.c ****         {
2278:../../MMI/Resource/WriteImgRes.c ****             U8 buffer[buffer_size];
 7691              	LM593:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 150


 7692 45ed 8B45E8   		movl	-24(%ebp), %eax
 7693 45f0 83C00F   		addl	$15, %eax
 7694 45f3 C1E804   		shrl	$4, %eax
 7695 45f6 C1E004   		sall	$4, %eax
 7696 45f9 8945D0   		movl	%eax, -48(%ebp)
 7697 45fc 8B45D0   		movl	-48(%ebp), %eax
 7698 45ff E8000000 		call	__alloca
 7698      00
 7699 4604 8D542424 		leal	36(%esp), %edx
 7700 4608 8955D4   		movl	%edx, -44(%ebp)
2279:../../MMI/Resource/WriteImgRes.c ****             U32 size = fread(buffer, 1, buffer_size, input_file);
 7702              	LM594:
 7703 460b 8B450C   		movl	12(%ebp), %eax
 7704 460e 8944240C 		movl	%eax, 12(%esp)
 7705 4612 8B45E8   		movl	-24(%ebp), %eax
 7706 4615 89442408 		movl	%eax, 8(%esp)
 7707 4619 C7442404 		movl	$1, 4(%esp)
 7707      01000000 
 7708 4621 8B45D4   		movl	-44(%ebp), %eax
 7709 4624 890424   		movl	%eax, (%esp)
 7710 4627 E8000000 		call	_fread
 7710      00
 7711 462c 8945E0   		movl	%eax, -32(%ebp)
2280:../../MMI/Resource/WriteImgRes.c ****             if (size == 0)
 7713              	LM595:
 7714 462f 837DE000 		cmpl	$0, -32(%ebp)
 7715 4633 7505     		jne	L376
2281:../../MMI/Resource/WriteImgRes.c ****             {
2282:../../MMI/Resource/WriteImgRes.c ****                 break;
 7717              	LM596:
 7718              	LBB56:
 7719 4635 8B65D8   		movl	-40(%ebp), %esp
 7720              	LBE56:
 7721 4638 EB65     		jmp	L366
 7722              	L376:
2283:../../MMI/Resource/WriteImgRes.c ****             }
2284:../../MMI/Resource/WriteImgRes.c ****             for (i = 0; i < size; i++)
 7724              	LM597:
 7725 463a C745F400 		movl	$0, -12(%ebp)
 7725      000000
 7726              	L377:
 7727 4641 8B45F4   		movl	-12(%ebp), %eax
 7728 4644 3B45E0   		cmpl	-32(%ebp), %eax
 7729 4647 7202     		jb	L380
 7730 4649 EB4C     		jmp	L378
 7731              	L380:
2285:../../MMI/Resource/WriteImgRes.c ****             {
2286:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "%d,", buffer[i]);
 7733              	LM598:
 7734 464b 8B45F4   		movl	-12(%ebp), %eax
 7735 464e 8B55D4   		movl	-44(%ebp), %edx
 7736 4651 0FB60402 		movzbl	(%edx,%eax), %eax
 7737 4655 89442408 		movl	%eax, 8(%esp)
 7738 4659 C7442404 		movl	$LC122, 4(%esp)
 7738      72430000 
 7739 4661 8B4508   		movl	8(%ebp), %eax
 7740 4664 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 151


 7741 4667 E8000000 		call	_ImageOutStreamPrintf
 7741      00
2287:../../MMI/Resource/WriteImgRes.c ****                 if ((++out_index % 256) == 0)
 7743              	LM599:
 7744 466c 8D45E4   		leal	-28(%ebp), %eax
 7745 466f FF00     		incl	(%eax)
 7746 4671 8B45E4   		movl	-28(%ebp), %eax
 7747 4674 25FF0000 		andl	$255, %eax
 7747      00
 7748 4679 85C0     		testl	%eax, %eax
 7749 467b 7513     		jne	L379
2288:../../MMI/Resource/WriteImgRes.c ****                 {
2289:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "\n");
 7751              	LM600:
 7752 467d C7442404 		movl	$LC72, 4(%esp)
 7752      5C1E0000 
 7753 4685 8B4508   		movl	8(%ebp), %eax
 7754 4688 890424   		movl	%eax, (%esp)
 7755 468b E8000000 		call	_ImageOutStreamPrintf
 7755      00
 7757              	LM601:
 7758              	L379:
 7759 4690 8D45F4   		leal	-12(%ebp), %eax
 7760 4693 FF00     		incl	(%eax)
 7761 4695 EBAA     		jmp	L377
 7762              	L378:
 7763 4697 8B65D8   		movl	-40(%ebp), %esp
 7764              	LBE55:
 7765 469a E94BFFFF 		jmp	L373
 7765      FF
 7766              	L366:
2290:../../MMI/Resource/WriteImgRes.c ****                 }
2291:../../MMI/Resource/WriteImgRes.c ****             }
2292:../../MMI/Resource/WriteImgRes.c ****         }
2293:../../MMI/Resource/WriteImgRes.c ****     }
2294:../../MMI/Resource/WriteImgRes.c **** 
2295:../../MMI/Resource/WriteImgRes.c ****     return file_size + 8;
 7768              	LM602:
 7769 469f 8B45F8   		movl	-8(%ebp), %eax
 7770              	LBE54:
 7771 46a2 83C008   		addl	$8, %eax
 7772 46a5 8945DC   		movl	%eax, -36(%ebp)
2296:../../MMI/Resource/WriteImgRes.c **** }
 7774              	LM603:
 7775              	L359:
 7776              	LBE53:
 7777 46a8 8B45DC   		movl	-36(%ebp), %eax
 7778 46ab C9       		leave
 7779 46ac C3       		ret
 7795              	Lscope12:
 7797              	LC123:
 7798 46ad 0A457272 		.ascii "\12Err opening %s\0"
 7798      206F7065 
 7798      6E696E67 
 7798      20257300 
 7799              	LC124:
 7800 46bd 72657065 		.ascii "repeat\0"
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 152


 7800      617400
 7801              	LC125:
 7802 46c4 73747265 		.ascii "stretch\0"
 7802      74636800 
 7803              	LC126:
 7804 46cc 73747265 		.ascii "stretch_no_dither\0"
 7804      7463685F 
 7804      6E6F5F64 
 7804      69746865 
 7804      7200
 7805 46de 89F6     		.align 32
 7806              	LC127:
 7807 46e0 0A       		.ascii "\12"
 7808 46e1 39736C69 		.ascii "9slice file err, please write [repeat/stretch/stretch_no_dither], can not be[%s],set defau
 7808      63652066 
 7808      696C6520 
 7808      6572722C 
 7808      20706C65 
 7809              	LC128:
 7810 474c 0A457272 		.ascii "\12Err in 9slice file [%s]\12\0"
 7810      20696E20 
 7810      39736C69 
 7810      63652066 
 7810      696C6520 
 7811 4766 90909090 		.align 32
 7811      90909090 
 7811      90909090 
 7811      90909090 
 7811      90909090 
 7812              	LC129:
 7813 4780 57726974 		.ascii "Write 9slice image header [%s]  position=[%d-%d-%d-%d] zoom=[%s]\12\0"
 7813      65203973 
 7813      6C696365 
 7813      20696D61 
 7813      67652068 
 7814 47c2 90909090 		.align 32
 7814      90909090 
 7814      90909090 
 7814      90909090 
 7814      90909090 
 7815              	LC130:
 7816 47e0 25632563 		.ascii "%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c\0"
 7816      25632563 
 7816      25632563 
 7816      25632563 
 7816      25632563 
 7817 4809 90909090 		.align 32
 7817      90909090 
 7817      90909090 
 7817      90909090 
 7817      90909090 
 7818              	LC131:
 7819 4820 0A09     		.ascii "\12\11"
 7820 4822 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x
 7820      32582C20 
 7820      30782530 
 7820      32582C20 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 153


 7820      30782530 
 7826              	.globl _mmi_rg_write_9slice_header
 7828              	_mmi_rg_write_9slice_header:
2297:../../MMI/Resource/WriteImgRes.c **** 
2298:../../MMI/Resource/WriteImgRes.c **** 
2299:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
2300:../../MMI/Resource/WriteImgRes.c **** 
2301:../../MMI/Resource/WriteImgRes.c **** static void mmi_rg_set_compress(BOOL is_compress)
2302:../../MMI/Resource/WriteImgRes.c **** {
2303:../../MMI/Resource/WriteImgRes.c ****     g_is_compress = is_compress;
2304:../../MMI/Resource/WriteImgRes.c **** }
2305:../../MMI/Resource/WriteImgRes.c **** 
2306:../../MMI/Resource/WriteImgRes.c **** static U8* mmi_rg_compress_image_imp(U8 *buffer, S32 org_size, S32 *dest_size, S32 image_type, U32 
2307:../../MMI/Resource/WriteImgRes.c **** {
2308:../../MMI/Resource/WriteImgRes.c ****     int array_size = 0;
2309:../../MMI/Resource/WriteImgRes.c ****     U8 *buffer_org = NULL;
2310:../../MMI/Resource/WriteImgRes.c ****     U8 *dest_buf = NULL;
2311:../../MMI/Resource/WriteImgRes.c **** 
2312:../../MMI/Resource/WriteImgRes.c ****     if(n_frames==0)
2313:../../MMI/Resource/WriteImgRes.c ****     {
2314:../../MMI/Resource/WriteImgRes.c ****         n_frames = 1;
2315:../../MMI/Resource/WriteImgRes.c ****     }
2316:../../MMI/Resource/WriteImgRes.c **** 
2317:../../MMI/Resource/WriteImgRes.c ****     array_size = org_size + 8;
2318:../../MMI/Resource/WriteImgRes.c ****     if(is9slice)
2319:../../MMI/Resource/WriteImgRes.c ****     {
2320:../../MMI/Resource/WriteImgRes.c ****         array_size += 20;
2321:../../MMI/Resource/WriteImgRes.c ****     }
2322:../../MMI/Resource/WriteImgRes.c ****     
2323:../../MMI/Resource/WriteImgRes.c ****     *dest_size = array_size*2;
2324:../../MMI/Resource/WriteImgRes.c ****     buffer_org = malloc(array_size);
2325:../../MMI/Resource/WriteImgRes.c ****     dest_buf = malloc(array_size * 2);
2326:../../MMI/Resource/WriteImgRes.c **** 
2327:../../MMI/Resource/WriteImgRes.c ****     if (buffer_org == NULL || dest_buf == NULL)
2328:../../MMI/Resource/WriteImgRes.c ****     {
2329:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "[ResZip]ABM compress Memory not enough buffer_org=[%d] dest_buf=[%d]\n", b
2330:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("[ResZip]ABM compress Memory not enough buffer_org=[%d] dest_buf=[%d]\n", buff
2331:../../MMI/Resource/WriteImgRes.c ****         assert(0);
2332:../../MMI/Resource/WriteImgRes.c ****         exit(2);
2333:../../MMI/Resource/WriteImgRes.c ****     }
2334:../../MMI/Resource/WriteImgRes.c **** 
2335:../../MMI/Resource/WriteImgRes.c ****     /* resource header */
2336:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
2337:../../MMI/Resource/WriteImgRes.c ****     {
2338:../../MMI/Resource/WriteImgRes.c ****         sprintf(buffer_org, "%c%c", IMAGE_TYPE_9SLICE, n_frames);
2339:../../MMI/Resource/WriteImgRes.c ****     }
2340:../../MMI/Resource/WriteImgRes.c ****     else              
2341:../../MMI/Resource/WriteImgRes.c ****     {
2342:../../MMI/Resource/WriteImgRes.c ****         sprintf(buffer_org, "%c%c", image_type, n_frames);
2343:../../MMI/Resource/WriteImgRes.c ****     }
2344:../../MMI/Resource/WriteImgRes.c **** 
2345:../../MMI/Resource/WriteImgRes.c ****     /* data size, should sub 8 byte header */
2346:../../MMI/Resource/WriteImgRes.c ****     sprintf(buffer_org+2,
2347:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c",
2348:../../MMI/Resource/WriteImgRes.c ****             ( (array_size - 8) & 0x000000ff),
2349:../../MMI/Resource/WriteImgRes.c ****             ( (array_size - 8) & 0x0000ff00) >> 8,
2350:../../MMI/Resource/WriteImgRes.c ****             ( (array_size - 8) & 0x00ff0000) >> 16);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 154


2351:../../MMI/Resource/WriteImgRes.c ****     sprintf(buffer_org+5,
2352:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c",
2353:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0x000000ff),
2354:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0x0000ff00) >> 8,
2355:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0x00ff0000) >> 16);
2356:../../MMI/Resource/WriteImgRes.c **** 
2357:../../MMI/Resource/WriteImgRes.c ****     if(is9slice)
2358:../../MMI/Resource/WriteImgRes.c ****     {
2359:../../MMI/Resource/WriteImgRes.c ****         mmi_rg_get_9slice_header((U8)image_type, buffer_org + 8, _9slice_filename);
2360:../../MMI/Resource/WriteImgRes.c ****         memcpy(buffer_org+28, buffer, org_size);
2361:../../MMI/Resource/WriteImgRes.c ****     }
2362:../../MMI/Resource/WriteImgRes.c ****     else
2363:../../MMI/Resource/WriteImgRes.c ****     {
2364:../../MMI/Resource/WriteImgRes.c ****         memcpy(buffer_org+8, buffer, org_size);
2365:../../MMI/Resource/WriteImgRes.c ****     }
2366:../../MMI/Resource/WriteImgRes.c **** 
2367:../../MMI/Resource/WriteImgRes.c ****     compress2(dest_buf, dest_size, buffer_org, array_size, Z_BEST_COMPRESSION);
2368:../../MMI/Resource/WriteImgRes.c **** 
2369:../../MMI/Resource/WriteImgRes.c ****     free(buffer_org);
2370:../../MMI/Resource/WriteImgRes.c **** 
2371:../../MMI/Resource/WriteImgRes.c ****     if (*dest_size < array_size && array_size != 0 && *dest_size != 0  && (((array_size-(*dest_size
2372:../../MMI/Resource/WriteImgRes.c ****     {
2373:../../MMI/Resource/WriteImgRes.c ****         /* compress rate > __MMI_RESOURCE_IMAGE_COMPRESS_RATE__ then compress, else write directly*
2374:../../MMI/Resource/WriteImgRes.c ****         FILE *pFile;
2375:../../MMI/Resource/WriteImgRes.c **** 
2376:../../MMI/Resource/WriteImgRes.c ****         if(pFile = fopen(ZIP_OUTPUT_FILE, "a"))
2377:../../MMI/Resource/WriteImgRes.c ****         {
2378:../../MMI/Resource/WriteImgRes.c ****             fprintf(pFile, "%s,%d,%d,%d,Yes\n", symbol, array_size, *dest_size, array_size-*dest_si
2379:../../MMI/Resource/WriteImgRes.c ****             fclose(pFile);
2380:../../MMI/Resource/WriteImgRes.c ****         }
2381:../../MMI/Resource/WriteImgRes.c **** 
2382:../../MMI/Resource/WriteImgRes.c ****         g_res_compress_data_image[g_res_compress_count_image].ro_len = *dest_size;
2383:../../MMI/Resource/WriteImgRes.c ****         g_res_compress_data_image[g_res_compress_count_image].zi_len = array_size;
2384:../../MMI/Resource/WriteImgRes.c **** 
2385:../../MMI/Resource/WriteImgRes.c ****         g_res_compress_count_image++;
2386:../../MMI/Resource/WriteImgRes.c **** 
2387:../../MMI/Resource/WriteImgRes.c ****         g_is_compressed = TRUE;
2388:../../MMI/Resource/WriteImgRes.c **** 
2389:../../MMI/Resource/WriteImgRes.c ****         return dest_buf;
2390:../../MMI/Resource/WriteImgRes.c ****     }
2391:../../MMI/Resource/WriteImgRes.c ****     else
2392:../../MMI/Resource/WriteImgRes.c ****     {
2393:../../MMI/Resource/WriteImgRes.c ****         FILE *pFile;
2394:../../MMI/Resource/WriteImgRes.c **** 
2395:../../MMI/Resource/WriteImgRes.c ****         if(pFile = fopen(ZIP_OUTPUT_FILE, "a"))
2396:../../MMI/Resource/WriteImgRes.c ****         {
2397:../../MMI/Resource/WriteImgRes.c ****             fprintf(pFile, "%s,%d,%d,%d,No\n", symbol, array_size, *dest_size, array_size-*dest_siz
2398:../../MMI/Resource/WriteImgRes.c ****             fclose(pFile);
2399:../../MMI/Resource/WriteImgRes.c ****         }
2400:../../MMI/Resource/WriteImgRes.c ****         free(dest_buf);
2401:../../MMI/Resource/WriteImgRes.c ****     }
2402:../../MMI/Resource/WriteImgRes.c **** 
2403:../../MMI/Resource/WriteImgRes.c ****     return NULL;
2404:../../MMI/Resource/WriteImgRes.c **** }
2405:../../MMI/Resource/WriteImgRes.c **** 
2406:../../MMI/Resource/WriteImgRes.c **** U8* mmi_rg_compress_image(U8 *buffer, S32 org_size, S32 *dest_size, S32 image_type, U32 width_heigh
2407:../../MMI/Resource/WriteImgRes.c **** {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 155


2408:../../MMI/Resource/WriteImgRes.c ****     if (g_is_compress && extImageFlag == SYSTEM_IMAGE)
2409:../../MMI/Resource/WriteImgRes.c ****     {
2410:../../MMI/Resource/WriteImgRes.c ****         if (g_res_compress_count_image>= MAX_COMPRESSED_ITEM)
2411:../../MMI/Resource/WriteImgRes.c ****         {
2412:../../MMI/Resource/WriteImgRes.c ****             fprintf(stderr, "[ResZip] Image resource reach Max compress item count, please change M
2413:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_E("[ResZip] Image resource reach Max compress item count, please change MAX_
2414:../../MMI/Resource/WriteImgRes.c ****             assert(0);
2415:../../MMI/Resource/WriteImgRes.c ****             exit(2);
2416:../../MMI/Resource/WriteImgRes.c ****         }
2417:../../MMI/Resource/WriteImgRes.c ****         return mmi_rg_compress_image_imp(buffer, org_size, dest_size, image_type, width_height, sym
2418:../../MMI/Resource/WriteImgRes.c **** 
2419:../../MMI/Resource/WriteImgRes.c ****     }
2420:../../MMI/Resource/WriteImgRes.c **** 
2421:../../MMI/Resource/WriteImgRes.c ****     return NULL;
2422:../../MMI/Resource/WriteImgRes.c **** }
2423:../../MMI/Resource/WriteImgRes.c **** 
2424:../../MMI/Resource/WriteImgRes.c **** 
2425:../../MMI/Resource/WriteImgRes.c **** U8* mmi_rg_output_compressed_image(U8 *dest_buf, S32 dest_size, ResgenImageOutStream * outstream)
2426:../../MMI/Resource/WriteImgRes.c **** {
2427:../../MMI/Resource/WriteImgRes.c ****     U32 i;
2428:../../MMI/Resource/WriteImgRes.c **** 
2429:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < dest_size-1; i++)
2430:../../MMI/Resource/WriteImgRes.c ****     {
2431:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream, "0x%02X, ", dest_buf[i]);
2432:../../MMI/Resource/WriteImgRes.c ****         if (((i + 1) % 16) == 0)
2433:../../MMI/Resource/WriteImgRes.c ****         {
2434:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n\t");
2435:../../MMI/Resource/WriteImgRes.c ****         }
2436:../../MMI/Resource/WriteImgRes.c ****     }
2437:../../MMI/Resource/WriteImgRes.c ****     ImageOutStreamPrintf(outstream, "0x%02X", dest_buf[i]);
2438:../../MMI/Resource/WriteImgRes.c **** 
2439:../../MMI/Resource/WriteImgRes.c ****     free(dest_buf);
2440:../../MMI/Resource/WriteImgRes.c **** }
2441:../../MMI/Resource/WriteImgRes.c **** 
2442:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_RESOURCE_IMAGE_COMPRESS__ */
2443:../../MMI/Resource/WriteImgRes.c **** 
2444:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2445:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2446:../../MMI/Resource/WriteImgRes.c ****  *  mmi_rg_write_9slice_header
2447:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2448:../../MMI/Resource/WriteImgRes.c ****  *  write 9slice header, include position and read file type to output file
2449:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2450:../../MMI/Resource/WriteImgRes.c ****  *  output_file             [IN]        output file handle
2451:../../MMI/Resource/WriteImgRes.c ****  *  in_filename             [IN]        input image name
2452:../../MMI/Resource/WriteImgRes.c ****  *  real_imagetype          [IN]        Real image type of 9slice images
2453:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2454:../../MMI/Resource/WriteImgRes.c ****  *  void
2455:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2456:../../MMI/Resource/WriteImgRes.c **** void mmi_rg_write_9slice_header(U8 real_imagetype, U8* _9slice_filename, ResgenImageOutStream * out
2457:../../MMI/Resource/WriteImgRes.c **** {
 7830              	LM604:
 7831 48c3 55       		pushl	%ebp
 7832 48c4 89E5     		movl	%esp, %ebp
 7833 48c6 56       		pushl	%esi
 7834 48c7 53       		pushl	%ebx
 7835 48c8 81EC2001 		subl	$288, %esp
 7835      0000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 156


 7836 48ce 8B4508   		movl	8(%ebp), %eax
 7837 48d1 8845F7   		movb	%al, -9(%ebp)
2458:../../MMI/Resource/WriteImgRes.c ****     U8 buffer[128];
2459:../../MMI/Resource/WriteImgRes.c ****     FILE *p_9slice_file;
2460:../../MMI/Resource/WriteImgRes.c ****     U32 x1,y1,x2,y2;
2461:../../MMI/Resource/WriteImgRes.c ****     U32 zoom_type;
2462:../../MMI/Resource/WriteImgRes.c ****     U32 do_dither; /* 1: no to do dithering,  0: try to do dithering*/
2463:../../MMI/Resource/WriteImgRes.c **** 
2464:../../MMI/Resource/WriteImgRes.c ****     p_9slice_file = fopen(_9slice_filename, "r");
 7839              	LM605:
 7840              	LBB57:
 7841 48d4 C7442404 		movl	$LC95, 4(%esp)
 7841      22310000 
 7842 48dc 8B450C   		movl	12(%ebp), %eax
 7843 48df 890424   		movl	%eax, (%esp)
 7844 48e2 E8000000 		call	_fopen
 7844      00
 7845 48e7 898564FF 		movl	%eax, -156(%ebp)
 7845      FFFF
2465:../../MMI/Resource/WriteImgRes.c ****     if (p_9slice_file == NULL)
 7847              	LM606:
 7848 48ed 83BD64FF 		cmpl	$0, -156(%ebp)
 7848      FFFF00
 7849 48f4 755E     		jne	L383
2466:../../MMI/Resource/WriteImgRes.c ****     {
2467:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "\nErr opening %s", _9slice_filename);
 7851              	LM607:
 7852 48f6 8B450C   		movl	12(%ebp), %eax
 7853 48f9 89442408 		movl	%eax, 8(%esp)
 7854 48fd C7442404 		movl	$LC123, 4(%esp)
 7854      AD460000 
 7855 4905 A1000000 		movl	__imp___iob, %eax
 7855      00
 7856 490a 83C040   		addl	$64, %eax
 7857 490d 890424   		movl	%eax, (%esp)
 7858 4910 E8000000 		call	_fprintf
 7858      00
2468:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nErr opening %s", _9slice_filename);
 7860              	LM608:
 7861 4915 8B450C   		movl	12(%ebp), %eax
 7862 4918 8944240C 		movl	%eax, 12(%esp)
 7863 491c C7442408 		movl	$LC123, 8(%esp)
 7863      AD460000 
 7864 4924 C7442404 		movl	$LC34, 4(%esp)
 7864      64060000 
 7865 492c C7042403 		movl	$3, (%esp)
 7865      000000
 7866 4933 E8000000 		call	_reslog_adaptor_log
 7866      00
2469:../../MMI/Resource/WriteImgRes.c ****         assert(0);
 7868              	LM609:
 7869 4938 C7442408 		movl	$2469, 8(%esp)
 7869      A5090000 
 7870 4940 C7442404 		movl	$LC35, 4(%esp)
 7870      80060000 
 7871 4948 C70424A1 		movl	$LC36, (%esp)
 7871      060000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 157


 7872 494f E8000000 		call	__assert
 7872      00
 7873              	L383:
2470:../../MMI/Resource/WriteImgRes.c ****         exit(2);
2471:../../MMI/Resource/WriteImgRes.c ****     }
2472:../../MMI/Resource/WriteImgRes.c **** 
2473:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 7875              	LM610:
 7876 4954 8B8564FF 		movl	-156(%ebp), %eax
 7876      FFFF
 7877 495a 89442408 		movl	%eax, 8(%esp)
 7878 495e C7442404 		movl	$128, 4(%esp)
 7878      80000000 
 7879 4966 8D8568FF 		leal	-152(%ebp), %eax
 7879      FFFF
 7880 496c 890424   		movl	%eax, (%esp)
 7881 496f E8000000 		call	_fgets
 7881      00
2474:../../MMI/Resource/WriteImgRes.c ****     x1 = atoi(buffer);
 7883              	LM611:
 7884 4974 8D8568FF 		leal	-152(%ebp), %eax
 7884      FFFF
 7885 497a 890424   		movl	%eax, (%esp)
 7886 497d E8000000 		call	_atoi
 7886      00
 7887 4982 898560FF 		movl	%eax, -160(%ebp)
 7887      FFFF
2475:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 7889              	LM612:
 7890 4988 8B8564FF 		movl	-156(%ebp), %eax
 7890      FFFF
 7891 498e 89442408 		movl	%eax, 8(%esp)
 7892 4992 C7442404 		movl	$128, 4(%esp)
 7892      80000000 
 7893 499a 8D8568FF 		leal	-152(%ebp), %eax
 7893      FFFF
 7894 49a0 890424   		movl	%eax, (%esp)
 7895 49a3 E8000000 		call	_fgets
 7895      00
2476:../../MMI/Resource/WriteImgRes.c ****     y1 = atoi(buffer);
 7897              	LM613:
 7898 49a8 8D8568FF 		leal	-152(%ebp), %eax
 7898      FFFF
 7899 49ae 890424   		movl	%eax, (%esp)
 7900 49b1 E8000000 		call	_atoi
 7900      00
 7901 49b6 89855CFF 		movl	%eax, -164(%ebp)
 7901      FFFF
2477:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 7903              	LM614:
 7904 49bc 8B8564FF 		movl	-156(%ebp), %eax
 7904      FFFF
 7905 49c2 89442408 		movl	%eax, 8(%esp)
 7906 49c6 C7442404 		movl	$128, 4(%esp)
 7906      80000000 
 7907 49ce 8D8568FF 		leal	-152(%ebp), %eax
 7907      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 158


 7908 49d4 890424   		movl	%eax, (%esp)
 7909 49d7 E8000000 		call	_fgets
 7909      00
2478:../../MMI/Resource/WriteImgRes.c ****     x2 = atoi(buffer);
 7911              	LM615:
 7912 49dc 8D8568FF 		leal	-152(%ebp), %eax
 7912      FFFF
 7913 49e2 890424   		movl	%eax, (%esp)
 7914 49e5 E8000000 		call	_atoi
 7914      00
 7915 49ea 898558FF 		movl	%eax, -168(%ebp)
 7915      FFFF
2479:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 7917              	LM616:
 7918 49f0 8B8564FF 		movl	-156(%ebp), %eax
 7918      FFFF
 7919 49f6 89442408 		movl	%eax, 8(%esp)
 7920 49fa C7442404 		movl	$128, 4(%esp)
 7920      80000000 
 7921 4a02 8D8568FF 		leal	-152(%ebp), %eax
 7921      FFFF
 7922 4a08 890424   		movl	%eax, (%esp)
 7923 4a0b E8000000 		call	_fgets
 7923      00
2480:../../MMI/Resource/WriteImgRes.c ****     y2 = atoi(buffer);
 7925              	LM617:
 7926 4a10 8D8568FF 		leal	-152(%ebp), %eax
 7926      FFFF
 7927 4a16 890424   		movl	%eax, (%esp)
 7928 4a19 E8000000 		call	_atoi
 7928      00
 7929 4a1e 898554FF 		movl	%eax, -172(%ebp)
 7929      FFFF
2481:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);  /* zoom type */
 7931              	LM618:
 7932 4a24 8B8564FF 		movl	-156(%ebp), %eax
 7932      FFFF
 7933 4a2a 89442408 		movl	%eax, 8(%esp)
 7934 4a2e C7442404 		movl	$128, 4(%esp)
 7934      80000000 
 7935 4a36 8D8568FF 		leal	-152(%ebp), %eax
 7935      FFFF
 7936 4a3c 890424   		movl	%eax, (%esp)
 7937 4a3f E8000000 		call	_fgets
 7937      00
2482:../../MMI/Resource/WriteImgRes.c **** 
2483:../../MMI/Resource/WriteImgRes.c ****     fclose(p_9slice_file);
 7939              	LM619:
 7940 4a44 8B8564FF 		movl	-156(%ebp), %eax
 7940      FFFF
 7941 4a4a 890424   		movl	%eax, (%esp)
 7942 4a4d E8000000 		call	_fclose
 7942      00
2484:../../MMI/Resource/WriteImgRes.c **** 
2485:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(buffer, "repeat")))
 7944              	LM620:
 7945 4a52 C7442404 		movl	$LC124, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 159


 7945      BD460000 
 7946 4a5a 8D8568FF 		leal	-152(%ebp), %eax
 7946      FFFF
 7947 4a60 890424   		movl	%eax, (%esp)
 7948 4a63 E8000000 		call	_strcmp
 7948      00
 7949 4a68 85C0     		testl	%eax, %eax
 7950 4a6a 7519     		jne	L384
2486:../../MMI/Resource/WriteImgRes.c ****     {
2487:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 0;
 7952              	LM621:
 7953 4a6c C78550FF 		movl	$0, -176(%ebp)
 7953      FFFF0000 
 7953      0000
2488:../../MMI/Resource/WriteImgRes.c ****         do_dither = 1;
 7955              	LM622:
 7956 4a76 C7854CFF 		movl	$1, -180(%ebp)
 7956      FFFF0100 
 7956      0000
 7957 4a80 E98A0000 		jmp	L385
 7957      00
 7958              	L384:
2489:../../MMI/Resource/WriteImgRes.c ****     }
2490:../../MMI/Resource/WriteImgRes.c ****     else if (!(strcmp(buffer, "stretch")))
 7960              	LM623:
 7961 4a85 C7442404 		movl	$LC125, 4(%esp)
 7961      C4460000 
 7962 4a8d 8D8568FF 		leal	-152(%ebp), %eax
 7962      FFFF
 7963 4a93 890424   		movl	%eax, (%esp)
 7964 4a96 E8000000 		call	_strcmp
 7964      00
 7965 4a9b 85C0     		testl	%eax, %eax
 7966 4a9d 7516     		jne	L386
2491:../../MMI/Resource/WriteImgRes.c ****     {
2492:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 1;
 7968              	LM624:
 7969 4a9f C78550FF 		movl	$1, -176(%ebp)
 7969      FFFF0100 
 7969      0000
2493:../../MMI/Resource/WriteImgRes.c ****         do_dither = 0;
 7971              	LM625:
 7972 4aa9 C7854CFF 		movl	$0, -180(%ebp)
 7972      FFFF0000 
 7972      0000
 7973 4ab3 EB5A     		jmp	L385
 7974              	L386:
2494:../../MMI/Resource/WriteImgRes.c ****     }
2495:../../MMI/Resource/WriteImgRes.c ****     else if (!(strcmp(buffer, "stretch_no_dither")))
 7976              	LM626:
 7977 4ab5 C7442404 		movl	$LC126, 4(%esp)
 7977      CC460000 
 7978 4abd 8D8568FF 		leal	-152(%ebp), %eax
 7978      FFFF
 7979 4ac3 890424   		movl	%eax, (%esp)
 7980 4ac6 E8000000 		call	_strcmp
 7980      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 160


 7981 4acb 85C0     		testl	%eax, %eax
 7982 4acd 7516     		jne	L388
2496:../../MMI/Resource/WriteImgRes.c ****     {
2497:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 1;
 7984              	LM627:
 7985 4acf C78550FF 		movl	$1, -176(%ebp)
 7985      FFFF0100 
 7985      0000
2498:../../MMI/Resource/WriteImgRes.c ****         do_dither = 1;
 7987              	LM628:
 7988 4ad9 C7854CFF 		movl	$1, -180(%ebp)
 7988      FFFF0100 
 7988      0000
 7989 4ae3 EB2A     		jmp	L385
 7990              	L388:
2499:../../MMI/Resource/WriteImgRes.c ****     }
2500:../../MMI/Resource/WriteImgRes.c ****     else
2501:../../MMI/Resource/WriteImgRes.c ****     {
2502:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("\n9slice file err, please write [repeat/stretch/stretch_no_dither], can not
 7992              	LM629:
 7993 4ae5 8D8568FF 		leal	-152(%ebp), %eax
 7993      FFFF
 7994 4aeb 89442404 		movl	%eax, 4(%esp)
 7995 4aef C70424E0 		movl	$LC127, (%esp)
 7995      460000
 7996 4af6 E8000000 		call	_MtkResgenTrace
 7996      00
2503:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 0;
 7998              	LM630:
 7999 4afb C78550FF 		movl	$0, -176(%ebp)
 7999      FFFF0000 
 7999      0000
2504:../../MMI/Resource/WriteImgRes.c ****         do_dither = 0;
 8001              	LM631:
 8002 4b05 C7854CFF 		movl	$0, -180(%ebp)
 8002      FFFF0000 
 8002      0000
 8003              	L385:
2505:../../MMI/Resource/WriteImgRes.c ****     }
2506:../../MMI/Resource/WriteImgRes.c **** 
2507:../../MMI/Resource/WriteImgRes.c ****     if (x1<0 || x1>1024 ||
 8005              	LM632:
 8006 4b0f 81BD60FF 		cmpl	$1024, -160(%ebp)
 8006      FFFF0004 
 8006      0000
 8007 4b19 7726     		ja	L391
 8008 4b1b 81BD5CFF 		cmpl	$1024, -164(%ebp)
 8008      FFFF0004 
 8008      0000
 8009 4b25 771A     		ja	L391
 8010 4b27 81BD58FF 		cmpl	$1024, -168(%ebp)
 8010      FFFF0004 
 8010      0000
 8011 4b31 770E     		ja	L391
 8012 4b33 81BD54FF 		cmpl	$1024, -172(%ebp)
 8012      FFFF0004 
 8012      0000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 161


 8013 4b3d 7702     		ja	L391
 8014 4b3f EB5E     		jmp	L390
 8015              	L391:
2508:../../MMI/Resource/WriteImgRes.c ****         y1<0 || y1>1024 ||
2509:../../MMI/Resource/WriteImgRes.c ****         x2<0 || x2>1024 ||
2510:../../MMI/Resource/WriteImgRes.c ****         y2<0 || y2>1024)
2511:../../MMI/Resource/WriteImgRes.c ****     {
2512:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "\nErr in 9slice file [%s]\n", _9slice_filename);
 8017              	LM633:
 8018 4b41 8B450C   		movl	12(%ebp), %eax
 8019 4b44 89442408 		movl	%eax, 8(%esp)
 8020 4b48 C7442404 		movl	$LC128, 4(%esp)
 8020      4C470000 
 8021 4b50 A1000000 		movl	__imp___iob, %eax
 8021      00
 8022 4b55 83C040   		addl	$64, %eax
 8023 4b58 890424   		movl	%eax, (%esp)
 8024 4b5b E8000000 		call	_fprintf
 8024      00
2513:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nErr in 9slice file [%s]\n", _9slice_filename);
 8026              	LM634:
 8027 4b60 8B450C   		movl	12(%ebp), %eax
 8028 4b63 8944240C 		movl	%eax, 12(%esp)
 8029 4b67 C7442408 		movl	$LC128, 8(%esp)
 8029      4C470000 
 8030 4b6f C7442404 		movl	$LC34, 4(%esp)
 8030      64060000 
 8031 4b77 C7042403 		movl	$3, (%esp)
 8031      000000
 8032 4b7e E8000000 		call	_reslog_adaptor_log
 8032      00
2514:../../MMI/Resource/WriteImgRes.c ****         assert(0);
 8034              	LM635:
 8035 4b83 C7442408 		movl	$2514, 8(%esp)
 8035      D2090000 
 8036 4b8b C7442404 		movl	$LC35, 4(%esp)
 8036      80060000 
 8037 4b93 C70424A1 		movl	$LC36, (%esp)
 8037      060000
 8038 4b9a E8000000 		call	__assert
 8038      00
 8039              	L390:
2515:../../MMI/Resource/WriteImgRes.c ****         exit(2);
2516:../../MMI/Resource/WriteImgRes.c ****     }
2517:../../MMI/Resource/WriteImgRes.c **** 
2518:../../MMI/Resource/WriteImgRes.c ****     RES_PRINT_INFO("Write 9slice image header [%s]  position=[%d-%d-%d-%d] zoom=[%s]\n", _9slice_fi
 8041              	LM636:
 8042 4b9f 8D8568FF 		leal	-152(%ebp), %eax
 8042      FFFF
 8043 4ba5 89442418 		movl	%eax, 24(%esp)
 8044 4ba9 8B8554FF 		movl	-172(%ebp), %eax
 8044      FFFF
 8045 4baf 89442414 		movl	%eax, 20(%esp)
 8046 4bb3 8B8558FF 		movl	-168(%ebp), %eax
 8046      FFFF
 8047 4bb9 89442410 		movl	%eax, 16(%esp)
 8048 4bbd 8B855CFF 		movl	-164(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 162


 8048      FFFF
 8049 4bc3 8944240C 		movl	%eax, 12(%esp)
 8050 4bc7 8B8560FF 		movl	-160(%ebp), %eax
 8050      FFFF
 8051 4bcd 89442408 		movl	%eax, 8(%esp)
 8052 4bd1 8B450C   		movl	12(%ebp), %eax
 8053 4bd4 89442404 		movl	%eax, 4(%esp)
 8054 4bd8 C7042480 		movl	$LC129, (%esp)
 8054      470000
 8055 4bdf E8000000 		call	_MtkResgenTrace
 8055      00
2519:../../MMI/Resource/WriteImgRes.c ****     if (is_binary)
 8057              	LM637:
 8058 4be4 837D1400 		cmpl	$0, 20(%ebp)
 8059 4be8 0F847301 		je	L392
 8059      0000
 8060              	LBB58:
 8061 4bee 89E3     		movl	%esp, %ebx
2520:../../MMI/Resource/WriteImgRes.c ****     {
2521:../../MMI/Resource/WriteImgRes.c ****         const size_t buffer_size = 20;
 8063              	LM638:
 8064 4bf0 C78548FF 		movl	$20, -184(%ebp)
 8064      FFFF1400 
 8064      0000
2522:../../MMI/Resource/WriteImgRes.c ****         char temp_buffer[buffer_size + 1];
 8066              	LM639:
 8067 4bfa 8B8548FF 		movl	-184(%ebp), %eax
 8067      FFFF
 8068 4c00 40       		incl	%eax
 8069 4c01 83C00F   		addl	$15, %eax
 8070 4c04 C1E804   		shrl	$4, %eax
 8071 4c07 C1E004   		sall	$4, %eax
 8072 4c0a 898544FF 		movl	%eax, -188(%ebp)
 8072      FFFF
 8073 4c10 8B8544FF 		movl	-188(%ebp), %eax
 8073      FFFF
 8074 4c16 E8000000 		call	__alloca
 8074      00
 8075 4c1b 8D742458 		leal	88(%esp), %esi
2523:../../MMI/Resource/WriteImgRes.c ****         sprintf(temp_buffer,
 8077              	LM640:
 8078 4c1f 8B8554FF 		movl	-172(%ebp), %eax
 8078      FFFF
 8079 4c25 C1E818   		shrl	$24, %eax
 8080 4c28 0FB6C0   		movzbl	%al, %eax
 8081 4c2b 89442454 		movl	%eax, 84(%esp)
 8082 4c2f 8B8554FF 		movl	-172(%ebp), %eax
 8082      FFFF
 8083 4c35 C1E810   		shrl	$16, %eax
 8084 4c38 0FB6C0   		movzbl	%al, %eax
 8085 4c3b 89442450 		movl	%eax, 80(%esp)
 8086 4c3f 8B8554FF 		movl	-172(%ebp), %eax
 8086      FFFF
 8087 4c45 C1E808   		shrl	$8, %eax
 8088 4c48 0FB6C0   		movzbl	%al, %eax
 8089 4c4b 8944244C 		movl	%eax, 76(%esp)
 8090 4c4f 0FB68554 		movzbl	-172(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 163


 8090      FFFFFF
 8091 4c56 89442448 		movl	%eax, 72(%esp)
 8092 4c5a 8B8558FF 		movl	-168(%ebp), %eax
 8092      FFFF
 8093 4c60 C1E818   		shrl	$24, %eax
 8094 4c63 0FB6C0   		movzbl	%al, %eax
 8095 4c66 89442444 		movl	%eax, 68(%esp)
 8096 4c6a 8B8558FF 		movl	-168(%ebp), %eax
 8096      FFFF
 8097 4c70 C1E810   		shrl	$16, %eax
 8098 4c73 0FB6C0   		movzbl	%al, %eax
 8099 4c76 89442440 		movl	%eax, 64(%esp)
 8100 4c7a 8B8558FF 		movl	-168(%ebp), %eax
 8100      FFFF
 8101 4c80 C1E808   		shrl	$8, %eax
 8102 4c83 0FB6C0   		movzbl	%al, %eax
 8103 4c86 8944243C 		movl	%eax, 60(%esp)
 8104 4c8a 0FB68558 		movzbl	-168(%ebp), %eax
 8104      FFFFFF
 8105 4c91 89442438 		movl	%eax, 56(%esp)
 8106 4c95 8B855CFF 		movl	-164(%ebp), %eax
 8106      FFFF
 8107 4c9b C1E818   		shrl	$24, %eax
 8108 4c9e 0FB6C0   		movzbl	%al, %eax
 8109 4ca1 89442434 		movl	%eax, 52(%esp)
 8110 4ca5 8B855CFF 		movl	-164(%ebp), %eax
 8110      FFFF
 8111 4cab C1E810   		shrl	$16, %eax
 8112 4cae 0FB6C0   		movzbl	%al, %eax
 8113 4cb1 89442430 		movl	%eax, 48(%esp)
 8114 4cb5 8B855CFF 		movl	-164(%ebp), %eax
 8114      FFFF
 8115 4cbb C1E808   		shrl	$8, %eax
 8116 4cbe 0FB6C0   		movzbl	%al, %eax
 8117 4cc1 8944242C 		movl	%eax, 44(%esp)
 8118 4cc5 0FB6855C 		movzbl	-164(%ebp), %eax
 8118      FFFFFF
 8119 4ccc 89442428 		movl	%eax, 40(%esp)
 8120 4cd0 8B8560FF 		movl	-160(%ebp), %eax
 8120      FFFF
 8121 4cd6 C1E818   		shrl	$24, %eax
 8122 4cd9 0FB6C0   		movzbl	%al, %eax
 8123 4cdc 89442424 		movl	%eax, 36(%esp)
 8124 4ce0 8B8560FF 		movl	-160(%ebp), %eax
 8124      FFFF
 8125 4ce6 C1E810   		shrl	$16, %eax
 8126 4ce9 0FB6C0   		movzbl	%al, %eax
 8127 4cec 89442420 		movl	%eax, 32(%esp)
 8128 4cf0 8B8560FF 		movl	-160(%ebp), %eax
 8128      FFFF
 8129 4cf6 C1E808   		shrl	$8, %eax
 8130 4cf9 0FB6C0   		movzbl	%al, %eax
 8131 4cfc 8944241C 		movl	%eax, 28(%esp)
 8132 4d00 0FB68560 		movzbl	-160(%ebp), %eax
 8132      FFFFFF
 8133 4d07 89442418 		movl	%eax, 24(%esp)
 8134 4d0b C7442414 		movl	$0, 20(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 164


 8134      00000000 
 8135 4d13 0FB6854C 		movzbl	-180(%ebp), %eax
 8135      FFFFFF
 8136 4d1a 89442410 		movl	%eax, 16(%esp)
 8137 4d1e 0FB68550 		movzbl	-176(%ebp), %eax
 8137      FFFFFF
 8138 4d25 8944240C 		movl	%eax, 12(%esp)
 8139 4d29 0FB645F7 		movzbl	-9(%ebp), %eax
 8140 4d2d 89442408 		movl	%eax, 8(%esp)
 8141 4d31 C7442404 		movl	$LC130, 4(%esp)
 8141      E0470000 
 8142 4d39 893424   		movl	%esi, (%esp)
 8143 4d3c E8000000 		call	_sprintf
 8143      00
2524:../../MMI/Resource/WriteImgRes.c ****                 "%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c",
2525:../../MMI/Resource/WriteImgRes.c ****                 (U8) real_imagetype,            //type
2526:../../MMI/Resource/WriteImgRes.c ****                 (U8) zoom_type,                 //zoom type
2527:../../MMI/Resource/WriteImgRes.c ****                 (U8) do_dither,                 //do_dither
2528:../../MMI/Resource/WriteImgRes.c ****                 (U8) 0,                         //reserved
2529:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( x1 & 0xff),
2530:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 8) & 0xff),
2531:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 16) & 0xff),
2532:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 24) & 0xff),
2533:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( y1 & 0xff),
2534:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 8) & 0xff),
2535:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 16) & 0xff),
2536:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 24) & 0xff),
2537:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( x2 & 0xff),
2538:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 8) & 0xff),
2539:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 16) & 0xff),
2540:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 24) & 0xff),
2541:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( y2 & 0xff),
2542:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 8) & 0xff),
2543:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 16) & 0xff),
2544:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 24) & 0xff));
2545:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamAppend(outstream, temp_buffer, buffer_size);
 8145              	LM641:
 8146 4d41 8B8548FF 		movl	-184(%ebp), %eax
 8146      FFFF
 8147 4d47 89442408 		movl	%eax, 8(%esp)
 8148 4d4b 89742404 		movl	%esi, 4(%esp)
 8149 4d4f 8B4510   		movl	16(%ebp), %eax
 8150 4d52 890424   		movl	%eax, (%esp)
 8151 4d55 E8000000 		call	_ImageOutStreamAppend
 8151      00
 8152 4d5a 89DC     		movl	%ebx, %esp
 8153              	LBE58:
 8154 4d5c E9250100 		jmp	L382
 8154      00
 8155              	L392:
2546:../../MMI/Resource/WriteImgRes.c ****     }
2547:../../MMI/Resource/WriteImgRes.c ****     else
2548:../../MMI/Resource/WriteImgRes.c ****     {
2549:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream,
 8157              	LM642:
 8158 4d61 8B8554FF 		movl	-172(%ebp), %eax
 8158      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 165


 8159 4d67 C1E818   		shrl	$24, %eax
 8160 4d6a 0FB6C0   		movzbl	%al, %eax
 8161 4d6d 89442454 		movl	%eax, 84(%esp)
 8162 4d71 8B8554FF 		movl	-172(%ebp), %eax
 8162      FFFF
 8163 4d77 C1E810   		shrl	$16, %eax
 8164 4d7a 0FB6C0   		movzbl	%al, %eax
 8165 4d7d 89442450 		movl	%eax, 80(%esp)
 8166 4d81 8B8554FF 		movl	-172(%ebp), %eax
 8166      FFFF
 8167 4d87 C1E808   		shrl	$8, %eax
 8168 4d8a 0FB6C0   		movzbl	%al, %eax
 8169 4d8d 8944244C 		movl	%eax, 76(%esp)
 8170 4d91 0FB68554 		movzbl	-172(%ebp), %eax
 8170      FFFFFF
 8171 4d98 89442448 		movl	%eax, 72(%esp)
 8172 4d9c 8B8558FF 		movl	-168(%ebp), %eax
 8172      FFFF
 8173 4da2 C1E818   		shrl	$24, %eax
 8174 4da5 0FB6C0   		movzbl	%al, %eax
 8175 4da8 89442444 		movl	%eax, 68(%esp)
 8176 4dac 8B8558FF 		movl	-168(%ebp), %eax
 8176      FFFF
 8177 4db2 C1E810   		shrl	$16, %eax
 8178 4db5 0FB6C0   		movzbl	%al, %eax
 8179 4db8 89442440 		movl	%eax, 64(%esp)
 8180 4dbc 8B8558FF 		movl	-168(%ebp), %eax
 8180      FFFF
 8181 4dc2 C1E808   		shrl	$8, %eax
 8182 4dc5 0FB6C0   		movzbl	%al, %eax
 8183 4dc8 8944243C 		movl	%eax, 60(%esp)
 8184 4dcc 0FB68558 		movzbl	-168(%ebp), %eax
 8184      FFFFFF
 8185 4dd3 89442438 		movl	%eax, 56(%esp)
 8186 4dd7 8B855CFF 		movl	-164(%ebp), %eax
 8186      FFFF
 8187 4ddd C1E818   		shrl	$24, %eax
 8188 4de0 0FB6C0   		movzbl	%al, %eax
 8189 4de3 89442434 		movl	%eax, 52(%esp)
 8190 4de7 8B855CFF 		movl	-164(%ebp), %eax
 8190      FFFF
 8191 4ded C1E810   		shrl	$16, %eax
 8192 4df0 0FB6C0   		movzbl	%al, %eax
 8193 4df3 89442430 		movl	%eax, 48(%esp)
 8194 4df7 8B855CFF 		movl	-164(%ebp), %eax
 8194      FFFF
 8195 4dfd C1E808   		shrl	$8, %eax
 8196 4e00 0FB6C0   		movzbl	%al, %eax
 8197 4e03 8944242C 		movl	%eax, 44(%esp)
 8198 4e07 0FB6855C 		movzbl	-164(%ebp), %eax
 8198      FFFFFF
 8199 4e0e 89442428 		movl	%eax, 40(%esp)
 8200 4e12 8B8560FF 		movl	-160(%ebp), %eax
 8200      FFFF
 8201 4e18 C1E818   		shrl	$24, %eax
 8202 4e1b 0FB6C0   		movzbl	%al, %eax
 8203 4e1e 89442424 		movl	%eax, 36(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 166


 8204 4e22 8B8560FF 		movl	-160(%ebp), %eax
 8204      FFFF
 8205 4e28 C1E810   		shrl	$16, %eax
 8206 4e2b 0FB6C0   		movzbl	%al, %eax
 8207 4e2e 89442420 		movl	%eax, 32(%esp)
 8208 4e32 8B8560FF 		movl	-160(%ebp), %eax
 8208      FFFF
 8209 4e38 C1E808   		shrl	$8, %eax
 8210 4e3b 0FB6C0   		movzbl	%al, %eax
 8211 4e3e 8944241C 		movl	%eax, 28(%esp)
 8212 4e42 0FB68560 		movzbl	-160(%ebp), %eax
 8212      FFFFFF
 8213 4e49 89442418 		movl	%eax, 24(%esp)
 8214 4e4d C7442414 		movl	$0, 20(%esp)
 8214      00000000 
 8215 4e55 0FB6854C 		movzbl	-180(%ebp), %eax
 8215      FFFFFF
 8216 4e5c 89442410 		movl	%eax, 16(%esp)
 8217 4e60 0FB68550 		movzbl	-176(%ebp), %eax
 8217      FFFFFF
 8218 4e67 8944240C 		movl	%eax, 12(%esp)
 8219 4e6b 0FB645F7 		movzbl	-9(%ebp), %eax
 8220 4e6f 89442408 		movl	%eax, 8(%esp)
 8221 4e73 C7442404 		movl	$LC131, 4(%esp)
 8221      20480000 
 8222 4e7b 8B4510   		movl	16(%ebp), %eax
 8223 4e7e 890424   		movl	%eax, (%esp)
 8224 4e81 E8000000 		call	_ImageOutStreamPrintf
 8224      00
2550:../../MMI/Resource/WriteImgRes.c ****                 "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X
2551:../../MMI/Resource/WriteImgRes.c ****                 (U8) real_imagetype,            //type
2552:../../MMI/Resource/WriteImgRes.c ****                 (U8) zoom_type,                 //zoom type
2553:../../MMI/Resource/WriteImgRes.c ****                 (U8) do_dither,                 //do_dither
2554:../../MMI/Resource/WriteImgRes.c ****                 (U8) 0,                         //reserved
2555:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( x1 & 0xff),
2556:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 8) & 0xff),
2557:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 16) & 0xff),
2558:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 24) & 0xff),
2559:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( y1 & 0xff),
2560:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 8) & 0xff),
2561:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 16) & 0xff),
2562:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 24) & 0xff),
2563:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( x2 & 0xff),
2564:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 8) & 0xff),
2565:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 16) & 0xff),
2566:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 24) & 0xff),
2567:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( y2 & 0xff),
2568:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 8) & 0xff),
2569:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 16) & 0xff),
2570:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 24) & 0xff));
2571:../../MMI/Resource/WriteImgRes.c ****     }
2572:../../MMI/Resource/WriteImgRes.c **** 
2573:../../MMI/Resource/WriteImgRes.c **** }
 8226              	LM643:
 8227              	L382:
 8228 4e86 8D65F8   		leal	-8(%ebp), %esp
 8229 4e89 5B       		popl	%ebx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 167


 8230 4e8a 5E       		popl	%esi
 8231 4e8b 5D       		popl	%ebp
 8232 4e8c C3       		ret
 8233              	LBE57:
 8249              	Lscope13:
 8251 4e8d 90909090 		.align 32
 8251      90909090 
 8251      90909090 
 8251      90909090 
 8251      909090
 8252              	LC132:
 8253 4ea0 0A6D6D69 		.ascii "\12mmi_rg_get_9slice_header Err input \"buff\" parameter\0"
 8253      5F72675F 
 8253      6765745F 
 8253      39736C69 
 8253      63655F68 
 8258              	.globl _mmi_rg_get_9slice_header
 8260              	_mmi_rg_get_9slice_header:
2574:../../MMI/Resource/WriteImgRes.c **** 
2575:../../MMI/Resource/WriteImgRes.c **** 
2576:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2577:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2578:../../MMI/Resource/WriteImgRes.c ****  *  mmi_rg_get_9slice_header
2579:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2580:../../MMI/Resource/WriteImgRes.c ****  *  write 9slice header, include position and read file type to output file
2581:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2582:../../MMI/Resource/WriteImgRes.c ****  *  real_imagetype          [IN]        Real image type of 9slice images
2583:../../MMI/Resource/WriteImgRes.c ****  *  buff                         [IN/OUT]        9slice header
2584:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2585:../../MMI/Resource/WriteImgRes.c ****  *  void
2586:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2587:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL mmi_rg_get_9slice_header(U8 real_imagetype, U8 *buff/*IN/OUT*/, U8* _9slice_filename)
2588:../../MMI/Resource/WriteImgRes.c **** {
 8262              	LM644:
 8263 4ed5 55       		pushl	%ebp
 8264 4ed6 89E5     		movl	%esp, %ebp
 8265 4ed8 81ECD800 		subl	$216, %esp
 8265      0000
 8266 4ede 8B4508   		movl	8(%ebp), %eax
 8267 4ee1 8845F7   		movb	%al, -9(%ebp)
2589:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2590:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
2591:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2592:../../MMI/Resource/WriteImgRes.c ****     U8 buffer[128];
2593:../../MMI/Resource/WriteImgRes.c ****     FILE *p_9slice_file;
2594:../../MMI/Resource/WriteImgRes.c ****     U32 x1,y1,x2,y2;
2595:../../MMI/Resource/WriteImgRes.c ****     U32 zoom_type;
2596:../../MMI/Resource/WriteImgRes.c ****     U32 do_dither; /* 1: not to do dithering, 0: try to do dithering*/
2597:../../MMI/Resource/WriteImgRes.c **** 
2598:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2599:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
2600:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2601:../../MMI/Resource/WriteImgRes.c ****     if(buff == 0)
 8269              	LM645:
 8270              	LBB59:
 8271 4ee4 837D0C00 		cmpl	$0, 12(%ebp)
 8272 4ee8 7528     		jne	L395
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 168


2602:../../MMI/Resource/WriteImgRes.c ****     {
2603:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nmmi_rg_get_9slice_header Err input \"buff\" parameter");
 8274              	LM646:
 8275 4eea C7442408 		movl	$LC132, 8(%esp)
 8275      A04E0000 
 8276 4ef2 C7442404 		movl	$LC34, 4(%esp)
 8276      64060000 
 8277 4efa C7042403 		movl	$3, (%esp)
 8277      000000
 8278 4f01 E8000000 		call	_reslog_adaptor_log
 8278      00
2604:../../MMI/Resource/WriteImgRes.c ****         exit(2);
 8280              	LM647:
 8281 4f06 C7042402 		movl	$2, (%esp)
 8281      000000
 8282 4f0d E8000000 		call	_exit
 8282      00
 8283              	L395:
2605:../../MMI/Resource/WriteImgRes.c ****     }
2606:../../MMI/Resource/WriteImgRes.c **** 
2607:../../MMI/Resource/WriteImgRes.c ****     p_9slice_file = fopen(_9slice_filename, "r");
 8285              	LM648:
 8286 4f12 C7442404 		movl	$LC95, 4(%esp)
 8286      22310000 
 8287 4f1a 8B4510   		movl	16(%ebp), %eax
 8288 4f1d 890424   		movl	%eax, (%esp)
 8289 4f20 E8000000 		call	_fopen
 8289      00
 8290 4f25 898564FF 		movl	%eax, -156(%ebp)
 8290      FFFF
2608:../../MMI/Resource/WriteImgRes.c ****     if (p_9slice_file == NULL)
 8292              	LM649:
 8293 4f2b 83BD64FF 		cmpl	$0, -156(%ebp)
 8293      FFFF00
 8294 4f32 754E     		jne	L396
2609:../../MMI/Resource/WriteImgRes.c ****     {
2610:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "\nErr opening %s", _9slice_filename);
 8296              	LM650:
 8297 4f34 8B4510   		movl	16(%ebp), %eax
 8298 4f37 89442408 		movl	%eax, 8(%esp)
 8299 4f3b C7442404 		movl	$LC123, 4(%esp)
 8299      AD460000 
 8300 4f43 A1000000 		movl	__imp___iob, %eax
 8300      00
 8301 4f48 83C040   		addl	$64, %eax
 8302 4f4b 890424   		movl	%eax, (%esp)
 8303 4f4e E8000000 		call	_fprintf
 8303      00
2611:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nErr opening %s", _9slice_filename);
 8305              	LM651:
 8306 4f53 8B4510   		movl	16(%ebp), %eax
 8307 4f56 8944240C 		movl	%eax, 12(%esp)
 8308 4f5a C7442408 		movl	$LC123, 8(%esp)
 8308      AD460000 
 8309 4f62 C7442404 		movl	$LC34, 4(%esp)
 8309      64060000 
 8310 4f6a C7042403 		movl	$3, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 169


 8310      000000
 8311 4f71 E8000000 		call	_reslog_adaptor_log
 8311      00
2612:../../MMI/Resource/WriteImgRes.c ****         exit(2);
 8313              	LM652:
 8314 4f76 C7042402 		movl	$2, (%esp)
 8314      000000
 8315 4f7d E8000000 		call	_exit
 8315      00
 8316              	L396:
2613:../../MMI/Resource/WriteImgRes.c ****     }
2614:../../MMI/Resource/WriteImgRes.c **** 
2615:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 8318              	LM653:
 8319 4f82 8B8564FF 		movl	-156(%ebp), %eax
 8319      FFFF
 8320 4f88 89442408 		movl	%eax, 8(%esp)
 8321 4f8c C7442404 		movl	$128, 4(%esp)
 8321      80000000 
 8322 4f94 8D8568FF 		leal	-152(%ebp), %eax
 8322      FFFF
 8323 4f9a 890424   		movl	%eax, (%esp)
 8324 4f9d E8000000 		call	_fgets
 8324      00
2616:../../MMI/Resource/WriteImgRes.c ****     x1 = atoi(buffer);
 8326              	LM654:
 8327 4fa2 8D8568FF 		leal	-152(%ebp), %eax
 8327      FFFF
 8328 4fa8 890424   		movl	%eax, (%esp)
 8329 4fab E8000000 		call	_atoi
 8329      00
 8330 4fb0 898560FF 		movl	%eax, -160(%ebp)
 8330      FFFF
2617:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 8332              	LM655:
 8333 4fb6 8B8564FF 		movl	-156(%ebp), %eax
 8333      FFFF
 8334 4fbc 89442408 		movl	%eax, 8(%esp)
 8335 4fc0 C7442404 		movl	$128, 4(%esp)
 8335      80000000 
 8336 4fc8 8D8568FF 		leal	-152(%ebp), %eax
 8336      FFFF
 8337 4fce 890424   		movl	%eax, (%esp)
 8338 4fd1 E8000000 		call	_fgets
 8338      00
2618:../../MMI/Resource/WriteImgRes.c ****     y1 = atoi(buffer);
 8340              	LM656:
 8341 4fd6 8D8568FF 		leal	-152(%ebp), %eax
 8341      FFFF
 8342 4fdc 890424   		movl	%eax, (%esp)
 8343 4fdf E8000000 		call	_atoi
 8343      00
 8344 4fe4 89855CFF 		movl	%eax, -164(%ebp)
 8344      FFFF
2619:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 8346              	LM657:
 8347 4fea 8B8564FF 		movl	-156(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 170


 8347      FFFF
 8348 4ff0 89442408 		movl	%eax, 8(%esp)
 8349 4ff4 C7442404 		movl	$128, 4(%esp)
 8349      80000000 
 8350 4ffc 8D8568FF 		leal	-152(%ebp), %eax
 8350      FFFF
 8351 5002 890424   		movl	%eax, (%esp)
 8352 5005 E8000000 		call	_fgets
 8352      00
2620:../../MMI/Resource/WriteImgRes.c ****     x2 = atoi(buffer);
 8354              	LM658:
 8355 500a 8D8568FF 		leal	-152(%ebp), %eax
 8355      FFFF
 8356 5010 890424   		movl	%eax, (%esp)
 8357 5013 E8000000 		call	_atoi
 8357      00
 8358 5018 898558FF 		movl	%eax, -168(%ebp)
 8358      FFFF
2621:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 8360              	LM659:
 8361 501e 8B8564FF 		movl	-156(%ebp), %eax
 8361      FFFF
 8362 5024 89442408 		movl	%eax, 8(%esp)
 8363 5028 C7442404 		movl	$128, 4(%esp)
 8363      80000000 
 8364 5030 8D8568FF 		leal	-152(%ebp), %eax
 8364      FFFF
 8365 5036 890424   		movl	%eax, (%esp)
 8366 5039 E8000000 		call	_fgets
 8366      00
2622:../../MMI/Resource/WriteImgRes.c ****     y2 = atoi(buffer);  
 8368              	LM660:
 8369 503e 8D8568FF 		leal	-152(%ebp), %eax
 8369      FFFF
 8370 5044 890424   		movl	%eax, (%esp)
 8371 5047 E8000000 		call	_atoi
 8371      00
 8372 504c 898554FF 		movl	%eax, -172(%ebp)
 8372      FFFF
2623:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);  /* zoom type */
 8374              	LM661:
 8375 5052 8B8564FF 		movl	-156(%ebp), %eax
 8375      FFFF
 8376 5058 89442408 		movl	%eax, 8(%esp)
 8377 505c C7442404 		movl	$128, 4(%esp)
 8377      80000000 
 8378 5064 8D8568FF 		leal	-152(%ebp), %eax
 8378      FFFF
 8379 506a 890424   		movl	%eax, (%esp)
 8380 506d E8000000 		call	_fgets
 8380      00
2624:../../MMI/Resource/WriteImgRes.c **** 
2625:../../MMI/Resource/WriteImgRes.c ****     fclose(p_9slice_file);
 8382              	LM662:
 8383 5072 8B8564FF 		movl	-156(%ebp), %eax
 8383      FFFF
 8384 5078 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 171


 8385 507b E8000000 		call	_fclose
 8385      00
2626:../../MMI/Resource/WriteImgRes.c **** 
2627:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(buffer, "repeat")))
 8387              	LM663:
 8388 5080 C7442404 		movl	$LC124, 4(%esp)
 8388      BD460000 
 8389 5088 8D8568FF 		leal	-152(%ebp), %eax
 8389      FFFF
 8390 508e 890424   		movl	%eax, (%esp)
 8391 5091 E8000000 		call	_strcmp
 8391      00
 8392 5096 85C0     		testl	%eax, %eax
 8393 5098 7519     		jne	L397
2628:../../MMI/Resource/WriteImgRes.c ****     {
2629:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 0;
 8395              	LM664:
 8396 509a C78550FF 		movl	$0, -176(%ebp)
 8396      FFFF0000 
 8396      0000
2630:../../MMI/Resource/WriteImgRes.c ****         do_dither = 1;
 8398              	LM665:
 8399 50a4 C7854CFF 		movl	$1, -180(%ebp)
 8399      FFFF0100 
 8399      0000
 8400 50ae E98A0000 		jmp	L398
 8400      00
 8401              	L397:
2631:../../MMI/Resource/WriteImgRes.c ****     }
2632:../../MMI/Resource/WriteImgRes.c ****     else if (!(strcmp(buffer, "stretch")))
 8403              	LM666:
 8404 50b3 C7442404 		movl	$LC125, 4(%esp)
 8404      C4460000 
 8405 50bb 8D8568FF 		leal	-152(%ebp), %eax
 8405      FFFF
 8406 50c1 890424   		movl	%eax, (%esp)
 8407 50c4 E8000000 		call	_strcmp
 8407      00
 8408 50c9 85C0     		testl	%eax, %eax
 8409 50cb 7516     		jne	L399
2633:../../MMI/Resource/WriteImgRes.c ****     {
2634:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 1;
 8411              	LM667:
 8412 50cd C78550FF 		movl	$1, -176(%ebp)
 8412      FFFF0100 
 8412      0000
2635:../../MMI/Resource/WriteImgRes.c ****         do_dither = 0;
 8414              	LM668:
 8415 50d7 C7854CFF 		movl	$0, -180(%ebp)
 8415      FFFF0000 
 8415      0000
 8416 50e1 EB5A     		jmp	L398
 8417              	L399:
2636:../../MMI/Resource/WriteImgRes.c ****         
2637:../../MMI/Resource/WriteImgRes.c ****     }
2638:../../MMI/Resource/WriteImgRes.c ****     else if (!(strcmp(buffer,"stretch_no_dither")))
 8419              	LM669:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 172


 8420 50e3 C7442404 		movl	$LC126, 4(%esp)
 8420      CC460000 
 8421 50eb 8D8568FF 		leal	-152(%ebp), %eax
 8421      FFFF
 8422 50f1 890424   		movl	%eax, (%esp)
 8423 50f4 E8000000 		call	_strcmp
 8423      00
 8424 50f9 85C0     		testl	%eax, %eax
 8425 50fb 7516     		jne	L401
2639:../../MMI/Resource/WriteImgRes.c ****     {
2640:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 1;
 8427              	LM670:
 8428 50fd C78550FF 		movl	$1, -176(%ebp)
 8428      FFFF0100 
 8428      0000
2641:../../MMI/Resource/WriteImgRes.c ****         do_dither = 1;
 8430              	LM671:
 8431 5107 C7854CFF 		movl	$1, -180(%ebp)
 8431      FFFF0100 
 8431      0000
 8432 5111 EB2A     		jmp	L398
 8433              	L401:
2642:../../MMI/Resource/WriteImgRes.c ****     }
2643:../../MMI/Resource/WriteImgRes.c ****     else
2644:../../MMI/Resource/WriteImgRes.c ****     {
2645:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("\n9slice file err, please write [repeat/stretch/stretch_no_dither], can not
 8435              	LM672:
 8436 5113 8D8568FF 		leal	-152(%ebp), %eax
 8436      FFFF
 8437 5119 89442404 		movl	%eax, 4(%esp)
 8438 511d C70424E0 		movl	$LC127, (%esp)
 8438      460000
 8439 5124 E8000000 		call	_MtkResgenTrace
 8439      00
2646:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 0;
 8441              	LM673:
 8442 5129 C78550FF 		movl	$0, -176(%ebp)
 8442      FFFF0000 
 8442      0000
2647:../../MMI/Resource/WriteImgRes.c ****         do_dither = 0;
 8444              	LM674:
 8445 5133 C7854CFF 		movl	$0, -180(%ebp)
 8445      FFFF0000 
 8445      0000
 8446              	L398:
2648:../../MMI/Resource/WriteImgRes.c ****     }
2649:../../MMI/Resource/WriteImgRes.c **** 
2650:../../MMI/Resource/WriteImgRes.c ****     if (x1<0 || x1>1024 ||
 8448              	LM675:
 8449 513d 81BD60FF 		cmpl	$1024, -160(%ebp)
 8449      FFFF0004 
 8449      0000
 8450 5147 7726     		ja	L404
 8451 5149 81BD5CFF 		cmpl	$1024, -164(%ebp)
 8451      FFFF0004 
 8451      0000
 8452 5153 771A     		ja	L404
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 173


 8453 5155 81BD58FF 		cmpl	$1024, -168(%ebp)
 8453      FFFF0004 
 8453      0000
 8454 515f 770E     		ja	L404
 8455 5161 81BD54FF 		cmpl	$1024, -172(%ebp)
 8455      FFFF0004 
 8455      0000
 8456 516b 7702     		ja	L404
 8457 516d EB4E     		jmp	L403
 8458              	L404:
2651:../../MMI/Resource/WriteImgRes.c ****         y1<0 || y1>1024 ||
2652:../../MMI/Resource/WriteImgRes.c ****         x2<0 || x2>1024 ||
2653:../../MMI/Resource/WriteImgRes.c ****         y2<0 || y2>1024)
2654:../../MMI/Resource/WriteImgRes.c ****     {
2655:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "\nErr in 9slice file [%s]\n", _9slice_filename);
 8460              	LM676:
 8461 516f 8B4510   		movl	16(%ebp), %eax
 8462 5172 89442408 		movl	%eax, 8(%esp)
 8463 5176 C7442404 		movl	$LC128, 4(%esp)
 8463      4C470000 
 8464 517e A1000000 		movl	__imp___iob, %eax
 8464      00
 8465 5183 83C040   		addl	$64, %eax
 8466 5186 890424   		movl	%eax, (%esp)
 8467 5189 E8000000 		call	_fprintf
 8467      00
2656:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nErr in 9slice file [%s]\n", _9slice_filename);
 8469              	LM677:
 8470 518e 8B4510   		movl	16(%ebp), %eax
 8471 5191 8944240C 		movl	%eax, 12(%esp)
 8472 5195 C7442408 		movl	$LC128, 8(%esp)
 8472      4C470000 
 8473 519d C7442404 		movl	$LC34, 4(%esp)
 8473      64060000 
 8474 51a5 C7042403 		movl	$3, (%esp)
 8474      000000
 8475 51ac E8000000 		call	_reslog_adaptor_log
 8475      00
2657:../../MMI/Resource/WriteImgRes.c ****         exit(2);
 8477              	LM678:
 8478 51b1 C7042402 		movl	$2, (%esp)
 8478      000000
 8479 51b8 E8000000 		call	_exit
 8479      00
 8480              	L403:
2658:../../MMI/Resource/WriteImgRes.c ****     }
2659:../../MMI/Resource/WriteImgRes.c **** 
2660:../../MMI/Resource/WriteImgRes.c ****     RES_PRINT_INFO("Write 9slice image header [%s]  position=[%d-%d-%d-%d] zoom=[%s]\n", _9slice_fi
 8482              	LM679:
 8483 51bd 8D8568FF 		leal	-152(%ebp), %eax
 8483      FFFF
 8484 51c3 89442418 		movl	%eax, 24(%esp)
 8485 51c7 8B8554FF 		movl	-172(%ebp), %eax
 8485      FFFF
 8486 51cd 89442414 		movl	%eax, 20(%esp)
 8487 51d1 8B8558FF 		movl	-168(%ebp), %eax
 8487      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 174


 8488 51d7 89442410 		movl	%eax, 16(%esp)
 8489 51db 8B855CFF 		movl	-164(%ebp), %eax
 8489      FFFF
 8490 51e1 8944240C 		movl	%eax, 12(%esp)
 8491 51e5 8B8560FF 		movl	-160(%ebp), %eax
 8491      FFFF
 8492 51eb 89442408 		movl	%eax, 8(%esp)
 8493 51ef 8B4510   		movl	16(%ebp), %eax
 8494 51f2 89442404 		movl	%eax, 4(%esp)
 8495 51f6 C7042480 		movl	$LC129, (%esp)
 8495      470000
 8496 51fd E8000000 		call	_MtkResgenTrace
 8496      00
2661:../../MMI/Resource/WriteImgRes.c **** 
2662:../../MMI/Resource/WriteImgRes.c ****     /* 9slice data header */
2663:../../MMI/Resource/WriteImgRes.c ****     buff[0] = (U8) real_imagetype;
 8498              	LM680:
 8499 5202 8B550C   		movl	12(%ebp), %edx
 8500 5205 0FB645F7 		movzbl	-9(%ebp), %eax
 8501 5209 8802     		movb	%al, (%edx)
2664:../../MMI/Resource/WriteImgRes.c ****     buff[1] = (U8) zoom_type;
 8503              	LM681:
 8504 520b 8B550C   		movl	12(%ebp), %edx
 8505 520e 42       		incl	%edx
 8506 520f 0FB68550 		movzbl	-176(%ebp), %eax
 8506      FFFFFF
 8507 5216 8802     		movb	%al, (%edx)
2665:../../MMI/Resource/WriteImgRes.c ****     buff[2] = (U8) do_dither;
 8509              	LM682:
 8510 5218 8B550C   		movl	12(%ebp), %edx
 8511 521b 83C202   		addl	$2, %edx
 8512 521e 0FB6854C 		movzbl	-180(%ebp), %eax
 8512      FFFFFF
 8513 5225 8802     		movb	%al, (%edx)
2666:../../MMI/Resource/WriteImgRes.c ****     buff[3] = (U8) 0;
 8515              	LM683:
 8516 5227 8B450C   		movl	12(%ebp), %eax
 8517 522a 83C003   		addl	$3, %eax
 8518 522d C60000   		movb	$0, (%eax)
2667:../../MMI/Resource/WriteImgRes.c ****     buff[4] = (U8) ( x1 & 0xff);
 8520              	LM684:
 8521 5230 8B550C   		movl	12(%ebp), %edx
 8522 5233 83C204   		addl	$4, %edx
 8523 5236 0FB68560 		movzbl	-160(%ebp), %eax
 8523      FFFFFF
 8524 523d 8802     		movb	%al, (%edx)
2668:../../MMI/Resource/WriteImgRes.c ****     buff[5] = (U8) ((x1 >> 8) & 0xff);
 8526              	LM685:
 8527 523f 8B550C   		movl	12(%ebp), %edx
 8528 5242 83C205   		addl	$5, %edx
 8529 5245 8B8560FF 		movl	-160(%ebp), %eax
 8529      FFFF
 8530 524b C1E808   		shrl	$8, %eax
 8531 524e 8802     		movb	%al, (%edx)
2669:../../MMI/Resource/WriteImgRes.c ****     buff[6] = (U8) ((x1 >> 16) & 0xff);
 8533              	LM686:
 8534 5250 8B550C   		movl	12(%ebp), %edx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 175


 8535 5253 83C206   		addl	$6, %edx
 8536 5256 8B8560FF 		movl	-160(%ebp), %eax
 8536      FFFF
 8537 525c C1E810   		shrl	$16, %eax
 8538 525f 8802     		movb	%al, (%edx)
2670:../../MMI/Resource/WriteImgRes.c ****     buff[7] = (U8) ((x1 >> 24) & 0xff);
 8540              	LM687:
 8541 5261 8B550C   		movl	12(%ebp), %edx
 8542 5264 83C207   		addl	$7, %edx
 8543 5267 8B8560FF 		movl	-160(%ebp), %eax
 8543      FFFF
 8544 526d C1E818   		shrl	$24, %eax
 8545 5270 8802     		movb	%al, (%edx)
2671:../../MMI/Resource/WriteImgRes.c ****     buff[8] = (U8) ( y1 & 0xff);
 8547              	LM688:
 8548 5272 8B550C   		movl	12(%ebp), %edx
 8549 5275 83C208   		addl	$8, %edx
 8550 5278 0FB6855C 		movzbl	-164(%ebp), %eax
 8550      FFFFFF
 8551 527f 8802     		movb	%al, (%edx)
2672:../../MMI/Resource/WriteImgRes.c ****     buff[9] = (U8) ((y1 >> 8) & 0xff);
 8553              	LM689:
 8554 5281 8B550C   		movl	12(%ebp), %edx
 8555 5284 83C209   		addl	$9, %edx
 8556 5287 8B855CFF 		movl	-164(%ebp), %eax
 8556      FFFF
 8557 528d C1E808   		shrl	$8, %eax
 8558 5290 8802     		movb	%al, (%edx)
2673:../../MMI/Resource/WriteImgRes.c ****     buff[10] = (U8) ((y1 >> 16) & 0xff);
 8560              	LM690:
 8561 5292 8B550C   		movl	12(%ebp), %edx
 8562 5295 83C20A   		addl	$10, %edx
 8563 5298 8B855CFF 		movl	-164(%ebp), %eax
 8563      FFFF
 8564 529e C1E810   		shrl	$16, %eax
 8565 52a1 8802     		movb	%al, (%edx)
2674:../../MMI/Resource/WriteImgRes.c ****     buff[11] = (U8) ((y1 >> 24) & 0xff);
 8567              	LM691:
 8568 52a3 8B550C   		movl	12(%ebp), %edx
 8569 52a6 83C20B   		addl	$11, %edx
 8570 52a9 8B855CFF 		movl	-164(%ebp), %eax
 8570      FFFF
 8571 52af C1E818   		shrl	$24, %eax
 8572 52b2 8802     		movb	%al, (%edx)
2675:../../MMI/Resource/WriteImgRes.c ****     buff[12] = (U8) ( x2 & 0xff);
 8574              	LM692:
 8575 52b4 8B550C   		movl	12(%ebp), %edx
 8576 52b7 83C20C   		addl	$12, %edx
 8577 52ba 0FB68558 		movzbl	-168(%ebp), %eax
 8577      FFFFFF
 8578 52c1 8802     		movb	%al, (%edx)
2676:../../MMI/Resource/WriteImgRes.c ****     buff[13] = (U8) ((x2 >> 8) & 0xff);
 8580              	LM693:
 8581 52c3 8B550C   		movl	12(%ebp), %edx
 8582 52c6 83C20D   		addl	$13, %edx
 8583 52c9 8B8558FF 		movl	-168(%ebp), %eax
 8583      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 176


 8584 52cf C1E808   		shrl	$8, %eax
 8585 52d2 8802     		movb	%al, (%edx)
2677:../../MMI/Resource/WriteImgRes.c ****     buff[14] = (U8) ((x2 >> 16) & 0xff);
 8587              	LM694:
 8588 52d4 8B550C   		movl	12(%ebp), %edx
 8589 52d7 83C20E   		addl	$14, %edx
 8590 52da 8B8558FF 		movl	-168(%ebp), %eax
 8590      FFFF
 8591 52e0 C1E810   		shrl	$16, %eax
 8592 52e3 8802     		movb	%al, (%edx)
2678:../../MMI/Resource/WriteImgRes.c ****     buff[15] = (U8) ((x2 >> 24) & 0xff);
 8594              	LM695:
 8595 52e5 8B550C   		movl	12(%ebp), %edx
 8596 52e8 83C20F   		addl	$15, %edx
 8597 52eb 8B8558FF 		movl	-168(%ebp), %eax
 8597      FFFF
 8598 52f1 C1E818   		shrl	$24, %eax
 8599 52f4 8802     		movb	%al, (%edx)
2679:../../MMI/Resource/WriteImgRes.c ****     buff[16] = (U8) ( y2 & 0xff);
 8601              	LM696:
 8602 52f6 8B550C   		movl	12(%ebp), %edx
 8603 52f9 83C210   		addl	$16, %edx
 8604 52fc 0FB68554 		movzbl	-172(%ebp), %eax
 8604      FFFFFF
 8605 5303 8802     		movb	%al, (%edx)
2680:../../MMI/Resource/WriteImgRes.c ****     buff[17] = (U8) ((y2 >> 8) & 0xff);
 8607              	LM697:
 8608 5305 8B550C   		movl	12(%ebp), %edx
 8609 5308 83C211   		addl	$17, %edx
 8610 530b 8B8554FF 		movl	-172(%ebp), %eax
 8610      FFFF
 8611 5311 C1E808   		shrl	$8, %eax
 8612 5314 8802     		movb	%al, (%edx)
2681:../../MMI/Resource/WriteImgRes.c ****     buff[18] = (U8) ((y2 >> 16) & 0xff);
 8614              	LM698:
 8615 5316 8B550C   		movl	12(%ebp), %edx
 8616 5319 83C212   		addl	$18, %edx
 8617 531c 8B8554FF 		movl	-172(%ebp), %eax
 8617      FFFF
 8618 5322 C1E810   		shrl	$16, %eax
 8619 5325 8802     		movb	%al, (%edx)
2682:../../MMI/Resource/WriteImgRes.c ****     buff[19] = (U8) ((y2 >> 24) & 0xff);
 8621              	LM699:
 8622 5327 8B550C   		movl	12(%ebp), %edx
 8623 532a 83C213   		addl	$19, %edx
 8624 532d 8B8554FF 		movl	-172(%ebp), %eax
 8624      FFFF
 8625 5333 C1E818   		shrl	$24, %eax
 8626 5336 8802     		movb	%al, (%edx)
2683:../../MMI/Resource/WriteImgRes.c **** 
2684:../../MMI/Resource/WriteImgRes.c ****     return MMI_TRUE;
 8628              	LM700:
 8629 5338 B8010000 		movl	$1, %eax
 8629      00
2685:../../MMI/Resource/WriteImgRes.c **** }
 8631              	LM701:
 8632 533d C9       		leave
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 177


 8633 533e C3       		ret
 8634              	LBE59:
 8646              	Lscope14:
 8648 533f 90       		.align 32
 8649              	LC133:
 8650 5340 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustFontDataHW.h\0"
 8650      2E5C4375 
 8650      73746F6D 
 8650      65725C43 
 8650      75737452 
 8657              	.globl _SetFontResource
 8659              	_SetFontResource:
2686:../../MMI/Resource/WriteImgRes.c **** 
2687:../../MMI/Resource/WriteImgRes.c **** 
2688:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
2689:../../MMI/Resource/WriteImgRes.c **** 
2690:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2691:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2692:../../MMI/Resource/WriteImgRes.c ****  *  SetENFBAssociatedID
2693:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2694:../../MMI/Resource/WriteImgRes.c ****  *  start to record associated ID list
2695:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2696:../../MMI/Resource/WriteImgRes.c ****  *  void
2697:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2698:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL		MMI_TRUE or MMI_FALSE
2699:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2700:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL SetENFBAssociatedID(void)
2701:../../MMI/Resource/WriteImgRes.c **** {
2702:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2703:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
2704:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2705:../../MMI/Resource/WriteImgRes.c **** 
2706:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2707:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2708:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2709:../../MMI/Resource/WriteImgRes.c **** 	/* if flag = false, set flag = true, allocate memory, and no++ */
2710:../../MMI/Resource/WriteImgRes.c **** 	if (ENFBAssociatedIDFlag == MMI_FALSE)
2711:../../MMI/Resource/WriteImgRes.c **** 	{
2712:../../MMI/Resource/WriteImgRes.c **** 		CUSTOM_ENFB_STR *enfb;
2713:../../MMI/Resource/WriteImgRes.c ****         int str_size = 256;
2714:../../MMI/Resource/WriteImgRes.c **** 		int i;
2715:../../MMI/Resource/WriteImgRes.c **** 
2716:../../MMI/Resource/WriteImgRes.c **** 		ENFBAssociatedIDFlag = MMI_TRUE;
2717:../../MMI/Resource/WriteImgRes.c **** 
2718:../../MMI/Resource/WriteImgRes.c **** 		CurrMaxENFBAssociatedIDNum++;
2719:../../MMI/Resource/WriteImgRes.c **** 
2720:../../MMI/Resource/WriteImgRes.c **** 		enfb = &ENFBAssociatedIDList[CurrMaxENFBAssociatedIDNum];
2721:../../MMI/Resource/WriteImgRes.c **** 		enfb->count = 0;
2722:../../MMI/Resource/WriteImgRes.c **** 		enfb->IDs = (U16 *)malloc(MAX_ASSOCIATED_LIST_IDS*sizeof(U16));
2723:../../MMI/Resource/WriteImgRes.c **** 		enfb->Ptr = (S8 **)malloc(MAX_ASSOCIATED_LIST_IDS*sizeof(S8*));
2724:../../MMI/Resource/WriteImgRes.c **** 		for (i = 0; i < MAX_ASSOCIATED_LIST_IDS ; i++)
2725:../../MMI/Resource/WriteImgRes.c **** 		{
2726:../../MMI/Resource/WriteImgRes.c **** 			enfb->Ptr[i] = (S8 *)malloc(str_size*sizeof(S8));
2727:../../MMI/Resource/WriteImgRes.c **** 		}
2728:../../MMI/Resource/WriteImgRes.c **** 
2729:../../MMI/Resource/WriteImgRes.c **** 		return MMI_TRUE;
2730:../../MMI/Resource/WriteImgRes.c **** 	}
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 178


2731:../../MMI/Resource/WriteImgRes.c **** 	/* error: cannot set flag twice */
2732:../../MMI/Resource/WriteImgRes.c **** 	else
2733:../../MMI/Resource/WriteImgRes.c **** 	{
2734:../../MMI/Resource/WriteImgRes.c **** 		return MMI_FALSE;
2735:../../MMI/Resource/WriteImgRes.c **** 	}
2736:../../MMI/Resource/WriteImgRes.c **** }
2737:../../MMI/Resource/WriteImgRes.c **** 
2738:../../MMI/Resource/WriteImgRes.c **** 
2739:../../MMI/Resource/WriteImgRes.c **** 
2740:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2741:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2742:../../MMI/Resource/WriteImgRes.c ****  *  ResetENFBAssociatedID
2743:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2744:../../MMI/Resource/WriteImgRes.c ****  *  end of one associated ID list
2745:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2746:../../MMI/Resource/WriteImgRes.c ****  *  void
2747:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2748:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL		MMI_TRUE or MMI_FALSE
2749:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2750:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL ResetENFBAssociatedID(void)
2751:../../MMI/Resource/WriteImgRes.c **** {
2752:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2753:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
2754:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2755:../../MMI/Resource/WriteImgRes.c **** 
2756:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2757:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2758:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2759:../../MMI/Resource/WriteImgRes.c **** 	/* if flag = true, set flag = false */
2760:../../MMI/Resource/WriteImgRes.c **** 	if (ENFBAssociatedIDFlag == MMI_TRUE)
2761:../../MMI/Resource/WriteImgRes.c **** 	{
2762:../../MMI/Resource/WriteImgRes.c **** 		ENFBAssociatedIDFlag = MMI_FALSE;
2763:../../MMI/Resource/WriteImgRes.c **** 
2764:../../MMI/Resource/WriteImgRes.c **** 		/* if current associated list is empty, reuse it for next list */
2765:../../MMI/Resource/WriteImgRes.c **** 		if (ENFBAssociatedIDList[CurrMaxENFBAssociatedIDNum].count == 0)
2766:../../MMI/Resource/WriteImgRes.c **** 		{
2767:../../MMI/Resource/WriteImgRes.c **** 			CurrMaxENFBAssociatedIDNum--;
2768:../../MMI/Resource/WriteImgRes.c **** 		}
2769:../../MMI/Resource/WriteImgRes.c **** 
2770:../../MMI/Resource/WriteImgRes.c **** 		return MMI_TRUE;
2771:../../MMI/Resource/WriteImgRes.c **** 	}
2772:../../MMI/Resource/WriteImgRes.c **** 	/* error: can not set flag = false twice */
2773:../../MMI/Resource/WriteImgRes.c **** 	else
2774:../../MMI/Resource/WriteImgRes.c **** 	{
2775:../../MMI/Resource/WriteImgRes.c **** 		return MMI_FALSE;
2776:../../MMI/Resource/WriteImgRes.c **** 	}
2777:../../MMI/Resource/WriteImgRes.c **** }
2778:../../MMI/Resource/WriteImgRes.c **** 
2779:../../MMI/Resource/WriteImgRes.c **** 
2780:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2781:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2782:../../MMI/Resource/WriteImgRes.c ****  *  GetCurrENFBAssociatedID
2783:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2784:../../MMI/Resource/WriteImgRes.c ****  *  end of one associated ID list
2785:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2786:../../MMI/Resource/WriteImgRes.c ****  *  void
2787:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 179


2788:../../MMI/Resource/WriteImgRes.c ****  *  U32		current associated ID
2789:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2790:../../MMI/Resource/WriteImgRes.c **** static U16 GetCurrENFBAssociatedID(void)
2791:../../MMI/Resource/WriteImgRes.c **** {
2792:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2793:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
2794:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2795:../../MMI/Resource/WriteImgRes.c **** 
2796:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2797:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2798:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2799:../../MMI/Resource/WriteImgRes.c **** 	if (ENFBAssociatedIDFlag == MMI_TRUE)
2800:../../MMI/Resource/WriteImgRes.c **** 	{
2801:../../MMI/Resource/WriteImgRes.c **** 	    return CurrMaxENFBAssociatedIDNum;
2802:../../MMI/Resource/WriteImgRes.c **** 	}
2803:../../MMI/Resource/WriteImgRes.c **** 	else
2804:../../MMI/Resource/WriteImgRes.c **** 	{
2805:../../MMI/Resource/WriteImgRes.c ****         return 0;
2806:../../MMI/Resource/WriteImgRes.c **** 	}
2807:../../MMI/Resource/WriteImgRes.c **** }
2808:../../MMI/Resource/WriteImgRes.c **** 
2809:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2810:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2811:../../MMI/Resource/WriteImgRes.c ****  *  AddENFBAssociatedIDItem
2812:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2813:../../MMI/Resource/WriteImgRes.c ****  *  add item to current associated list
2814:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2815:../../MMI/Resource/WriteImgRes.c ****  *  ImageID		[IN]
2816:../../MMI/Resource/WriteImgRes.c ****  *  filename	[IN]
2817:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2818:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL		MMI_TRUE or MMI_FALSE
2819:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2820:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL AddENFBAssociatedIDItem(U16 ImageID, S8 *filename, image_type_enum ExtImageFlag)
2821:../../MMI/Resource/WriteImgRes.c **** {
2822:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2823:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
2824:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2825:../../MMI/Resource/WriteImgRes.c **** 
2826:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2827:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2828:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2829:../../MMI/Resource/WriteImgRes.c **** 	/* if flag = true, record this item: imagd ID & pointer variable */
2830:../../MMI/Resource/WriteImgRes.c **** 	if (ENFBAssociatedIDFlag == MMI_TRUE)
2831:../../MMI/Resource/WriteImgRes.c **** 	{
2832:../../MMI/Resource/WriteImgRes.c **** 		CUSTOM_ENFB_STR *enfb;
2833:../../MMI/Resource/WriteImgRes.c ****         int i;
2834:../../MMI/Resource/WriteImgRes.c **** 
2835:../../MMI/Resource/WriteImgRes.c **** 		enfb = &ENFBAssociatedIDList[CurrMaxENFBAssociatedIDNum];
2836:../../MMI/Resource/WriteImgRes.c **** 		enfb->IDs[enfb->count] = ImageID;
2837:../../MMI/Resource/WriteImgRes.c **** 		Extract_Name(enfb->Ptr[enfb->count], filename, ExtImageFlag);
2838:../../MMI/Resource/WriteImgRes.c ****         str_upper(enfb->Ptr[enfb->count], MAX_ASSOCIATED_LIST_IDS);
2839:../../MMI/Resource/WriteImgRes.c **** 		enfb->count++;
2840:../../MMI/Resource/WriteImgRes.c **** 
2841:../../MMI/Resource/WriteImgRes.c **** 		return MMI_TRUE;
2842:../../MMI/Resource/WriteImgRes.c **** 	}
2843:../../MMI/Resource/WriteImgRes.c **** 	/* if flag = false, do not record this item */
2844:../../MMI/Resource/WriteImgRes.c **** 	else
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 180


2845:../../MMI/Resource/WriteImgRes.c **** 	{
2846:../../MMI/Resource/WriteImgRes.c **** 		return MMI_FALSE;
2847:../../MMI/Resource/WriteImgRes.c **** 	}
2848:../../MMI/Resource/WriteImgRes.c **** }
2849:../../MMI/Resource/WriteImgRes.c **** 
2850:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2851:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2852:../../MMI/Resource/WriteImgRes.c ****  *  IfItemExistENFBAssociatedID
2853:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2854:../../MMI/Resource/WriteImgRes.c ****  *  test if the ImageID has already existed in one associated ID list
2855:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2856:../../MMI/Resource/WriteImgRes.c ****  *  ImageID     [IN]
2857:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2858:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL	MMI_TRUE or MMI_FALSE
2859:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2860:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL IfItemExistENFBAssociatedID(S8 *filename, image_type_enum ExtImageFlag)
2861:../../MMI/Resource/WriteImgRes.c **** {
2862:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2863:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
2864:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2865:../../MMI/Resource/WriteImgRes.c ****     int i, j, k;
2866:../../MMI/Resource/WriteImgRes.c ****     int str_size = 256;
2867:../../MMI/Resource/WriteImgRes.c **** 
2868:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2869:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2870:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2871:../../MMI/Resource/WriteImgRes.c ****     for (i = 1; i <= (int)CurrMaxENFBAssociatedIDNum; i++)
2872:../../MMI/Resource/WriteImgRes.c ****     {
2873:../../MMI/Resource/WriteImgRes.c **** 		CUSTOM_ENFB_STR *enfb;
2874:../../MMI/Resource/WriteImgRes.c ****         S8 *ptr;
2875:../../MMI/Resource/WriteImgRes.c **** 
2876:../../MMI/Resource/WriteImgRes.c **** 		enfb = &ENFBAssociatedIDList[i];
2877:../../MMI/Resource/WriteImgRes.c ****         for (j = 0; j <= (int)enfb->count; j++)
2878:../../MMI/Resource/WriteImgRes.c ****         {
2879:../../MMI/Resource/WriteImgRes.c ****             ptr = (S8 *)malloc(str_size*sizeof(S8));
2880:../../MMI/Resource/WriteImgRes.c ****             Extract_Name(ptr, filename, ExtImageFlag);
2881:../../MMI/Resource/WriteImgRes.c ****             str_upper(ptr, str_size);
2882:../../MMI/Resource/WriteImgRes.c ****             if (strcmp((char *)ptr, (char *)enfb->Ptr[j]) == 0)
2883:../../MMI/Resource/WriteImgRes.c ****             {
2884:../../MMI/Resource/WriteImgRes.c ****                 return MMI_TRUE;
2885:../../MMI/Resource/WriteImgRes.c ****             }
2886:../../MMI/Resource/WriteImgRes.c ****         }
2887:../../MMI/Resource/WriteImgRes.c ****     }
2888:../../MMI/Resource/WriteImgRes.c ****     return MMI_FALSE;
2889:../../MMI/Resource/WriteImgRes.c **** }
2890:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_ENFB_SUPPORT__
2891:../../MMI/Resource/WriteImgRes.c **** 
2892:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2893:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2894:../../MMI/Resource/WriteImgRes.c ****  *  SetFontResource
2895:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2896:../../MMI/Resource/WriteImgRes.c ****  *  Function to add font resource
2897:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2898:../../MMI/Resource/WriteImgRes.c ****  *  FontId          [IN] resource ID
2899:../../MMI/Resource/WriteImgRes.c ****  *  filename        [IN] font data file name
2900:../../MMI/Resource/WriteImgRes.c ****  *  userdata        [IN] user data
2901:../../MMI/Resource/WriteImgRes.c ****  *  flags           [IN] additional flags for populating font resource
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 181


2902:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2903:../../MMI/Resource/WriteImgRes.c ****  *  void
2904:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2905:../../MMI/Resource/WriteImgRes.c **** void SetFontResource(U16 FontID, S8 *filename, U32 userdata, S32 flags, S8 *enum_value)
2906:../../MMI/Resource/WriteImgRes.c **** {
 8661              	LM702:
 8662 536d 55       		pushl	%ebp
 8663 536e 89E5     		movl	%esp, %ebp
 8664 5370 83EC18   		subl	$24, %esp
 8665 5373 8B4508   		movl	8(%ebp), %eax
 8666 5376 668945FE 		movw	%ax, -2(%ebp)
2907:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2908:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
2909:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2910:../../MMI/Resource/WriteImgRes.c **** 
2911:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2912:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
2913:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2914:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_id = FontID;
 8668              	LM703:
 8669 537a 0FB745FE 		movzwl	-2(%ebp), %eax
 8670 537e 66A31000 		movw	%ax, _g_mmi_res_font_id
 8670      0000
2915:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_userdata = userdata;
 8672              	LM704:
 8673 5384 8B4510   		movl	16(%ebp), %eax
 8674 5387 A3200000 		movl	%eax, _g_mmi_res_font_userdata
 8674      00
2916:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_flags = flags;
 8676              	LM705:
 8677 538c 8B4514   		movl	20(%ebp), %eax
 8678 538f A3040000 		movl	%eax, _g_mmi_res_font_flags
 8678      00
2917:../../MMI/Resource/WriteImgRes.c **** 
2918:../../MMI/Resource/WriteImgRes.c ****     font_data_file = fopen(FONT_OUTPUT_DATA_FILENAME, "a");
 8680              	LM706:
 8681 5394 C7442404 		movl	$LC24, 4(%esp)
 8681      26030000 
 8682 539c C7042440 		movl	$LC133, (%esp)
 8682      530000
 8683 53a3 E8000000 		call	_fopen
 8683      00
 8684 53a8 A3000000 		movl	%eax, _font_data_file
 8684      00
2919:../../MMI/Resource/WriteImgRes.c **** 
2920:../../MMI/Resource/WriteImgRes.c ****     SetFontWithBuffer(FontID, filename, enum_value, TRUE);
 8686              	LM707:
 8687 53ad C744240C 		movl	$1, 12(%esp)
 8687      01000000 
 8688 53b5 8B4518   		movl	24(%ebp), %eax
 8689 53b8 89442408 		movl	%eax, 8(%esp)
 8690 53bc 8B450C   		movl	12(%ebp), %eax
 8691 53bf 89442404 		movl	%eax, 4(%esp)
 8692 53c3 0FB745FE 		movzwl	-2(%ebp), %eax
 8693 53c7 890424   		movl	%eax, (%esp)
 8694 53ca E8460100 		call	_SetFontWithBuffer
 8694      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 182


2921:../../MMI/Resource/WriteImgRes.c **** 
2922:../../MMI/Resource/WriteImgRes.c ****     MYFCLOSE(font_data_file);
 8696              	LM708:
 8697 53cf 833D0000 		cmpl	$0, _font_data_file
 8697      000000
 8698 53d6 7417     		je	L406
 8699 53d8 A1000000 		movl	_font_data_file, %eax
 8699      00
 8700 53dd 890424   		movl	%eax, (%esp)
 8701 53e0 E8000000 		call	_fclose
 8701      00
 8702 53e5 C7050000 		movl	$0, _font_data_file
 8702      00000000 
 8702      0000
 8703              	L406:
2923:../../MMI/Resource/WriteImgRes.c **** 
2924:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_userdata = 0;
 8705              	LM709:
 8706 53ef C7052000 		movl	$0, _g_mmi_res_font_userdata
 8706      00000000 
 8706      0000
2925:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_flags = 0;
 8708              	LM710:
 8709 53f9 C7050400 		movl	$0, _g_mmi_res_font_flags
 8709      00000000 
 8709      0000
2926:../../MMI/Resource/WriteImgRes.c **** }
 8711              	LM711:
 8712 5403 C9       		leave
 8713 5404 C3       		ret
 8715              	Lscope15:
 8717              	LC134:
 8718 5405 66696C65 		.ascii "file name%d = %s \12\0"
 8718      206E616D 
 8718      65256420 
 8718      3D202573 
 8718      200A00
 8719              	LC135:
 8720 5418 466F6E74 		.ascii "Font\0"
 8720      00
 8721              	LC136:
 8722 541d 25640925 		.ascii "%d\11%s\11\11%s\12\0"
 8722      73090925 
 8722      730A00
 8723              	LC137:
 8724 5428 4E4F5F41 		.ascii "NO_APP\0"
 8724      505000
 8725              	LC138:
 8726 542f 25730925 		.ascii "%s\11%d\11%d\11%s\11%d\11%s\11NA\12\0"
 8726      64092564 
 8726      09257309 
 8726      25640925 
 8726      73094E41 
 8727              	LC139:
 8728 5445 466C6F61 		.ascii "Fload failed: %s(%d), PATH=%s\0"
 8728      64206661 
 8728      696C6564 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 183


 8728      3A202573 
 8728      28256429 
 8729 5463 90909090 		.align 32
 8729      90909090 
 8729      90909090 
 8729      90909090 
 8729      90909090 
 8730              	LC140:
 8731 5480 506C6561 		.ascii "Please check the error message of TAG [WRITEIMGRES] in log file:resgen_mtk_resgenerator_ru
 8731      73652063 
 8731      6865636B 
 8731      20746865 
 8731      20657272 
 8732              		.align 32
 8733              	LC141:
 8734 54e0 6D746B5F 		.ascii "mtk_resgenerator return error.\0"
 8734      72657367 
 8734      656E6572 
 8734      61746F72 
 8734      20726574 
 8735              	LC142:
 8736 54ff 4572726F 		.ascii "Error!! Fload FAIL !!\0"
 8736      72212120 
 8736      466C6F61 
 8736      64204641 
 8736      494C2021 
 8742              	.globl _SetFontWithBuffer
 8744              	_SetFontWithBuffer:
2927:../../MMI/Resource/WriteImgRes.c **** 
2928:../../MMI/Resource/WriteImgRes.c **** 
2929:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2930:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2931:../../MMI/Resource/WriteImgRes.c ****  *  SetFontWithBuffer
2932:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2933:../../MMI/Resource/WriteImgRes.c ****  *  Function to copy the Font file to buffer
2934:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2935:../../MMI/Resource/WriteImgRes.c ****  *  nImgId              [IN]
2936:../../MMI/Resource/WriteImgRes.c ****  *  filename            [?]
2937:../../MMI/Resource/WriteImgRes.c ****  *  enum_value          [?]
2938:../../MMI/Resource/WriteImgRes.c ****  *  res_type            [IN]
2939:../../MMI/Resource/WriteImgRes.c ****  *  fontFlag             [IN]
2940:../../MMI/Resource/WriteImgRes.c ****  *  S8(?)               [OUT]       -> filename of the image to be displayed.
2941:../../MMI/Resource/WriteImgRes.c ****  *  U16(?)              [IN]        -> ImageId
2942:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2943:../../MMI/Resource/WriteImgRes.c ****  *  void
2944:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2945:../../MMI/Resource/WriteImgRes.c **** void SetFontWithBuffer(U16 nFontId, S8 *filename, S8 *enum_value, BOOL fontFlag)      /* 120304 Cal
2946:../../MMI/Resource/WriteImgRes.c **** {
 8746              	LM712:
 8747 5515 55       		pushl	%ebp
 8748 5516 89E5     		movl	%esp, %ebp
 8749 5518 B8681202 		movl	$135784, %eax
 8749      00
 8750 551d E8000000 		call	__alloca
 8750      00
 8751 5522 8B4508   		movl	8(%ebp), %eax
 8752 5525 668945F6 		movw	%ax, -10(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 184


2947:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2948:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
2949:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2950:../../MMI/Resource/WriteImgRes.c ****     U16 i;
2951:../../MMI/Resource/WriteImgRes.c ****     U16 found = 0;
 8754              	LM713:
 8755              	LBB60:
 8756 5529 66C745F2 		movw	$0, -14(%ebp)
 8756      0000
2952:../../MMI/Resource/WriteImgRes.c ****     S8 upperFileName[MAX_FILENAME_LEN];
2953:../../MMI/Resource/WriteImgRes.c ****     unsigned short *pCurrMaxFontId;
2954:../../MMI/Resource/WriteImgRes.c ****     unsigned short *pCurrMaxFontNum;
2955:../../MMI/Resource/WriteImgRes.c ****     FONTNAME_LIST *pFontNameList;
2956:../../MMI/Resource/WriteImgRes.c ****     CUSTOM_FONT_MAP *pFontIdMap;
2957:../../MMI/Resource/WriteImgRes.c ****     S8 filename_buffer[BUFFER_SIZE];
2958:../../MMI/Resource/WriteImgRes.c ****     S8 *real_filename = NULL;
 8758              	LM714:
 8759 552f C785D4ED 		movl	$0, -4652(%ebp)
 8759      FFFF0000 
 8759      0000
2959:../../MMI/Resource/WriteImgRes.c **** 
2960:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2961:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
2962:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2963:../../MMI/Resource/WriteImgRes.c ****     pCurrMaxFontId = &CurrMaxFontIdEXT;
 8761              	LM715:
 8762 5539 C785E4FD 		movl	$_CurrMaxFontIdEXT, -540(%ebp)
 8762      FFFF0000 
 8762      0000
2964:../../MMI/Resource/WriteImgRes.c ****     pCurrMaxFontNum = &CurrMaxFontNumEXT;
 8764              	LM716:
 8765 5543 C785E0FD 		movl	$_CurrMaxFontNumEXT, -544(%ebp)
 8765      FFFF0000 
 8765      0000
2965:../../MMI/Resource/WriteImgRes.c ****     pFontNameList = FontNameListEXT;
 8767              	LM717:
 8768 554d C785DCFD 		movl	$_FontNameListEXT, -548(%ebp)
 8768      FFFF0000 
 8768      0000
2966:../../MMI/Resource/WriteImgRes.c ****     pFontIdMap = FontIdMapEXT;
 8770              	LM718:
 8771 5557 C785D8FD 		movl	$_FontIdMapEXT, -552(%ebp)
 8771      FFFF0000 
 8771      0000
2967:../../MMI/Resource/WriteImgRes.c **** 
2968:../../MMI/Resource/WriteImgRes.c ****     if (*pCurrMaxFontId >= MAX_IMAGE_IDS_SIZE)
 8773              	LM719:
 8774 5561 8B85E4FD 		movl	-540(%ebp), %eax
 8774      FFFF
 8775 5567 668338FF 		cmpw	$-1, (%eax)
 8776 556b 7505     		jne	L409
2969:../../MMI/Resource/WriteImgRes.c ****     {
2970:../../MMI/Resource/WriteImgRes.c ****         return; /* Can't add more than max number of image ids allowed */
 8778              	LM720:
 8779 556d E9A60500 		jmp	L408
 8779      00
 8780              	L409:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 185


2971:../../MMI/Resource/WriteImgRes.c ****     }
2972:../../MMI/Resource/WriteImgRes.c **** 
2973:../../MMI/Resource/WriteImgRes.c ****     fprintf(OutputImgIDFile, "file name%d = %s \n", image_idx++, filename);
 8782              	LM721:
 8783 5572 8B450C   		movl	12(%ebp), %eax
 8784 5575 8944240C 		movl	%eax, 12(%esp)
 8785 5579 A1000000 		movl	_image_idx, %eax
 8785      00
 8786 557e 89442408 		movl	%eax, 8(%esp)
 8787 5582 FF050000 		incl	_image_idx
 8787      0000
 8788 5588 C7442404 		movl	$LC134, 4(%esp)
 8788      05540000 
 8789 5590 A1000000 		movl	_OutputImgIDFile, %eax
 8789      00
 8790 5595 890424   		movl	%eax, (%esp)
 8791 5598 E8000000 		call	_fprintf
 8791      00
2974:../../MMI/Resource/WriteImgRes.c **** 
2975:../../MMI/Resource/WriteImgRes.c ****     if (strlen(filename) >= MAX_FILENAME_LEN)
 8793              	LM722:
 8794 559d 8B450C   		movl	12(%ebp), %eax
 8795 55a0 890424   		movl	%eax, (%esp)
 8796 55a3 E8000000 		call	_strlen
 8796      00
 8797 55a8 3DFF0100 		cmpl	$511, %eax
 8797      00
 8798 55ad 760B     		jbe	L410
2976:../../MMI/Resource/WriteImgRes.c ****     {
2977:../../MMI/Resource/WriteImgRes.c ****         filename[MAX_FILENAME_LEN - 1] = '\0';
 8800              	LM723:
 8801 55af 8B450C   		movl	12(%ebp), %eax
 8802 55b2 05FF0100 		addl	$511, %eax
 8802      00
 8803 55b7 C60000   		movb	$0, (%eax)
 8804              	L410:
2978:../../MMI/Resource/WriteImgRes.c ****     }
2979:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(filename, "")))
 8806              	LM724:
 8807 55ba C7442404 		movl	$LC31, 4(%esp)
 8807      12060000 
 8808 55c2 8B450C   		movl	12(%ebp), %eax
 8809 55c5 890424   		movl	%eax, (%esp)
 8810 55c8 E8000000 		call	_strcmp
 8810      00
 8811 55cd 85C0     		testl	%eax, %eax
 8812 55cf 7516     		jne	L411
2980:../../MMI/Resource/WriteImgRes.c ****     {
2981:../../MMI/Resource/WriteImgRes.c ****         strcpy(filename_buffer, NOIMAGE_FILENAMEBUFFER);
 8814              	LM725:
 8815 55d1 C7442404 		movl	$LC32, 4(%esp)
 8815      20060000 
 8816 55d9 8D85D8ED 		leal	-4648(%ebp), %eax
 8816      FFFF
 8817 55df 890424   		movl	%eax, (%esp)
 8818 55e2 E8000000 		call	_strcpy
 8818      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 186


 8819              	L411:
2982:../../MMI/Resource/WriteImgRes.c **** 
2983:../../MMI/Resource/WriteImgRes.c ****     }
2984:../../MMI/Resource/WriteImgRes.c ****     strncpy(upperFileName, filename, MAX_FILENAME_LEN);
 8821              	LM726:
 8822 55e7 C7442408 		movl	$512, 8(%esp)
 8822      00020000 
 8823 55ef 8B450C   		movl	12(%ebp), %eax
 8824 55f2 89442404 		movl	%eax, 4(%esp)
 8825 55f6 8D85E8FD 		leal	-536(%ebp), %eax
 8825      FFFF
 8826 55fc 890424   		movl	%eax, (%esp)
 8827 55ff E8000000 		call	_strncpy
 8827      00
2985:../../MMI/Resource/WriteImgRes.c ****     str_upper(upperFileName, MAX_FILENAME_LEN);
 8829              	LM727:
 8830 5604 C7442404 		movl	$512, 4(%esp)
 8830      00020000 
 8831 560c 8D85E8FD 		leal	-536(%ebp), %eax
 8831      FFFF
 8832 5612 890424   		movl	%eax, (%esp)
 8833 5615 E8000000 		call	_str_upper
 8833      00
2986:../../MMI/Resource/WriteImgRes.c **** 
2987:../../MMI/Resource/WriteImgRes.c ****     if (pFontIdMap[nFontId].nFontNum != (U16)-1)
 8835              	LM728:
 8836 561a 0FB745F6 		movzwl	-10(%ebp), %eax
 8837 561e 8D1400   		leal	(%eax,%eax), %edx
 8838 5621 8B85D8FD 		movl	-552(%ebp), %eax
 8838      FFFF
 8839 5627 66833C10 		cmpw	$-1, (%eax,%edx)
 8839      FF
 8840 562c 7431     		je	L412
2988:../../MMI/Resource/WriteImgRes.c ****     {
2989:../../MMI/Resource/WriteImgRes.c ****         fprintf(RepeatIDListFile, "%d\t%s\t\t%s\n", nFontId, enum_value, "Font");
 8842              	LM729:
 8843 562e C7442410 		movl	$LC135, 16(%esp)
 8843      18540000 
 8844 5636 8B4510   		movl	16(%ebp), %eax
 8845 5639 8944240C 		movl	%eax, 12(%esp)
 8846 563d 0FB745F6 		movzwl	-10(%ebp), %eax
 8847 5641 89442408 		movl	%eax, 8(%esp)
 8848 5645 C7442404 		movl	$LC136, 4(%esp)
 8848      1D540000 
 8849 564d A1000000 		movl	_RepeatIDListFile, %eax
 8849      00
 8850 5652 890424   		movl	%eax, (%esp)
 8851 5655 E8000000 		call	_fprintf
 8851      00
2990:../../MMI/Resource/WriteImgRes.c ****         return;
 8853              	LM730:
 8854 565a E9B90400 		jmp	L408
 8854      00
 8855              	L412:
2991:../../MMI/Resource/WriteImgRes.c ****     }
2992:../../MMI/Resource/WriteImgRes.c **** 
2993:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < *pCurrMaxFontNum; i++)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 187


 8857              	LM731:
 8858 565f 66C745F4 		movw	$0, -12(%ebp)
 8858      0000
 8859              	L413:
 8860 5665 8B95E0FD 		movl	-544(%ebp), %edx
 8860      FFFF
 8861 566b 8B45F4   		movl	-12(%ebp), %eax
 8862 566e 663B02   		cmpw	(%edx), %ax
 8863 5671 7202     		jb	L416
 8864 5673 EB35     		jmp	L414
 8865              	L416:
2994:../../MMI/Resource/WriteImgRes.c ****     {
2995:../../MMI/Resource/WriteImgRes.c ****         if (!strcmp(pFontNameList[i].filename, upperFileName))
 8867              	LM732:
 8868 5675 8D85E8FD 		leal	-536(%ebp), %eax
 8868      FFFF
 8869 567b 89442404 		movl	%eax, 4(%esp)
 8870 567f 0FB745F4 		movzwl	-12(%ebp), %eax
 8871 5683 C1E009   		sall	$9, %eax
 8872 5686 0385DCFD 		addl	-548(%ebp), %eax
 8872      FFFF
 8873 568c 890424   		movl	%eax, (%esp)
 8874 568f E8000000 		call	_strcmp
 8874      00
 8875 5694 85C0     		testl	%eax, %eax
 8876 5696 7508     		jne	L415
2996:../../MMI/Resource/WriteImgRes.c ****         {
2997:../../MMI/Resource/WriteImgRes.c ****             found = 1;
 8878              	LM733:
 8879 5698 66C745F2 		movw	$1, -14(%ebp)
 8879      0100
2998:../../MMI/Resource/WriteImgRes.c ****             break;
 8881              	LM734:
 8882 569e EB0A     		jmp	L414
 8884              	LM735:
 8885              	L415:
 8886 56a0 8B45F4   		movl	-12(%ebp), %eax
 8887 56a3 40       		incl	%eax
 8888 56a4 668945F4 		movw	%ax, -12(%ebp)
 8889 56a8 EBBB     		jmp	L413
 8890              	L414:
2999:../../MMI/Resource/WriteImgRes.c ****         }
3000:../../MMI/Resource/WriteImgRes.c ****     }
3001:../../MMI/Resource/WriteImgRes.c **** 
3002:../../MMI/Resource/WriteImgRes.c ****     g_font_size = 0;
 8892              	LM736:
 8893 56aa C7053000 		movl	$0, _g_font_size
 8893      00000000 
 8893      0000
3003:../../MMI/Resource/WriteImgRes.c ****     real_filename = filename;
 8895              	LM737:
 8896 56b4 8B450C   		movl	12(%ebp), %eax
 8897 56b7 8985D4ED 		movl	%eax, -4652(%ebp)
 8897      FFFF
3004:../../MMI/Resource/WriteImgRes.c **** 
3005:../../MMI/Resource/WriteImgRes.c ****     if (found)
 8899              	LM738:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 188


 8900 56bd 66837DF2 		cmpw	$0, -14(%ebp)
 8900      00
 8901 56c2 0F840902 		je	L418
 8901      0000
3006:../../MMI/Resource/WriteImgRes.c ****     {
3007:../../MMI/Resource/WriteImgRes.c ****         pFontIdMap[nFontId].nFontNum = i;
 8903              	LM739:
 8904 56c8 0FB745F6 		movzwl	-10(%ebp), %eax
 8905 56cc 8D0C00   		leal	(%eax,%eax), %ecx
 8906 56cf 8B95D8FD 		movl	-552(%ebp), %edx
 8906      FFFF
 8907 56d5 8B45F4   		movl	-12(%ebp), %eax
 8908 56d8 6689040A 		movw	%ax, (%edx,%ecx)
3008:../../MMI/Resource/WriteImgRes.c ****         (*pCurrMaxFontId)++;
 8910              	LM740:
 8911 56dc 8B95E4FD 		movl	-540(%ebp), %edx
 8911      FFFF
 8912 56e2 8B85E4FD 		movl	-540(%ebp), %eax
 8912      FFFF
 8913 56e8 0FB700   		movzwl	(%eax), %eax
 8914 56eb 40       		incl	%eax
 8915 56ec 668902   		movw	%ax, (%edx)
3009:../../MMI/Resource/WriteImgRes.c **** 
3010:../../MMI/Resource/WriteImgRes.c ****         {
3011:../../MMI/Resource/WriteImgRes.c ****             S8 str1[MAX_IMAGE_NAMES_SIZE];
3012:../../MMI/Resource/WriteImgRes.c ****             S8 str2[MAX_IMAGE_NAMES_SIZE];
3013:../../MMI/Resource/WriteImgRes.c ****             U32 i, j;
3014:../../MMI/Resource/WriteImgRes.c **** 
3015:../../MMI/Resource/WriteImgRes.c ****             strncpy(str1, filename, MAX_IMAGE_NAMES_SIZE);
 8917              	LM741:
 8918              	LBB61:
 8919 56ef C7442408 		movl	$65535, 8(%esp)
 8919      FFFF0000 
 8920 56f7 8B450C   		movl	12(%ebp), %eax
 8921 56fa 89442404 		movl	%eax, 4(%esp)
 8922 56fe 8D85C8ED 		leal	-70200(%ebp), %eax
 8922      FEFF
 8923 5704 890424   		movl	%eax, (%esp)
 8924 5707 E8000000 		call	_strncpy
 8924      00
3016:../../MMI/Resource/WriteImgRes.c ****             str_upper(str1, MAX_IMAGE_NAMES_SIZE);
 8926              	LM742:
 8927 570c C7442404 		movl	$65535, 4(%esp)
 8927      FFFF0000 
 8928 5714 8D85C8ED 		leal	-70200(%ebp), %eax
 8928      FEFF
 8929 571a 890424   		movl	%eax, (%esp)
 8930 571d E8000000 		call	_str_upper
 8930      00
3017:../../MMI/Resource/WriteImgRes.c **** 
3018:../../MMI/Resource/WriteImgRes.c ****             for (i = 0; i < g_resimg_count; i++)
 8932              	LM743:
 8933 5722 C785C4ED 		movl	$0, -135740(%ebp)
 8933      FDFF0000 
 8933      0000
 8934              	L419:
 8935 572c 8B85C4ED 		movl	-135740(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 189


 8935      FDFF
 8936 5732 3B050000 		cmpl	_g_resimg_count, %eax
 8936      0000
 8937 5738 7205     		jb	L422
 8938 573a E9A60000 		jmp	L420
 8938      00
 8939              	L422:
3019:../../MMI/Resource/WriteImgRes.c ****             {
3020:../../MMI/Resource/WriteImgRes.c ****                 strncpy(str2, g_resimg_table[i].filename, MAX_IMAGE_NAMES_SIZE);
 8941              	LM744:
 8942 573f C7442408 		movl	$65535, 8(%esp)
 8942      FFFF0000 
 8943 5747 8B95C4ED 		movl	-135740(%ebp), %edx
 8943      FDFF
 8944 574d 89D0     		movl	%edx, %eax
 8945 574f C1E008   		sall	$8, %eax
 8946 5752 01D0     		addl	%edx, %eax
 8947 5754 C1E002   		sall	$2, %eax
 8948 5757 05000000 		addl	$_g_resimg_table, %eax
 8948      00
 8949 575c 89442404 		movl	%eax, 4(%esp)
 8950 5760 8D85C8ED 		leal	-135736(%ebp), %eax
 8950      FDFF
 8951 5766 890424   		movl	%eax, (%esp)
 8952 5769 E8000000 		call	_strncpy
 8952      00
3021:../../MMI/Resource/WriteImgRes.c ****                 str_upper(str2, MAX_IMAGE_NAMES_SIZE);
 8954              	LM745:
 8955 576e C7442404 		movl	$65535, 4(%esp)
 8955      FFFF0000 
 8956 5776 8D85C8ED 		leal	-135736(%ebp), %eax
 8956      FDFF
 8957 577c 890424   		movl	%eax, (%esp)
 8958 577f E8000000 		call	_str_upper
 8958      00
3022:../../MMI/Resource/WriteImgRes.c ****                 if (strcmp(str1, str2) == 0)
 8960              	LM746:
 8961 5784 8D85C8ED 		leal	-135736(%ebp), %eax
 8961      FDFF
 8962 578a 89442404 		movl	%eax, 4(%esp)
 8963 578e 8D85C8ED 		leal	-70200(%ebp), %eax
 8963      FEFF
 8964 5794 890424   		movl	%eax, (%esp)
 8965 5797 E8000000 		call	_strcmp
 8965      00
 8966 579c 85C0     		testl	%eax, %eax
 8967 579e 7538     		jne	L421
3023:../../MMI/Resource/WriteImgRes.c ****                 {
3024:../../MMI/Resource/WriteImgRes.c ****                     g_font_size = g_resimg_table[i].size;
 8969              	LM747:
 8970 57a0 8B95C4ED 		movl	-135740(%ebp), %edx
 8970      FDFF
 8971 57a6 89D0     		movl	%edx, %eax
 8972 57a8 C1E008   		sall	$8, %eax
 8973 57ab 01D0     		addl	%edx, %eax
 8974 57ad C1E002   		sall	$2, %eax
 8975 57b0 8B800004 		movl	_g_resimg_table+1024(%eax), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 190


 8975      0000
 8976 57b6 A3300000 		movl	%eax, _g_font_size
 8976      00
3025:../../MMI/Resource/WriteImgRes.c ****                     real_filename = g_resimg_table[i].real_filename;
 8978              	LM748:
 8979 57bb 8B95C4ED 		movl	-135740(%ebp), %edx
 8979      FDFF
 8980 57c1 89D0     		movl	%edx, %eax
 8981 57c3 C1E008   		sall	$8, %eax
 8982 57c6 01D0     		addl	%edx, %eax
 8983 57c8 C1E002   		sall	$2, %eax
 8984 57cb 05000200 		addl	$_g_resimg_table+512, %eax
 8984      00
 8985 57d0 8985D4ED 		movl	%eax, -4652(%ebp)
 8985      FFFF
3026:../../MMI/Resource/WriteImgRes.c ****                     break;
 8987              	LM749:
 8988 57d6 EB0D     		jmp	L420
 8990              	LM750:
 8991              	L421:
 8992 57d8 8D85C4ED 		leal	-135740(%ebp), %eax
 8992      FDFF
 8993 57de FF00     		incl	(%eax)
 8994 57e0 E947FFFF 		jmp	L419
 8994      FF
 8995              	L420:
3027:../../MMI/Resource/WriteImgRes.c ****                 }
3028:../../MMI/Resource/WriteImgRes.c ****             }
3029:../../MMI/Resource/WriteImgRes.c ****         }
3030:../../MMI/Resource/WriteImgRes.c ****         RESPRTONERECORD(fpImageResourceUsage, nFontId, real_filename, enum_value, g_font_size);
 8997              	LM751:
 8998              	LBE61:
 8999 57e5 833D0000 		cmpl	$0, _fpImageResourceUsage
 8999      000000
 9000 57ec 0F842603 		je	L408
 9000      0000
 9001              	LBB62:
 9002 57f2 8B4510   		movl	16(%ebp), %eax
 9003 57f5 89442404 		movl	%eax, 4(%esp)
 9004 57f9 0FB745F6 		movzwl	-10(%ebp), %eax
 9005 57fd 890424   		movl	%eax, (%esp)
 9006 5800 E8000000 		call	_GetOffsetFromResourceBase
 9006      00
 9007 5805 8985C0ED 		movl	%eax, -135744(%ebp)
 9007      FDFF
 9008 580b 83BDC0ED 		cmpl	$-1, -135744(%ebp)
 9008      FDFFFF
 9009 5812 754C     		jne	L426
 9010 5814 8B85D4ED 		movl	-4652(%ebp), %eax
 9010      FFFF
 9011 581a 8944241C 		movl	%eax, 28(%esp)
 9012 581e A1300000 		movl	_g_font_size, %eax
 9012      00
 9013 5823 89442418 		movl	%eax, 24(%esp)
 9014 5827 8B4510   		movl	16(%ebp), %eax
 9015 582a 89442414 		movl	%eax, 20(%esp)
 9016 582e 0FB745F6 		movzwl	-10(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 191


 9017 5832 89442410 		movl	%eax, 16(%esp)
 9018 5836 C744240C 		movl	$-1, 12(%esp)
 9018      FFFFFFFF 
 9019 583e C7442408 		movl	$LC137, 8(%esp)
 9019      28540000 
 9020 5846 C7442404 		movl	$LC138, 4(%esp)
 9020      2F540000 
 9021 584e A1000000 		movl	_fpImageResourceUsage, %eax
 9021      00
 9022 5853 890424   		movl	%eax, (%esp)
 9023 5856 E8000000 		call	_fprintf
 9023      00
 9024 585b E9B80200 		jmp	L408
 9024      00
 9025              	L426:
 9026 5860 8B85D4ED 		movl	-4652(%ebp), %eax
 9026      FFFF
 9027 5866 8944241C 		movl	%eax, 28(%esp)
 9028 586a A1300000 		movl	_g_font_size, %eax
 9028      00
 9029 586f 89442418 		movl	%eax, 24(%esp)
 9030 5873 8B4510   		movl	16(%ebp), %eax
 9031 5876 89442414 		movl	%eax, 20(%esp)
 9032 587a 0FB745F6 		movzwl	-10(%ebp), %eax
 9033 587e 89442410 		movl	%eax, 16(%esp)
 9034 5882 8B95C0ED 		movl	-135744(%ebp), %edx
 9034      FDFF
 9035 5888 89D0     		movl	%edx, %eax
 9036 588a C1E006   		sall	$6, %eax
 9037 588d 01D0     		addl	%edx, %eax
 9038 588f C1E003   		sall	$3, %eax
 9039 5892 0FB78004 		movzwl	_g_mmi_resource_base_table+4(%eax), %eax
 9039      000000
 9040 5899 8944240C 		movl	%eax, 12(%esp)
 9041 589d 8B95C0ED 		movl	-135744(%ebp), %edx
 9041      FDFF
 9042 58a3 89D0     		movl	%edx, %eax
 9043 58a5 C1E006   		sall	$6, %eax
 9044 58a8 01D0     		addl	%edx, %eax
 9045 58aa C1E003   		sall	$3, %eax
 9046 58ad 8B800000 		movl	_g_mmi_resource_base_table(%eax), %eax
 9046      0000
 9047 58b3 89442408 		movl	%eax, 8(%esp)
 9048 58b7 C7442404 		movl	$LC138, 4(%esp)
 9048      2F540000 
 9049 58bf A1000000 		movl	_fpImageResourceUsage, %eax
 9049      00
 9050 58c4 890424   		movl	%eax, (%esp)
 9051 58c7 E8000000 		call	_fprintf
 9051      00
 9052              	LBE62:
 9053 58cc E9470200 		jmp	L408
 9053      00
 9054              	L418:
3031:../../MMI/Resource/WriteImgRes.c ****     }
3032:../../MMI/Resource/WriteImgRes.c ****     else
3033:../../MMI/Resource/WriteImgRes.c ****     {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 192


3034:../../MMI/Resource/WriteImgRes.c ****         if (Fload(upperFileName))
 9056              	LM752:
 9057 58d1 8D85E8FD 		leal	-536(%ebp), %eax
 9057      FFFF
 9058 58d7 890424   		movl	%eax, (%esp)
 9059 58da E8080500 		call	_Fload
 9059      00
 9060 58df 85C0     		testl	%eax, %eax
 9061 58e1 0F84BD01 		je	L431
 9061      0000
3035:../../MMI/Resource/WriteImgRes.c ****         {
3036:../../MMI/Resource/WriteImgRes.c ****             strcpy(pFontNameList[*pCurrMaxFontNum].filename, upperFileName);
 9063              	LM753:
 9064 58e7 8D85E8FD 		leal	-536(%ebp), %eax
 9064      FFFF
 9065 58ed 89442404 		movl	%eax, 4(%esp)
 9066 58f1 8B85E0FD 		movl	-544(%ebp), %eax
 9066      FFFF
 9067 58f7 0FB700   		movzwl	(%eax), %eax
 9068 58fa C1E009   		sall	$9, %eax
 9069 58fd 0385DCFD 		addl	-548(%ebp), %eax
 9069      FFFF
 9070 5903 890424   		movl	%eax, (%esp)
 9071 5906 E8000000 		call	_strcpy
 9071      00
3037:../../MMI/Resource/WriteImgRes.c ****             pFontIdMap[nFontId].nFontNum = *pCurrMaxFontNum;
 9073              	LM754:
 9074 590b 0FB745F6 		movzwl	-10(%ebp), %eax
 9075 590f 8D0C00   		leal	(%eax,%eax), %ecx
 9076 5912 8B95D8FD 		movl	-552(%ebp), %edx
 9076      FFFF
 9077 5918 8B85E0FD 		movl	-544(%ebp), %eax
 9077      FFFF
 9078 591e 0FB700   		movzwl	(%eax), %eax
 9079 5921 6689040A 		movw	%ax, (%edx,%ecx)
3038:../../MMI/Resource/WriteImgRes.c ****             (*pCurrMaxFontNum)++;
 9081              	LM755:
 9082 5925 8B95E0FD 		movl	-544(%ebp), %edx
 9082      FFFF
 9083 592b 8B85E0FD 		movl	-544(%ebp), %eax
 9083      FFFF
 9084 5931 0FB700   		movzwl	(%eax), %eax
 9085 5934 40       		incl	%eax
 9086 5935 668902   		movw	%ax, (%edx)
3039:../../MMI/Resource/WriteImgRes.c ****             (*pCurrMaxFontId)++;
 9088              	LM756:
 9089 5938 8B95E4FD 		movl	-540(%ebp), %edx
 9089      FFFF
 9090 593e 8B85E4FD 		movl	-540(%ebp), %eax
 9090      FFFF
 9091 5944 0FB700   		movzwl	(%eax), %eax
 9092 5947 40       		incl	%eax
 9093 5948 668902   		movw	%ax, (%edx)
3040:../../MMI/Resource/WriteImgRes.c **** 
3041:../../MMI/Resource/WriteImgRes.c ****             g_resimg_table[g_resimg_count].size = g_font_size;
 9095              	LM757:
 9096 594b 8B150000 		movl	_g_resimg_count, %edx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 193


 9096      0000
 9097 5951 89D0     		movl	%edx, %eax
 9098 5953 C1E008   		sall	$8, %eax
 9099 5956 01D0     		addl	%edx, %eax
 9100 5958 8D148500 		leal	0(,%eax,4), %edx
 9100      000000
 9101 595f A1300000 		movl	_g_font_size, %eax
 9101      00
 9102 5964 89820004 		movl	%eax, _g_resimg_table+1024(%edx)
 9102      0000
3042:../../MMI/Resource/WriteImgRes.c ****             strcpy(g_resimg_table[g_resimg_count].filename, filename);
 9104              	LM758:
 9105 596a 8B450C   		movl	12(%ebp), %eax
 9106 596d 89442404 		movl	%eax, 4(%esp)
 9107 5971 8B150000 		movl	_g_resimg_count, %edx
 9107      0000
 9108 5977 89D0     		movl	%edx, %eax
 9109 5979 C1E008   		sall	$8, %eax
 9110 597c 01D0     		addl	%edx, %eax
 9111 597e C1E002   		sall	$2, %eax
 9112 5981 05000000 		addl	$_g_resimg_table, %eax
 9112      00
 9113 5986 890424   		movl	%eax, (%esp)
 9114 5989 E8000000 		call	_strcpy
 9114      00
3043:../../MMI/Resource/WriteImgRes.c ****             strcpy(g_resimg_table[g_resimg_count].real_filename, real_filename);
 9116              	LM759:
 9117 598e 8B85D4ED 		movl	-4652(%ebp), %eax
 9117      FFFF
 9118 5994 89442404 		movl	%eax, 4(%esp)
 9119 5998 8B150000 		movl	_g_resimg_count, %edx
 9119      0000
 9120 599e 89D0     		movl	%edx, %eax
 9121 59a0 C1E008   		sall	$8, %eax
 9122 59a3 01D0     		addl	%edx, %eax
 9123 59a5 C1E002   		sall	$2, %eax
 9124 59a8 05000200 		addl	$_g_resimg_table+512, %eax
 9124      00
 9125 59ad 890424   		movl	%eax, (%esp)
 9126 59b0 E8000000 		call	_strcpy
 9126      00
3044:../../MMI/Resource/WriteImgRes.c ****             g_resimg_count ++;
 9128              	LM760:
 9129 59b5 FF050000 		incl	_g_resimg_count
 9129      0000
3045:../../MMI/Resource/WriteImgRes.c ****             RESPRTONERECORD(fpImageResourceUsage, nFontId, real_filename, enum_value, g_font_size);
 9131              	LM761:
 9132 59bb 833D0000 		cmpl	$0, _fpImageResourceUsage
 9132      000000
 9133 59c2 0F845001 		je	L408
 9133      0000
 9134              	LBB63:
 9135 59c8 8B4510   		movl	16(%ebp), %eax
 9136 59cb 89442404 		movl	%eax, 4(%esp)
 9137 59cf 0FB745F6 		movzwl	-10(%ebp), %eax
 9138 59d3 890424   		movl	%eax, (%esp)
 9139 59d6 E8000000 		call	_GetOffsetFromResourceBase
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 194


 9139      00
 9140 59db 8985C0ED 		movl	%eax, -135744(%ebp)
 9140      FDFF
 9141 59e1 83BDC0ED 		cmpl	$-1, -135744(%ebp)
 9141      FDFFFF
 9142 59e8 754C     		jne	L434
 9143 59ea 8B85D4ED 		movl	-4652(%ebp), %eax
 9143      FFFF
 9144 59f0 8944241C 		movl	%eax, 28(%esp)
 9145 59f4 A1300000 		movl	_g_font_size, %eax
 9145      00
 9146 59f9 89442418 		movl	%eax, 24(%esp)
 9147 59fd 8B4510   		movl	16(%ebp), %eax
 9148 5a00 89442414 		movl	%eax, 20(%esp)
 9149 5a04 0FB745F6 		movzwl	-10(%ebp), %eax
 9150 5a08 89442410 		movl	%eax, 16(%esp)
 9151 5a0c C744240C 		movl	$-1, 12(%esp)
 9151      FFFFFFFF 
 9152 5a14 C7442408 		movl	$LC137, 8(%esp)
 9152      28540000 
 9153 5a1c C7442404 		movl	$LC138, 4(%esp)
 9153      2F540000 
 9154 5a24 A1000000 		movl	_fpImageResourceUsage, %eax
 9154      00
 9155 5a29 890424   		movl	%eax, (%esp)
 9156 5a2c E8000000 		call	_fprintf
 9156      00
 9157 5a31 E9E20000 		jmp	L408
 9157      00
 9158              	L434:
 9159 5a36 8B85D4ED 		movl	-4652(%ebp), %eax
 9159      FFFF
 9160 5a3c 8944241C 		movl	%eax, 28(%esp)
 9161 5a40 A1300000 		movl	_g_font_size, %eax
 9161      00
 9162 5a45 89442418 		movl	%eax, 24(%esp)
 9163 5a49 8B4510   		movl	16(%ebp), %eax
 9164 5a4c 89442414 		movl	%eax, 20(%esp)
 9165 5a50 0FB745F6 		movzwl	-10(%ebp), %eax
 9166 5a54 89442410 		movl	%eax, 16(%esp)
 9167 5a58 8B95C0ED 		movl	-135744(%ebp), %edx
 9167      FDFF
 9168 5a5e 89D0     		movl	%edx, %eax
 9169 5a60 C1E006   		sall	$6, %eax
 9170 5a63 01D0     		addl	%edx, %eax
 9171 5a65 C1E003   		sall	$3, %eax
 9172 5a68 0FB78004 		movzwl	_g_mmi_resource_base_table+4(%eax), %eax
 9172      000000
 9173 5a6f 8944240C 		movl	%eax, 12(%esp)
 9174 5a73 8B95C0ED 		movl	-135744(%ebp), %edx
 9174      FDFF
 9175 5a79 89D0     		movl	%edx, %eax
 9176 5a7b C1E006   		sall	$6, %eax
 9177 5a7e 01D0     		addl	%edx, %eax
 9178 5a80 C1E003   		sall	$3, %eax
 9179 5a83 8B800000 		movl	_g_mmi_resource_base_table(%eax), %eax
 9179      0000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 195


 9180 5a89 89442408 		movl	%eax, 8(%esp)
 9181 5a8d C7442404 		movl	$LC138, 4(%esp)
 9181      2F540000 
 9182 5a95 A1000000 		movl	_fpImageResourceUsage, %eax
 9182      00
 9183 5a9a 890424   		movl	%eax, (%esp)
 9184 5a9d E8000000 		call	_fprintf
 9184      00
 9185              	LBE63:
 9186 5aa2 EB74     		jmp	L408
 9187              	L431:
3046:../../MMI/Resource/WriteImgRes.c ****         }
3047:../../MMI/Resource/WriteImgRes.c ****         /* CustPack: let new set of images share the same resource of default image */
3048:../../MMI/Resource/WriteImgRes.c ****         else
3049:../../MMI/Resource/WriteImgRes.c ****         {
3050:../../MMI/Resource/WriteImgRes.c ****             if (toolFlag)
 9189              	LM762:
 9190 5aa4 833D0000 		cmpl	$0, _toolFlag
 9190      000000
 9191 5aab 740A     		je	L439
3051:../../MMI/Resource/WriteImgRes.c ****             {
3052:../../MMI/Resource/WriteImgRes.c ****                 resultFailFlag = 1;
 9193              	LM763:
 9194 5aad C7050000 		movl	$1, _resultFailFlag
 9194      00000100 
 9194      0000
 9195              	L439:
3053:../../MMI/Resource/WriteImgRes.c ****             }
3054:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_E("Fload failed: %s(%d), PATH=%s", enum_value, nFontId, upperFileName);
 9197              	LM764:
 9198 5ab7 8D85E8FD 		leal	-536(%ebp), %eax
 9198      FFFF
 9199 5abd 89442414 		movl	%eax, 20(%esp)
 9200 5ac1 0FB745F6 		movzwl	-10(%ebp), %eax
 9201 5ac5 89442410 		movl	%eax, 16(%esp)
 9202 5ac9 8B4510   		movl	16(%ebp), %eax
 9203 5acc 8944240C 		movl	%eax, 12(%esp)
 9204 5ad0 C7442408 		movl	$LC139, 8(%esp)
 9204      45540000 
 9205 5ad8 C7442404 		movl	$LC34, 4(%esp)
 9205      64060000 
 9206 5ae0 C7042403 		movl	$3, (%esp)
 9206      000000
 9207 5ae7 E8000000 		call	_reslog_adaptor_log
 9207      00
3055:../../MMI/Resource/WriteImgRes.c ****             RES_LOG_PENDING_FATAL(RESIMG_TAG, "Error!! Fload FAIL !!","mtk_resgenerator return erro
 9209              	LM765:
 9210 5aec C7442410 		movl	$LC140, 16(%esp)
 9210      80540000 
 9211 5af4 C744240C 		movl	$LC141, 12(%esp)
 9211      E0540000 
 9212 5afc C7442408 		movl	$LC142, 8(%esp)
 9212      FF540000 
 9213 5b04 C7442404 		movl	$LC34, 4(%esp)
 9213      64060000 
 9214 5b0c C7042403 		movl	$3, (%esp)
 9214      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 196


 9215 5b13 E8000000 		call	_reslog_adaptor_fatal_error_pending_log
 9215      00
3056:../../MMI/Resource/WriteImgRes.c ****             /*
3057:../../MMI/Resource/WriteImgRes.c ****             strcpy(FontNameListEXT[CurrMaxImageNum].filename, DEFAULT_FILEBUFFER);
3058:../../MMI/Resource/WriteImgRes.c ****             ImageIdMap[nFontId].nImageNum = CurrMaxImageNum;
3059:../../MMI/Resource/WriteImgRes.c ****             CurrMaxImageNum++;
3060:../../MMI/Resource/WriteImgRes.c ****             CurrMaxImageId++;*/
3061:../../MMI/Resource/WriteImgRes.c ****         }
3062:../../MMI/Resource/WriteImgRes.c ****     }
3063:../../MMI/Resource/WriteImgRes.c **** }
 9217              	LM766:
 9218              	L408:
 9219 5b18 C9       		leave
 9220 5b19 C3       		ret
 9221              	LBE60:
 9246              	Lscope16:
 9248              	LC143:
 9249 5b1a 76665F25 		.ascii "vf_%d.tmp\0"
 9249      642E746D 
 9249      7000
 9250              	LC144:
 9251 5b24 772B6200 		.ascii "w+b\0"
 9252 5b28 90909090 		.align 32
 9252      90909090 
 9252      90909090 
 9252      90909090 
 9252      90909090 
 9253              	LC145:
 9254 5b40 5B466F6E 		.ascii "[Font]Type=[%d], g_mmi_res_font_userdata=[%d], size=[%d]\12\0"
 9254      745D5479 
 9254      70653D5B 
 9254      25645D2C 
 9254      20675F6D 
 9255 5b7a 8DB60000 		.align 32
 9255      0000
 9256              	LC146:
 9257 5b80 6F626A63 		.ascii "objcopy -I binary -O pe-i386 --rename-section .data=.rdata --set-section-flags .data=conte
 9257      6F707920 
 9257      2D492062 
 9257      696E6172 
 9257      79202D4F 
 9258 5c44 90909090 		.align 32
 9258      90909090 
 9258      90909090 
 9258      90909090 
 9258      90909090 
 9259              	LC147:
 9260 5c60 6F626A63 		.ascii "objcopy -I binary -O elf32-little --rename-section .data=.rdata --set-section-flags .data=
 9260      6F707920 
 9260      2D492062 
 9260      696E6172 
 9260      79202D4F 
 9261              	LC148:
 9262 5d23 76665F25 		.ascii "vf_%d.obj\0"
 9262      642E6F62 
 9262      6A00
 9263              	LC149:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 197


 9264 5d2d 722B6200 		.ascii "r+b\0"
 9265              	LC150:
 9266 5d31 5B466F6E 		.ascii "[Font]section offset = [%d]\12\0"
 9266      745D7365 
 9266      6374696F 
 9266      6E206F66 
 9266      66736574 
 9267 5d4e 90909090 		.align 32
 9267      90909090 
 9267      90909090 
 9267      90909090 
 9267      9090
 9268              	LC151:
 9269 5d60 706C7574 		.ascii "plutommi\\Customer\\ResGenerator\\vf_%d.obj\12\0"
 9269      6F6D6D69 
 9269      5C437573 
 9269      746F6D65 
 9269      725C5265 
 9270 5d8a 90909090 		.align 32
 9270      90909090 
 9270      90909090 
 9270      90909090 
 9270      90909090 
 9271              	LC152:
 9272 5da0 706C7574 		.ascii "plutommi\\Customer\\ResGenerator\\modis_vf_%d.obj\12\0"
 9272      6F6D6D69 
 9272      5C437573 
 9272      746F6D65 
 9272      725C5265 
 9273              	LC153:
 9274 5dd0 65787465 		.ascii "extern const U8 %s[];\12\0"
 9274      726E2063 
 9274      6F6E7374 
 9274      20553820 
 9274      25735B5D 
 9277              	.globl _Fload
 9279              	_Fload:
3064:../../MMI/Resource/WriteImgRes.c **** 
3065:../../MMI/Resource/WriteImgRes.c **** 
3066:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
3067:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
3068:../../MMI/Resource/WriteImgRes.c ****  *  Fload
3069:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
3070:../../MMI/Resource/WriteImgRes.c ****  *  load the file image to buffer and writes to CustImgRes.c, etc.
3071:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
3072:../../MMI/Resource/WriteImgRes.c ****  *  string      [IN]        string containing file name and path
3073:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
3074:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
3075:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
3076:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL Fload(S8 *string)
3077:../../MMI/Resource/WriteImgRes.c **** {
 9281              	LM767:
 9282 5de7 55       		pushl	%ebp
 9283 5de8 89E5     		movl	%esp, %ebp
 9284 5dea B8A81800 		movl	$6312, %eax
 9284      00
 9285 5def E8000000 		call	__alloca
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 198


 9285      00
3078:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3079:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
3080:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3081:../../MMI/Resource/WriteImgRes.c ****     FILE *image_data_file = NULL;
 9287              	LM768:
 9288              	LBB64:
 9289 5df4 C745F400 		movl	$0, -12(%ebp)
 9289      000000
3082:../../MMI/Resource/WriteImgRes.c ****     S32 i;
3083:../../MMI/Resource/WriteImgRes.c ****     S8 tempCommand[SHELL_CMD_BUFLEN];
3084:../../MMI/Resource/WriteImgRes.c ****     U8 image_identifier = IMAGE_TYPE_TTF;
 9291              	LM769:
 9292 5dfb C68577FD 		movb	$73, -649(%ebp)
 9292      FFFF49
3085:../../MMI/Resource/WriteImgRes.c ****     U32 file_size;
3086:../../MMI/Resource/WriteImgRes.c ****     U8 ch;
3087:../../MMI/Resource/WriteImgRes.c ****     S8 * output_image_names = NULL;
 9294              	LM770:
 9295 5e02 C78568FD 		movl	$0, -664(%ebp)
 9295      FFFF0000 
 9295      0000
3088:../../MMI/Resource/WriteImgRes.c ****     S8 filename_buffer[BUFFER_SIZE];
3089:../../MMI/Resource/WriteImgRes.c ****     S8 *real_filename = NULL;
 9297              	LM771:
 9298 5e0c C78564ED 		movl	$0, -4764(%ebp)
 9298      FFFF0000 
 9298      0000
3090:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3091:../../MMI/Resource/WriteImgRes.c ****     U32 enfb_width, enfb_height;
3092:../../MMI/Resource/WriteImgRes.c ****     S32 enfb_ret;
3093:../../MMI/Resource/WriteImgRes.c ****     int enfb_flag = 0;
3094:../../MMI/Resource/WriteImgRes.c ****     int disable_enfb = 0;
3095:../../MMI/Resource/WriteImgRes.c **** #endif
3096:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_FONT_THIRD_ROM_SUPPORT__
3097:../../MMI/Resource/WriteImgRes.c ****     static U8 count = 0;
3098:../../MMI/Resource/WriteImgRes.c ****     static U32 offset = 0;
3099:../../MMI/Resource/WriteImgRes.c **** #endif
3100:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3101:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
3102:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3103:../../MMI/Resource/WriteImgRes.c **** 
3104:../../MMI/Resource/WriteImgRes.c ****     /* set output variable name of the resource */
3105:../../MMI/Resource/WriteImgRes.c ****     output_image_names = (S8*) malloc(MAX_FILENAME_LEN);
 9300              	LM772:
 9301 5e16 C7042400 		movl	$512, (%esp)
 9301      020000
 9302 5e1d E8000000 		call	_malloc
 9302      00
 9303 5e22 898568FD 		movl	%eax, -664(%ebp)
 9303      FFFF
3106:../../MMI/Resource/WriteImgRes.c ****     strcpy(filename_buffer, string);
 9305              	LM773:
 9306 5e28 8B4508   		movl	8(%ebp), %eax
 9307 5e2b 89442404 		movl	%eax, 4(%esp)
 9308 5e2f 8D8568ED 		leal	-4760(%ebp), %eax
 9308      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 199


 9309 5e35 890424   		movl	%eax, (%esp)
 9310 5e38 E8000000 		call	_strcpy
 9310      00
3107:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(filename_buffer, "")))
 9312              	LM774:
 9313 5e3d C7442404 		movl	$LC31, 4(%esp)
 9313      12060000 
 9314 5e45 8D8568ED 		leal	-4760(%ebp), %eax
 9314      FFFF
 9315 5e4b 890424   		movl	%eax, (%esp)
 9316 5e4e E8000000 		call	_strcmp
 9316      00
 9317 5e53 85C0     		testl	%eax, %eax
 9318 5e55 7516     		jne	L441
3108:../../MMI/Resource/WriteImgRes.c ****     {
3109:../../MMI/Resource/WriteImgRes.c ****         strcpy(filename_buffer, NOIMAGE_FILENAMEBUFFER);
 9320              	LM775:
 9321 5e57 C7442404 		movl	$LC32, 4(%esp)
 9321      20060000 
 9322 5e5f 8D8568ED 		leal	-4760(%ebp), %eax
 9322      FFFF
 9323 5e65 890424   		movl	%eax, (%esp)
 9324 5e68 E8000000 		call	_strcpy
 9324      00
 9325              	L441:
3110:../../MMI/Resource/WriteImgRes.c ****     }
3111:../../MMI/Resource/WriteImgRes.c ****     Extract_Name(output_image_names, filename_buffer, EXT_FONT);
 9327              	LM776:
 9328 5e6d C7442408 		movl	$3, 8(%esp)
 9328      03000000 
 9329 5e75 8D8568ED 		leal	-4760(%ebp), %eax
 9329      FFFF
 9330 5e7b 89442404 		movl	%eax, 4(%esp)
 9331 5e7f 8B8568FD 		movl	-664(%ebp), %eax
 9331      FFFF
 9332 5e85 890424   		movl	%eax, (%esp)
 9333 5e88 E8000000 		call	_Extract_Name
 9333      00
3112:../../MMI/Resource/WriteImgRes.c **** 
3113:../../MMI/Resource/WriteImgRes.c ****     real_filename = filename_buffer;
 9335              	LM777:
 9336 5e8d 8D8568ED 		leal	-4760(%ebp), %eax
 9336      FFFF
 9337 5e93 898564ED 		movl	%eax, -4764(%ebp)
 9337      FFFF
3114:../../MMI/Resource/WriteImgRes.c **** 
3115:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3116:../../MMI/Resource/WriteImgRes.c ****     enfb_ret = Image_Test(filename_buffer, &enfb_width, &enfb_height, disable_enfb);
3117:../../MMI/Resource/WriteImgRes.c ****     if (enfb_ret != ENFB_IMAGE_NONE)
3118:../../MMI/Resource/WriteImgRes.c ****     {
3119:../../MMI/Resource/WriteImgRes.c ****         enfb_flag = 1;
3120:../../MMI/Resource/WriteImgRes.c ****         if (enfb_ret == ENFB_IMAGE_ASSOCIATE)
3121:../../MMI/Resource/WriteImgRes.c ****         {
3122:../../MMI/Resource/WriteImgRes.c ****             ENFBAssociatedIDAdded = MMI_TRUE;
3123:../../MMI/Resource/WriteImgRes.c ****         }
3124:../../MMI/Resource/WriteImgRes.c ****     }
3125:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 200


3126:../../MMI/Resource/WriteImgRes.c **** 
3127:../../MMI/Resource/WriteImgRes.c ****     image_data_file = fopen(filename_buffer, "rb");
 9339              	LM778:
 9340 5e99 C7442404 		movl	$LC58, 4(%esp)
 9340      F30C0000 
 9341 5ea1 8D8568ED 		leal	-4760(%ebp), %eax
 9341      FFFF
 9342 5ea7 890424   		movl	%eax, (%esp)
 9343 5eaa E8000000 		call	_fopen
 9343      00
 9344 5eaf 8945F4   		movl	%eax, -12(%ebp)
3128:../../MMI/Resource/WriteImgRes.c **** 
3129:../../MMI/Resource/WriteImgRes.c ****     /* Check if file open is successful or not. */
3130:../../MMI/Resource/WriteImgRes.c ****     if(image_data_file == NULL)
 9346              	LM779:
 9347 5eb2 837DF400 		cmpl	$0, -12(%ebp)
 9348 5eb6 750F     		jne	L442
3131:../../MMI/Resource/WriteImgRes.c ****     {    
3132:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 9350              	LM780:
 9351 5eb8 C78590E7 		movl	$0, -6256(%ebp)
 9351      FFFF0000 
 9351      0000
 9352 5ec2 E96C0600 		jmp	L440
 9352      00
 9353              	L442:
3133:../../MMI/Resource/WriteImgRes.c ****     }
3134:../../MMI/Resource/WriteImgRes.c ****     
3135:../../MMI/Resource/WriteImgRes.c ****     fseek(image_data_file, 0, SEEK_END);
 9355              	LM781:
 9356 5ec7 C7442408 		movl	$2, 8(%esp)
 9356      02000000 
 9357 5ecf C7442404 		movl	$0, 4(%esp)
 9357      00000000 
 9358 5ed7 8B45F4   		movl	-12(%ebp), %eax
 9359 5eda 890424   		movl	%eax, (%esp)
 9360 5edd E8000000 		call	_fseek
 9360      00
3136:../../MMI/Resource/WriteImgRes.c ****     file_size = ftell(image_data_file);
 9362              	LM782:
 9363 5ee2 8B45F4   		movl	-12(%ebp), %eax
 9364 5ee5 890424   		movl	%eax, (%esp)
 9365 5ee8 E8000000 		call	_ftell
 9365      00
 9366 5eed 898570FD 		movl	%eax, -656(%ebp)
 9366      FFFF
3137:../../MMI/Resource/WriteImgRes.c ****     fseek(image_data_file, 0, SEEK_SET);
 9368              	LM783:
 9369 5ef3 C7442408 		movl	$0, 8(%esp)
 9369      00000000 
 9370 5efb C7442404 		movl	$0, 4(%esp)
 9370      00000000 
 9371 5f03 8B45F4   		movl	-12(%ebp), %eax
 9372 5f06 890424   		movl	%eax, (%esp)
 9373 5f09 E8000000 		call	_fseek
 9373      00
3138:../../MMI/Resource/WriteImgRes.c **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 201


3139:../../MMI/Resource/WriteImgRes.c ****     if (toolFlag)
 9375              	LM784:
 9376 5f0e 833D0000 		cmpl	$0, _toolFlag
 9376      000000
 9377 5f15 0F84D500 		je	L443
 9377      0000
3140:../../MMI/Resource/WriteImgRes.c ****     {
3141:../../MMI/Resource/WriteImgRes.c ****         fprintf(
 9379              	LM785:
 9380 5f1b 8B8570FD 		movl	-656(%ebp), %eax
 9380      FFFF
 9381 5f21 25000000 		andl	$-16777216, %eax
 9381      FF
 9382 5f26 C1E818   		shrl	$24, %eax
 9383 5f29 89442424 		movl	%eax, 36(%esp)
 9384 5f2d 8B8570FD 		movl	-656(%ebp), %eax
 9384      FFFF
 9385 5f33 250000FF 		andl	$16711680, %eax
 9385      00
 9386 5f38 C1E810   		shrl	$16, %eax
 9387 5f3b 89442420 		movl	%eax, 32(%esp)
 9388 5f3f 8B8570FD 		movl	-656(%ebp), %eax
 9388      FFFF
 9389 5f45 2500FF00 		andl	$65280, %eax
 9389      00
 9390 5f4a C1E808   		shrl	$8, %eax
 9391 5f4d 8944241C 		movl	%eax, 28(%esp)
 9392 5f51 0FB68570 		movzbl	-656(%ebp),%eax
 9392      FDFFFF
 9393 5f58 89442418 		movl	%eax, 24(%esp)
 9394 5f5c A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9394      00
 9395 5f61 250000FF 		andl	$16711680, %eax
 9395      00
 9396 5f66 C1E810   		shrl	$16, %eax
 9397 5f69 89442414 		movl	%eax, 20(%esp)
 9398 5f6d A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9398      00
 9399 5f72 2500FF00 		andl	$65280, %eax
 9399      00
 9400 5f77 C1E808   		shrl	$8, %eax
 9401 5f7a 89442410 		movl	%eax, 16(%esp)
 9402 5f7e 0FB60520 		movzbl	_g_mmi_res_font_userdata,%eax
 9402      000000
 9403 5f85 8944240C 		movl	%eax, 12(%esp)
 9404 5f89 0FB68577 		movzbl	-649(%ebp), %eax
 9404      FDFFFF
 9405 5f90 89442408 		movl	%eax, 8(%esp)
 9406 5f94 C7442404 		movl	$LC84, 4(%esp)
 9406      D4290000 
 9407 5f9c A1000000 		movl	_dest_file, %eax
 9407      00
 9408 5fa1 890424   		movl	%eax, (%esp)
 9409 5fa4 E8000000 		call	_fprintf
 9409      00
3142:../../MMI/Resource/WriteImgRes.c ****             dest_file,
3143:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c%c%c",
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 202


3144:../../MMI/Resource/WriteImgRes.c ****             image_identifier,
3145:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff),
3146:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff00) >> 8,
3147:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff0000) >> 16,
3148:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff),
3149:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff00) >> 8,
3150:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff0000) >> 16,
3151:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff000000) >> 24);
3152:../../MMI/Resource/WriteImgRes.c **** 
3153:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < file_size; i++)
 9411              	LM786:
 9412 5fa9 C745F000 		movl	$0, -16(%ebp)
 9412      000000
 9413              	L444:
 9414 5fb0 8B45F0   		movl	-16(%ebp), %eax
 9415 5fb3 3B8570FD 		cmpl	-656(%ebp), %eax
 9415      FFFF
 9416 5fb9 7205     		jb	L447
 9417 5fbb E9430500 		jmp	L448
 9417      00
 9418              	L447:
3154:../../MMI/Resource/WriteImgRes.c ****         {
3155:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(image_data_file);
 9420              	LM787:
 9421 5fc0 8B45F4   		movl	-12(%ebp), %eax
 9422 5fc3 890424   		movl	%eax, (%esp)
 9423 5fc6 E8000000 		call	_fgetc
 9423      00
 9424 5fcb 88856FFD 		movb	%al, -657(%ebp)
 9424      FFFF
3156:../../MMI/Resource/WriteImgRes.c **** 
3157:../../MMI/Resource/WriteImgRes.c ****             fputc(ch, dest_file);
 9426              	LM788:
 9427 5fd1 A1000000 		movl	_dest_file, %eax
 9427      00
 9428 5fd6 89442404 		movl	%eax, 4(%esp)
 9429 5fda 0FB6856F 		movzbl	-657(%ebp), %eax
 9429      FDFFFF
 9430 5fe1 890424   		movl	%eax, (%esp)
 9431 5fe4 E8000000 		call	_fputc
 9431      00
 9433              	LM789:
 9434 5fe9 8D45F0   		leal	-16(%ebp), %eax
 9435 5fec FF00     		incl	(%eax)
 9436 5fee EBC0     		jmp	L444
 9437              	L443:
3158:../../MMI/Resource/WriteImgRes.c ****         }
3159:../../MMI/Resource/WriteImgRes.c ****     }
3160:../../MMI/Resource/WriteImgRes.c **** 
3161:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_FONT_THIRD_ROM_SUPPORT__
3162:../../MMI/Resource/WriteImgRes.c ****     else if(g_mmi_res_font_flags & MMI_RES_FLAG_FONT_IS_ENFB)
3163:../../MMI/Resource/WriteImgRes.c ****     {
3164:../../MMI/Resource/WriteImgRes.c ****         
3165:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < file_size; i++)
3166:../../MMI/Resource/WriteImgRes.c ****         {
3167:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(image_data_file);
3168:../../MMI/Resource/WriteImgRes.c ****             fputc(ch, enfb_font_data_file);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 203


3169:../../MMI/Resource/WriteImgRes.c ****         }
3170:../../MMI/Resource/WriteImgRes.c **** 
3171:../../MMI/Resource/WriteImgRes.c ****         ENFBFontResInfo[count].offset = offset;
3172:../../MMI/Resource/WriteImgRes.c ****         ENFBFontResInfo[count].size = file_size;
3173:../../MMI/Resource/WriteImgRes.c ****         ENFBFontResInfo[count].res_id = ++count;
3174:../../MMI/Resource/WriteImgRes.c **** 
3175:../../MMI/Resource/WriteImgRes.c ****         offset += file_size;
3176:../../MMI/Resource/WriteImgRes.c ****     }
3177:../../MMI/Resource/WriteImgRes.c **** #endif
3178:../../MMI/Resource/WriteImgRes.c **** 
3179:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3180:../../MMI/Resource/WriteImgRes.c ****     else if (enfb_flag == 1) /* write ENFB header to CustFontDataxxx.h and Font header/data to ENFB
3181:../../MMI/Resource/WriteImgRes.c ****     {
3182:../../MMI/Resource/WriteImgRes.c ****         /* write Font header to ENFB Data File */
3183:../../MMI/Resource/WriteImgRes.c ****         fprintf(
3184:../../MMI/Resource/WriteImgRes.c ****             enfb_img_data_file,
3185:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c%c%c",
3186:../../MMI/Resource/WriteImgRes.c ****             image_identifier,
3187:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff),
3188:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff00) >> 8,
3189:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff0000) >> 16,
3190:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff),
3191:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff00) >> 8,
3192:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff0000) >> 16,
3193:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff000000) >> 24);
3194:../../MMI/Resource/WriteImgRes.c ****         enfb_size = 8 + file_size;
3195:../../MMI/Resource/WriteImgRes.c **** 
3196:../../MMI/Resource/WriteImgRes.c ****         /* write ENFB header to CustImgDataxxx.h */
3197:../../MMI/Resource/WriteImgRes.c **** 
3198:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_file, "const U8 %s%s", output_image_names, OUTPUT_IMAGE_NAMES_END);
3199:../../MMI/Resource/WriteImgRes.c **** 
3200:../../MMI/Resource/WriteImgRes.c ****         fprintf(
3201:../../MMI/Resource/WriteImgRes.c ****             font_data_file,
3202:../../MMI/Resource/WriteImgRes.c ****             "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x
3203:../../MMI/Resource/WriteImgRes.c ****             (U8) 255,                   //type
3204:../../MMI/Resource/WriteImgRes.c ****             (U8) ENFBAssociatedIDAdded, //associated id
3205:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
3206:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
3207:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_offset & 0xff),
3208:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 8) & 0xff),
3209:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 16) & 0xff),
3210:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 24) & 0xff),
3211:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_size & 0xff),
3212:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 8) & 0xff),
3213:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 16) & 0xff),
3214:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 24) & 0xff));
3215:../../MMI/Resource/WriteImgRes.c **** 
3216:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_file, "\n };\n");
3217:../../MMI/Resource/WriteImgRes.c **** 
3218:../../MMI/Resource/WriteImgRes.c ****         enfb_offset += enfb_size;
3219:../../MMI/Resource/WriteImgRes.c **** 
3220:../../MMI/Resource/WriteImgRes.c **** 
3221:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < file_size; i++)
3222:../../MMI/Resource/WriteImgRes.c ****         {
3223:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(image_data_file);
3224:../../MMI/Resource/WriteImgRes.c **** 
3225:../../MMI/Resource/WriteImgRes.c ****             if (toolFlag)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 204


3226:../../MMI/Resource/WriteImgRes.c ****             {
3227:../../MMI/Resource/WriteImgRes.c ****                 fputc(ch, dest_file);
3228:../../MMI/Resource/WriteImgRes.c ****             }
3229:../../MMI/Resource/WriteImgRes.c **** 
3230:../../MMI/Resource/WriteImgRes.c ****         #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3231:../../MMI/Resource/WriteImgRes.c ****             /* write image data to ENFB image data file */
3232:../../MMI/Resource/WriteImgRes.c ****             else if (enfb_flag == 1)
3233:../../MMI/Resource/WriteImgRes.c ****             {
3234:../../MMI/Resource/WriteImgRes.c ****                 fputc(ch, enfb_img_data_file);
3235:../../MMI/Resource/WriteImgRes.c ****             }
3236:../../MMI/Resource/WriteImgRes.c ****         #endif
3237:../../MMI/Resource/WriteImgRes.c **** 
3238:../../MMI/Resource/WriteImgRes.c ****             else
3239:../../MMI/Resource/WriteImgRes.c ****             {
3240:../../MMI/Resource/WriteImgRes.c ****                 /* Err, only handle ENFB in this function. */
3241:../../MMI/Resource/WriteImgRes.c ****                 fprintf(stderr, "Err, only handle ENFB in this function\n");
3242:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_E("Err, only handle ENFB in this function\n");  				
3243:../../MMI/Resource/WriteImgRes.c ****                 assert(0);
3244:../../MMI/Resource/WriteImgRes.c ****                 exit(2);
3245:../../MMI/Resource/WriteImgRes.c ****             }
3246:../../MMI/Resource/WriteImgRes.c ****         }
3247:../../MMI/Resource/WriteImgRes.c ****     }
3248:../../MMI/Resource/WriteImgRes.c **** #endif
3249:../../MMI/Resource/WriteImgRes.c **** 
3250:../../MMI/Resource/WriteImgRes.c ****     else
3251:../../MMI/Resource/WriteImgRes.c ****     {
3252:../../MMI/Resource/WriteImgRes.c ****         /* Handle Vector Font */
3253:../../MMI/Resource/WriteImgRes.c ****         /* convert font data to obj file */
3254:../../MMI/Resource/WriteImgRes.c ****         S8 tempCommand[SHELL_CMD_BUFLEN*2];
3255:../../MMI/Resource/WriteImgRes.c ****         FILE *font_obj_file = NULL;
 9439              	LM790:
 9440              	LBB65:
 9441 5ff0 C78584E8 		movl	$0, -6012(%ebp)
 9441      FFFF0000 
 9441      0000
3256:../../MMI/Resource/WriteImgRes.c ****         FILE *font_org_file = NULL;
 9443              	LM791:
 9444 5ffa C78580E8 		movl	$0, -6016(%ebp)
 9444      FFFF0000 
 9444      0000
3257:../../MMI/Resource/WriteImgRes.c ****         S32 section_offset = 0;
 9446              	LM792:
 9447 6004 C7857CE8 		movl	$0, -6020(%ebp)
 9447      FFFF0000 
 9447      0000
3258:../../MMI/Resource/WriteImgRes.c ****         U32 size = 0;
 9449              	LM793:
 9450 600e C78578E8 		movl	$0, -6024(%ebp)
 9450      FFFF0000 
 9450      0000
3259:../../MMI/Resource/WriteImgRes.c ****         U16 nType = 0;
 9452              	LM794:
 9453 6018 66C78576 		movw	$0, -6026(%ebp)
 9453      E8FFFF00 
 9453      00
3260:../../MMI/Resource/WriteImgRes.c **** 
3261:../../MMI/Resource/WriteImgRes.c ****         nType = ExtractExtension(filename_buffer, RES_FONT);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 205


 9455              	LM795:
 9456 6021 C7442404 		movl	$4, 4(%esp)
 9456      04000000 
 9457 6029 8D8568ED 		leal	-4760(%ebp), %eax
 9457      FFFF
 9458 602f 890424   		movl	%eax, (%esp)
 9459 6032 E8000000 		call	_ExtractExtension
 9459      00
 9460 6037 660FB6C0 		movzbw	%al, %ax
 9461 603b 66898576 		movw	%ax, -6026(%ebp)
 9461      E8FFFF
3262:../../MMI/Resource/WriteImgRes.c **** 
3263:../../MMI/Resource/WriteImgRes.c **** 
3264:../../MMI/Resource/WriteImgRes.c ****         /* Write temp ttf file with header */
3265:../../MMI/Resource/WriteImgRes.c ****         sprintf(tempCommand, "vf_%d.tmp", g_mmi_res_font_id);
 9463              	LM796:
 9464 6042 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9464      000000
 9465 6049 89442408 		movl	%eax, 8(%esp)
 9466 604d C7442404 		movl	$LC143, 4(%esp)
 9466      1A5B0000 
 9467 6055 8D8588E8 		leal	-6008(%ebp), %eax
 9467      FFFF
 9468 605b 890424   		movl	%eax, (%esp)
 9469 605e E8000000 		call	_sprintf
 9469      00
3266:../../MMI/Resource/WriteImgRes.c ****         font_obj_file = fopen(tempCommand, "w+b");
 9471              	LM797:
 9472 6063 C7442404 		movl	$LC144, 4(%esp)
 9472      245B0000 
 9473 606b 8D8588E8 		leal	-6008(%ebp), %eax
 9473      FFFF
 9474 6071 890424   		movl	%eax, (%esp)
 9475 6074 E8000000 		call	_fopen
 9475      00
 9476 6079 898584E8 		movl	%eax, -6012(%ebp)
 9476      FFFF
3267:../../MMI/Resource/WriteImgRes.c ****         ASSERT(font_obj_file != NULL);
 9478              	LM798:
 9479 607f 83BD84E8 		cmpl	$0, -6012(%ebp)
 9479      FFFF00
 9480 6086 7502     		jne	L453
 9481              	L450:
 9482 6088 EBFE     		jmp	L450
 9483              	L453:
3268:../../MMI/Resource/WriteImgRes.c ****         font_org_file = fopen(real_filename, "rb");
 9485              	LM799:
 9486 608a C7442404 		movl	$LC58, 4(%esp)
 9486      F30C0000 
 9487 6092 8B8564ED 		movl	-4764(%ebp), %eax
 9487      FFFF
 9488 6098 890424   		movl	%eax, (%esp)
 9489 609b E8000000 		call	_fopen
 9489      00
 9490 60a0 898580E8 		movl	%eax, -6016(%ebp)
 9490      FFFF
3269:../../MMI/Resource/WriteImgRes.c ****         ASSERT(font_org_file != NULL);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 206


 9492              	LM800:
 9493 60a6 83BD80E8 		cmpl	$0, -6016(%ebp)
 9493      FFFF00
 9494 60ad 7502     		jne	L458
 9495              	L455:
 9496 60af EBFE     		jmp	L455
 9497              	L458:
3270:../../MMI/Resource/WriteImgRes.c **** 
3271:../../MMI/Resource/WriteImgRes.c ****         fseek(font_org_file, 0, SEEK_END);
 9499              	LM801:
 9500 60b1 C7442408 		movl	$2, 8(%esp)
 9500      02000000 
 9501 60b9 C7442404 		movl	$0, 4(%esp)
 9501      00000000 
 9502 60c1 8B8580E8 		movl	-6016(%ebp), %eax
 9502      FFFF
 9503 60c7 890424   		movl	%eax, (%esp)
 9504 60ca E8000000 		call	_fseek
 9504      00
3272:../../MMI/Resource/WriteImgRes.c ****         size = ftell(font_org_file);
 9506              	LM802:
 9507 60cf 8B8580E8 		movl	-6016(%ebp), %eax
 9507      FFFF
 9508 60d5 890424   		movl	%eax, (%esp)
 9509 60d8 E8000000 		call	_ftell
 9509      00
 9510 60dd 898578E8 		movl	%eax, -6024(%ebp)
 9510      FFFF
3273:../../MMI/Resource/WriteImgRes.c ****         fseek(font_org_file, 0, SEEK_SET);
 9512              	LM803:
 9513 60e3 C7442408 		movl	$0, 8(%esp)
 9513      00000000 
 9514 60eb C7442404 		movl	$0, 4(%esp)
 9514      00000000 
 9515 60f3 8B8580E8 		movl	-6016(%ebp), %eax
 9515      FFFF
 9516 60f9 890424   		movl	%eax, (%esp)
 9517 60fc E8000000 		call	_fseek
 9517      00
3274:../../MMI/Resource/WriteImgRes.c **** 
3275:../../MMI/Resource/WriteImgRes.c ****         fprintf(
 9519              	LM804:
 9520 6101 8B8578E8 		movl	-6024(%ebp), %eax
 9520      FFFF
 9521 6107 25000000 		andl	$-16777216, %eax
 9521      FF
 9522 610c C1E818   		shrl	$24, %eax
 9523 610f 89442424 		movl	%eax, 36(%esp)
 9524 6113 8B8578E8 		movl	-6024(%ebp), %eax
 9524      FFFF
 9525 6119 250000FF 		andl	$16711680, %eax
 9525      00
 9526 611e C1E810   		shrl	$16, %eax
 9527 6121 89442420 		movl	%eax, 32(%esp)
 9528 6125 8B8578E8 		movl	-6024(%ebp), %eax
 9528      FFFF
 9529 612b 2500FF00 		andl	$65280, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 207


 9529      00
 9530 6130 C1E808   		shrl	$8, %eax
 9531 6133 8944241C 		movl	%eax, 28(%esp)
 9532 6137 0FB68578 		movzbl	-6024(%ebp),%eax
 9532      E8FFFF
 9533 613e 89442418 		movl	%eax, 24(%esp)
 9534 6142 A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9534      00
 9535 6147 250000FF 		andl	$16711680, %eax
 9535      00
 9536 614c C1E810   		shrl	$16, %eax
 9537 614f 89442414 		movl	%eax, 20(%esp)
 9538 6153 A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9538      00
 9539 6158 2500FF00 		andl	$65280, %eax
 9539      00
 9540 615d C1E808   		shrl	$8, %eax
 9541 6160 89442410 		movl	%eax, 16(%esp)
 9542 6164 0FB60520 		movzbl	_g_mmi_res_font_userdata,%eax
 9542      000000
 9543 616b 8944240C 		movl	%eax, 12(%esp)
 9544 616f 0FB78576 		movzwl	-6026(%ebp), %eax
 9544      E8FFFF
 9545 6176 89442408 		movl	%eax, 8(%esp)
 9546 617a C7442404 		movl	$LC84, 4(%esp)
 9546      D4290000 
 9547 6182 8B8584E8 		movl	-6012(%ebp), %eax
 9547      FFFF
 9548 6188 890424   		movl	%eax, (%esp)
 9549 618b E8000000 		call	_fprintf
 9549      00
3276:../../MMI/Resource/WriteImgRes.c ****             font_obj_file,
3277:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c%c%c",
3278:../../MMI/Resource/WriteImgRes.c ****             nType,
3279:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff),
3280:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff00) >> 8,
3281:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff0000) >> 16,
3282:../../MMI/Resource/WriteImgRes.c ****             (size & 0xff),
3283:../../MMI/Resource/WriteImgRes.c ****             (size & 0xff00) >> 8,
3284:../../MMI/Resource/WriteImgRes.c ****             (size & 0xff0000) >> 16,
3285:../../MMI/Resource/WriteImgRes.c ****             (size & 0xff000000) >> 24);
3286:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("[Font]Type=[%d], g_mmi_res_font_userdata=[%d], size=[%d]\n", nType, g_mmi_r
 9551              	LM805:
 9552 6190 8B8578E8 		movl	-6024(%ebp), %eax
 9552      FFFF
 9553 6196 8944240C 		movl	%eax, 12(%esp)
 9554 619a A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9554      00
 9555 619f 89442408 		movl	%eax, 8(%esp)
 9556 61a3 0FB78576 		movzwl	-6026(%ebp), %eax
 9556      E8FFFF
 9557 61aa 89442404 		movl	%eax, 4(%esp)
 9558 61ae C7042440 		movl	$LC145, (%esp)
 9558      5B0000
 9559 61b5 E8000000 		call	_MtkResgenTrace
 9559      00
3287:../../MMI/Resource/WriteImgRes.c **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 208


3288:../../MMI/Resource/WriteImgRes.c ****         while (!feof(font_org_file))
 9561              	LM806:
 9562              	L459:
 9563 61ba 8B8580E8 		movl	-6016(%ebp), %eax
 9563      FFFF
 9564 61c0 890424   		movl	%eax, (%esp)
 9565 61c3 E8000000 		call	_feof
 9565      00
 9566 61c8 85C0     		testl	%eax, %eax
 9567 61ca 7402     		je	L461
 9568 61cc EB63     		jmp	L460
 9569              	L461:
3289:../../MMI/Resource/WriteImgRes.c ****         {
3290:../../MMI/Resource/WriteImgRes.c ****             S8 buffer[200];
3291:../../MMI/Resource/WriteImgRes.c ****             size_t size;
3292:../../MMI/Resource/WriteImgRes.c **** 
3293:../../MMI/Resource/WriteImgRes.c ****             size = fread(buffer, 1, 200, font_org_file);
 9571              	LM807:
 9572              	LBB66:
 9573 61ce 8B8580E8 		movl	-6016(%ebp), %eax
 9573      FFFF
 9574 61d4 8944240C 		movl	%eax, 12(%esp)
 9575 61d8 C7442408 		movl	$200, 8(%esp)
 9575      C8000000 
 9576 61e0 C7442404 		movl	$1, 4(%esp)
 9576      01000000 
 9577 61e8 8D8598E7 		leal	-6248(%ebp), %eax
 9577      FFFF
 9578 61ee 890424   		movl	%eax, (%esp)
 9579 61f1 E8000000 		call	_fread
 9579      00
 9580 61f6 898594E7 		movl	%eax, -6252(%ebp)
 9580      FFFF
3294:../../MMI/Resource/WriteImgRes.c ****             if (size)
 9582              	LM808:
 9583 61fc 83BD94E7 		cmpl	$0, -6252(%ebp)
 9583      FFFF00
 9584 6203 74B5     		je	L459
3295:../../MMI/Resource/WriteImgRes.c ****             {
3296:../../MMI/Resource/WriteImgRes.c ****                 fwrite(buffer, 1, size, font_obj_file);
 9586              	LM809:
 9587 6205 8B8584E8 		movl	-6012(%ebp), %eax
 9587      FFFF
 9588 620b 8944240C 		movl	%eax, 12(%esp)
 9589 620f 8B8594E7 		movl	-6252(%ebp), %eax
 9589      FFFF
 9590 6215 89442408 		movl	%eax, 8(%esp)
 9591 6219 C7442404 		movl	$1, 4(%esp)
 9591      01000000 
 9592 6221 8D8598E7 		leal	-6248(%ebp), %eax
 9592      FFFF
 9593 6227 890424   		movl	%eax, (%esp)
 9594 622a E8000000 		call	_fwrite
 9594      00
 9595              	LBE66:
 9596 622f EB89     		jmp	L459
 9597              	L460:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 209


3297:../../MMI/Resource/WriteImgRes.c ****             }
3298:../../MMI/Resource/WriteImgRes.c ****         }
3299:../../MMI/Resource/WriteImgRes.c **** 
3300:../../MMI/Resource/WriteImgRes.c ****         MYFCLOSE(font_obj_file);
 9599              	LM810:
 9600 6231 83BD84E8 		cmpl	$0, -6012(%ebp)
 9600      FFFF00
 9601 6238 7418     		je	L463
 9602 623a 8B8584E8 		movl	-6012(%ebp), %eax
 9602      FFFF
 9603 6240 890424   		movl	%eax, (%esp)
 9604 6243 E8000000 		call	_fclose
 9604      00
 9605 6248 C78584E8 		movl	$0, -6012(%ebp)
 9605      FFFF0000 
 9605      0000
 9606              	L463:
3301:../../MMI/Resource/WriteImgRes.c ****         MYFCLOSE(font_org_file);
 9608              	LM811:
 9609 6252 83BD80E8 		cmpl	$0, -6016(%ebp)
 9609      FFFF00
 9610 6259 7418     		je	L465
 9611 625b 8B8580E8 		movl	-6016(%ebp), %eax
 9611      FFFF
 9612 6261 890424   		movl	%eax, (%esp)
 9613 6264 E8000000 		call	_fclose
 9613      00
 9614 6269 C78580E8 		movl	$0, -6016(%ebp)
 9614      FFFF0000 
 9614      0000
 9615              	L465:
3302:../../MMI/Resource/WriteImgRes.c ****         font_obj_file = NULL;
 9617              	LM812:
 9618 6273 C78584E8 		movl	$0, -6012(%ebp)
 9618      FFFF0000 
 9618      0000
3303:../../MMI/Resource/WriteImgRes.c ****         font_org_file = NULL;
 9620              	LM813:
 9621 627d C78580E8 		movl	$0, -6016(%ebp)
 9621      FFFF0000 
 9621      0000
3304:../../MMI/Resource/WriteImgRes.c **** 
3305:../../MMI/Resource/WriteImgRes.c **** 
3306:../../MMI/Resource/WriteImgRes.c ****         /* Get name gen by objcopy */
3307:../../MMI/Resource/WriteImgRes.c ****         sprintf(tempCommand, "objcopy -I binary -O pe-i386 --rename-section .data=.rdata --set-sect
 9623              	LM814:
 9624 6287 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9624      000000
 9625 628e 89442414 		movl	%eax, 20(%esp)
 9626 6292 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9626      000000
 9627 6299 89442410 		movl	%eax, 16(%esp)
 9628 629d 8B8568FD 		movl	-664(%ebp), %eax
 9628      FFFF
 9629 62a3 8944240C 		movl	%eax, 12(%esp)
 9630 62a7 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9630      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 210


 9631 62ae 89442408 		movl	%eax, 8(%esp)
 9632 62b2 C7442404 		movl	$LC146, 4(%esp)
 9632      805B0000 
 9633 62ba 8D8588E8 		leal	-6008(%ebp), %eax
 9633      FFFF
 9634 62c0 890424   		movl	%eax, (%esp)
 9635 62c3 E8000000 		call	_sprintf
 9635      00
3308:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("%s\n", tempCommand);
 9637              	LM815:
 9638 62c8 8D8588E8 		leal	-6008(%ebp), %eax
 9638      FFFF
 9639 62ce 89442404 		movl	%eax, 4(%esp)
 9640 62d2 C7042449 		movl	$LC52, (%esp)
 9640      0C0000
 9641 62d9 E8000000 		call	_MtkResgenTrace
 9641      00
3309:../../MMI/Resource/WriteImgRes.c ****         ASSERT(SHELL_CMD_BUFLEN*2 > strlen(tempCommand));
 9643              	LM816:
 9644 62de 8D8588E8 		leal	-6008(%ebp), %eax
 9644      FFFF
 9645 62e4 890424   		movl	%eax, (%esp)
 9646 62e7 E8000000 		call	_strlen
 9646      00
 9647 62ec 3DC70400 		cmpl	$1223, %eax
 9647      00
 9648 62f1 7602     		jbe	L471
 9649              	L468:
 9650 62f3 EBFE     		jmp	L468
 9651              	L471:
3310:../../MMI/Resource/WriteImgRes.c ****         system(tempCommand);
 9653              	LM817:
 9654 62f5 8D8588E8 		leal	-6008(%ebp), %eax
 9654      FFFF
 9655 62fb 890424   		movl	%eax, (%esp)
 9656 62fe E8000000 		call	_system
 9656      00
3311:../../MMI/Resource/WriteImgRes.c **** 
3312:../../MMI/Resource/WriteImgRes.c ****         sprintf(tempCommand, "objcopy -I binary -O elf32-little --rename-section .data=.rdata --set
 9658              	LM818:
 9659 6303 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9659      000000
 9660 630a 89442414 		movl	%eax, 20(%esp)
 9661 630e 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9661      000000
 9662 6315 89442410 		movl	%eax, 16(%esp)
 9663 6319 8B8568FD 		movl	-664(%ebp), %eax
 9663      FFFF
 9664 631f 8944240C 		movl	%eax, 12(%esp)
 9665 6323 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9665      000000
 9666 632a 89442408 		movl	%eax, 8(%esp)
 9667 632e C7442404 		movl	$LC147, 4(%esp)
 9667      605C0000 
 9668 6336 8D8588E8 		leal	-6008(%ebp), %eax
 9668      FFFF
 9669 633c 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 211


 9670 633f E8000000 		call	_sprintf
 9670      00
3313:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("%s\n", tempCommand);
 9672              	LM819:
 9673 6344 8D8588E8 		leal	-6008(%ebp), %eax
 9673      FFFF
 9674 634a 89442404 		movl	%eax, 4(%esp)
 9675 634e C7042449 		movl	$LC52, (%esp)
 9675      0C0000
 9676 6355 E8000000 		call	_MtkResgenTrace
 9676      00
3314:../../MMI/Resource/WriteImgRes.c ****         ASSERT(SHELL_CMD_BUFLEN*2 > strlen(tempCommand));
 9678              	LM820:
 9679 635a 8D8588E8 		leal	-6008(%ebp), %eax
 9679      FFFF
 9680 6360 890424   		movl	%eax, (%esp)
 9681 6363 E8000000 		call	_strlen
 9681      00
 9682 6368 3DC70400 		cmpl	$1223, %eax
 9682      00
 9683 636d 7602     		jbe	L476
 9684              	L473:
 9685 636f EBFE     		jmp	L473
 9686              	L476:
3315:../../MMI/Resource/WriteImgRes.c ****         system(tempCommand);
 9688              	LM821:
 9689 6371 8D8588E8 		leal	-6008(%ebp), %eax
 9689      FFFF
 9690 6377 890424   		movl	%eax, (%esp)
 9691 637a E8000000 		call	_system
 9691      00
3316:../../MMI/Resource/WriteImgRes.c **** 
3317:../../MMI/Resource/WriteImgRes.c ****         /* Fix obj alignment to 4 bytes */
3318:../../MMI/Resource/WriteImgRes.c ****         /* 1. Open the file just created */
3319:../../MMI/Resource/WriteImgRes.c ****         sprintf(tempCommand, "vf_%d.obj", g_mmi_res_font_id);
 9693              	LM822:
 9694 637f 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9694      000000
 9695 6386 89442408 		movl	%eax, 8(%esp)
 9696 638a C7442404 		movl	$LC148, 4(%esp)
 9696      235D0000 
 9697 6392 8D8588E8 		leal	-6008(%ebp), %eax
 9697      FFFF
 9698 6398 890424   		movl	%eax, (%esp)
 9699 639b E8000000 		call	_sprintf
 9699      00
3320:../../MMI/Resource/WriteImgRes.c ****         font_obj_file = fopen(tempCommand, "r+b");
 9701              	LM823:
 9702 63a0 C7442404 		movl	$LC149, 4(%esp)
 9702      2D5D0000 
 9703 63a8 8D8588E8 		leal	-6008(%ebp), %eax
 9703      FFFF
 9704 63ae 890424   		movl	%eax, (%esp)
 9705 63b1 E8000000 		call	_fopen
 9705      00
 9706 63b6 898584E8 		movl	%eax, -6012(%ebp)
 9706      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 212


3321:../../MMI/Resource/WriteImgRes.c ****         if (font_obj_file != NULL)
 9708              	LM824:
 9709 63bc 83BD84E8 		cmpl	$0, -6012(%ebp)
 9709      FFFF00
 9710 63c3 0F84BC00 		je	L477
 9710      0000
3322:../../MMI/Resource/WriteImgRes.c ****         {
3323:../../MMI/Resource/WriteImgRes.c ****             /* 2. Read header offset */
3324:../../MMI/Resource/WriteImgRes.c ****             fseek(font_obj_file, 32, SEEK_SET);
 9712              	LM825:
 9713 63c9 C7442408 		movl	$0, 8(%esp)
 9713      00000000 
 9714 63d1 C7442404 		movl	$32, 4(%esp)
 9714      20000000 
 9715 63d9 8B8584E8 		movl	-6012(%ebp), %eax
 9715      FFFF
 9716 63df 890424   		movl	%eax, (%esp)
 9717 63e2 E8000000 		call	_fseek
 9717      00
3325:../../MMI/Resource/WriteImgRes.c ****             size = fread(&section_offset, 4, 1, font_obj_file);
 9719              	LM826:
 9720 63e7 8B8584E8 		movl	-6012(%ebp), %eax
 9720      FFFF
 9721 63ed 8944240C 		movl	%eax, 12(%esp)
 9722 63f1 C7442408 		movl	$1, 8(%esp)
 9722      01000000 
 9723 63f9 C7442404 		movl	$4, 4(%esp)
 9723      04000000 
 9724 6401 8D857CE8 		leal	-6020(%ebp), %eax
 9724      FFFF
 9725 6407 890424   		movl	%eax, (%esp)
 9726 640a E8000000 		call	_fread
 9726      00
 9727 640f 898578E8 		movl	%eax, -6024(%ebp)
 9727      FFFF
3326:../../MMI/Resource/WriteImgRes.c ****             RES_PRINT_INFO("[Font]section offset = [%d]\n", section_offset);
 9729              	LM827:
 9730 6415 8B857CE8 		movl	-6020(%ebp), %eax
 9730      FFFF
 9731 641b 89442404 		movl	%eax, 4(%esp)
 9732 641f C7042431 		movl	$LC150, (%esp)
 9732      5D0000
 9733 6426 E8000000 		call	_MtkResgenTrace
 9733      00
3327:../../MMI/Resource/WriteImgRes.c **** 
3328:../../MMI/Resource/WriteImgRes.c ****             /* 3. Jump to the position and modify it to 4. */
3329:../../MMI/Resource/WriteImgRes.c ****             fseek(font_obj_file, section_offset + 40 + 32, SEEK_SET);
 9735              	LM828:
 9736 642b C7442408 		movl	$0, 8(%esp)
 9736      00000000 
 9737 6433 8B857CE8 		movl	-6020(%ebp), %eax
 9737      FFFF
 9738 6439 83C048   		addl	$72, %eax
 9739 643c 89442404 		movl	%eax, 4(%esp)
 9740 6440 8B8584E8 		movl	-6012(%ebp), %eax
 9740      FFFF
 9741 6446 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 213


 9742 6449 E8000000 		call	_fseek
 9742      00
3330:../../MMI/Resource/WriteImgRes.c ****             fputc(4, font_obj_file);
 9744              	LM829:
 9745 644e 8B8584E8 		movl	-6012(%ebp), %eax
 9745      FFFF
 9746 6454 89442404 		movl	%eax, 4(%esp)
 9747 6458 C7042404 		movl	$4, (%esp)
 9747      000000
 9748 645f E8000000 		call	_fputc
 9748      00
3331:../../MMI/Resource/WriteImgRes.c **** 
3332:../../MMI/Resource/WriteImgRes.c ****             /* 4. Close the file */
3333:../../MMI/Resource/WriteImgRes.c ****             MYFCLOSE(font_obj_file);
 9750              	LM830:
 9751 6464 83BD84E8 		cmpl	$0, -6012(%ebp)
 9751      FFFF00
 9752 646b 7418     		je	L477
 9753 646d 8B8584E8 		movl	-6012(%ebp), %eax
 9753      FFFF
 9754 6473 890424   		movl	%eax, (%esp)
 9755 6476 E8000000 		call	_fclose
 9755      00
 9756 647b C78584E8 		movl	$0, -6012(%ebp)
 9756      FFFF0000 
 9756      0000
 9757              	L477:
3334:../../MMI/Resource/WriteImgRes.c ****         }
3335:../../MMI/Resource/WriteImgRes.c **** 
3336:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_lis, "plutommi\\Customer\\ResGenerator\\vf_%d.obj\n", g_mmi_res_font_id);
 9759              	LM831:
 9760 6485 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9760      000000
 9761 648c 89442408 		movl	%eax, 8(%esp)
 9762 6490 C7442404 		movl	$LC151, 4(%esp)
 9762      605D0000 
 9763 6498 A1000000 		movl	_font_data_lis, %eax
 9763      00
 9764 649d 890424   		movl	%eax, (%esp)
 9765 64a0 E8000000 		call	_fprintf
 9765      00
3337:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_modis_lis, "plutommi\\Customer\\ResGenerator\\modis_vf_%d.obj\n", g_mmi_r
 9767              	LM832:
 9768 64a5 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9768      000000
 9769 64ac 89442408 		movl	%eax, 8(%esp)
 9770 64b0 C7442404 		movl	$LC152, 4(%esp)
 9770      A05D0000 
 9771 64b8 A1000000 		movl	_font_data_modis_lis, %eax
 9771      00
 9772 64bd 890424   		movl	%eax, (%esp)
 9773 64c0 E8000000 		call	_fprintf
 9773      00
3338:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_ttf_lis, "%s\n", filename_buffer);
 9775              	LM833:
 9776 64c5 8D8568ED 		leal	-4760(%ebp), %eax
 9776      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 214


 9777 64cb 89442408 		movl	%eax, 8(%esp)
 9778 64cf C7442404 		movl	$LC52, 4(%esp)
 9778      490C0000 
 9779 64d7 A1000000 		movl	_font_ttf_lis, %eax
 9779      00
 9780 64dc 890424   		movl	%eax, (%esp)
 9781 64df E8000000 		call	_fprintf
 9781      00
3339:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_file, "extern const U8 %s[];\n", output_image_names);
 9783              	LM834:
 9784 64e4 8B8568FD 		movl	-664(%ebp), %eax
 9784      FFFF
 9785 64ea 89442408 		movl	%eax, 8(%esp)
 9786 64ee C7442404 		movl	$LC153, 4(%esp)
 9786      D05D0000 
 9787 64f6 A1000000 		movl	_font_data_file, %eax
 9787      00
 9788 64fb 890424   		movl	%eax, (%esp)
 9789 64fe E8000000 		call	_fprintf
 9789      00
 9790              	L448:
3340:../../MMI/Resource/WriteImgRes.c ****     }
3341:../../MMI/Resource/WriteImgRes.c **** 
3342:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3343:../../MMI/Resource/WriteImgRes.c ****     enfb_flag = 0;
3344:../../MMI/Resource/WriteImgRes.c **** #endif
3345:../../MMI/Resource/WriteImgRes.c ****     MYFCLOSE(image_data_file);
 9792              	LM835:
 9793              	LBE65:
 9794 6503 837DF400 		cmpl	$0, -12(%ebp)
 9795 6507 7412     		je	L480
 9796 6509 8B45F4   		movl	-12(%ebp), %eax
 9797 650c 890424   		movl	%eax, (%esp)
 9798 650f E8000000 		call	_fclose
 9798      00
 9799 6514 C745F400 		movl	$0, -12(%ebp)
 9799      000000
 9800              	L480:
3346:../../MMI/Resource/WriteImgRes.c ****     free(output_image_names);
 9802              	LM836:
 9803 651b 8B8568FD 		movl	-664(%ebp), %eax
 9803      FFFF
 9804 6521 890424   		movl	%eax, (%esp)
 9805 6524 E8000000 		call	_free
 9805      00
3347:../../MMI/Resource/WriteImgRes.c **** 
3348:../../MMI/Resource/WriteImgRes.c ****     return TRUE;
 9807              	LM837:
 9808 6529 C78590E7 		movl	$1, -6256(%ebp)
 9808      FFFF0100 
 9808      0000
3349:../../MMI/Resource/WriteImgRes.c **** }
 9810              	LM838:
 9811              	L440:
 9812              	LBE64:
 9813 6533 8B8590E7 		movl	-6256(%ebp), %eax
 9813      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 215


 9814 6539 C9       		leave
 9815 653a C3       		ret
 9839              	Lscope17:
 9841              	LC154:
 9842 653b 4D41494E 		.ascii "MAINLCD\\\\SUBMENU\0"
 9842      4C43445C 
 9842      5C535542 
 9842      4D454E55 
 9842      00
 9846              	_isSubmenuImage:
3350:../../MMI/Resource/WriteImgRes.c **** 
3351:../../MMI/Resource/WriteImgRes.c **** 
3352:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
3353:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
3354:../../MMI/Resource/WriteImgRes.c ****  *  isSubmenuImage
3355:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
3356:../../MMI/Resource/WriteImgRes.c ****  *  Decide if the iamge is used for Submenu picture
3357:../../MMI/Resource/WriteImgRes.c ****  *
3358:../../MMI/Resource/WriteImgRes.c ****  *  use SUBMENU_IMAGE_PATH (defined in CustDataRes.h) to decide if a EMS picture
3359:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
3360:../../MMI/Resource/WriteImgRes.c ****  *  path        [IN]        -> string containing file name and path
3361:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
3362:../../MMI/Resource/WriteImgRes.c ****  *  U8 --> 1: Submenu picture, 0: Not Submenu picture
3363:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
3364:../../MMI/Resource/WriteImgRes.c **** static U8 isSubmenuImage(S8 *path)
3365:../../MMI/Resource/WriteImgRes.c **** {
 9848              	LM839:
 9849 654c 55       		pushl	%ebp
 9850 654d 89E5     		movl	%esp, %ebp
 9851 654f 83EC48   		subl	$72, %esp
3366:../../MMI/Resource/WriteImgRes.c **** #ifndef __MMI_SLIM_LISTMENU_NUMBER__
3367:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3368:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
3369:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3370:../../MMI/Resource/WriteImgRes.c **** 
3371:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3372:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
3373:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3374:../../MMI/Resource/WriteImgRes.c ****     return 0;
3375:../../MMI/Resource/WriteImgRes.c **** #else /* __MMI_SLIM_LISTMENU_NUMBER__ */
3376:../../MMI/Resource/WriteImgRes.c ****     S8 submenu_path[] = SUBMENU_IMAGE_PATH;
 9853              	LM840:
 9854              	LBB67:
 9855 6552 A13B6500 		movl	LC154, %eax
 9855      00
 9856 6557 8945D8   		movl	%eax, -40(%ebp)
 9857 655a A13F6500 		movl	LC154+4, %eax
 9857      00
 9858 655f 8945DC   		movl	%eax, -36(%ebp)
 9859 6562 A1436500 		movl	LC154+8, %eax
 9859      00
 9860 6567 8945E0   		movl	%eax, -32(%ebp)
 9861 656a A1476500 		movl	LC154+12, %eax
 9861      00
 9862 656f 8945E4   		movl	%eax, -28(%ebp)
 9863 6572 0FB6054B 		movzbl	LC154+16, %eax
 9863      650000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 216


 9864 6579 8845E8   		movb	%al, -24(%ebp)
3377:../../MMI/Resource/WriteImgRes.c ****     U8 pos = 0, submenu_len = 0, i = 0;
 9866              	LM841:
 9867 657c C645D700 		movb	$0, -41(%ebp)
 9868 6580 C645D600 		movb	$0, -42(%ebp)
 9869 6584 C645D500 		movb	$0, -43(%ebp)
3378:../../MMI/Resource/WriteImgRes.c **** 
3379:../../MMI/Resource/WriteImgRes.c ****     if (strstr(path, submenu_path) != NULL)
 9871              	LM842:
 9872 6588 8D45D8   		leal	-40(%ebp), %eax
 9873 658b 89442404 		movl	%eax, 4(%esp)
 9874 658f 8B4508   		movl	8(%ebp), %eax
 9875 6592 890424   		movl	%eax, (%esp)
 9876 6595 E8000000 		call	_strstr
 9876      00
 9877 659a 85C0     		testl	%eax, %eax
 9878 659c 7409     		je	L483
3380:../../MMI/Resource/WriteImgRes.c ****     {
3381:../../MMI/Resource/WriteImgRes.c ****         return 1;
 9880              	LM843:
 9881 659e C745D001 		movl	$1, -48(%ebp)
 9881      000000
 9882 65a5 EB07     		jmp	L482
 9883              	L483:
3382:../../MMI/Resource/WriteImgRes.c ****     }
3383:../../MMI/Resource/WriteImgRes.c ****     else
3384:../../MMI/Resource/WriteImgRes.c ****     {
3385:../../MMI/Resource/WriteImgRes.c ****         return 0;
 9885              	LM844:
 9886 65a7 C745D000 		movl	$0, -48(%ebp)
 9886      000000
3386:../../MMI/Resource/WriteImgRes.c ****     }
3387:../../MMI/Resource/WriteImgRes.c ****     /*
3388:../../MMI/Resource/WriteImgRes.c ****      * submenu_len = strlen(submenu_path);
3389:../../MMI/Resource/WriteImgRes.c ****      * pos = strlen (path)-1;
3390:../../MMI/Resource/WriteImgRes.c ****      * while (path[pos]!='\\') pos--;
3391:../../MMI/Resource/WriteImgRes.c ****      * pos-=submenu_len+1;
3392:../../MMI/Resource/WriteImgRes.c ****      * for ( i=0; i<submenu_len; i++){
3393:../../MMI/Resource/WriteImgRes.c ****      * if ( submenu_path[i] != path[pos] ) return 0;
3394:../../MMI/Resource/WriteImgRes.c ****      * else pos++;
3395:../../MMI/Resource/WriteImgRes.c ****      * }
3396:../../MMI/Resource/WriteImgRes.c ****      * return 1;
3397:../../MMI/Resource/WriteImgRes.c ****      */
3398:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_SLIM_LISTMENU_NUMBER__ */
3399:../../MMI/Resource/WriteImgRes.c **** }
 9888              	LM845:
 9889              	L482:
 9890              	LBE67:
 9891 65ae 8B45D0   		movl	-48(%ebp), %eax
 9892 65b1 C9       		leave
 9893 65b2 C3       		ret
 9900              	Lscope18:
 9906              	_get_available_image_filename:
3400:../../MMI/Resource/WriteImgRes.c **** 
3401:../../MMI/Resource/WriteImgRes.c **** 
3402:../../MMI/Resource/WriteImgRes.c **** #if defined(__MULTIPLE_BINARY_FILES__) && defined(__MMI_RESOURCE_ENFB_SUPPORT__)
3403:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 217


3404:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
3405:../../MMI/Resource/WriteImgRes.c ****  *  CustPack_ENFB_image_test
3406:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
3407:../../MMI/Resource/WriteImgRes.c ****  *  For E-NFB image, we will compulsorily put it into custpack.
3408:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
3409:../../MMI/Resource/WriteImgRes.c ****  *  filename            [IN]
3410:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
3411:../../MMI/Resource/WriteImgRes.c ****  *  BOOL
3412:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
3413:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL CustPack_ENFB_image_test(const S8 *filename, int disable_enfb)
3414:../../MMI/Resource/WriteImgRes.c **** {
3415:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3416:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
3417:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3418:../../MMI/Resource/WriteImgRes.c ****     U32 w, h;
3419:../../MMI/Resource/WriteImgRes.c ****     S32 ret, i, j;
3420:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL test = MMI_FALSE;
3421:../../MMI/Resource/WriteImgRes.c ****     S8 tempfilename[MAX_FILENAME_LEN] = {0};
3422:../../MMI/Resource/WriteImgRes.c **** 
3423:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3424:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
3425:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3426:../../MMI/Resource/WriteImgRes.c ****     memset(tempfilename, 0, (MAX_FILENAME_LEN*sizeof(S8)));
3427:../../MMI/Resource/WriteImgRes.c **** 
3428:../../MMI/Resource/WriteImgRes.c ****     get_available_image_filename(filename, tempfilename);
3429:../../MMI/Resource/WriteImgRes.c ****     if (file_exist(tempfilename) == MMI_TRUE)
3430:../../MMI/Resource/WriteImgRes.c ****     {
3431:../../MMI/Resource/WriteImgRes.c ****         ret = Image_Test(tempfilename, &w, &h, disable_enfb);
3432:../../MMI/Resource/WriteImgRes.c ****         test = (ret != ENFB_IMAGE_NONE) ? (MMI_TRUE) : (MMI_FALSE);
3433:../../MMI/Resource/WriteImgRes.c ****     }
3434:../../MMI/Resource/WriteImgRes.c ****     else
3435:../../MMI/Resource/WriteImgRes.c ****     {   /* for sequence image */
3436:../../MMI/Resource/WriteImgRes.c ****         memset(tempfilename, 0, (MAX_FILENAME_LEN*sizeof(S8)));
3437:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__)
3438:../../MMI/Resource/WriteImgRes.c ****         for (i = SUPPORT_N_SEQUENTIAL_IMAGE_TYPE - 1 ; i >= 0 ; i--)    /* search from PNG */
3439:../../MMI/Resource/WriteImgRes.c **** #else /* defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__) */
3440:../../MMI/Resource/WriteImgRes.c ****         for (i = 0 ; i < SUPPORT_N_SEQUENTIAL_IMAGE_TYPE ; i++)         /* search from BMP */
3441:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__) */
3442:../../MMI/Resource/WriteImgRes.c ****         {
3443:../../MMI/Resource/WriteImgRes.c ****             sprintf(tempfilename, "%s\\\\0.%s", filename, sequential_image[i].filename_ext);
3444:../../MMI/Resource/WriteImgRes.c ****             str_upper(tempfilename, MAX_FILENAME_LEN);
3445:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(tempfilename) == MMI_TRUE)   break;
3446:../../MMI/Resource/WriteImgRes.c ****         }
3447:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(tempfilename) == MMI_TRUE)
3448:../../MMI/Resource/WriteImgRes.c ****         {
3449:../../MMI/Resource/WriteImgRes.c ****             ret = Image_Test(tempfilename, &w, &h, disable_enfb);
3450:../../MMI/Resource/WriteImgRes.c ****             test = (ret != ENFB_IMAGE_NONE) ? (MMI_TRUE) : (MMI_FALSE);
3451:../../MMI/Resource/WriteImgRes.c ****         }
3452:../../MMI/Resource/WriteImgRes.c ****     }
3453:../../MMI/Resource/WriteImgRes.c **** 
3454:../../MMI/Resource/WriteImgRes.c ****     return test;
3455:../../MMI/Resource/WriteImgRes.c **** }
3456:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MULTIPLE_BINARY_FILES__) && defined(__MMI_RESOURCE_ENFB_SUPPORT__) */
3457:../../MMI/Resource/WriteImgRes.c **** 
3458:../../MMI/Resource/WriteImgRes.c **** 
3459:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
3460:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 218


3461:../../MMI/Resource/WriteImgRes.c ****  *  get_available_image_filename
3462:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
3463:../../MMI/Resource/WriteImgRes.c ****  *  change the filename extension for available image file
3464:../../MMI/Resource/WriteImgRes.c ****  *  TODO: should inlcude sequence file and return type
3465:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
3466:../../MMI/Resource/WriteImgRes.c ****  *  in_filename     [IN]
3467:../../MMI/Resource/WriteImgRes.c ****  *  out_filename    [OUT]
3468:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
3469:../../MMI/Resource/WriteImgRes.c ****  *  void
3470:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
3471:../../MMI/Resource/WriteImgRes.c **** static void get_available_image_filename(const S8 *in_filename, S8* out_filename)
3472:../../MMI/Resource/WriteImgRes.c **** {
 9908              	LM846:
 9909 65b3 55       		pushl	%ebp
 9910 65b4 89E5     		movl	%esp, %ebp
 9911 65b6 83EC28   		subl	$40, %esp
3473:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3474:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
3475:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3476:../../MMI/Resource/WriteImgRes.c ****     S32 ext_type = -1, i, count;
 9913              	LM847:
 9914              	LBB68:
 9915 65b9 C745FCFF 		movl	$-1, -4(%ebp)
 9915      FFFFFF
3477:../../MMI/Resource/WriteImgRes.c **** 
3478:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3479:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
3480:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3481:../../MMI/Resource/WriteImgRes.c ****     strncpy(out_filename, in_filename, MAX_FILENAME_LEN);
 9917              	LM848:
 9918 65c0 C7442408 		movl	$512, 8(%esp)
 9918      00020000 
 9919 65c8 8B4508   		movl	8(%ebp), %eax
 9920 65cb 89442404 		movl	%eax, 4(%esp)
 9921 65cf 8B450C   		movl	12(%ebp), %eax
 9922 65d2 890424   		movl	%eax, (%esp)
 9923 65d5 E8000000 		call	_strncpy
 9923      00
3482:../../MMI/Resource/WriteImgRes.c ****     str_upper(out_filename, MAX_FILENAME_LEN);
 9925              	LM849:
 9926 65da C7442404 		movl	$512, 4(%esp)
 9926      00020000 
 9927 65e2 8B450C   		movl	12(%ebp), %eax
 9928 65e5 890424   		movl	%eax, (%esp)
 9929 65e8 E8000000 		call	_str_upper
 9929      00
3483:../../MMI/Resource/WriteImgRes.c **** 
3484:../../MMI/Resource/WriteImgRes.c ****     do
3485:../../MMI/Resource/WriteImgRes.c ****     {
3486:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(out_filename) == MMI_TRUE)   break;
 9931              	LM850:
 9932 65ed 8B450C   		movl	12(%ebp), %eax
 9933 65f0 890424   		movl	%eax, (%esp)
 9934 65f3 E8000000 		call	_file_exist
 9934      00
 9935 65f8 83F801   		cmpl	$1, %eax
 9936 65fb 7505     		jne	L487
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 219


 9937 65fd E9570100 		jmp	L485
 9937      00
 9938              	L487:
3487:../../MMI/Resource/WriteImgRes.c **** 
3488:../../MMI/Resource/WriteImgRes.c ****         ext_type = ExtractExtension(out_filename, RES_IMAGE);
 9940              	LM851:
 9941 6602 C7442404 		movl	$0, 4(%esp)
 9941      00000000 
 9942 660a 8B450C   		movl	12(%ebp), %eax
 9943 660d 890424   		movl	%eax, (%esp)
 9944 6610 E8000000 		call	_ExtractExtension
 9944      00
 9945 6615 0FB6C0   		movzbl	%al, %eax
 9946 6618 8945FC   		movl	%eax, -4(%ebp)
3489:../../MMI/Resource/WriteImgRes.c **** 
3490:../../MMI/Resource/WriteImgRes.c ****         /* check PNG -> all type */
3491:../../MMI/Resource/WriteImgRes.c ****         if (ext_type == IMAGE_TYPE_PNG)
 9948              	LM852:
 9949 661b 837DFC13 		cmpl	$19, -4(%ebp)
 9950 661f 7560     		jne	L488
3492:../../MMI/Resource/WriteImgRes.c ****         {
3493:../../MMI/Resource/WriteImgRes.c ****             count = sizeof(image_resource_info)/sizeof(RESOURCE_INFO);
 9952              	LM853:
 9953 6621 C745F415 		movl	$21, -12(%ebp)
 9953      000000
3494:../../MMI/Resource/WriteImgRes.c ****             for (i = 0 ; i < count ; i++)
 9955              	LM854:
 9956 6628 C745F800 		movl	$0, -8(%ebp)
 9956      000000
 9957              	L489:
 9958 662f 8B45F8   		movl	-8(%ebp), %eax
 9959 6632 3B45F4   		cmpl	-12(%ebp), %eax
 9960 6635 7C02     		jl	L492
 9961 6637 EB3B     		jmp	L490
 9962              	L492:
3495:../../MMI/Resource/WriteImgRes.c ****             {
3496:../../MMI/Resource/WriteImgRes.c ****                 ChangeExtension(out_filename, RES_IMAGE, image_resource_info[i].file_type);
 9964              	LM855:
 9965 6639 8B45F8   		movl	-8(%ebp), %eax
 9966 663c 0FB604C5 		movzbl	_image_resource_info+4(,%eax,8), %eax
 9966      64000000 
 9967 6644 89442408 		movl	%eax, 8(%esp)
 9968 6648 C7442404 		movl	$0, 4(%esp)
 9968      00000000 
 9969 6650 8B450C   		movl	12(%ebp), %eax
 9970 6653 890424   		movl	%eax, (%esp)
 9971 6656 E8000000 		call	_ChangeExtension
 9971      00
3497:../../MMI/Resource/WriteImgRes.c ****                 if (file_exist(out_filename) == MMI_TRUE)   break;
 9973              	LM856:
 9974 665b 8B450C   		movl	12(%ebp), %eax
 9975 665e 890424   		movl	%eax, (%esp)
 9976 6661 E8000000 		call	_file_exist
 9976      00
 9977 6666 83F801   		cmpl	$1, %eax
 9978 6669 7502     		jne	L491
 9979 666b EB07     		jmp	L490
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 220


 9981              	LM857:
 9982              	L491:
 9983 666d 8D45F8   		leal	-8(%ebp), %eax
 9984 6670 FF00     		incl	(%eax)
 9985 6672 EBBB     		jmp	L489
 9986              	L490:
3498:../../MMI/Resource/WriteImgRes.c ****             }
3499:../../MMI/Resource/WriteImgRes.c ****             if (i != count) break;
 9988              	LM858:
 9989 6674 8B45F8   		movl	-8(%ebp), %eax
 9990 6677 3B45F4   		cmpl	-12(%ebp), %eax
 9991 667a 7405     		je	L488
 9992 667c E9D80000 		jmp	L485
 9992      00
 9993              	L488:
3500:../../MMI/Resource/WriteImgRes.c ****         }
3501:../../MMI/Resource/WriteImgRes.c **** 
3502:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_LAYER_SUPPORT__)
3503:../../MMI/Resource/WriteImgRes.c ****         /* check GIF / BMP -> PNG */
3504:../../MMI/Resource/WriteImgRes.c ****         if ((ext_type == IMAGE_TYPE_GIF) || (ext_type == IMAGE_TYPE_BMP))
3505:../../MMI/Resource/WriteImgRes.c ****         {
3506:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(out_filename, RES_IMAGE, IMAGE_TYPE_PNG);
3507:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
3508:../../MMI/Resource/WriteImgRes.c ****         }
3509:../../MMI/Resource/WriteImgRes.c **** 
3510:../../MMI/Resource/WriteImgRes.c ****         /* check PBMP -> PPN */
3511:../../MMI/Resource/WriteImgRes.c ****         if (ext_type == IMAGE_TYPE_DEVICE_BITMAP)
3512:../../MMI/Resource/WriteImgRes.c ****         {
3513:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(out_filename, RES_IMAGE, IMAGE_TYPE_PPN);
3514:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
3515:../../MMI/Resource/WriteImgRes.c ****         }
3516:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_LAYER_SUPPORT__) */
3517:../../MMI/Resource/WriteImgRes.c **** 
3518:../../MMI/Resource/WriteImgRes.c ****         /* check BMP -> GIF */
3519:../../MMI/Resource/WriteImgRes.c ****         if (ext_type == IMAGE_TYPE_BMP)
 9995              	LM859:
 9996 6681 837DFC01 		cmpl	$1, -4(%ebp)
 9997 6685 7530     		jne	L495
3520:../../MMI/Resource/WriteImgRes.c ****         {
3521:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(out_filename, RES_IMAGE, IMAGE_TYPE_GIF);
 9999              	LM860:
 10000 6687 C7442408 		movl	$3, 8(%esp)
 10000      03000000 
 10001 668f C7442404 		movl	$0, 4(%esp)
 10001      00000000 
 10002 6697 8B450C   		movl	12(%ebp), %eax
 10003 669a 890424   		movl	%eax, (%esp)
 10004 669d E8000000 		call	_ChangeExtension
 10004      00
3522:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
 10006              	LM861:
 10007 66a2 8B450C   		movl	12(%ebp), %eax
 10008 66a5 890424   		movl	%eax, (%esp)
 10009 66a8 E8000000 		call	_file_exist
 10009      00
 10010 66ad 83F801   		cmpl	$1, %eax
 10011 66b0 7505     		jne	L495
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 221


 10012 66b2 E9A20000 		jmp	L485
 10012      00
 10013              	L495:
3523:../../MMI/Resource/WriteImgRes.c ****         }
3524:../../MMI/Resource/WriteImgRes.c **** 
3525:../../MMI/Resource/WriteImgRes.c ****         /* check GIF -> BMP */
3526:../../MMI/Resource/WriteImgRes.c ****         if (ext_type == IMAGE_TYPE_GIF)
 10015              	LM862:
 10016 66b7 837DFC03 		cmpl	$3, -4(%ebp)
 10017 66bb 752D     		jne	L497
3527:../../MMI/Resource/WriteImgRes.c ****         {
3528:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(out_filename, RES_IMAGE, IMAGE_TYPE_BMP);
 10019              	LM863:
 10020 66bd C7442408 		movl	$1, 8(%esp)
 10020      01000000 
 10021 66c5 C7442404 		movl	$0, 4(%esp)
 10021      00000000 
 10022 66cd 8B450C   		movl	12(%ebp), %eax
 10023 66d0 890424   		movl	%eax, (%esp)
 10024 66d3 E8000000 		call	_ChangeExtension
 10024      00
3529:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
 10026              	LM864:
 10027 66d8 8B450C   		movl	12(%ebp), %eax
 10028 66db 890424   		movl	%eax, (%esp)
 10029 66de E8000000 		call	_file_exist
 10029      00
 10030 66e3 83F801   		cmpl	$1, %eax
 10031 66e6 7502     		jne	L497
 10032 66e8 EB6F     		jmp	L485
 10033              	L497:
3530:../../MMI/Resource/WriteImgRes.c ****         }
3531:../../MMI/Resource/WriteImgRes.c **** 
3532:../../MMI/Resource/WriteImgRes.c ****         /* check video */
3533:../../MMI/Resource/WriteImgRes.c ****         for (i = 0 ; i < SUPPORT_N_MEDIA_TYPE ; i++)
 10035              	LM865:
 10036 66ea C745F800 		movl	$0, -8(%ebp)
 10036      000000
 10037              	L499:
 10038 66f1 837DF805 		cmpl	$5, -8(%ebp)
 10039 66f5 7E02     		jle	L502
 10040 66f7 EB60     		jmp	L500
 10041              	L502:
3534:../../MMI/Resource/WriteImgRes.c ****         {
3535:../../MMI/Resource/WriteImgRes.c ****             S32 j, len;
3536:../../MMI/Resource/WriteImgRes.c **** 
3537:../../MMI/Resource/WriteImgRes.c ****             len = strlen(out_filename);
 10043              	LM866:
 10044              	LBB69:
 10045 66f9 8B450C   		movl	12(%ebp), %eax
 10046 66fc 890424   		movl	%eax, (%esp)
 10047 66ff E8000000 		call	_strlen
 10047      00
 10048 6704 8945EC   		movl	%eax, -20(%ebp)
3538:../../MMI/Resource/WriteImgRes.c ****             for (j = 0 ; j < 3 ; j++)
 10050              	LM867:
 10051 6707 C745F000 		movl	$0, -16(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 222


 10051      000000
 10052              	L503:
 10053 670e 837DF002 		cmpl	$2, -16(%ebp)
 10054 6712 7E02     		jle	L506
 10055 6714 EB2A     		jmp	L504
 10056              	L506:
3539:../../MMI/Resource/WriteImgRes.c ****             {
3540:../../MMI/Resource/WriteImgRes.c ****                 out_filename[len - 1 - j] = support_media_ext[i][2 - j];
 10058              	LM868:
 10059 6716 8B55F0   		movl	-16(%ebp), %edx
 10060 6719 8B45EC   		movl	-20(%ebp), %eax
 10061 671c 29D0     		subl	%edx, %eax
 10062 671e 03450C   		addl	12(%ebp), %eax
 10063 6721 8D48FF   		leal	-1(%eax), %ecx
 10064 6724 8B45F8   		movl	-8(%ebp), %eax
 10065 6727 8B55F0   		movl	-16(%ebp), %edx
 10066 672a 8B048500 		movl	_support_media_ext(,%eax,4), %eax
 10066      000000
 10067 6731 29D0     		subl	%edx, %eax
 10068 6733 0FB64002 		movzbl	2(%eax), %eax
 10069 6737 8801     		movb	%al, (%ecx)
 10071              	LM869:
 10072 6739 8D45F0   		leal	-16(%ebp), %eax
 10073 673c FF00     		incl	(%eax)
 10074 673e EBCE     		jmp	L503
 10075              	L504:
3541:../../MMI/Resource/WriteImgRes.c ****             }
3542:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
 10077              	LM870:
 10078 6740 8B450C   		movl	12(%ebp), %eax
 10079 6743 890424   		movl	%eax, (%esp)
 10080 6746 E8000000 		call	_file_exist
 10080      00
 10081 674b 83F801   		cmpl	$1, %eax
 10082 674e 7502     		jne	L501
 10083 6750 EB07     		jmp	L500
 10085              	LM871:
 10086              	L501:
 10087 6752 8D45F8   		leal	-8(%ebp), %eax
 10088              	LBE69:
 10089 6755 FF00     		incl	(%eax)
 10090 6757 EB98     		jmp	L499
 10091              	L500:
3543:../../MMI/Resource/WriteImgRes.c ****         }
3544:../../MMI/Resource/WriteImgRes.c ****         if (i != SUPPORT_N_MEDIA_TYPE)  break;
3545:../../MMI/Resource/WriteImgRes.c ****     } while (0);
3546:../../MMI/Resource/WriteImgRes.c **** }
 10093              	LM872:
 10094              	L485:
 10095 6759 C9       		leave
 10096 675a C3       		ret
 10097              	LBE68:
 10107              	Lscope19:
 10109              		.comm	_g_resimg_table, 67369984	 # 67369980
 10119              		.text
 10121              	Letext:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 223


DEFINED SYMBOLS
                            *ABS*:00000000 WriteImgRes.c
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2478   .text:00000060 _image_resource_info
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2561   .data:00000000 _image_idx
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2566   .bss:00000000 _g_resimg_count
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2568   .bss:00000010 _g_mmi_res_font_id
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2571   .bss:00000004 _g_mmi_res_font_flags
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2573   .bss:00000020 _g_mmi_res_font_userdata
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2574   .bss:00000030 _g_font_size
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2577   .bss:00000008 _g_mmi_res_nfb_used
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2609   .text:000003ef _LogILoadFail
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2781   .text:000005e8 _LogNFBILoadFail
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2821   .text:000006a3 _SetNFBImageImp
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:2958   .text:000008a7 _SetImageWithBufferExImp
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:4373   .text:00001c1b _isEmsImage
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:4534   .text:00001e5e _Write_Processed_Data
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:5117   .text:00002625 _Write_Unprocessed_Data
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:5521   .text:00002ac2 _Write_Sequential_Image_Header
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:5913   .text:00002f71 _Write_Sequential_Image_File
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:6185   .text:000033be _Write_Sequential_Image
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:7254   .text:00004105 _Load_Image_Data_Tool
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:7454   .text:00004376 _Load_Image_Data
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:8260   .text:00004ed5 _mmi_rg_get_9slice_header
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:8659   .text:0000536d _SetFontResource
                            *COM*:0403fc00 _g_resimg_table
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:9846   .text:0000654c _isSubmenuImage
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:9906   .text:000065b3 _get_available_image_filename
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:9279   .text:00005de7 _Fload
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:8744   .text:00005515 _SetFontWithBuffer
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:7828   .text:000048c3 _mmi_rg_write_9slice_header
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s:3127   .text:00000cf6 _Iload

UNDEFINED SYMBOLS
__alloca
__imp___iob
_toolFlag
_resultFailFlag
_support_media_ext
_dest_file
_sequential_image
_font_data_file
_CurrMaxFontIdEXT
_CurrMaxFontNumEXT
_FontNameListEXT
_FontIdMapEXT
_OutputImgIDFile
_RepeatIDListFile
_fpImageResourceUsage
_g_mmi_resource_base_table
_font_data_lis
_font_data_modis_lis
_font_ttf_lis
_reslog_adaptor_fatal_error_pending_log
_GetOffsetFromResourceBase
_atoi
_fgets
_fputc
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/cckhdaaa.s 			page 224


_fwrite
_ABM_load
_fscanf
_fgetc
_Image_Get_Dimensions
_ImageOutStreamAppend
_fread
_feof
_ABMLoader
_BMPLoader
_GIFLoader
_ftell
_fseek
_bmp2ems
_ImageOutStreamPrintf
_system
_sprintf
_resgen_compare_file_time
_MtkResgenTrace
_ChangeExtension
_ExtractExtension
_free
_strcat
_strstr
_Extract_Name
_malloc
_fflush
_str_upper
_exit
__assert
_reslog_adaptor_log
_strcmp
_strcpy
_strlen
_fclose
_strncpy
_memset
_fprintf
_fopen
_file_exist
