GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 1


   1              		.file	"str_merge.c"
   4              		.text
   5              	Ltext0:
 368              	.globl _CurrMaxTransStrId
 369              		.bss
 370              		.align 2
 371              	_CurrMaxTransStrId:
 372 0000 0000     		.space 2
 373              	.lcomm _str_merge_err_code,16
 374              		.data
 375              		.align 32
 376              	_str_merge_err_msg:
 377 0000 0000     		.ascii "\0\0"
 378 0002 00000000 		.space 400
 378      00000000 
 378      00000000 
 378      00000000 
 378      00000000 
 379              		.text
 383              	.globl _str_merge_set_err
 385              	_str_merge_set_err:
   1:str_merge.c   **** /*****************************************************************************
   2:str_merge.c   **** *  Copyright Statement:
   3:str_merge.c   **** *  --------------------
   4:str_merge.c   **** *  This software is protected by Copyright and the information contained
   5:str_merge.c   **** *  herein is confidential. The software may not be copied and the information
   6:str_merge.c   **** *  contained herein may not be used or disclosed except with the written
   7:str_merge.c   **** *  permission of MediaTek Inc. (C) 2005
   8:str_merge.c   **** *
   9:str_merge.c   **** *  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
  10:str_merge.c   **** *  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
  11:str_merge.c   **** *  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
  12:str_merge.c   **** *  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
  13:str_merge.c   **** *  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
  14:str_merge.c   **** *  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
  15:str_merge.c   **** *  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
  16:str_merge.c   **** *  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
  17:str_merge.c   **** *  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
  18:str_merge.c   **** *  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
  19:str_merge.c   **** *  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
  20:str_merge.c   **** *  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
  21:str_merge.c   **** *
  22:str_merge.c   **** *  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
  23:str_merge.c   **** *  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
  24:str_merge.c   **** *  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
  25:str_merge.c   **** *  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
  26:str_merge.c   **** *  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
  27:str_merge.c   **** *
  28:str_merge.c   **** *  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
  29:str_merge.c   **** *  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
  30:str_merge.c   **** *  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
  31:str_merge.c   **** *  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
  32:str_merge.c   **** *  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
  33:str_merge.c   **** *
  34:str_merge.c   **** *****************************************************************************/
  35:str_merge.c   **** 
  36:str_merge.c   **** /*******************************************************************************
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 2


  37:str_merge.c   ****  * Filename:
  38:str_merge.c   ****  * ---------
  39:str_merge.c   ****  * str_merge.c
  40:str_merge.c   ****  *
  41:str_merge.c   ****  * Project:
  42:str_merge.c   ****  * --------
  43:str_merge.c   ****  *   MAUI
  44:str_merge.c   ****  *
  45:str_merge.c   ****  * Description:
  46:str_merge.c   ****  * ------------
  47:str_merge.c   ****  *   Merge multi-language string table, and generate string resource files.
  48:str_merge.c   ****  *
  49:str_merge.c   ****  * Author:
  50:str_merge.c   ****  * -------
  51:str_merge.c   ****  *  
  52:str_merge.c   ****  *
  53:str_merge.c   ****  *==============================================================================
  54:str_merge.c   ****  *             HISTORY
  55:str_merge.c   ****  * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!! 
  56:str_merge.c   ****  *------------------------------------------------------------------------------
  57:str_merge.c   ****  * removed!
  58:str_merge.c   ****  *
  59:str_merge.c   ****  * removed!
  60:str_merge.c   ****  * removed!
  61:str_merge.c   ****  * removed!
  62:str_merge.c   ****  *
  63:str_merge.c   ****  * removed!
  64:str_merge.c   ****  * removed!
  65:str_merge.c   ****  *
  66:str_merge.c   ****  * removed!
  67:str_merge.c   ****  * removed!
  68:str_merge.c   ****  *
  69:str_merge.c   ****  * removed!
  70:str_merge.c   ****  * removed!
  71:str_merge.c   ****  * removed!
  72:str_merge.c   ****  *
  73:str_merge.c   ****  * removed!
  74:str_merge.c   ****  * removed!
  75:str_merge.c   ****  * removed!
  76:str_merge.c   ****  *
  77:str_merge.c   ****  * removed!
  78:str_merge.c   ****  * removed!
  79:str_merge.c   ****  * removed!
  80:str_merge.c   ****  *
  81:str_merge.c   ****  * removed!
  82:str_merge.c   ****  * removed!
  83:str_merge.c   ****  * removed!
  84:str_merge.c   ****  *
  85:str_merge.c   ****  * removed!
  86:str_merge.c   ****  * removed!
  87:str_merge.c   ****  * removed!
  88:str_merge.c   ****  *
  89:str_merge.c   ****  * removed!
  90:str_merge.c   ****  * removed!
  91:str_merge.c   ****  * removed!
  92:str_merge.c   ****  *
  93:str_merge.c   ****  * removed!
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 3


  94:str_merge.c   ****  * removed!
  95:str_merge.c   ****  * removed!
  96:str_merge.c   ****  *
  97:str_merge.c   ****  * removed!
  98:str_merge.c   ****  * removed!
  99:str_merge.c   ****  * removed!
 100:str_merge.c   ****  *
 101:str_merge.c   ****  * removed!
 102:str_merge.c   ****  * removed!
 103:str_merge.c   ****  * removed!
 104:str_merge.c   ****  *
 105:str_merge.c   ****  * removed!
 106:str_merge.c   ****  * removed!
 107:str_merge.c   ****  * removed!
 108:str_merge.c   ****  *
 109:str_merge.c   ****  * removed!
 110:str_merge.c   ****  * removed!
 111:str_merge.c   ****  * removed!
 112:str_merge.c   ****  *
 113:str_merge.c   ****  * removed!
 114:str_merge.c   ****  * removed!
 115:str_merge.c   ****  * removed!
 116:str_merge.c   ****  *
 117:str_merge.c   ****  * removed!
 118:str_merge.c   ****  * removed!
 119:str_merge.c   ****  * removed!
 120:str_merge.c   ****  *
 121:str_merge.c   ****  * removed!
 122:str_merge.c   ****  * removed!
 123:str_merge.c   ****  * removed!
 124:str_merge.c   ****  *
 125:str_merge.c   ****  * removed!
 126:str_merge.c   ****  * removed!
 127:str_merge.c   ****  * removed!
 128:str_merge.c   ****  *
 129:str_merge.c   ****  * removed!
 130:str_merge.c   ****  * removed!
 131:str_merge.c   ****  * removed!
 132:str_merge.c   ****  *
 133:str_merge.c   ****  * removed!
 134:str_merge.c   ****  * removed!
 135:str_merge.c   ****  * removed!
 136:str_merge.c   ****  *
 137:str_merge.c   ****  * removed!
 138:str_merge.c   ****  * removed!
 139:str_merge.c   ****  * removed!
 140:str_merge.c   ****  *
 141:str_merge.c   ****  * removed!
 142:str_merge.c   ****  * removed!
 143:str_merge.c   ****  * removed!
 144:str_merge.c   ****  *
 145:str_merge.c   ****  * removed!
 146:str_merge.c   ****  * removed!
 147:str_merge.c   ****  * removed!
 148:str_merge.c   ****  *
 149:str_merge.c   ****  * removed!
 150:str_merge.c   ****  * removed!
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 4


 151:str_merge.c   ****  * removed!
 152:str_merge.c   ****  *
 153:str_merge.c   ****  * removed!
 154:str_merge.c   ****  * removed!
 155:str_merge.c   ****  * removed!
 156:str_merge.c   ****  *
 157:str_merge.c   ****  * removed!
 158:str_merge.c   ****  * removed!
 159:str_merge.c   ****  * removed!
 160:str_merge.c   ****  *
 161:str_merge.c   ****  * removed!
 162:str_merge.c   ****  * removed!
 163:str_merge.c   ****  * removed!
 164:str_merge.c   ****  *
 165:str_merge.c   ****  * removed!
 166:str_merge.c   ****  * removed!
 167:str_merge.c   ****  * removed!
 168:str_merge.c   ****  *
 169:str_merge.c   ****  * removed!
 170:str_merge.c   ****  * removed!
 171:str_merge.c   ****  * removed!
 172:str_merge.c   ****  *
 173:str_merge.c   ****  * removed!
 174:str_merge.c   ****  * removed!
 175:str_merge.c   ****  * removed!
 176:str_merge.c   ****  *
 177:str_merge.c   ****  * removed!
 178:str_merge.c   ****  * removed!
 179:str_merge.c   ****  * removed!
 180:str_merge.c   ****  *
 181:str_merge.c   ****  * removed!
 182:str_merge.c   ****  * removed!
 183:str_merge.c   ****  * removed!
 184:str_merge.c   ****  *
 185:str_merge.c   ****  * removed!
 186:str_merge.c   ****  * removed!
 187:str_merge.c   ****  * removed!
 188:str_merge.c   ****  *
 189:str_merge.c   ****  * removed!
 190:str_merge.c   ****  * removed!
 191:str_merge.c   ****  * removed!
 192:str_merge.c   ****  *
 193:str_merge.c   ****  * removed!
 194:str_merge.c   ****  * removed!
 195:str_merge.c   ****  * removed!
 196:str_merge.c   ****  *
 197:str_merge.c   ****  * removed!
 198:str_merge.c   ****  * removed!
 199:str_merge.c   ****  * removed!
 200:str_merge.c   ****  *
 201:str_merge.c   ****  * removed!
 202:str_merge.c   ****  * removed!
 203:str_merge.c   ****  * removed!
 204:str_merge.c   ****  *
 205:str_merge.c   ****  * removed!
 206:str_merge.c   ****  * removed!
 207:str_merge.c   ****  * removed!
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 5


 208:str_merge.c   ****  *
 209:str_merge.c   ****  * removed!
 210:str_merge.c   ****  * removed!
 211:str_merge.c   ****  * removed!
 212:str_merge.c   ****  *
 213:str_merge.c   ****  * removed!
 214:str_merge.c   ****  * removed!
 215:str_merge.c   ****  * removed!
 216:str_merge.c   ****  *
 217:str_merge.c   ****  * removed!
 218:str_merge.c   ****  * removed!
 219:str_merge.c   ****  * removed!
 220:str_merge.c   ****  *
 221:str_merge.c   ****  * removed!
 222:str_merge.c   ****  * removed!
 223:str_merge.c   ****  * removed!
 224:str_merge.c   ****  *
 225:str_merge.c   ****  * removed!
 226:str_merge.c   ****  * removed!
 227:str_merge.c   ****  * removed!
 228:str_merge.c   ****  *
 229:str_merge.c   ****  * removed!
 230:str_merge.c   ****  * removed!
 231:str_merge.c   ****  * removed!
 232:str_merge.c   ****  *
 233:str_merge.c   ****  * removed!
 234:str_merge.c   ****  * removed!
 235:str_merge.c   ****  * removed!
 236:str_merge.c   ****  *
 237:str_merge.c   ****  * removed!
 238:str_merge.c   ****  * removed!
 239:str_merge.c   ****  * removed!
 240:str_merge.c   ****  *
 241:str_merge.c   ****  * removed!
 242:str_merge.c   ****  * removed!
 243:str_merge.c   ****  * removed!
 244:str_merge.c   ****  *
 245:str_merge.c   ****  * removed!
 246:str_merge.c   ****  * removed!
 247:str_merge.c   ****  * removed!
 248:str_merge.c   ****  *
 249:str_merge.c   ****  * removed!
 250:str_merge.c   ****  * removed!
 251:str_merge.c   ****  * removed!
 252:str_merge.c   ****  *
 253:str_merge.c   ****  * removed!
 254:str_merge.c   ****  * removed!
 255:str_merge.c   ****  * removed!
 256:str_merge.c   ****  *
 257:str_merge.c   ****  * removed!
 258:str_merge.c   ****  * removed!
 259:str_merge.c   ****  * removed!
 260:str_merge.c   ****  *
 261:str_merge.c   ****  * removed!
 262:str_merge.c   ****  * removed!
 263:str_merge.c   ****  * removed!
 264:str_merge.c   ****  *
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 6


 265:str_merge.c   ****  * removed!
 266:str_merge.c   ****  * removed!
 267:str_merge.c   ****  * removed!
 268:str_merge.c   ****  *
 269:str_merge.c   ****  *------------------------------------------------------------------------------
 270:str_merge.c   ****  * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!! 
 271:str_merge.c   ****  *==============================================================================
 272:str_merge.c   ****  *******************************************************************************/
 273:str_merge.c   **** 
 274:str_merge.c   **** #include <stdio.h>
 275:str_merge.c   **** #include <stdlib.h>
 276:str_merge.c   **** #include <string.h>
 277:str_merge.c   **** #include <malloc.h>
 278:str_merge.c   **** #include <tchar.h>
 279:str_merge.c   **** #include <unistd.h>
 280:str_merge.c   **** 
 281:str_merge.c   **** #include "MMI_features.h"
 282:str_merge.c   **** #include "MMIDataType.h"
 283:str_merge.c   **** #include "FontRes.h"
 284:str_merge.c   **** #include "CustDataRes.h"
 285:str_merge.c   **** #include "CustResDef.h"
 286:str_merge.c   **** 
 287:str_merge.c   **** #include "FontDcl.h"
 288:str_merge.c   **** #include "str_merge_public.h"
 289:str_merge.c   **** #include "ResgenLogCAPI.h"
 290:str_merge.c   **** #include "ResgenCatUtilCAPI.h"
 291:str_merge.c   **** // Global Configuration of MMIResource Compression
 292:str_merge.c   **** // You can config the compression in this header file
 293:str_merge.c   **** #include "ResCompressConfig.h"
 294:str_merge.c   **** 
 295:str_merge.c   **** 
 296:str_merge.c   **** /*
 297:str_merge.c   **** To define the following macro variable to enable/disable function as following:
 298:str_merge.c   **** (1) MEM_REF_LIST_OPT: To reduce the REF LIST buffer memory requirement 
 299:str_merge.c   **** (2) STR_MERGE_DEBUG: Show extra debuging infomation
 300:str_merge.c   **** (3) DEBUG_REF_LIST_DUMP: dump ref list processed to the following path :
 301:str_merge.c   ****      debug\ref_all_dump.txt: ref_all loaded in memory
 302:str_merge.c   ****      debug\ref_all_merged_dump.txt : processing result of ref_all in memory
 303:str_merge.c   **** (4) MEM_LIST_INFO_STATS: Show length statistic information of string lines in REF LIST file
 304:str_merge.c   **** */
 305:str_merge.c   **** 
 306:str_merge.c   **** 
 307:str_merge.c   **** /* Memory optimization for loading ref list */
 308:str_merge.c   **** #define MEM_REF_LIST_OPT
 309:str_merge.c   **** 
 310:str_merge.c   **** 
 311:str_merge.c   **** /* Statistic of memory usage of string lines in ref lists */
 312:str_merge.c   **** /* #define MEM_LIST_INFO_STATS */
 313:str_merge.c   **** 
 314:str_merge.c   **** /* Show debug message and dump processed ref list to files*/
 315:str_merge.c   **** #define STR_MERGE_DEBUG
 316:str_merge.c   **** 
 317:str_merge.c   **** #define STRMERG_TAG       "STR_MERGE"
 318:str_merge.c   **** #define STRMERG_SUB_TAG_MEM     "[MEM]"
 319:str_merge.c   **** 
 320:str_merge.c   **** #define STRMERG_LOG_D(format, args...) RES_LOG_D((STRMERG_TAG), (format) , ##args)
 321:str_merge.c   **** #define STRMERG_LOG_V(format, args...) RES_LOG_V((STRMERG_TAG), (format) , ##args)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 7


 322:str_merge.c   **** #define STRMERG_LOG_W(format, args...) RES_LOG_W((STRMERG_TAG), (format) , ##args)
 323:str_merge.c   **** #define STRMERG_LOG_E(format, args...) RES_LOG_E((STRMERG_TAG), (format) , ##args)
 324:str_merge.c   **** 
 325:str_merge.c   **** #define STRMERG_WLOG_D(format, args...) RES_WLOG_D((STRMERG_TAG), (format) , ##args)
 326:str_merge.c   **** #define STRMERG_WLOG_V(format, args...) RES_WLOG_V((STRMERG_TAG), (format) , ##args)
 327:str_merge.c   **** #define STRMERG_WLOG_W(format, args...) RES_WLOG_W((STRMERG_TAG), (format) , ##args)
 328:str_merge.c   **** #define STRMERG_WLOG_E(format, args...) RES_WLOG_E((STRMERG_TAG), (format) , ##args)
 329:str_merge.c   **** 
 330:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
 331:str_merge.c   **** #define REF_LIST_SIZE_INCREMENT 500
 332:str_merge.c   **** #define REF_LIST_DEFAULT_SIZE 15000
 333:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 334:str_merge.c   **** 
 335:str_merge.c   **** #ifdef MEM_LIST_INFO_STATS
 336:str_merge.c   **** #define MEM_STATS_ITEM_MAX 5
 337:str_merge.c   **** #define MEM_STATS_ITEM_LENGTH 5000
 338:str_merge.c   **** #endif /*MEM_LIST_INFO_STATS*/
 339:str_merge.c   **** 
 340:str_merge.c   **** #ifdef DEBUG_REF_LIST_DUMP
 341:str_merge.c   **** #define REFLISST_DUMP_FILE_BEFOR_MERGE   "..\\..\\Customer\\ResGenerator\\debug\\ref_all_dump.txt"
 342:str_merge.c   **** #define REFLISST_DUMP_FILE_AFTER_MERGE   "..\\..\\Customer\\ResGenerator\\debug\\ref_all_merged_dum
 343:str_merge.c   **** #endif /* DEBUG_REF_LIST_DUMP */
 344:str_merge.c   **** 
 345:str_merge.c   **** 
 346:str_merge.c   **** #ifdef DEVELOPER_BUILD_FIRST_PASS
 347:str_merge.c   **** #define ASSERT(expr) {if(!(expr)) {while(1);}else {}}
 348:str_merge.c   **** #endif
 349:str_merge.c   **** 
 350:str_merge.c   **** #define STR_RESOURCE_MAX_SYMBOL_LEN 128
 351:str_merge.c   **** 
 352:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
 353:str_merge.c   **** #include "Zlib.h"
 354:str_merge.c   **** #include "StringCompressionBufferCAPI.h"
 355:str_merge.c   **** #endif
 356:str_merge.c   **** 
 357:str_merge.c   **** /* #define __TIME_CONSUME for calculating execution time */
 358:str_merge.c   **** #ifdef __TIME_CONSUME
 359:str_merge.c   **** #include <time.h>
 360:str_merge.c   **** #endif
 361:str_merge.c   **** 
 362:str_merge.c   **** /* max string length for each language */
 363:str_merge.c   **** #define MAX_LENGTH      512
 364:str_merge.c   **** /* string length for temp buffer */
 365:str_merge.c   **** #define TMP_BUF_LENGTH  1024
 366:str_merge.c   **** 
 367:str_merge.c   **** #define ref_file        "..\\custresource\\ref_list.txt"
 368:str_merge.c   **** #ifndef __OPTR_NONE__
 369:str_merge.c   **** /* max SSC length */
 370:str_merge.c   **** #define SSC_LENGTH      16
 371:str_merge.c   **** /* ref_list.txt customized for operator */
 372:str_merge.c   **** #ifdef __OP_TECH_REL__
 373:str_merge.c   **** /* under construction !*/
 374:str_merge.c   **** #else
 375:str_merge.c   **** #define optr_ref_file   "operator_ref_list.txt"
 376:str_merge.c   **** #endif
 377:str_merge.c   **** #endif
 378:str_merge.c   **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 8


 379:str_merge.c   **** /* this marker indicates using English as string translation */
 380:str_merge.c   **** #define NO_TRANSLATION_MARKER   19
 381:str_merge.c   **** 
 382:str_merge.c   **** 
 383:str_merge.c   **** /* Retry count of memory allocation */
 384:str_merge.c   **** #define MEM_RETRY_COUNT_MAX 15
 385:str_merge.c   **** 
 386:str_merge.c   **** /* Time interval of memory allocation retry*/
 387:str_merge.c   **** #define MEM_RETRY_TIME_INTERVAL_SEC 60
 388:str_merge.c   **** 
 389:str_merge.c   **** 
 390:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
 391:str_merge.c   **** #define ENFB_STRING_DATA_FILENAME  "..\\..\\Customer\\CustResource\\CustENFBStrData"
 392:str_merge.c   **** #define ENFB_STRING_HEADER_FILENAME  "..\\..\\Customer\\CustResource\\CustENFBStr.h"
 393:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
 394:str_merge.c   **** 
 395:str_merge.c   **** 
 396:str_merge.c   **** 
 397:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
 398:str_merge.c   **** 
 399:str_merge.c   **** typedef struct RefListItem
 400:str_merge.c   **** {
 401:str_merge.c   ****     /* String line */
 402:str_merge.c   ****     wchar_t *ItemData;
 403:str_merge.c   ****     /* Data Length in bytes */
 404:str_merge.c   ****     int ItemSize;
 405:str_merge.c   **** } RefListItem;
 406:str_merge.c   **** 
 407:str_merge.c   **** typedef struct RefList
 408:str_merge.c   **** {
 409:str_merge.c   ****     /* List items */
 410:str_merge.c   ****     RefListItem** ListItems;
 411:str_merge.c   ****     /* Length of List items in elements*/
 412:str_merge.c   ****     int ListLength;
 413:str_merge.c   ****     /* Capacity of List items in elements*/
 414:str_merge.c   ****     int Size;
 415:str_merge.c   ****     /* Allocated memory for the content in bytes*/
 416:str_merge.c   ****     unsigned long AllocatedSize;
 417:str_merge.c   **** } RefList;
 418:str_merge.c   **** 
 419:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 420:str_merge.c   **** 
 421:str_merge.c   **** typedef struct StrRes
 422:str_merge.c   **** {
 423:str_merge.c   ****     wchar_t **Str;      /* pointer array of lists to store Strings */
 424:str_merge.c   ****     int *StrRef;        /* pointers of Reference id in hash table of each string */
 425:str_merge.c   ****     int MaxID;          /* Maximum number of string ids */
 426:str_merge.c   ****     int MaxNum;         /* Maximum number of strings */
 427:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 428:str_merge.c   ****     char *is_dup;       /* flag to specify whether this string is duplicated */    
 429:str_merge.c   **** #endif
 430:str_merge.c   ****     int TotalLength;
 431:str_merge.c   **** } StrRes;
 432:str_merge.c   **** 
 433:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 434:str_merge.c   **** typedef struct DupStrRes
 435:str_merge.c   **** {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 9


 436:str_merge.c   ****     wchar_t **Str;      /* pointer array of lists to store Strings */
 437:str_merge.c   ****     int MaxNum;         /* Maximum number of duplicated strings in different language */        
 438:str_merge.c   **** } DupStrRes;
 439:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
 440:str_merge.c   **** 
 441:str_merge.c   **** typedef struct StrResSet
 442:str_merge.c   **** {
 443:str_merge.c   ****     struct StrRes *strres;
 444:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 445:str_merge.c   ****     struct DupStrRes *strres_dup;    /* field for duplicated string resource */
 446:str_merge.c   **** #endif
 447:str_merge.c   ****     int iLang;
 448:str_merge.c   **** } StrResSet;
 449:str_merge.c   **** 
 450:str_merge.c   **** typedef struct HashItem
 451:str_merge.c   **** {
 452:str_merge.c   ****     int pointer;        /* index in string array */
 453:str_merge.c   ****     struct HashItem *next;
 454:str_merge.c   **** } HashItem;
 455:str_merge.c   **** 
 456:str_merge.c   **** extern const U8 mmi_res_zip_language[MAX_LANGUAGES+1];
 457:str_merge.c   **** extern U8 StrIsPopulate[MAX_STRING_MAP_SIZE];
 458:str_merge.c   **** extern U8 *StrEnum[MAX_STRING_MAP_SIZE];
 459:str_merge.c   **** extern U8 *Str[MAX_STRING_MAP_SIZE];
 460:str_merge.c   **** extern U16 CurrMaxStringId;
 461:str_merge.c   **** 
 462:str_merge.c   **** typedef struct StrIDNode{
 463:str_merge.c   ****     wchar_t *str; /* we will not malloc for this string */
 464:str_merge.c   ****     U16 id;
 465:str_merge.c   ****     struct StrIDNode *next;
 466:str_merge.c   **** }StrIDNode;
 467:str_merge.c   **** 
 468:str_merge.c   **** typedef struct StrHashTable{
 469:str_merge.c   ****     int table_size;
 470:str_merge.c   ****     StrIDNode **table;
 471:str_merge.c   **** }StrHashTable;
 472:str_merge.c   **** 
 473:str_merge.c   **** 
 474:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 475:str_merge.c   **** #define FIXED_INVALID_FLAG    0
 476:str_merge.c   **** #define NO_TRANSLATE_FLAG     1
 477:str_merge.c   **** #define TRANSLATE_FLAG        2
 478:str_merge.c   **** 
 479:str_merge.c   **** /* fixed string log file */
 480:str_merge.c   **** #define FIXED_STRING_LOG    "..\\..\\Customer\\ResGenerator\\debug\\no_translate_string.txt"
 481:str_merge.c   **** 
 482:str_merge.c   **** typedef struct FixedID{
 483:str_merge.c   ****     U16 id_count;                          /* fixed id count */
 484:str_merge.c   ****     U8 *fixed_id_flag; /* flag to indicate if id is fixed language or not */
 485:str_merge.c   ****     StrHashTable *enum_id_tb;               /* ID_Enum & ID pair */
 486:str_merge.c   ****     StrHashTable *str_id_tb;                /* str & ID pair */
 487:str_merge.c   **** }FixedID;
 488:str_merge.c   **** 
 489:str_merge.c   **** typedef struct FixedResult{
 490:str_merge.c   ****     U16 nTotalStrRes;
 491:str_merge.c   ****     MMI_BOOL is16bit;
 492:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 10


 493:str_merge.c   ****     U32 nResSize;
 494:str_merge.c   ****     U32 nResZipSize;
 495:str_merge.c   ****     U32 nMapSize;
 496:str_merge.c   ****     U32 nMapZipSize;
 497:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
 498:str_merge.c   **** }FixedResult; /* result data structure */
 499:str_merge.c   **** 
 500:str_merge.c   **** /* extern U16 CurrMaxStringId */
 501:str_merge.c   **** U16 CurrMaxTransStrId = 0; /* total count of populated string id with translation */
 502:str_merge.c   **** 
 503:str_merge.c   **** /* fixed id data */
 504:str_merge.c   **** FixedID fixed_id;
 505:str_merge.c   **** 
 506:str_merge.c   **** /* fixed id parse result */
 507:str_merge.c   **** FixedResult fixed_result;
 508:str_merge.c   **** 
 509:str_merge.c   **** /* record string merge result */
 510:str_merge.c   **** 
 511:str_merge.c   **** static int str_merge_err_code = STRMERGE_NO_ERR;
 512:str_merge.c   **** static wchar_t str_merge_err_msg[STRMERGE_ERR_MSG_LEN_MAX+1] = L"";
 513:str_merge.c   **** 
 514:str_merge.c   **** void str_merge_set_err(int err_code, wchar_t * msg){
 387              	LM1:
 388 0000 55       		pushl	%ebp
 389 0001 89E5     		movl	%esp, %ebp
 390 0003 83EC18   		subl	$24, %esp
 515:str_merge.c   **** 	str_merge_err_code = err_code;
 392              	LM2:
 393 0006 8B4508   		movl	8(%ebp), %eax
 394 0009 A3080000 		movl	%eax, _str_merge_err_code
 394      00
 516:str_merge.c   **** 	wcsncpy(str_merge_err_msg,msg, STRMERGE_ERR_MSG_LEN_MAX);
 396              	LM3:
 397 000e C7442408 		movl	$200, 8(%esp)
 397      C8000000 
 398 0016 8B450C   		movl	12(%ebp), %eax
 399 0019 89442404 		movl	%eax, 4(%esp)
 400 001d C7042400 		movl	$_str_merge_err_msg, (%esp)
 400      000000
 401 0024 E8000000 		call	_wcsncpy
 401      00
 517:str_merge.c   **** }
 403              	LM4:
 404 0029 C9       		leave
 405 002a C3       		ret
 406              	Lscope0:
 410              	.globl _str_merge_get_err
 412              	_str_merge_get_err:
 518:str_merge.c   **** 
 519:str_merge.c   **** int str_merge_get_err(wchar_t ** msg){
 414              	LM5:
 415 002b 55       		pushl	%ebp
 416 002c 89E5     		movl	%esp, %ebp
 520:str_merge.c   **** 	if(str_merge_err_code != STRMERGE_NO_ERR){
 418              	LM6:
 419 002e 833D0800 		cmpl	$0, _str_merge_err_code
 419      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 11


 420 0035 7409     		je	L31
 521:str_merge.c   **** 		*msg = str_merge_err_msg;
 422              	LM7:
 423 0037 8B4508   		movl	8(%ebp), %eax
 424 003a C7000000 		movl	$_str_merge_err_msg, (%eax)
 424      0000
 425              	L31:
 522:str_merge.c   **** 	}
 523:str_merge.c   **** 	return str_merge_err_code;
 427              	LM8:
 428 0040 A1080000 		movl	_str_merge_err_code, %eax
 428      00
 524:str_merge.c   **** }
 430              	LM9:
 431 0045 5D       		popl	%ebp
 432 0046 C3       		ret
 433              	Lscope1:
 435 0047 90       		.align 2
 436              	LC0:
 437 0048 09000000 		.ascii "\11\0\0\0"
 438              		.data
 439 0192 0000     		.align 4
 440              	_DELIMETER:
 441 0194 48000000 		.long	LC0
 442              		.text
 443              		.align 2
 444              	LC1:
 445 004c 0A000000 		.ascii "\12\0\0\0"
 446              		.data
 447              		.align 4
 448              	_EOS:
 449 0198 4C000000 		.long	LC1
 450              	.lcomm _StrID,16
 451              	.lcomm _g_line_buf_length,16
 452              	.lcomm _g_line_buf_act_length,16
 453              	.lcomm _ref_all_list,16
 454              	.lcomm _ref_ssc,16
 455              	.lcomm _ref_tmp,16
 456              	.lcomm _nLang,16
 457              	.lcomm _filter_ref_ssc,16
 458              	.lcomm _nUsedLang,16
 459              	.lcomm _line_offset,16
 460 019c 00000000 		.text
 464              	_CreateHashTable:
 525:str_merge.c   **** 
 526:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
 527:str_merge.c   **** /*****************************************************************************
 528:str_merge.c   ****  * FUNCTION
 529:str_merge.c   ****  *  CreateRefList
 530:str_merge.c   ****  * DESCRIPTION
 531:str_merge.c   ****  *  Create RefList to save variable size items in a ref list 
 532:str_merge.c   ****  * PARAMETERS
 533:str_merge.c   ****  *  listSize: the list size in elements 
 534:str_merge.c   ****  * RETURNS
 535:str_merge.c   ****  *  return RefList object with size listSize
 536:str_merge.c   ****  *****************************************************************************/
 537:str_merge.c   ****  
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 12


 538:str_merge.c   **** static RefList* CreateRefList(int listSize);
 539:str_merge.c   **** 
 540:str_merge.c   **** /*****************************************************************************
 541:str_merge.c   ****  * FUNCTION
 542:str_merge.c   ****  *  DeleteRefList
 543:str_merge.c   ****  * DESCRIPTION
 544:str_merge.c   ****  *  To delete a RefList obecjt. This operator will free all the list items and
 545:str_merge.c   ****  *  their datas automatically, 
 546:str_merge.c   ****  * PARAMETERS
 547:str_merge.c   ****  *  list: the Ref List to be destroyed
 548:str_merge.c   ****  * RETURNS
 549:str_merge.c   ****  *   NA
 550:str_merge.c   ****  *****************************************************************************/
 551:str_merge.c   **** static void DeleteRefList(RefList * list);
 552:str_merge.c   **** 
 553:str_merge.c   **** 
 554:str_merge.c   **** /*****************************************************************************
 555:str_merge.c   ****  * FUNCTION
 556:str_merge.c   ****  *  CreateListItemFromStr
 557:str_merge.c   ****  * DESCRIPTION
 558:str_merge.c   ****  *  Create a ref item object with a string line with cloning approach.
 559:str_merge.c   ****  * PARAMETERS
 560:str_merge.c   ****  *  str: the string content used to create the ref list item object.
 561:str_merge.c   ****  * RETURNS
 562:str_merge.c   ****  *   A created RefListItem object, return NULL if the object creation failed
 563:str_merge.c   ****  *****************************************************************************/
 564:str_merge.c   **** /* Create a ref item object with a string line */
 565:str_merge.c   **** static RefListItem* CreateListItemFromStr(wchar_t * str);
 566:str_merge.c   **** 
 567:str_merge.c   **** /*****************************************************************************
 568:str_merge.c   ****  * FUNCTION
 569:str_merge.c   ****  *  AddRefListItem
 570:str_merge.c   ****  * DESCRIPTION
 571:str_merge.c   ****  *  Add an item form a ref list
 572:str_merge.c   ****  * PARAMETERS
 573:str_merge.c   ****  *  list: ref list object
 574:str_merge.c   ****  *  item: the ref list item to be added to ref list
 575:str_merge.c   ****  * RETURNS
 576:str_merge.c   ****  *   An int value indicated the position of the item in the ref list. Return
 577:str_merge.c   ****  *   -1 indicate that the operation is failed
 578:str_merge.c   ****  *****************************************************************************/
 579:str_merge.c   **** static int AddRefListItem(RefList * list, RefListItem* item);
 580:str_merge.c   **** 
 581:str_merge.c   **** /*****************************************************************************
 582:str_merge.c   ****  * FUNCTION
 583:str_merge.c   ****  *  GetRefListItem
 584:str_merge.c   ****  * DESCRIPTION
 585:str_merge.c   ****  *  Get an item from a ref list
 586:str_merge.c   ****  * PARAMETERS
 587:str_merge.c   ****  *  list: ref list object
 588:str_merge.c   ****  *  index: the posotion of the item in this ref list
 589:str_merge.c   ****  * RETURNS
 590:str_merge.c   ****  *   Return the item obecjt in the position assigned; return NULL if it is 
 591:str_merge.c   ****  *   not found
 592:str_merge.c   ****  *****************************************************************************/
 593:str_merge.c   **** static RefListItem* GetRefListItem(RefList * list, int index);
 594:str_merge.c   **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 13


 595:str_merge.c   **** /*****************************************************************************
 596:str_merge.c   ****  * FUNCTION
 597:str_merge.c   ****  *  SetRefListItem
 598:str_merge.c   ****  * DESCRIPTION
 599:str_merge.c   ****  *  Set a list item, the old item is free by this function automatically
 600:str_merge.c   ****  * PARAMETERS
 601:str_merge.c   ****  *  list: ref list object
 602:str_merge.c   ****  *  index: the specified posotion of the item in this ref list
 603:str_merge.c   ****  *  item: the item to be set to the specified position
 604:str_merge.c   ****  * RETURNS
 605:str_merge.c   ****  *   0 means that the set operation is successful or the operation is 
 606:str_merge.c   ****  *   failed
 607:str_merge.c   ****  *****************************************************************************/
 608:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 609:str_merge.c   **** 
 610:str_merge.c   **** 
 611:str_merge.c   **** #ifdef STR_MERGE_DEBUG
 612:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
 613:str_merge.c   **** /*****************************************************************************
 614:str_merge.c   ****  * FUNCTION
 615:str_merge.c   ****  *  DumpRefList
 616:str_merge.c   ****  * DESCRIPTION
 617:str_merge.c   ****  *  Dump the old style ref list (array style) to a speficied file
 618:str_merge.c   ****  * PARAMETERS
 619:str_merge.c   ****  *  filename: the file name of the ref list dump
 620:str_merge.c   ****  *  list: ref list array
 621:str_merge.c   ****  *  ItemSize: the array element size in bytes
 622:str_merge.c   ****  *  count: the total count of the elements
 623:str_merge.c   ****  * RETURNS
 624:str_merge.c   ****  *   NA
 625:str_merge.c   ****  *****************************************************************************/
 626:str_merge.c   **** 
 627:str_merge.c   **** static void DumpRefList(const char* filename, wchar_t *list,const int ItemSize, int count);
 628:str_merge.c   **** 
 629:str_merge.c   **** #else /*MEM_REF_LIST_OPT*/
 630:str_merge.c   **** 
 631:str_merge.c   **** /*****************************************************************************
 632:str_merge.c   ****  * FUNCTION
 633:str_merge.c   ****  *  DumpRefList
 634:str_merge.c   ****  * DESCRIPTION
 635:str_merge.c   ****  *  Dump the ref list to a speficied file
 636:str_merge.c   ****  * PARAMETERS
 637:str_merge.c   ****  *  filename: the file name of the ref list dump
 638:str_merge.c   ****  *  list: ref list object
 639:str_merge.c   ****  * RETURNS
 640:str_merge.c   ****  *   NA
 641:str_merge.c   ****  *****************************************************************************/
 642:str_merge.c   **** static void DumpRefList(const char* filename, RefList *list);
 643:str_merge.c   **** 
 644:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 645:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
 646:str_merge.c   **** 
 647:str_merge.c   **** 
 648:str_merge.c   **** 
 649:str_merge.c   **** /* fixed string main function */
 650:str_merge.c   **** static int generate_fixed_str(FILE *res, FILE *map, FILE * resMeta, FILE * mapMeta,FixedID *fixed);
 651:str_merge.c   **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 14


 652:str_merge.c   **** static int init_fixed_id(FixedID *fixed, int table_size);
 653:str_merge.c   **** static int generate_enum_hash(StrHashTable *table, U8 *isPop, wchar_t *str[]);
 654:str_merge.c   **** static int write_fixed_str(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta,U8 *s, int pos, int *
 655:str_merge.c   **** static int write_fixed_str_offset(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta, U8 *s, int po
 656:str_merge.c   **** static int write_fixed_offset(FILE *res, FILE *map, FILE* resMeta, FILE *mapMeta, int pos, int *off
 657:str_merge.c   **** static MMI_BOOL write_fixed_string_log(FILE *log, U16 id, U16 dup_id);
 658:str_merge.c   **** static int set_fixed_str_flag(FixedID *fixed, wchar_t* id);
 659:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
 660:str_merge.c   **** 
 661:str_merge.c   **** static int generate_strmap_search(FILE *res, FILE *resMeta);
 662:str_merge.c   **** 
 663:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 664:str_merge.c   **** static MMI_BOOL generate_language_list_array(FILE *res, StrRes *strres, DupStrRes *strres_dup, int 
 665:str_merge.c   **** #else
 666:str_merge.c   **** static MMI_BOOL generate_language_list_array(FILE *res, StrRes *strres, int num_map_search,U32 *res
 667:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
 668:str_merge.c   **** /* get fontres data */
 669:str_merge.c   **** extern const U16 mtk_gMaxDeployedLangs;
 670:str_merge.c   **** extern const sLanguageDetails mtk_gLanguageArray[];
 671:str_merge.c   **** 
 672:str_merge.c   **** static const wchar_t *DELIMETER = L"\t";
 673:str_merge.c   **** static const wchar_t *EOS = L"\n";
 674:str_merge.c   **** 
 675:str_merge.c   **** static int *mtk_gLanguageFlag;
 676:str_merge.c   **** 
 677:str_merge.c   **** static MMI_BOOL *is16bit;
 678:str_merge.c   **** static U16 StrLine[MAX_STRING_MAP_SIZE];
 679:str_merge.c   **** static U16 StrSize[MAX_STRING_MAP_SIZE];
 680:str_merge.c   **** static U16 *StrID = NULL;
 681:str_merge.c   **** static U32 g_line_buf_length = 0;
 682:str_merge.c   **** /*only include populate languages length*/
 683:str_merge.c   **** static U32 g_line_buf_act_length = 0;
 684:str_merge.c   **** 
 685:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
 686:str_merge.c   **** static wchar_t *ref_all = NULL;
 687:str_merge.c   **** #else  /*MEM_REF_LIST_OPT*/
 688:str_merge.c   **** /* Use vector to reduce the memory size of ref list buffer*/
 689:str_merge.c   **** static RefList *ref_all_list = NULL;
 690:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 691:str_merge.c   **** 
 692:str_merge.c   **** static wchar_t *ref_ssc = NULL;
 693:str_merge.c   **** static wchar_t *ref_tmp = NULL;
 694:str_merge.c   **** static int nLang = 0;
 695:str_merge.c   **** 
 696:str_merge.c   **** /*filtered ref ssc*/
 697:str_merge.c   **** static wchar_t *filter_ref_ssc = NULL; 
 698:str_merge.c   **** #ifndef __OPTR_NONE__
 699:str_merge.c   **** static wchar_t *optr_filter_ref_ssc = NULL;
 700:str_merge.c   **** #endif /*__OPTR_NONE__*/
 701:str_merge.c   **** 
 702:str_merge.c   **** 
 703:str_merge.c   **** /*deployed language*/
 704:str_merge.c   **** static U16 nUsedLang = 0;
 705:str_merge.c   **** static U16 *line_offset = NULL;
 706:str_merge.c   **** 
 707:str_merge.c   **** 
 708:str_merge.c   **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 15


 709:str_merge.c   **** static int ifLanguageUsed(wchar_t *ssc_ref);
 710:str_merge.c   **** 
 711:str_merge.c   **** 
 712:str_merge.c   **** 
 713:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
 714:str_merge.c   **** 
 715:str_merge.c   **** static void launchStrDeCompressionBufferCreator(StrRes *strres, DupStrRes *strres_dup,U32 *res_size
 716:str_merge.c   ****     int i = 0;
 717:str_merge.c   ****     for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 718:str_merge.c   ****     {
 719:str_merge.c   ****         int old_i = i;
 720:str_merge.c   ****         if (mtk_gLanguageFlag[i] == 0)
 721:str_merge.c   ****         {
 722:str_merge.c   ****             i = 0;
 723:str_merge.c   ****         }
 724:str_merge.c   ****         if(mmi_res_zip_language[i] == 1){
 725:str_merge.c   ****             StrDeCompressBufAddStrBuf(res_size[i], map_size[i], is16bit[i]);
 726:str_merge.c   ****         }
 727:str_merge.c   ****         i = old_i;
 728:str_merge.c   ****     }
 729:str_merge.c   **** 
 730:str_merge.c   ****     if (mmi_res_zip_language[MAX_LANGUAGES] == 1){
 731:str_merge.c   ****         // StrDeCompressionSetDupBuffer(int resSize);
 732:str_merge.c   ****         if (strres_dup->MaxNum > 0)
 733:str_merge.c   ****         {
 734:str_merge.c   **** 
 735:str_merge.c   ****             StrDeCompressBufSetDupStrBuf(res_size[511]);
 736:str_merge.c   ****         }
 737:str_merge.c   ****         else
 738:str_merge.c   ****         {
 739:str_merge.c   ****             StrDeCompressBufSetDupStrBuf(0);
 740:str_merge.c   ****         }
 741:str_merge.c   ****     }
 742:str_merge.c   ****     /* fixed string information */
 743:str_merge.c   ****     if(fixed_id.id_count > 0)
 744:str_merge.c   ****     {
 745:str_merge.c   ****         StrDeCompressBufSetFixedStrBuf(fixed_result.nResSize,
 746:str_merge.c   ****             fixed_result.nMapSize,
 747:str_merge.c   ****             fixed_result.is16bit);
 748:str_merge.c   ****     }else{
 749:str_merge.c   **** 
 750:str_merge.c   ****         StrDeCompressBufSetFixedStrBuf(0, 0, 0);
 751:str_merge.c   ****     }
 752:str_merge.c   **** 
 753:str_merge.c   **** 
 754:str_merge.c   **** 
 755:str_merge.c   **** }
 756:str_merge.c   **** #endif
 757:str_merge.c   **** 
 758:str_merge.c   **** /* This is simple hash operation for string merge application, in order to reduce memory and improv
 759:str_merge.c   **** /*****************************************************************************
 760:str_merge.c   ****  * FUNCTION
 761:str_merge.c   ****  *  CreateHashTable
 762:str_merge.c   ****  * DESCRIPTION
 763:str_merge.c   ****  *  create a size hash table
 764:str_merge.c   ****  * PARAMETERS
 765:str_merge.c   ****  *  size    [IN] table size
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 16


 766:str_merge.c   ****  * RETURNS
 767:str_merge.c   ****  *  hash table pointer
 768:str_merge.c   ****  *****************************************************************************/
 769:str_merge.c   **** static StrHashTable* CreateHashTable(int size)
 770:str_merge.c   **** {
 466              	LM10:
 467 0050 55       		pushl	%ebp
 468 0051 89E5     		movl	%esp, %ebp
 469 0053 53       		pushl	%ebx
 470 0054 83EC14   		subl	$20, %esp
 771:str_merge.c   ****     if(size <= 0)
 472              	LM11:
 473              	LBB2:
 474 0057 837D0800 		cmpl	$0, 8(%ebp)
 475 005b 7F09     		jg	L33
 772:str_merge.c   ****     {
 773:str_merge.c   ****         return 0;
 477              	LM12:
 478 005d C745F400 		movl	$0, -12(%ebp)
 478      000000
 479 0064 EB72     		jmp	L32
 480              	L33:
 774:str_merge.c   ****     }
 775:str_merge.c   **** 
 776:str_merge.c   ****     StrHashTable *table = (StrHashTable *)malloc(sizeof(StrHashTable));
 482              	LM13:
 483 0066 C7042408 		movl	$8, (%esp)
 483      000000
 484 006d E8000000 		call	_malloc
 484      00
 485 0072 8945F8   		movl	%eax, -8(%ebp)
 777:str_merge.c   ****     if(table == 0)
 487              	LM14:
 488 0075 837DF800 		cmpl	$0, -8(%ebp)
 489 0079 7509     		jne	L34
 778:str_merge.c   ****     {
 779:str_merge.c   ****         return 0;
 491              	LM15:
 492 007b C745F400 		movl	$0, -12(%ebp)
 492      000000
 493 0082 EB54     		jmp	L32
 494              	L34:
 780:str_merge.c   ****     }
 781:str_merge.c   **** 
 782:str_merge.c   ****     table->table_size = size;
 496              	LM16:
 497 0084 8B55F8   		movl	-8(%ebp), %edx
 498 0087 8B4508   		movl	8(%ebp), %eax
 499 008a 8902     		movl	%eax, (%edx)
 783:str_merge.c   ****     table->table = (StrIDNode **)malloc(sizeof(StrIDNode *) * size);
 501              	LM17:
 502 008c 8B5DF8   		movl	-8(%ebp), %ebx
 503 008f 8B4508   		movl	8(%ebp), %eax
 504 0092 C1E002   		sall	$2, %eax
 505 0095 890424   		movl	%eax, (%esp)
 506 0098 E8000000 		call	_malloc
 506      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 17


 507 009d 894304   		movl	%eax, 4(%ebx)
 784:str_merge.c   ****     if(table->table == 0)
 509              	LM18:
 510 00a0 8B45F8   		movl	-8(%ebp), %eax
 511 00a3 83780400 		cmpl	$0, 4(%eax)
 512 00a7 7509     		jne	L35
 785:str_merge.c   ****     {
 786:str_merge.c   ****         return 0;
 514              	LM19:
 515 00a9 C745F400 		movl	$0, -12(%ebp)
 515      000000
 516 00b0 EB26     		jmp	L32
 517              	L35:
 787:str_merge.c   ****     }
 788:str_merge.c   **** 
 789:str_merge.c   ****     memset(table->table, 0, sizeof(StrIDNode *)*size);
 519              	LM20:
 520 00b2 8B4508   		movl	8(%ebp), %eax
 521 00b5 C1E002   		sall	$2, %eax
 522 00b8 89442408 		movl	%eax, 8(%esp)
 523 00bc C7442404 		movl	$0, 4(%esp)
 523      00000000 
 524 00c4 8B45F8   		movl	-8(%ebp), %eax
 525 00c7 8B4004   		movl	4(%eax), %eax
 526 00ca 890424   		movl	%eax, (%esp)
 527 00cd E8000000 		call	_memset
 527      00
 790:str_merge.c   **** 
 791:str_merge.c   ****     return table;
 529              	LM21:
 530 00d2 8B45F8   		movl	-8(%ebp), %eax
 531 00d5 8945F4   		movl	%eax, -12(%ebp)
 792:str_merge.c   **** }
 533              	LM22:
 534              	L32:
 535              	LBE2:
 536 00d8 8B45F4   		movl	-12(%ebp), %eax
 537 00db 83C414   		addl	$20, %esp
 538 00de 5B       		popl	%ebx
 539 00df 5D       		popl	%ebp
 540 00e0 C3       		ret
 544              	Lscope2:
 549              	_DJBHash:
 793:str_merge.c   **** 
 794:str_merge.c   **** 
 795:str_merge.c   **** /*****************************************************************************
 796:str_merge.c   ****  * FUNCTION
 797:str_merge.c   ****  *  DJBHash
 798:str_merge.c   ****  *
 799:str_merge.c   ****  * DESCRIPTION
 800:str_merge.c   ****  *  DJB hash algrithom
 801:str_merge.c   ****  *
 802:str_merge.c   ****  * PARAMETERS
 803:str_merge.c   ****  *  key    [IN] key of hash algrithm input, here is special for wchar_t type
 804:str_merge.c   ****  *
 805:str_merge.c   ****  * RETURNS
 806:str_merge.c   ****  *  hash table pointer
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 18


 807:str_merge.c   ****  *****************************************************************************/
 808:str_merge.c   **** static int DJBHash(wchar_t* key) /* DJB hash */
 809:str_merge.c   **** {
 551              	LM23:
 552 00e1 55       		pushl	%ebp
 553 00e2 89E5     		movl	%esp, %ebp
 554 00e4 83EC18   		subl	$24, %esp
 810:str_merge.c   ****     unsigned int hash = 5381;
 556              	LM24:
 557              	LBB3:
 558 00e7 C745FC05 		movl	$5381, -4(%ebp)
 558      150000
 811:str_merge.c   ****     int i = 0;
 560              	LM25:
 561 00ee C745F800 		movl	$0, -8(%ebp)
 561      000000
 812:str_merge.c   **** 
 813:str_merge.c   ****     int len = wcslen(key);
 563              	LM26:
 564 00f5 8B4508   		movl	8(%ebp), %eax
 565 00f8 890424   		movl	%eax, (%esp)
 566 00fb E8000000 		call	_wcslen
 566      00
 567 0100 8945F4   		movl	%eax, -12(%ebp)
 814:str_merge.c   **** 
 815:str_merge.c   ****     for(i = 0; i < len; ++i)
 569              	LM27:
 570 0103 C745F800 		movl	$0, -8(%ebp)
 570      000000
 571              	L37:
 572 010a 8B45F8   		movl	-8(%ebp), %eax
 573 010d 3B45F4   		cmpl	-12(%ebp), %eax
 574 0110 7C02     		jl	L40
 575 0112 EB25     		jmp	L38
 576              	L40:
 816:str_merge.c   ****     {
 817:str_merge.c   ****         hash = ((hash << 5) + hash) + key[i];
 578              	LM28:
 579 0114 8B45FC   		movl	-4(%ebp), %eax
 580 0117 C1E005   		sall	$5, %eax
 581 011a 89C1     		movl	%eax, %ecx
 582 011c 034DFC   		addl	-4(%ebp), %ecx
 583 011f 8B45F8   		movl	-8(%ebp), %eax
 584 0122 8D1400   		leal	(%eax,%eax), %edx
 585 0125 8B4508   		movl	8(%ebp), %eax
 586 0128 0FB70410 		movzwl	(%eax,%edx), %eax
 587 012c 8D0408   		leal	(%eax,%ecx), %eax
 588 012f 8945FC   		movl	%eax, -4(%ebp)
 590              	LM29:
 591 0132 8D45F8   		leal	-8(%ebp), %eax
 592 0135 FF00     		incl	(%eax)
 593 0137 EBD1     		jmp	L37
 594              	L38:
 818:str_merge.c   ****     }
 819:str_merge.c   **** 
 820:str_merge.c   ****     return 0x7fffffff & hash;
 596              	LM30:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 19


 597 0139 8B45FC   		movl	-4(%ebp), %eax
 598 013c 25FFFFFF 		andl	$2147483647, %eax
 598      7F
 821:str_merge.c   **** }
 600              	LM31:
 601 0141 C9       		leave
 602 0142 C3       		ret
 603              	LBE3:
 609              	Lscope3:
 615              	_hash_add:
 822:str_merge.c   **** 
 823:str_merge.c   **** 
 824:str_merge.c   **** /*****************************************************************************
 825:str_merge.c   ****  * FUNCTION
 826:str_merge.c   ****  *  hash_add
 827:str_merge.c   ****  * DESCRIPTION
 828:str_merge.c   ****  *  add node to hash table
 829:str_merge.c   ****  * PARAMETERS
 830:str_merge.c   ****  *  hash    [IN/OUT] : hash table
 831:str_merge.c   ****  *  node    [IN] : node to be added into hash table
 832:str_merge.c   ****  * RETURNS
 833:str_merge.c   ****  *  int       0 means duplicate node, 1 means add success, 
 834:str_merge.c   ****  *           -1 means allocate memory fail, -2 means invalid input
 835:str_merge.c   ****  *****************************************************************************/
 836:str_merge.c   **** static int hash_add(StrHashTable* hash, StrIDNode *node)
 837:str_merge.c   **** {
 617              	LM32:
 618 0143 55       		pushl	%ebp
 619 0144 89E5     		movl	%esp, %ebp
 620 0146 83EC28   		subl	$40, %esp
 838:str_merge.c   ****     int hv = -1;
 622              	LM33:
 623              	LBB4:
 624 0149 C745FCFF 		movl	$-1, -4(%ebp)
 624      FFFFFF
 839:str_merge.c   ****     if(hash == NULL || node == NULL || node->str == NULL)
 626              	LM34:
 627 0150 837D0800 		cmpl	$0, 8(%ebp)
 628 0154 740E     		je	L43
 629 0156 837D0C00 		cmpl	$0, 12(%ebp)
 630 015a 7408     		je	L43
 631 015c 8B450C   		movl	12(%ebp), %eax
 632 015f 833800   		cmpl	$0, (%eax)
 633 0162 750C     		jne	L42
 634              	L43:
 840:str_merge.c   ****     {
 841:str_merge.c   ****         return -2; /* invalid input */
 636              	LM35:
 637 0164 C745ECFE 		movl	$-2, -20(%ebp)
 637      FFFFFF
 638 016b E9470100 		jmp	L41
 638      00
 639              	L42:
 842:str_merge.c   ****     }
 843:str_merge.c   **** 
 844:str_merge.c   ****     hv = DJBHash(node->str) % hash->table_size;
 641              	LM36:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 20


 642 0170 8B450C   		movl	12(%ebp), %eax
 643 0173 8B00     		movl	(%eax), %eax
 644 0175 890424   		movl	%eax, (%esp)
 645 0178 E864FFFF 		call	_DJBHash
 645      FF
 646 017d 89C2     		movl	%eax, %edx
 647 017f 8B4508   		movl	8(%ebp), %eax
 648 0182 8945E8   		movl	%eax, -24(%ebp)
 649 0185 89D0     		movl	%edx, %eax
 650 0187 8B4DE8   		movl	-24(%ebp), %ecx
 651 018a 99       		cltd
 652 018b F739     		idivl	(%ecx)
 653 018d 8955FC   		movl	%edx, -4(%ebp)
 845:str_merge.c   **** 
 846:str_merge.c   ****     if(hash->table[hv] == 0) /* hash node not exist */
 655              	LM37:
 656 0190 8B4D08   		movl	8(%ebp), %ecx
 657 0193 8B45FC   		movl	-4(%ebp), %eax
 658 0196 8D148500 		leal	0(,%eax,4), %edx
 658      000000
 659 019d 8B4104   		movl	4(%ecx), %eax
 660 01a0 833C1000 		cmpl	$0, (%eax,%edx)
 661 01a4 755E     		jne	L44
 847:str_merge.c   ****     {
 848:str_merge.c   ****         StrIDNode *new_node = (StrIDNode *)malloc(sizeof(StrIDNode));
 663              	LM38:
 664              	LBB5:
 665 01a6 C704240C 		movl	$12, (%esp)
 665      000000
 666 01ad E8000000 		call	_malloc
 666      00
 667 01b2 8945F8   		movl	%eax, -8(%ebp)
 849:str_merge.c   ****         if(new_node == 0)
 669              	LM39:
 670 01b5 837DF800 		cmpl	$0, -8(%ebp)
 671 01b9 750C     		jne	L45
 850:str_merge.c   ****         {
 851:str_merge.c   ****             return -1; /* invalid memory malloc */
 673              	LM40:
 674 01bb C745ECFF 		movl	$-1, -20(%ebp)
 674      FFFFFF
 675 01c2 E9F00000 		jmp	L41
 675      00
 676              	L45:
 852:str_merge.c   ****         }
 853:str_merge.c   ****         /* initialize new node */
 854:str_merge.c   ****         new_node->next = NULL;
 678              	LM41:
 679 01c7 8B45F8   		movl	-8(%ebp), %eax
 680 01ca C7400800 		movl	$0, 8(%eax)
 680      000000
 855:str_merge.c   ****         new_node->id = node->id;
 682              	LM42:
 683 01d1 8B55F8   		movl	-8(%ebp), %edx
 684 01d4 8B450C   		movl	12(%ebp), %eax
 685 01d7 0FB74004 		movzwl	4(%eax), %eax
 686 01db 66894204 		movw	%ax, 4(%edx)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 21


 856:str_merge.c   ****         new_node->str = node->str;
 688              	LM43:
 689 01df 8B55F8   		movl	-8(%ebp), %edx
 690 01e2 8B450C   		movl	12(%ebp), %eax
 691 01e5 8B00     		movl	(%eax), %eax
 692 01e7 8902     		movl	%eax, (%edx)
 857:str_merge.c   **** 
 858:str_merge.c   ****         /* add new node to hash table */
 859:str_merge.c   ****         hash->table[hv] = new_node;
 694              	LM44:
 695 01e9 8B5508   		movl	8(%ebp), %edx
 696 01ec 8B45FC   		movl	-4(%ebp), %eax
 697 01ef 8D0C8500 		leal	0(,%eax,4), %ecx
 697      000000
 698 01f6 8B5204   		movl	4(%edx), %edx
 699 01f9 8B45F8   		movl	-8(%ebp), %eax
 700 01fc 89040A   		movl	%eax, (%edx,%ecx)
 701              	LBE5:
 702 01ff E9AC0000 		jmp	L46
 702      00
 703              	L44:
 860:str_merge.c   ****     }
 861:str_merge.c   ****     else /* hash node exist */
 862:str_merge.c   ****     {
 863:str_merge.c   ****         StrIDNode *tmp = hash->table[hv];
 705              	LM45:
 706              	LBB6:
 707 0204 8B4D08   		movl	8(%ebp), %ecx
 708 0207 8B45FC   		movl	-4(%ebp), %eax
 709 020a 8D148500 		leal	0(,%eax,4), %edx
 709      000000
 710 0211 8B4104   		movl	4(%ecx), %eax
 711 0214 8B0410   		movl	(%eax,%edx), %eax
 712 0217 8945F8   		movl	%eax, -8(%ebp)
 864:str_merge.c   ****         StrIDNode *prev = 0;
 714              	LM46:
 715 021a C745F400 		movl	$0, -12(%ebp)
 715      000000
 865:str_merge.c   ****         while(tmp != NULL) /* here is hash search function */
 717              	LM47:
 718              	L47:
 719 0221 837DF800 		cmpl	$0, -8(%ebp)
 720 0225 7502     		jne	L49
 721 0227 EB2D     		jmp	L48
 722              	L49:
 866:str_merge.c   ****         {
 867:str_merge.c   ****             prev = tmp;
 724              	LM48:
 725 0229 8B45F8   		movl	-8(%ebp), %eax
 726 022c 8945F4   		movl	%eax, -12(%ebp)
 868:str_merge.c   ****             if(!wcscmp(node->str, prev->str))
 728              	LM49:
 729 022f 8B45F4   		movl	-12(%ebp), %eax
 730 0232 8B00     		movl	(%eax), %eax
 731 0234 89442404 		movl	%eax, 4(%esp)
 732 0238 8B450C   		movl	12(%ebp), %eax
 733 023b 8B00     		movl	(%eax), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 22


 734 023d 890424   		movl	%eax, (%esp)
 735 0240 E8000000 		call	_wcscmp
 735      00
 736 0245 85C0     		testl	%eax, %eax
 737 0247 7502     		jne	L50
 869:str_merge.c   ****             {
 870:str_merge.c   ****                 break;
 739              	LM50:
 740 0249 EB0B     		jmp	L48
 741              	L50:
 871:str_merge.c   ****             }
 872:str_merge.c   ****             tmp = tmp->next;
 743              	LM51:
 744 024b 8B45F8   		movl	-8(%ebp), %eax
 745 024e 8B4008   		movl	8(%eax), %eax
 746 0251 8945F8   		movl	%eax, -8(%ebp)
 747 0254 EBCB     		jmp	L47
 748              	L48:
 873:str_merge.c   ****         }
 874:str_merge.c   ****         /* does not found the same string node */
 875:str_merge.c   ****         if(tmp == NULL)
 750              	LM52:
 751 0256 837DF800 		cmpl	$0, -8(%ebp)
 752 025a 754B     		jne	L51
 876:str_merge.c   ****         {
 877:str_merge.c   ****             StrIDNode *new_node = (StrIDNode *)malloc(sizeof(StrIDNode));
 754              	LM53:
 755              	LBB7:
 756 025c C704240C 		movl	$12, (%esp)
 756      000000
 757 0263 E8000000 		call	_malloc
 757      00
 758 0268 8945F0   		movl	%eax, -16(%ebp)
 878:str_merge.c   ****             if(new_node == 0)
 760              	LM54:
 761 026b 837DF000 		cmpl	$0, -16(%ebp)
 762 026f 7509     		jne	L52
 879:str_merge.c   ****             {
 880:str_merge.c   ****                 return -1; /* invalid malloc */
 764              	LM55:
 765 0271 C745ECFF 		movl	$-1, -20(%ebp)
 765      FFFFFF
 766 0278 EB3D     		jmp	L41
 767              	L52:
 881:str_merge.c   ****             }
 882:str_merge.c   ****             new_node->next = NULL;
 769              	LM56:
 770 027a 8B45F0   		movl	-16(%ebp), %eax
 771 027d C7400800 		movl	$0, 8(%eax)
 771      000000
 883:str_merge.c   ****             new_node->id = node->id;
 773              	LM57:
 774 0284 8B55F0   		movl	-16(%ebp), %edx
 775 0287 8B450C   		movl	12(%ebp), %eax
 776 028a 0FB74004 		movzwl	4(%eax), %eax
 777 028e 66894204 		movw	%ax, 4(%edx)
 884:str_merge.c   ****             new_node->str = node->str;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 23


 779              	LM58:
 780 0292 8B55F0   		movl	-16(%ebp), %edx
 781 0295 8B450C   		movl	12(%ebp), %eax
 782 0298 8B00     		movl	(%eax), %eax
 783 029a 8902     		movl	%eax, (%edx)
 885:str_merge.c   ****             /* add new node to the chain list */
 886:str_merge.c   ****             prev->next = new_node;
 785              	LM59:
 786 029c 8B55F4   		movl	-12(%ebp), %edx
 787 029f 8B45F0   		movl	-16(%ebp), %eax
 788 02a2 894208   		movl	%eax, 8(%edx)
 789              	LBE7:
 790 02a5 EB09     		jmp	L46
 791              	L51:
 887:str_merge.c   ****         }
 888:str_merge.c   ****         else
 889:str_merge.c   ****         {
 890:str_merge.c   ****             return 0; /* duplicate string */
 793              	LM60:
 794 02a7 C745EC00 		movl	$0, -20(%ebp)
 794      000000
 795 02ae EB07     		jmp	L41
 796              	L46:
 891:str_merge.c   ****         }
 892:str_merge.c   ****     }
 893:str_merge.c   ****     return 1; /* add successfully */
 798              	LM61:
 799              	LBE6:
 800 02b0 C745EC01 		movl	$1, -20(%ebp)
 800      000000
 894:str_merge.c   **** }
 802              	LM62:
 803              	L41:
 804              	LBE4:
 805 02b7 8B45EC   		movl	-20(%ebp), %eax
 806 02ba C9       		leave
 807 02bb C3       		ret
 821              	Lscope4:
 827              	_hash_search:
 895:str_merge.c   **** 
 896:str_merge.c   **** 
 897:str_merge.c   **** /*****************************************************************************
 898:str_merge.c   ****  * FUNCTION
 899:str_merge.c   ****  *  hash_search
 900:str_merge.c   ****  * DESCRIPTION
 901:str_merge.c   ****  *  search if key exist in hash table
 902:str_merge.c   ****  * PARAMETERS
 903:str_merge.c   ****  *  hash    [IN] : hash table
 904:str_merge.c   ****  *  key      [IN] : key will be search
 905:str_merge.c   ****  * RETURNS
 906:str_merge.c   ****  *  int       true: find key in hash table, false:not found key in hash table
 907:str_merge.c   ****  *****************************************************************************/
 908:str_merge.c   **** static StrIDNode* hash_search(const StrHashTable* hash, const wchar_t *key)
 909:str_merge.c   **** {
 829              	LM63:
 830 02bc 55       		pushl	%ebp
 831 02bd 89E5     		movl	%esp, %ebp
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 24


 832 02bf 83EC28   		subl	$40, %esp
 910:str_merge.c   ****     int hv = -1;
 834              	LM64:
 835              	LBB8:
 836 02c2 C745FCFF 		movl	$-1, -4(%ebp)
 836      FFFFFF
 911:str_merge.c   ****     int i = 0;
 838              	LM65:
 839 02c9 C745F800 		movl	$0, -8(%ebp)
 839      000000
 912:str_merge.c   ****     StrIDNode *tmp = 0;
 841              	LM66:
 842 02d0 C745F400 		movl	$0, -12(%ebp)
 842      000000
 913:str_merge.c   **** 
 914:str_merge.c   ****     if(key == 0 || hash == 0)
 844              	LM67:
 845 02d7 837D0C00 		cmpl	$0, 12(%ebp)
 846 02db 7406     		je	L56
 847 02dd 837D0800 		cmpl	$0, 8(%ebp)
 848 02e1 7509     		jne	L55
 849              	L56:
 915:str_merge.c   ****     {
 916:str_merge.c   ****         return 0;
 851              	LM68:
 852 02e3 C745F000 		movl	$0, -16(%ebp)
 852      000000
 853 02ea EB6E     		jmp	L54
 854              	L55:
 917:str_merge.c   ****     }
 918:str_merge.c   **** 
 919:str_merge.c   ****     hv = DJBHash(key) % hash->table_size; /* caculate hash value */
 856              	LM69:
 857 02ec 8B450C   		movl	12(%ebp), %eax
 858 02ef 890424   		movl	%eax, (%esp)
 859 02f2 E8EAFDFF 		call	_DJBHash
 859      FF
 860 02f7 89C2     		movl	%eax, %edx
 861 02f9 8B4508   		movl	8(%ebp), %eax
 862 02fc 8945EC   		movl	%eax, -20(%ebp)
 863 02ff 89D0     		movl	%edx, %eax
 864 0301 8B4DEC   		movl	-20(%ebp), %ecx
 865 0304 99       		cltd
 866 0305 F739     		idivl	(%ecx)
 867 0307 8955FC   		movl	%edx, -4(%ebp)
 920:str_merge.c   **** 
 921:str_merge.c   ****     tmp = hash->table[hv];
 869              	LM70:
 870 030a 8B4D08   		movl	8(%ebp), %ecx
 871 030d 8B45FC   		movl	-4(%ebp), %eax
 872 0310 8D148500 		leal	0(,%eax,4), %edx
 872      000000
 873 0317 8B4104   		movl	4(%ecx), %eax
 874 031a 8B0410   		movl	(%eax,%edx), %eax
 875 031d 8945F4   		movl	%eax, -12(%ebp)
 922:str_merge.c   ****     while(tmp)
 877              	LM71:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 25


 878              	L57:
 879 0320 837DF400 		cmpl	$0, -12(%ebp)
 880 0324 7502     		jne	L59
 881 0326 EB2B     		jmp	L58
 882              	L59:
 923:str_merge.c   ****     {
 924:str_merge.c   ****         if(!wcscmp(key, tmp->str))
 884              	LM72:
 885 0328 8B45F4   		movl	-12(%ebp), %eax
 886 032b 8B00     		movl	(%eax), %eax
 887 032d 89442404 		movl	%eax, 4(%esp)
 888 0331 8B450C   		movl	12(%ebp), %eax
 889 0334 890424   		movl	%eax, (%esp)
 890 0337 E8000000 		call	_wcscmp
 890      00
 891 033c 85C0     		testl	%eax, %eax
 892 033e 7508     		jne	L60
 925:str_merge.c   ****             return tmp;
 894              	LM73:
 895 0340 8B45F4   		movl	-12(%ebp), %eax
 896 0343 8945F0   		movl	%eax, -16(%ebp)
 897 0346 EB12     		jmp	L54
 898              	L60:
 926:str_merge.c   ****         tmp = tmp->next;
 900              	LM74:
 901 0348 8B45F4   		movl	-12(%ebp), %eax
 902 034b 8B4008   		movl	8(%eax), %eax
 903 034e 8945F4   		movl	%eax, -12(%ebp)
 904 0351 EBCD     		jmp	L57
 905              	L58:
 927:str_merge.c   ****     }
 928:str_merge.c   **** 
 929:str_merge.c   ****     return 0;    
 907              	LM75:
 908 0353 C745F000 		movl	$0, -16(%ebp)
 908      000000
 930:str_merge.c   **** }
 910              	LM76:
 911              	L54:
 912              	LBE8:
 913 035a 8B45F0   		movl	-16(%ebp), %eax
 914 035d C9       		leave
 915 035e C3       		ret
 921              	Lscope5:
 926              	_hash_free:
 931:str_merge.c   **** 
 932:str_merge.c   **** 
 933:str_merge.c   **** /*****************************************************************************
 934:str_merge.c   ****  * FUNCTION
 935:str_merge.c   ****  *  hash_free
 936:str_merge.c   ****  * DESCRIPTION
 937:str_merge.c   ****  *  free hash table
 938:str_merge.c   ****  * PARAMETERS
 939:str_merge.c   ****  *  hash    [IN] : hash table
 940:str_merge.c   ****  * RETURNS
 941:str_merge.c   ****  *  void
 942:str_merge.c   ****  *****************************************************************************/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 26


 943:str_merge.c   **** static void hash_free(StrHashTable* hash)
 944:str_merge.c   **** {
 928              	LM77:
 929 035f 55       		pushl	%ebp
 930 0360 89E5     		movl	%esp, %ebp
 931 0362 83EC18   		subl	$24, %esp
 945:str_merge.c   ****     int i = 0;
 933              	LM78:
 934              	LBB9:
 935 0365 C745FC00 		movl	$0, -4(%ebp)
 935      000000
 946:str_merge.c   ****     StrIDNode *node = 0, *next = 0;;
 937              	LM79:
 938 036c C745F800 		movl	$0, -8(%ebp)
 938      000000
 939 0373 C745F400 		movl	$0, -12(%ebp)
 939      000000
 947:str_merge.c   ****     
 948:str_merge.c   ****     if(hash == NULL)
 941              	LM80:
 942 037a 837D0800 		cmpl	$0, 8(%ebp)
 943 037e 7502     		jne	L62
 949:str_merge.c   ****         return;
 945              	LM81:
 946 0380 EB5F     		jmp	L61
 947              	L62:
 950:str_merge.c   **** 
 951:str_merge.c   ****     /* free each node in hash table */
 952:str_merge.c   ****     for(i = 0; i < hash->table_size; ++i)
 949              	LM82:
 950 0382 C745FC00 		movl	$0, -4(%ebp)
 950      000000
 951              	L63:
 952 0389 8B5508   		movl	8(%ebp), %edx
 953 038c 8B45FC   		movl	-4(%ebp), %eax
 954 038f 3B02     		cmpl	(%edx), %eax
 955 0391 7C02     		jl	L66
 956 0393 EB41     		jmp	L64
 957              	L66:
 953:str_merge.c   ****     {
 954:str_merge.c   ****         node = hash->table[i];
 959              	LM83:
 960 0395 8B4D08   		movl	8(%ebp), %ecx
 961 0398 8B45FC   		movl	-4(%ebp), %eax
 962 039b 8D148500 		leal	0(,%eax,4), %edx
 962      000000
 963 03a2 8B4104   		movl	4(%ecx), %eax
 964 03a5 8B0410   		movl	(%eax,%edx), %eax
 965 03a8 8945F8   		movl	%eax, -8(%ebp)
 955:str_merge.c   ****         while(node)
 967              	LM84:
 968              	L67:
 969 03ab 837DF800 		cmpl	$0, -8(%ebp)
 970 03af 7502     		jne	L69
 971 03b1 EB1C     		jmp	L65
 972              	L69:
 956:str_merge.c   ****         {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 27


 957:str_merge.c   ****             next = node->next;
 974              	LM85:
 975 03b3 8B45F8   		movl	-8(%ebp), %eax
 976 03b6 8B4008   		movl	8(%eax), %eax
 977 03b9 8945F4   		movl	%eax, -12(%ebp)
 958:str_merge.c   ****             free(node);
 979              	LM86:
 980 03bc 8B45F8   		movl	-8(%ebp), %eax
 981 03bf 890424   		movl	%eax, (%esp)
 982 03c2 E8000000 		call	_free
 982      00
 959:str_merge.c   ****             node = next;
 984              	LM87:
 985 03c7 8B45F4   		movl	-12(%ebp), %eax
 986 03ca 8945F8   		movl	%eax, -8(%ebp)
 987 03cd EBDC     		jmp	L67
 989              	LM88:
 990              	L65:
 991 03cf 8D45FC   		leal	-4(%ebp), %eax
 992 03d2 FF00     		incl	(%eax)
 993 03d4 EBB3     		jmp	L63
 994              	L64:
 960:str_merge.c   ****         }
 961:str_merge.c   ****     }
 962:str_merge.c   **** 
 963:str_merge.c   ****     /* free hash table itself */
 964:str_merge.c   ****     free(hash);
 996              	LM89:
 997 03d6 8B4508   		movl	8(%ebp), %eax
 998 03d9 890424   		movl	%eax, (%esp)
 999 03dc E8000000 		call	_free
 999      00
 965:str_merge.c   **** }
 1001              	LM90:
 1002              	L61:
 1003 03e1 C9       		leave
 1004 03e2 C3       		ret
 1005              	LBE9:
 1011              	Lscope6:
 1017              	_UCS2ASCII:
 966:str_merge.c   **** 
 967:str_merge.c   **** 
 968:str_merge.c   **** /*****************************************************************************
 969:str_merge.c   ****  * FUNCTION
 970:str_merge.c   ****  *  UCS2ASCII
 971:str_merge.c   ****  * DESCRIPTION
 972:str_merge.c   ****  *  Convert wide character to ASCII character
 973:str_merge.c   ****  * PARAMETERS
 974:str_merge.c   ****  *  w_in    [IN]
 975:str_merge.c   ****  *  a_out   [OUT]
 976:str_merge.c   ****  * RETURNS
 977:str_merge.c   ****  *  void
 978:str_merge.c   ****  *****************************************************************************/
 979:str_merge.c   **** static void UCS2ASCII(char *w_in, char *a_out)
 980:str_merge.c   **** {
 1019              	LM91:
 1020 03e3 55       		pushl	%ebp
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 28


 1021 03e4 89E5     		movl	%esp, %ebp
 1022 03e6 83EC04   		subl	$4, %esp
 981:str_merge.c   ****     /*----------------------------------------------------------------*/
 982:str_merge.c   ****     /* Local Variables                                                */
 983:str_merge.c   ****     /*----------------------------------------------------------------*/
 984:str_merge.c   ****     int i = 0;
 1024              	LM92:
 1025              	LBB10:
 1026 03e9 C745FC00 		movl	$0, -4(%ebp)
 1026      000000
 985:str_merge.c   **** 
 986:str_merge.c   ****     /*----------------------------------------------------------------*/
 987:str_merge.c   ****     /* Code Body                                                      */
 988:str_merge.c   ****     /*----------------------------------------------------------------*/
 989:str_merge.c   ****     while (w_in[i * 2] != '\0' || w_in[i * 2 + 1] != '\0')
 1028              	LM93:
 1029              	L71:
 1030 03f0 8B45FC   		movl	-4(%ebp), %eax
 1031 03f3 8D1400   		leal	(%eax,%eax), %edx
 1032 03f6 8B4508   		movl	8(%ebp), %eax
 1033 03f9 803C1000 		cmpb	$0, (%eax,%edx)
 1034 03fd 7510     		jne	L73
 1035 03ff 8B45FC   		movl	-4(%ebp), %eax
 1036 0402 01C0     		addl	%eax, %eax
 1037 0404 034508   		addl	8(%ebp), %eax
 1038 0407 40       		incl	%eax
 1039 0408 803800   		cmpb	$0, (%eax)
 1040 040b 7502     		jne	L73
 1041 040d EB1E     		jmp	L72
 1042              	L73:
 990:str_merge.c   ****     {
 991:str_merge.c   ****         a_out[i] = w_in[i * 2];
 1044              	LM94:
 1045 040f 8B45FC   		movl	-4(%ebp), %eax
 1046 0412 8B4D0C   		movl	12(%ebp), %ecx
 1047 0415 01C1     		addl	%eax, %ecx
 1048 0417 8B45FC   		movl	-4(%ebp), %eax
 1049 041a 8D1400   		leal	(%eax,%eax), %edx
 1050 041d 8B4508   		movl	8(%ebp), %eax
 1051 0420 0FB60410 		movzbl	(%eax,%edx), %eax
 1052 0424 8801     		movb	%al, (%ecx)
 992:str_merge.c   ****         i += 1;
 1054              	LM95:
 1055 0426 8D45FC   		leal	-4(%ebp), %eax
 1056 0429 FF00     		incl	(%eax)
 1057 042b EBC3     		jmp	L71
 1058              	L72:
 993:str_merge.c   ****     }
 994:str_merge.c   ****     a_out[i] = '\0';
 1060              	LM96:
 1061 042d 8B45FC   		movl	-4(%ebp), %eax
 1062 0430 03450C   		addl	12(%ebp), %eax
 1063 0433 C60000   		movb	$0, (%eax)
 995:str_merge.c   **** }
 1065              	LM97:
 1066 0436 C9       		leave
 1067 0437 C3       		ret
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 29


 1068              	LBE10:
 1072              	Lscope7:
 1074              	LC2:
 1075 0438 47657449 		.ascii "GetItem p1 == NULL\0"
 1075      74656D20 
 1075      7031203D 
 1075      3D204E55 
 1075      4C4C00
 1076              	LC3:
 1077 044b 5354525F 		.ascii "STR_MERGE\0"
 1077      4D455247 
 1077      4500
 1083              	_GetItem:
 996:str_merge.c   **** 
 997:str_merge.c   **** 
 998:str_merge.c   **** /*****************************************************************************
 999:str_merge.c   ****  * FUNCTION
1000:str_merge.c   ****  *  GetItem
1001:str_merge.c   ****  * DESCRIPTION
1002:str_merge.c   ****  *  Get token between index and index+1 DELIMETER
1003:str_merge.c   ****  * PARAMETERS
1004:str_merge.c   ****  *  string  [IN]
1005:str_merge.c   ****  *  index   [IN]
1006:str_merge.c   ****  *  buf     [OUT]
1007:str_merge.c   ****  * RETURNS
1008:str_merge.c   ****  *  void
1009:str_merge.c   ****  *****************************************************************************/
1010:str_merge.c   **** static void GetItem(wchar_t *string, int index, wchar_t *buf)
1011:str_merge.c   **** {
 1085              	LM98:
 1086 0455 55       		pushl	%ebp
 1087 0456 89E5     		movl	%esp, %ebp
 1088 0458 83EC18   		subl	$24, %esp
1012:str_merge.c   ****     /*----------------------------------------------------------------*/
1013:str_merge.c   ****     /* Local Variables                                                */
1014:str_merge.c   ****     /*----------------------------------------------------------------*/
1015:str_merge.c   ****     wchar_t *p1 = string;
 1090              	LM99:
 1091              	LBB11:
 1092 045b 8B4508   		movl	8(%ebp), %eax
 1093 045e 8945FC   		movl	%eax, -4(%ebp)
1016:str_merge.c   ****     wchar_t *p2 = wcsstr(string, DELIMETER);
 1095              	LM100:
 1096 0461 A1940100 		movl	_DELIMETER, %eax
 1096      00
 1097 0466 89442404 		movl	%eax, 4(%esp)
 1098 046a 8B4508   		movl	8(%ebp), %eax
 1099 046d 890424   		movl	%eax, (%esp)
 1100 0470 E8000000 		call	_wcsstr
 1100      00
 1101 0475 8945F8   		movl	%eax, -8(%ebp)
1017:str_merge.c   ****     int n = p2 - p1;
 1103              	LM101:
 1104 0478 8B55FC   		movl	-4(%ebp), %edx
 1105 047b 8B45F8   		movl	-8(%ebp), %eax
 1106 047e 29D0     		subl	%edx, %eax
 1107 0480 D1F8     		sarl	%eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 30


 1108 0482 8945F4   		movl	%eax, -12(%ebp)
1018:str_merge.c   **** 
1019:str_merge.c   ****     /*----------------------------------------------------------------*/
1020:str_merge.c   ****     /* Code Body                                                      */
1021:str_merge.c   ****     /*----------------------------------------------------------------*/
1022:str_merge.c   ****     ASSERT(p2 != NULL);
 1110              	LM102:
 1111 0485 837DF800 		cmpl	$0, -8(%ebp)
 1112 0489 7502     		jne	L79
 1113              	L76:
 1114 048b EBFE     		jmp	L76
 1115              	L79:
 1116 048d 90       		nop
1023:str_merge.c   ****     
1024:str_merge.c   ****     while (index > 0)
 1118              	LM103:
 1119              	L80:
 1120 048e 837D0C00 		cmpl	$0, 12(%ebp)
 1121 0492 7F02     		jg	L82
 1122 0494 EB3C     		jmp	L81
 1123              	L82:
1025:str_merge.c   ****     {
1026:str_merge.c   ****         p1 = p2 + 1;
 1125              	LM104:
 1126 0496 8B45F8   		movl	-8(%ebp), %eax
 1127 0499 83C002   		addl	$2, %eax
 1128 049c 8945FC   		movl	%eax, -4(%ebp)
1027:str_merge.c   ****         p2 = wcsstr(p1, DELIMETER);
 1130              	LM105:
 1131 049f A1940100 		movl	_DELIMETER, %eax
 1131      00
 1132 04a4 89442404 		movl	%eax, 4(%esp)
 1133 04a8 8B45FC   		movl	-4(%ebp), %eax
 1134 04ab 890424   		movl	%eax, (%esp)
 1135 04ae E8000000 		call	_wcsstr
 1135      00
 1136 04b3 8945F8   		movl	%eax, -8(%ebp)
1028:str_merge.c   ****         index--;
 1138              	LM106:
 1139 04b6 8D450C   		leal	12(%ebp), %eax
 1140 04b9 FF08     		decl	(%eax)
1029:str_merge.c   ****         if (p2 == NULL)
 1142              	LM107:
 1143 04bb 837DF800 		cmpl	$0, -8(%ebp)
 1144 04bf 7502     		jne	L83
1030:str_merge.c   ****             break;
 1146              	LM108:
 1147 04c1 EB0F     		jmp	L81
 1148              	L83:
1031:str_merge.c   ****         n = p2 - p1;
 1150              	LM109:
 1151 04c3 8B55FC   		movl	-4(%ebp), %edx
 1152 04c6 8B45F8   		movl	-8(%ebp), %eax
 1153 04c9 29D0     		subl	%edx, %eax
 1154 04cb D1F8     		sarl	%eax
 1155 04cd 8945F4   		movl	%eax, -12(%ebp)
 1156 04d0 EBBC     		jmp	L80
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 31


 1157              	L81:
1032:str_merge.c   ****     }
1033:str_merge.c   **** 
1034:str_merge.c   ****     if (index > 0)
 1159              	LM110:
 1160 04d2 837D0C00 		cmpl	$0, 12(%ebp)
 1161 04d6 7E0D     		jle	L84
1035:str_merge.c   ****     {
1036:str_merge.c   ****         buf[0] = L'\0';
 1163              	LM111:
 1164 04d8 8B4510   		movl	16(%ebp), %eax
 1165 04db 66C70000 		movw	$0, (%eax)
 1165      00
 1166 04e0 E9B30000 		jmp	L74
 1166      00
 1167              	L84:
1037:str_merge.c   ****     }
1038:str_merge.c   ****     else if (p2 == NULL)
 1169              	LM112:
 1170 04e5 837DF800 		cmpl	$0, -8(%ebp)
 1171 04e9 757D     		jne	L86
1039:str_merge.c   ****     {
1040:str_merge.c   ****         if (p1 == NULL)
 1173              	LM113:
 1174 04eb 837DFC00 		cmpl	$0, -4(%ebp)
 1175 04ef 7528     		jne	L87
1041:str_merge.c   ****         {
1042:str_merge.c   ****             STRMERG_LOG_E("GetItem p1 == NULL");
 1177              	LM114:
 1178 04f1 C7442408 		movl	$LC2, 8(%esp)
 1178      38040000 
 1179 04f9 C7442404 		movl	$LC3, 4(%esp)
 1179      4B040000 
 1180 0501 C7042403 		movl	$3, (%esp)
 1180      000000
 1181 0508 E8000000 		call	_reslog_adaptor_log
 1181      00
1043:str_merge.c   ****             exit(2);
 1183              	LM115:
 1184 050d C7042402 		movl	$2, (%esp)
 1184      000000
 1185 0514 E8000000 		call	_exit
 1185      00
 1186              	L87:
1044:str_merge.c   ****         }
1045:str_merge.c   ****         wcscpy(buf, p1);
 1188              	LM116:
 1189 0519 8B45FC   		movl	-4(%ebp), %eax
 1190 051c 89442404 		movl	%eax, 4(%esp)
 1191 0520 8B4510   		movl	16(%ebp), %eax
 1192 0523 890424   		movl	%eax, (%esp)
 1193 0526 E8000000 		call	_wcscpy
 1193      00
1046:str_merge.c   ****         n = wcsstr(p1, EOS) - p1;
 1195              	LM117:
 1196 052b A1980100 		movl	_EOS, %eax
 1196      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 32


 1197 0530 89442404 		movl	%eax, 4(%esp)
 1198 0534 8B45FC   		movl	-4(%ebp), %eax
 1199 0537 890424   		movl	%eax, (%esp)
 1200 053a E8000000 		call	_wcsstr
 1200      00
 1201 053f 2B45FC   		subl	-4(%ebp), %eax
 1202 0542 D1F8     		sarl	%eax
 1203 0544 8945F4   		movl	%eax, -12(%ebp)
1047:str_merge.c   ****         buf[n] = L'\0';
 1205              	LM118:
 1206 0547 8B45F4   		movl	-12(%ebp), %eax
 1207 054a 8D1400   		leal	(%eax,%eax), %edx
 1208 054d 8B4510   		movl	16(%ebp), %eax
 1209 0550 66C70410 		movw	$0, (%eax,%edx)
 1209      0000
1048:str_merge.c   ****         buf[n - 1] = L'\0';
 1211              	LM119:
 1212 0556 8B45F4   		movl	-12(%ebp), %eax
 1213 0559 01C0     		addl	%eax, %eax
 1214 055b 034510   		addl	16(%ebp), %eax
 1215 055e 83E802   		subl	$2, %eax
 1216 0561 66C70000 		movw	$0, (%eax)
 1216      00
 1217 0566 EB30     		jmp	L74
 1218              	L86:
1049:str_merge.c   ****     }
1050:str_merge.c   ****     else
1051:str_merge.c   ****     {
1052:str_merge.c   ****         ASSERT(p1 != NULL);
 1220              	LM120:
 1221 0568 837DFC00 		cmpl	$0, -4(%ebp)
 1222 056c 7502     		jne	L93
 1223              	L90:
 1224 056e EBFE     		jmp	L90
 1225              	L93:
1053:str_merge.c   ****         wcsncpy(buf, p1, n);
 1227              	LM121:
 1228 0570 8B45F4   		movl	-12(%ebp), %eax
 1229 0573 89442408 		movl	%eax, 8(%esp)
 1230 0577 8B45FC   		movl	-4(%ebp), %eax
 1231 057a 89442404 		movl	%eax, 4(%esp)
 1232 057e 8B4510   		movl	16(%ebp), %eax
 1233 0581 890424   		movl	%eax, (%esp)
 1234 0584 E8000000 		call	_wcsncpy
 1234      00
1054:str_merge.c   ****         buf[n] = L'\0';
 1236              	LM122:
 1237 0589 8B45F4   		movl	-12(%ebp), %eax
 1238 058c 8D1400   		leal	(%eax,%eax), %edx
 1239 058f 8B4510   		movl	16(%ebp), %eax
 1240 0592 66C70410 		movw	$0, (%eax,%edx)
 1240      0000
1055:str_merge.c   ****     }
1056:str_merge.c   **** }
 1242              	LM123:
 1243              	L74:
 1244 0598 C9       		leave
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 33


 1245 0599 C3       		ret
 1246              	LBE11:
 1252              	Lscope8:
 1254              		.align 2
 1255              	LC4:
 1256 059a 4E006F00 		.ascii "N\0o\0 \0T\0r\0a\0n\0s\0l\0a\0t\0i\0o\0n\0\0\0"
 1256      20005400 
 1256      72006100 
 1256      6E007300 
 1256      6C006100 
 1264              	_OutputFixColumns:
1057:str_merge.c   **** 
1058:str_merge.c   **** 
1059:str_merge.c   **** /*****************************************************************************
1060:str_merge.c   ****  * FUNCTION
1061:str_merge.c   ****  *  OutputFixColumns
1062:str_merge.c   ****  * DESCRIPTION
1063:str_merge.c   ****  *  Output content of fix columns to temp buffer
1064:str_merge.c   ****  * PARAMETERS
1065:str_merge.c   ****  *  linebuf     [IN]
1066:str_merge.c   ****  *  token_id    [IN OUT]
1067:str_merge.c   ****  *  itembuf     [IN]
1068:str_merge.c   ****  *  log_output  [OUT]
1069:str_merge.c   ****  *  ref_output  [OUT]
1070:str_merge.c   ****  * RETURNS
1071:str_merge.c   ****  *  void
1072:str_merge.c   ****  *****************************************************************************/
1073:str_merge.c   **** static void OutputFixColumns(wchar_t *linebuf, int *token_id, wchar_t *itembuf, 
1074:str_merge.c   ****                              wchar_t *log_output, wchar_t *ref_output)
1075:str_merge.c   **** {
 1266              	LM124:
 1267 05b8 55       		pushl	%ebp
 1268 05b9 89E5     		movl	%esp, %ebp
 1269 05bb 83EC18   		subl	$24, %esp
1076:str_merge.c   ****     GetItem(linebuf, (*token_id)++, itembuf);
 1271              	LM125:
 1272 05be 8B4510   		movl	16(%ebp), %eax
 1273 05c1 89442408 		movl	%eax, 8(%esp)
 1274 05c5 8B450C   		movl	12(%ebp), %eax
 1275 05c8 8B10     		movl	(%eax), %edx
 1276 05ca 89542404 		movl	%edx, 4(%esp)
 1277 05ce FF00     		incl	(%eax)
 1278 05d0 8B4508   		movl	8(%ebp), %eax
 1279 05d3 890424   		movl	%eax, (%esp)
 1280 05d6 E87AFEFF 		call	_GetItem
 1280      FF
1077:str_merge.c   ****     wcscat(log_output, L"\t");
 1282              	LM126:
 1283 05db C7442404 		movl	$LC0, 4(%esp)
 1283      48000000 
 1284 05e3 8B4514   		movl	20(%ebp), %eax
 1285 05e6 890424   		movl	%eax, (%esp)
 1286 05e9 E8000000 		call	_wcscat
 1286      00
1078:str_merge.c   ****     wcscat(log_output, itembuf);            /* print out Module Name */
 1288              	LM127:
 1289 05ee 8B4510   		movl	16(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 34


 1290 05f1 89442404 		movl	%eax, 4(%esp)
 1291 05f5 8B4514   		movl	20(%ebp), %eax
 1292 05f8 890424   		movl	%eax, (%esp)
 1293 05fb E8000000 		call	_wcscat
 1293      00
1079:str_merge.c   **** 
1080:str_merge.c   ****     GetItem(linebuf, (*token_id)++, itembuf);
 1295              	LM128:
 1296 0600 8B4510   		movl	16(%ebp), %eax
 1297 0603 89442408 		movl	%eax, 8(%esp)
 1298 0607 8B450C   		movl	12(%ebp), %eax
 1299 060a 8B10     		movl	(%eax), %edx
 1300 060c 89542404 		movl	%edx, 4(%esp)
 1301 0610 FF00     		incl	(%eax)
 1302 0612 8B4508   		movl	8(%ebp), %eax
 1303 0615 890424   		movl	%eax, (%esp)
 1304 0618 E838FEFF 		call	_GetItem
 1304      FF
1081:str_merge.c   ****     wcscat(log_output, L"\t");
 1306              	LM129:
 1307 061d C7442404 		movl	$LC0, 4(%esp)
 1307      48000000 
 1308 0625 8B4514   		movl	20(%ebp), %eax
 1309 0628 890424   		movl	%eax, (%esp)
 1310 062b E8000000 		call	_wcscat
 1310      00
1082:str_merge.c   ****     wcscat(log_output, itembuf);            /* print out Max String Length */
 1312              	LM130:
 1313 0630 8B4510   		movl	16(%ebp), %eax
 1314 0633 89442404 		movl	%eax, 4(%esp)
 1315 0637 8B4514   		movl	20(%ebp), %eax
 1316 063a 890424   		movl	%eax, (%esp)
 1317 063d E8000000 		call	_wcscat
 1317      00
1083:str_merge.c   **** 
1084:str_merge.c   ****     /* will copy back to reference string table */
1085:str_merge.c   ****     wcscpy(ref_output, log_output);
 1319              	LM131:
 1320 0642 8B4514   		movl	20(%ebp), %eax
 1321 0645 89442404 		movl	%eax, 4(%esp)
 1322 0649 8B4518   		movl	24(%ebp), %eax
 1323 064c 890424   		movl	%eax, (%esp)
 1324 064f E8000000 		call	_wcscpy
 1324      00
1086:str_merge.c   **** 
1087:str_merge.c   ****     GetItem(linebuf, (*token_id)++, itembuf);
 1326              	LM132:
 1327 0654 8B4510   		movl	16(%ebp), %eax
 1328 0657 89442408 		movl	%eax, 8(%esp)
 1329 065b 8B450C   		movl	12(%ebp), %eax
 1330 065e 8B10     		movl	(%eax), %edx
 1331 0660 89542404 		movl	%edx, 4(%esp)
 1332 0664 FF00     		incl	(%eax)
 1333 0666 8B4508   		movl	8(%ebp), %eax
 1334 0669 890424   		movl	%eax, (%esp)
 1335 066c E8E4FDFF 		call	_GetItem
 1335      FF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 35


1088:str_merge.c   ****     wcscat(log_output, L"\t");
 1337              	LM133:
 1338 0671 C7442404 		movl	$LC0, 4(%esp)
 1338      48000000 
 1339 0679 8B4514   		movl	20(%ebp), %eax
 1340 067c 890424   		movl	%eax, (%esp)
 1341 067f E8000000 		call	_wcscat
 1341      00
1089:str_merge.c   ****     wcscat(log_output, L"No Translation");  /* print out description */
 1343              	LM134:
 1344 0684 C7442404 		movl	$LC4, 4(%esp)
 1344      9A050000 
 1345 068c 8B4514   		movl	20(%ebp), %eax
 1346 068f 890424   		movl	%eax, (%esp)
 1347 0692 E8000000 		call	_wcscat
 1347      00
1090:str_merge.c   **** 
1091:str_merge.c   ****     /* will copy back to reference string table */
1092:str_merge.c   ****     wcscat(ref_output, L"\t");
 1349              	LM135:
 1350 0697 C7442404 		movl	$LC0, 4(%esp)
 1350      48000000 
 1351 069f 8B4518   		movl	24(%ebp), %eax
 1352 06a2 890424   		movl	%eax, (%esp)
 1353 06a5 E8000000 		call	_wcscat
 1353      00
1093:str_merge.c   ****     wcscat(ref_output, itembuf);
 1355              	LM136:
 1356 06aa 8B4510   		movl	16(%ebp), %eax
 1357 06ad 89442404 		movl	%eax, 4(%esp)
 1358 06b1 8B4518   		movl	24(%ebp), %eax
 1359 06b4 890424   		movl	%eax, (%esp)
 1360 06b7 E8000000 		call	_wcscat
 1360      00
1094:str_merge.c   **** }
 1362              	LM137:
 1363 06bc C9       		leave
 1364 06bd C3       		ret
 1365              	Lscope9:
 1367 06be 89F6     		.align 32
 1368              	LC5:
 1369 06c0 6D656D6F 		.ascii "memory not available!! GetLineBufLength\0"
 1369      7279206E 
 1369      6F742061 
 1369      7661696C 
 1369      61626C65 
 1374              	_GetLineBufLength:
1095:str_merge.c   **** 
1096:str_merge.c   **** 
1097:str_merge.c   **** /*****************************************************************************
1098:str_merge.c   ****  * FUNCTION
1099:str_merge.c   ****  *  GetLineBufLength
1100:str_merge.c   ****  * DESCRIPTION
1101:str_merge.c   ****  *  Find the max chars(including NULL char) of each line in ref_list, in order to reduce memory con
1102:str_merge.c   ****  * PARAMETERS
1103:str_merge.c   ****  *  void
1104:str_merge.c   ****  * RETURNS
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 36


1105:str_merge.c   ****  *  Max chars of each line in ref_list
1106:str_merge.c   ****  *****************************************************************************/
1107:str_merge.c   **** static int GetLineBufLength(FILE *ref_list_file, int lang_count)
1108:str_merge.c   **** {
 1376              	LM138:
 1377 06e8 55       		pushl	%ebp
 1378 06e9 89E5     		movl	%esp, %ebp
 1379 06eb 83EC28   		subl	$40, %esp
1109:str_merge.c   ****     wchar_t *temp_buf = NULL; /* line buffer */
 1381              	LM139:
 1382              	LBB12:
 1383 06ee C745FC00 		movl	$0, -4(%ebp)
 1383      000000
1110:str_merge.c   ****     int max_line_char_count; /* including NULL char */
1111:str_merge.c   ****     int max_line_buf_length = 0;
 1385              	LM140:
 1386 06f5 C745F400 		movl	$0, -12(%ebp)
 1386      000000
1112:str_merge.c   ****     int tmp;
1113:str_merge.c   ****     
1114:str_merge.c   **** #ifdef MEM_LIST_INFO_STATS
1115:str_merge.c   ****     int length_stats[MEM_STATS_ITEM_LENGTH] = {0};
1116:str_merge.c   ****     int length_index = 0;
1117:str_merge.c   **** #endif /*MEM_LIST_INFO_STATS*/
1118:str_merge.c   **** 
1119:str_merge.c   ****     /* 
1120:str_merge.c   ****      * calculate line buffer size 
1121:str_merge.c   ****      * here +2 for Description, and (Max String Length, MODULE, ENUM)
1122:str_merge.c   ****      */    
1123:str_merge.c   ****     max_line_char_count = (lang_count + 2) * MAX_LENGTH;
 1388              	LM141:
 1389 06fc 8B450C   		movl	12(%ebp), %eax
 1390 06ff C1E009   		sall	$9, %eax
 1391 0702 05000400 		addl	$1024, %eax
 1391      00
 1392 0707 8945F8   		movl	%eax, -8(%ebp)
1124:str_merge.c   ****     temp_buf = (wchar_t *)malloc(max_line_char_count * sizeof(wchar_t));
 1394              	LM142:
 1395 070a 8B45F8   		movl	-8(%ebp), %eax
 1396 070d 01C0     		addl	%eax, %eax
 1397 070f 890424   		movl	%eax, (%esp)
 1398 0712 E8000000 		call	_malloc
 1398      00
 1399 0717 8945FC   		movl	%eax, -4(%ebp)
1125:str_merge.c   ****     if (temp_buf == NULL)
 1401              	LM143:
 1402 071a 837DFC00 		cmpl	$0, -4(%ebp)
 1403 071e 7528     		jne	L96
1126:str_merge.c   ****     {
1127:str_merge.c   ****         STRMERG_LOG_E("memory not available!! GetLineBufLength");
 1405              	LM144:
 1406 0720 C7442408 		movl	$LC5, 8(%esp)
 1406      C0060000 
 1407 0728 C7442404 		movl	$LC3, 4(%esp)
 1407      4B040000 
 1408 0730 C7042403 		movl	$3, (%esp)
 1408      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 37


 1409 0737 E8000000 		call	_reslog_adaptor_log
 1409      00
1128:str_merge.c   ****         exit(2);
 1411              	LM145:
 1412 073c C7042402 		movl	$2, (%esp)
 1412      000000
 1413 0743 E8000000 		call	_exit
 1413      00
 1414              	L96:
 1415 0748 90       		nop
1129:str_merge.c   ****     }
1130:str_merge.c   ****     while (!feof(ref_list_file))
 1417              	LM146:
 1418              	L97:
 1419 0749 8B4508   		movl	8(%ebp), %eax
 1420 074c 890424   		movl	%eax, (%esp)
 1421 074f E8000000 		call	_feof
 1421      00
 1422 0754 85C0     		testl	%eax, %eax
 1423 0756 7402     		je	L99
 1424 0758 EB38     		jmp	L98
 1425              	L99:
1131:str_merge.c   ****     {
1132:str_merge.c   ****         /* get a line of string */
1133:str_merge.c   ****         fgetws(temp_buf, max_line_char_count, ref_list_file);  
 1427              	LM147:
 1428 075a 8B4508   		movl	8(%ebp), %eax
 1429 075d 89442408 		movl	%eax, 8(%esp)
 1430 0761 8B45F8   		movl	-8(%ebp), %eax
 1431 0764 89442404 		movl	%eax, 4(%esp)
 1432 0768 8B45FC   		movl	-4(%ebp), %eax
 1433 076b 890424   		movl	%eax, (%esp)
 1434 076e E8000000 		call	_fgetws
 1434      00
1134:str_merge.c   ****         tmp = wcslen(temp_buf) + 1;
 1436              	LM148:
 1437 0773 8B45FC   		movl	-4(%ebp), %eax
 1438 0776 890424   		movl	%eax, (%esp)
 1439 0779 E8000000 		call	_wcslen
 1439      00
 1440 077e 40       		incl	%eax
 1441 077f 8945F0   		movl	%eax, -16(%ebp)
1135:str_merge.c   ****         if (max_line_buf_length < tmp)
 1443              	LM149:
 1444 0782 8B45F4   		movl	-12(%ebp), %eax
 1445 0785 3B45F0   		cmpl	-16(%ebp), %eax
 1446 0788 7DBF     		jge	L97
1136:str_merge.c   ****         {
1137:str_merge.c   ****             max_line_buf_length = tmp;    
 1448              	LM150:
 1449 078a 8B45F0   		movl	-16(%ebp), %eax
 1450 078d 8945F4   		movl	%eax, -12(%ebp)
 1451 0790 EBB7     		jmp	L97
 1452              	L98:
1138:str_merge.c   ****         }
1139:str_merge.c   **** 
1140:str_merge.c   **** #ifdef MEM_LIST_INFO_STATS
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 38


1141:str_merge.c   ****     	/* Memory usage statistics of each language string line 
1142:str_merge.c   ****             in ref_list loaded
1143:str_merge.c   ****         */
1144:str_merge.c   **** 	length_index = (int)(tmp/MEM_STATS_ITEM_LENGTH);
1145:str_merge.c   **** 	if(length_index >= MEM_STATS_ITEM_MAX)
1146:str_merge.c   ****         {
1147:str_merge.c   **** 	    length_index = MEM_STATS_ITEM_MAX-1;
1148:str_merge.c   ****         }
1149:str_merge.c   **** 	length_stats[length_index]++;
1150:str_merge.c   **** 
1151:str_merge.c   ****         if(tmp > MEM_STATS_ITEM_LENGTH)
1152:str_merge.c   ****         {
1153:str_merge.c   ****             STRMERG_LOG_V("\n[%d]: %d\t", length_index * MEM_STATS_ITEM_LENGTH, tmp);
1154:str_merge.c   ****             STRMERG_WLOG_V(L"%ls",temp_buf);
1155:str_merge.c   ****         }
1156:str_merge.c   **** #endif /*MEM_LIST_INFO_STATS*/
1157:str_merge.c   ****     } 
1158:str_merge.c   **** 	
1159:str_merge.c   **** #ifdef MEM_LIST_INFO_STATS
1160:str_merge.c   ****     /* Show the memory usage statistics of string lines in ref_list */
1161:str_merge.c   ****     STRMERG_LOG_V("\nSummary of String line length:");
1162:str_merge.c   ****   
1163:str_merge.c   ****     for(length_index = 0; length_index < MEM_STATS_ITEM_MAX; length_index++)
1164:str_merge.c   ****     {
1165:str_merge.c   ****         STRMERG_LOG_V("[%d]: %d", length_index * MEM_STATS_ITEM_LENGTH, length_stats[length_index])
1166:str_merge.c   ****       
1167:str_merge.c   ****      }
1168:str_merge.c   **** #endif /*MEM_LIST_INFO_STATS*/
1169:str_merge.c   ****   
1170:str_merge.c   ****     free(temp_buf);
 1454              	LM151:
 1455 0792 8B45FC   		movl	-4(%ebp), %eax
 1456 0795 890424   		movl	%eax, (%esp)
 1457 0798 E8000000 		call	_free
 1457      00
1171:str_merge.c   ****     return max_line_buf_length;
 1459              	LM152:
 1460 079d 8B45F4   		movl	-12(%ebp), %eax
1172:str_merge.c   **** }
 1462              	LM153:
 1463 07a0 C9       		leave
 1464 07a1 C3       		ret
 1465              	LBE12:
 1472              	Lscope10:
 1474              	LC6:
 1475 07a2 2A233030 		.ascii "*#0044#\0"
 1475      34342300 
 1478              	_en_language_is_open:
1173:str_merge.c   **** 
1174:str_merge.c   **** 
1175:str_merge.c   **** /*****************************************************************************
1176:str_merge.c   ****  * FUNCTION
1177:str_merge.c   ****  *  en_language_is_open
1178:str_merge.c   ****  * DESCRIPTION
1179:str_merge.c   ****  *  check if english language is open or not 
1180:str_merge.c   ****  * PARAMETERS
1181:str_merge.c   ****  *  svoid
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 39


1182:str_merge.c   ****  * RETURNS
1183:str_merge.c   ****  *  Return TRUE if english is open, otherwise, return FALSE
1184:str_merge.c   ****  *****************************************************************************/
1185:str_merge.c   **** static BOOL en_language_is_open(void)
1186:str_merge.c   **** {
 1480              	LM154:
 1481 07aa 55       		pushl	%ebp
 1482 07ab 89E5     		movl	%esp, %ebp
 1483 07ad 83EC18   		subl	$24, %esp
1187:str_merge.c   ****     int i = 0;
 1485              	LM155:
 1486              	LBB13:
 1487 07b0 C745FC00 		movl	$0, -4(%ebp)
 1487      000000
1188:str_merge.c   ****     char *en = "*#0044#";
 1489              	LM156:
 1490 07b7 C745F8A2 		movl	$LC6, -8(%ebp)
 1490      070000
1189:str_merge.c   **** 
1190:str_merge.c   ****     for(i = 0; i < mtk_gMaxDeployedLangs; ++i)
 1492              	LM157:
 1493 07be C745FC00 		movl	$0, -4(%ebp)
 1493      000000
 1494              	L102:
 1495 07c5 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 1495      000000
 1496 07cc 3945FC   		cmpl	%eax, -4(%ebp)
 1497 07cf 7C02     		jl	L105
 1498 07d1 EB34     		jmp	L103
 1499              	L105:
1191:str_merge.c   ****     {
1192:str_merge.c   ****         if(strcmp(mtk_gLanguageArray[i].aLangSSC, en) == 0)
 1501              	LM158:
 1502 07d3 8B45F8   		movl	-8(%ebp), %eax
 1503 07d6 89442404 		movl	%eax, 4(%esp)
 1504 07da 8B55FC   		movl	-4(%ebp), %edx
 1505 07dd 89D0     		movl	%edx, %eax
 1506 07df C1E005   		sall	$5, %eax
 1507 07e2 29D0     		subl	%edx, %eax
 1508 07e4 01C0     		addl	%eax, %eax
 1509 07e6 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 1509      00
 1510 07eb 890424   		movl	%eax, (%esp)
 1511 07ee E8000000 		call	_strcmp
 1511      00
 1512 07f3 85C0     		testl	%eax, %eax
 1513 07f5 7509     		jne	L104
1193:str_merge.c   ****         {
1194:str_merge.c   ****             return TRUE;
 1515              	LM159:
 1516 07f7 C745F401 		movl	$1, -12(%ebp)
 1516      000000
 1517 07fe EB0E     		jmp	L101
 1519              	LM160:
 1520              	L104:
 1521 0800 8D45FC   		leal	-4(%ebp), %eax
 1522 0803 FF00     		incl	(%eax)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 40


 1523 0805 EBBE     		jmp	L102
 1524              	L103:
1195:str_merge.c   ****         }
1196:str_merge.c   ****     }
1197:str_merge.c   **** 
1198:str_merge.c   ****     return FALSE;
 1526              	LM161:
 1527 0807 C745F400 		movl	$0, -12(%ebp)
 1527      000000
1199:str_merge.c   **** }
 1529              	LM162:
 1530              	L101:
 1531              	LBE13:
 1532 080e 8B45F4   		movl	-12(%ebp), %eax
 1533 0811 C9       		leave
 1534 0812 C3       		ret
 1539              	Lscope11:
 1541 0813 90       		.align 2
 1542              	LC7:
 1543 0814 2A002300 		.ascii "*\0#\0"
 1544 0818 3000     		.ascii "0\0"
 1545 081a 3000     		.ascii "0\0"
 1546 081c 3400     		.ascii "4\0"
 1547 081e 34002300 		.ascii "4\0#\0\0\0"
 1547      0000
 1553              	_get_language_in_ssc_index:
1200:str_merge.c   **** 
1201:str_merge.c   **** 
1202:str_merge.c   **** /*****************************************************************************
1203:str_merge.c   ****  * FUNCTION
1204:str_merge.c   ****  *  get_language_in_ssc_index
1205:str_merge.c   ****  * DESCRIPTION
1206:str_merge.c   ****  *  get the column index that deployed language in ref list 
1207:str_merge.c   ****  * PARAMETERS
1208:str_merge.c   ****  *  ssc         :[IN]  ssc string of ref list
1209:str_merge.c   ****  *  index       :[OUT] column index that deployed language in ref list
1210:str_merge.c   ****  *  lang_count  :[IN] language total count
1211:str_merge.c   ****  * RETURNS
1212:str_merge.c   ****  *  Return 0 on success, otherwise, return -1
1213:str_merge.c   ****  *****************************************************************************/
1214:str_merge.c   **** static void get_language_in_ssc_index(const wchar_t* ssc, int **index, int lang_count)
1215:str_merge.c   **** {
 1555              	LM163:
 1556 0824 55       		pushl	%ebp
 1557 0825 89E5     		movl	%esp, %ebp
 1558 0827 83EC28   		subl	$40, %esp
1216:str_merge.c   ****     int j = 0, k = 0;
 1560              	LM164:
 1561              	LBB14:
 1562 082a C745FC00 		movl	$0, -4(%ebp)
 1562      000000
 1563 0831 C745F800 		movl	$0, -8(%ebp)
 1563      000000
1217:str_merge.c   ****     wchar_t *tok = NULL;
 1565              	LM165:
 1566 0838 C745F400 		movl	$0, -12(%ebp)
 1566      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 41


1218:str_merge.c   ****     wchar_t *en = L"*#0044#";
 1568              	LM166:
 1569 083f C745F014 		movl	$LC7, -16(%ebp)
 1569      080000
1219:str_merge.c   ****     int LangIndex = 0;
 1571              	LM167:
 1572 0846 C745EC00 		movl	$0, -20(%ebp)
 1572      000000
1220:str_merge.c   ****     int en_index = -1;
 1574              	LM168:
 1575 084d C745E8FF 		movl	$-1, -24(%ebp)
 1575      FFFFFF
1221:str_merge.c   ****     int count = 0;
 1577              	LM169:
 1578 0854 C745E400 		movl	$0, -28(%ebp)
 1578      000000
1222:str_merge.c   ****     /*g_line_buf_length has been initialized here*/
1223:str_merge.c   ****     wchar_t *rssc = NULL;
 1580              	LM170:
 1581 085b C745E000 		movl	$0, -32(%ebp)
 1581      000000
1224:str_merge.c   **** 
1225:str_merge.c   ****     rssc = (wchar_t*)malloc(g_line_buf_length * sizeof(wchar_t));
 1583              	LM171:
 1584 0862 A1280000 		movl	_g_line_buf_length, %eax
 1584      00
 1585 0867 01C0     		addl	%eax, %eax
 1586 0869 890424   		movl	%eax, (%esp)
 1587 086c E8000000 		call	_malloc
 1587      00
 1588 0871 8945E0   		movl	%eax, -32(%ebp)
1226:str_merge.c   **** 
1227:str_merge.c   ****     if(ssc == NULL || index == NULL || rssc == NULL)
 1590              	LM172:
 1591 0874 837D0800 		cmpl	$0, 8(%ebp)
 1592 0878 0F843C02 		je	L107
 1592      0000
 1593 087e 837D0C00 		cmpl	$0, 12(%ebp)
 1594 0882 0F843202 		je	L107
 1594      0000
 1595 0888 837DE000 		cmpl	$0, -32(%ebp)
 1596 088c 7505     		jne	L108
1228:str_merge.c   ****     {
1229:str_merge.c   ****         return;
 1598              	LM173:
 1599 088e E9270200 		jmp	L107
 1599      00
 1600              	L108:
1230:str_merge.c   ****     }
1231:str_merge.c   **** 
1232:str_merge.c   ****     /*skip the fist 4 column header*/
1233:str_merge.c   ****     wcscpy(rssc, ssc);
 1602              	LM174:
 1603 0893 8B4508   		movl	8(%ebp), %eax
 1604 0896 89442404 		movl	%eax, 4(%esp)
 1605 089a 8B45E0   		movl	-32(%ebp), %eax
 1606 089d 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 42


 1607 08a0 E8000000 		call	_wcscpy
 1607      00
1234:str_merge.c   ****     tok = wcstok(rssc, DELIMETER);	 /* ENUM */
 1609              	LM175:
 1610 08a5 A1940100 		movl	_DELIMETER, %eax
 1610      00
 1611 08aa 89442404 		movl	%eax, 4(%esp)
 1612 08ae 8B45E0   		movl	-32(%ebp), %eax
 1613 08b1 890424   		movl	%eax, (%esp)
 1614 08b4 E8000000 		call	_wcstok
 1614      00
 1615 08b9 8945F4   		movl	%eax, -12(%ebp)
1235:str_merge.c   ****     tok = wcstok(NULL, DELIMETER);		/* MODULE NAME */
 1617              	LM176:
 1618 08bc A1940100 		movl	_DELIMETER, %eax
 1618      00
 1619 08c1 89442404 		movl	%eax, 4(%esp)
 1620 08c5 C7042400 		movl	$0, (%esp)
 1620      000000
 1621 08cc E8000000 		call	_wcstok
 1621      00
 1622 08d1 8945F4   		movl	%eax, -12(%ebp)
1236:str_merge.c   ****     tok = wcstok(NULL, DELIMETER);		/* MAX LENGTH */
 1624              	LM177:
 1625 08d4 A1940100 		movl	_DELIMETER, %eax
 1625      00
 1626 08d9 89442404 		movl	%eax, 4(%esp)
 1627 08dd C7042400 		movl	$0, (%esp)
 1627      000000
 1628 08e4 E8000000 		call	_wcstok
 1628      00
 1629 08e9 8945F4   		movl	%eax, -12(%ebp)
1237:str_merge.c   ****     tok = wcstok(NULL, DELIMETER);		/* DESCRIPTION */
 1631              	LM178:
 1632 08ec A1940100 		movl	_DELIMETER, %eax
 1632      00
 1633 08f1 89442404 		movl	%eax, 4(%esp)
 1634 08f5 C7042400 		movl	$0, (%esp)
 1634      000000
 1635 08fc E8000000 		call	_wcstok
 1635      00
 1636 0901 8945F4   		movl	%eax, -12(%ebp)
1238:str_merge.c   **** 
1239:str_merge.c   ****     for (j = 4; j < lang_count + 4; j++) /*a little tricky*/
 1638              	LM179:
 1639 0904 C745FC04 		movl	$4, -4(%ebp)
 1639      000000
 1640              	L110:
 1641 090b 8B4510   		movl	16(%ebp), %eax
 1642 090e 83C004   		addl	$4, %eax
 1643 0911 3945FC   		cmpl	%eax, -4(%ebp)
 1644 0914 7C02     		jl	L113
 1645 0916 EB63     		jmp	L111
 1646              	L113:
1240:str_merge.c   ****     {
1241:str_merge.c   ****         /* change to corresponding language column according to j */
1242:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 43


 1648              	LM180:
 1649 0918 A1940100 		movl	_DELIMETER, %eax
 1649      00
 1650 091d 89442404 		movl	%eax, 4(%esp)
 1651 0921 C7042400 		movl	$0, (%esp)
 1651      000000
 1652 0928 E8000000 		call	_wcstok
 1652      00
 1653 092d 8945F4   		movl	%eax, -12(%ebp)
1243:str_merge.c   **** 
1244:str_merge.c   ****         ASSERT(tok != NULL);
 1655              	LM181:
 1656 0930 837DF400 		cmpl	$0, -12(%ebp)
 1657 0934 7502     		jne	L118
 1658              	L115:
 1659 0936 EBFE     		jmp	L115
 1660              	L118:
1245:str_merge.c   ****         LangIndex = ifLanguageUsed(tok);
 1662              	LM182:
 1663 0938 8B45F4   		movl	-12(%ebp), %eax
 1664 093b 890424   		movl	%eax, (%esp)
 1665 093e E8DA2000 		call	_ifLanguageUsed
 1665      00
 1666 0943 8945EC   		movl	%eax, -20(%ebp)
1246:str_merge.c   **** 
1247:str_merge.c   ****         if (LangIndex < 0) /* the language is not used in font resource */
 1668              	LM183:
 1669 0946 837DEC00 		cmpl	$0, -20(%ebp)
 1670 094a 7902     		jns	L119
1248:str_merge.c   ****             continue;
 1672              	LM184:
 1673 094c EB26     		jmp	L112
 1674              	L119:
1249:str_merge.c   **** 
1250:str_merge.c   ****         index[count++] = j;
 1676              	LM185:
 1677 094e 8B45E4   		movl	-28(%ebp), %eax
 1678 0951 8D0C8500 		leal	0(,%eax,4), %ecx
 1678      000000
 1679 0958 8B550C   		movl	12(%ebp), %edx
 1680 095b 8B45FC   		movl	-4(%ebp), %eax
 1681 095e 89040A   		movl	%eax, (%edx,%ecx)
 1682 0961 8D45E4   		leal	-28(%ebp), %eax
 1683 0964 FF00     		incl	(%eax)
1251:str_merge.c   **** 
1252:str_merge.c   ****         /*if all language has been searched, we will return*/
1253:str_merge.c   ****         if(count == mtk_gMaxDeployedLangs)
 1685              	LM186:
 1686 0966 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 1686      000000
 1687 096d 3945E4   		cmpl	%eax, -28(%ebp)
 1688 0970 7502     		jne	L112
1254:str_merge.c   ****             break;
 1690              	LM187:
 1691 0972 EB07     		jmp	L111
 1693              	LM188:
 1694              	L112:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 44


 1695 0974 8D45FC   		leal	-4(%ebp), %eax
 1696 0977 FF00     		incl	(%eax)
 1697 0979 EB90     		jmp	L110
 1698              	L111:
1255:str_merge.c   ****     }
1256:str_merge.c   **** 
1257:str_merge.c   ****     /*if english is not opened, insert english order into index*/
1258:str_merge.c   ****     if(!en_language_is_open())
 1700              	LM189:
 1701 097b E82AFEFF 		call	_en_language_is_open
 1701      FF
 1702 0980 85C0     		testl	%eax, %eax
 1703 0982 0F852701 		jne	L121
 1703      0000
1259:str_merge.c   ****     {
1260:str_merge.c   ****         /*find english index in ssc*/
1261:str_merge.c   ****         wcscpy(rssc, ssc);
 1705              	LM190:
 1706 0988 8B4508   		movl	8(%ebp), %eax
 1707 098b 89442404 		movl	%eax, 4(%esp)
 1708 098f 8B45E0   		movl	-32(%ebp), %eax
 1709 0992 890424   		movl	%eax, (%esp)
 1710 0995 E8000000 		call	_wcscpy
 1710      00
1262:str_merge.c   ****         tok = wcstok(rssc, DELIMETER);	 /* ENUM */
 1712              	LM191:
 1713 099a A1940100 		movl	_DELIMETER, %eax
 1713      00
 1714 099f 89442404 		movl	%eax, 4(%esp)
 1715 09a3 8B45E0   		movl	-32(%ebp), %eax
 1716 09a6 890424   		movl	%eax, (%esp)
 1717 09a9 E8000000 		call	_wcstok
 1717      00
 1718 09ae 8945F4   		movl	%eax, -12(%ebp)
1263:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);		/* MODULE NAME */
 1720              	LM192:
 1721 09b1 A1940100 		movl	_DELIMETER, %eax
 1721      00
 1722 09b6 89442404 		movl	%eax, 4(%esp)
 1723 09ba C7042400 		movl	$0, (%esp)
 1723      000000
 1724 09c1 E8000000 		call	_wcstok
 1724      00
 1725 09c6 8945F4   		movl	%eax, -12(%ebp)
1264:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);		/* MAX LENGTH */
 1727              	LM193:
 1728 09c9 A1940100 		movl	_DELIMETER, %eax
 1728      00
 1729 09ce 89442404 		movl	%eax, 4(%esp)
 1730 09d2 C7042400 		movl	$0, (%esp)
 1730      000000
 1731 09d9 E8000000 		call	_wcstok
 1731      00
 1732 09de 8945F4   		movl	%eax, -12(%ebp)
1265:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);		/* DESCRIPTION */
 1734              	LM194:
 1735 09e1 A1940100 		movl	_DELIMETER, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 45


 1735      00
 1736 09e6 89442404 		movl	%eax, 4(%esp)
 1737 09ea C7042400 		movl	$0, (%esp)
 1737      000000
 1738 09f1 E8000000 		call	_wcstok
 1738      00
 1739 09f6 8945F4   		movl	%eax, -12(%ebp)
1266:str_merge.c   **** 
1267:str_merge.c   ****         /*get the index of english in ssc*/
1268:str_merge.c   ****         for(j = 4; j < lang_count + 4; j++)
 1741              	LM195:
 1742 09f9 C745FC04 		movl	$4, -4(%ebp)
 1742      000000
 1743              	L122:
 1744 0a00 8B4510   		movl	16(%ebp), %eax
 1745 0a03 83C004   		addl	$4, %eax
 1746 0a06 3945FC   		cmpl	%eax, -4(%ebp)
 1747 0a09 7C02     		jl	L125
 1748 0a0b EB45     		jmp	L123
 1749              	L125:
1269:str_merge.c   ****         {
1270:str_merge.c   ****             tok = wcstok(NULL, DELIMETER);
 1751              	LM196:
 1752 0a0d A1940100 		movl	_DELIMETER, %eax
 1752      00
 1753 0a12 89442404 		movl	%eax, 4(%esp)
 1754 0a16 C7042400 		movl	$0, (%esp)
 1754      000000
 1755 0a1d E8000000 		call	_wcstok
 1755      00
 1756 0a22 8945F4   		movl	%eax, -12(%ebp)
1271:str_merge.c   **** 
1272:str_merge.c   ****             ASSERT(tok != NULL);
 1758              	LM197:
 1759 0a25 837DF400 		cmpl	$0, -12(%ebp)
 1760 0a29 7502     		jne	L130
 1761              	L127:
 1762 0a2b EBFE     		jmp	L127
 1763              	L130:
1273:str_merge.c   ****             if(wcscmp(tok, en) == 0)
 1765              	LM198:
 1766 0a2d 8B45F0   		movl	-16(%ebp), %eax
 1767 0a30 89442404 		movl	%eax, 4(%esp)
 1768 0a34 8B45F4   		movl	-12(%ebp), %eax
 1769 0a37 890424   		movl	%eax, (%esp)
 1770 0a3a E8000000 		call	_wcscmp
 1770      00
 1771 0a3f 85C0     		testl	%eax, %eax
 1772 0a41 7508     		jne	L124
1274:str_merge.c   ****             {
1275:str_merge.c   ****                 en_index = j;
 1774              	LM199:
 1775 0a43 8B45FC   		movl	-4(%ebp), %eax
 1776 0a46 8945E8   		movl	%eax, -24(%ebp)
1276:str_merge.c   ****                 break;
 1778              	LM200:
 1779 0a49 EB07     		jmp	L123
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 46


 1781              	LM201:
 1782              	L124:
 1783 0a4b 8D45FC   		leal	-4(%ebp), %eax
 1784 0a4e FF00     		incl	(%eax)
 1785 0a50 EBAE     		jmp	L122
 1786              	L123:
1277:str_merge.c   ****             }
1278:str_merge.c   ****         }
1279:str_merge.c   **** 
1280:str_merge.c   ****         /*insert en_index into index and keep increase order*/
1281:str_merge.c   ****         for(j = mtk_gMaxDeployedLangs; j > 0; --j)
 1788              	LM202:
 1789 0a52 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 1789      000000
 1790 0a59 8945FC   		movl	%eax, -4(%ebp)
 1791              	L132:
 1792 0a5c 837DFC00 		cmpl	$0, -4(%ebp)
 1793 0a60 7F02     		jg	L135
 1794 0a62 EB38     		jmp	L133
 1795              	L135:
1282:str_merge.c   ****         {
1283:str_merge.c   ****             if(en_index < index[j - 1])
 1797              	LM203:
 1798 0a64 8B45FC   		movl	-4(%ebp), %eax
 1799 0a67 C1E002   		sall	$2, %eax
 1800 0a6a 03450C   		addl	12(%ebp), %eax
 1801 0a6d 8D50FC   		leal	-4(%eax), %edx
 1802 0a70 8B45E8   		movl	-24(%ebp), %eax
 1803 0a73 3B02     		cmpl	(%edx), %eax
 1804 0a75 7325     		jae	L133
1284:str_merge.c   ****                 index[j] = index[j - 1];
 1806              	LM204:
 1807 0a77 8B45FC   		movl	-4(%ebp), %eax
 1808 0a7a 8D148500 		leal	0(,%eax,4), %edx
 1808      000000
 1809 0a81 8B4D0C   		movl	12(%ebp), %ecx
 1810 0a84 8B45FC   		movl	-4(%ebp), %eax
 1811 0a87 C1E002   		sall	$2, %eax
 1812 0a8a 03450C   		addl	12(%ebp), %eax
 1813 0a8d 83E804   		subl	$4, %eax
 1814 0a90 8B00     		movl	(%eax), %eax
 1815 0a92 890411   		movl	%eax, (%ecx,%edx)
 1817              	LM205:
 1818 0a95 8D45FC   		leal	-4(%ebp), %eax
 1819 0a98 FF08     		decl	(%eax)
 1820 0a9a EBC0     		jmp	L132
 1821              	L133:
1285:str_merge.c   ****             else
1286:str_merge.c   ****                 break;
1287:str_merge.c   ****         }
1288:str_merge.c   ****         index[j] = en_index;
 1823              	LM206:
 1824 0a9c 8B45FC   		movl	-4(%ebp), %eax
 1825 0a9f 8D0C8500 		leal	0(,%eax,4), %ecx
 1825      000000
 1826 0aa6 8B550C   		movl	12(%ebp), %edx
 1827 0aa9 8B45E8   		movl	-24(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 47


 1828 0aac 89040A   		movl	%eax, (%edx,%ecx)
 1829              	L121:
1289:str_merge.c   ****     }
1290:str_merge.c   **** 
1291:str_merge.c   ****     free(rssc);
 1831              	LM207:
 1832 0aaf 8B45E0   		movl	-32(%ebp), %eax
 1833 0ab2 890424   		movl	%eax, (%esp)
 1834 0ab5 E8000000 		call	_free
 1834      00
1292:str_merge.c   **** }
 1836              	LM208:
 1837              	L107:
 1838 0aba C9       		leave
 1839 0abb C3       		ret
 1840              	LBE14:
 1851              	Lscope12:
 1853              		.align 2
 1854              	LC8:
 1855 0abc 0D000A00 		.ascii "\15\0\12\0\0\0\0\0"
 1855      00000000 
 1862              	_filter_raw_string:
1293:str_merge.c   **** 
1294:str_merge.c   **** 
1295:str_merge.c   **** /*****************************************************************************
1296:str_merge.c   ****  * FUNCTION
1297:str_merge.c   ****  *  filter_raw_string
1298:str_merge.c   ****  * DESCRIPTION
1299:str_merge.c   ****  *  filter not used fieled, only reserve the first 5 column and opened language
1300:str_merge.c   ****  *
1301:str_merge.c   ****  * PARAMETERS
1302:str_merge.c   ****  *  in_data      :[IN]  one line of ref_list.txt
1303:str_merge.c   ****  *  out_data    :[OUT] column index that deployed language in ref list
1304:str_merge.c   ****  *  index         :[IN] index array that open language in ssc
1305:str_merge.c   ****  *  total_lang   :[IN] total language count
1306:str_merge.c   ****  * RETURNS
1307:str_merge.c   ****  *  void
1308:str_merge.c   ****  *****************************************************************************/
1309:str_merge.c   **** static void filter_raw_string(const wchar_t* in_data, wchar_t* out_data, const int *index, int tota
1310:str_merge.c   **** {
 1864              	LM209:
 1865 0ac4 55       		pushl	%ebp
 1866 0ac5 89E5     		movl	%esp, %ebp
 1867 0ac7 81EC3808 		subl	$2104, %esp
 1867      0000
 1868              	LBB15:
 1869 0acd 89A5E0F7 		movl	%esp, -2080(%ebp)
 1869      FFFF
1311:str_merge.c   ****     int i = 0;
 1871              	LM210:
 1872 0ad3 C745F400 		movl	$0, -12(%ebp)
 1872      000000
1312:str_merge.c   ****     int token = 0;
 1874              	LM211:
 1875 0ada C745F000 		movl	$0, -16(%ebp)
 1875      000000
1313:str_merge.c   ****     wchar_t itembuf[TMP_BUF_LENGTH];
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 48


1314:str_merge.c   ****     wchar_t tmp[g_line_buf_length * sizeof(wchar_t)];
 1877              	LM212:
 1878 0ae1 A1280000 		movl	_g_line_buf_length, %eax
 1878      00
 1879 0ae6 01C0     		addl	%eax, %eax
 1880 0ae8 48       		decl	%eax
 1881 0ae9 01C0     		addl	%eax, %eax
 1882 0aeb 83C002   		addl	$2, %eax
 1883 0aee 83C00F   		addl	$15, %eax
 1884 0af1 C1E804   		shrl	$4, %eax
 1885 0af4 C1E004   		sall	$4, %eax
 1886 0af7 8985D8F7 		movl	%eax, -2088(%ebp)
 1886      FFFF
 1887 0afd 8B85D8F7 		movl	-2088(%ebp), %eax
 1887      FFFF
 1888 0b03 E8000000 		call	__alloca
 1888      00
 1889 0b08 8D44240C 		leal	12(%esp), %eax
 1890 0b0c 8985DCF7 		movl	%eax, -2084(%ebp)
 1890      FFFF
1315:str_merge.c   ****     wchar_t marker[2] = {NO_TRANSLATION_MARKER, 0};
 1892              	LM213:
 1893 0b12 66C785E4 		movw	$19, -2076(%ebp)
 1893      F7FFFF13 
 1893      00
 1894 0b1b 66C785E6 		movw	$0, -2074(%ebp)
 1894      F7FFFF00 
 1894      00
1316:str_merge.c   **** 
1317:str_merge.c   ****     if(in_data == NULL || out_data == NULL || index == NULL)
 1896              	LM214:
 1897 0b24 837D0800 		cmpl	$0, 8(%ebp)
 1898 0b28 740C     		je	L140
 1899 0b2a 837D0C00 		cmpl	$0, 12(%ebp)
 1900 0b2e 7406     		je	L140
 1901 0b30 837D1000 		cmpl	$0, 16(%ebp)
 1902 0b34 750B     		jne	L139
 1903              	L140:
1318:str_merge.c   ****     {
1319:str_merge.c   ****         return;
 1905              	LM215:
 1906              	LBB16:
 1907 0b36 8BA5E0F7 		movl	-2080(%ebp), %esp
 1907      FFFF
 1908              	LBE16:
 1909 0b3c E9B40100 		jmp	L138
 1909      00
 1910              	L139:
1320:str_merge.c   ****     }
1321:str_merge.c   **** 
1322:str_merge.c   ****     /*put it in the tmp buffer*/
1323:str_merge.c   ****     wcscpy(tmp, in_data);
 1912              	LM216:
 1913 0b41 8B4508   		movl	8(%ebp), %eax
 1914 0b44 89442404 		movl	%eax, 4(%esp)
 1915 0b48 8B85DCF7 		movl	-2084(%ebp), %eax
 1915      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 49


 1916 0b4e 890424   		movl	%eax, (%esp)
 1917 0b51 E8000000 		call	_wcscpy
 1917      00
1324:str_merge.c   **** 
1325:str_merge.c   ****     /*copy the first 4 column*/	
1326:str_merge.c   ****     GetItem(tmp, token++, itembuf);
 1919              	LM217:
 1920 0b56 8D85E8F7 		leal	-2072(%ebp), %eax
 1920      FFFF
 1921 0b5c 89442408 		movl	%eax, 8(%esp)
 1922 0b60 8B45F0   		movl	-16(%ebp), %eax
 1923 0b63 89442404 		movl	%eax, 4(%esp)
 1924 0b67 8D45F0   		leal	-16(%ebp), %eax
 1925 0b6a FF00     		incl	(%eax)
 1926 0b6c 8B85DCF7 		movl	-2084(%ebp), %eax
 1926      FFFF
 1927 0b72 890424   		movl	%eax, (%esp)
 1928 0b75 E8DBF8FF 		call	_GetItem
 1928      FF
1327:str_merge.c   ****     wcscpy(out_data, itembuf);
 1930              	LM218:
 1931 0b7a 8D85E8F7 		leal	-2072(%ebp), %eax
 1931      FFFF
 1932 0b80 89442404 		movl	%eax, 4(%esp)
 1933 0b84 8B450C   		movl	12(%ebp), %eax
 1934 0b87 890424   		movl	%eax, (%esp)
 1935 0b8a E8000000 		call	_wcscpy
 1935      00
1328:str_merge.c   ****     wcscat(out_data, L"\t");
 1937              	LM219:
 1938 0b8f C7442404 		movl	$LC0, 4(%esp)
 1938      48000000 
 1939 0b97 8B450C   		movl	12(%ebp), %eax
 1940 0b9a 890424   		movl	%eax, (%esp)
 1941 0b9d E8000000 		call	_wcscat
 1941      00
1329:str_merge.c   **** 
1330:str_merge.c   ****     for(i = 1; i < 4; ++i)
 1943              	LM220:
 1944 0ba2 C745F401 		movl	$1, -12(%ebp)
 1944      000000
 1945              	L141:
 1946 0ba9 837DF403 		cmpl	$3, -12(%ebp)
 1947 0bad 7E02     		jle	L144
 1948 0baf EB71     		jmp	L142
 1949              	L144:
1331:str_merge.c   ****     {
1332:str_merge.c   ****         GetItem(in_data, token++, itembuf);
 1951              	LM221:
 1952 0bb1 8D85E8F7 		leal	-2072(%ebp), %eax
 1952      FFFF
 1953 0bb7 89442408 		movl	%eax, 8(%esp)
 1954 0bbb 8B45F0   		movl	-16(%ebp), %eax
 1955 0bbe 89442404 		movl	%eax, 4(%esp)
 1956 0bc2 8D45F0   		leal	-16(%ebp), %eax
 1957 0bc5 FF00     		incl	(%eax)
 1958 0bc7 8B4508   		movl	8(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 50


 1959 0bca 890424   		movl	%eax, (%esp)
 1960 0bcd E883F8FF 		call	_GetItem
 1960      FF
1333:str_merge.c   ****         /* wcscat(out_data, itembuf); */    
1334:str_merge.c   ****         if(itembuf[0] == '\0'){
 1962              	LM222:
 1963 0bd2 6683BDE8 		cmpw	$0, -2072(%ebp)
 1963      F7FFFF00 
 1964 0bda 7517     		jne	L145
1335:str_merge.c   ****             wcscat(out_data, marker);
 1966              	LM223:
 1967 0bdc 8D85E4F7 		leal	-2076(%ebp), %eax
 1967      FFFF
 1968 0be2 89442404 		movl	%eax, 4(%esp)
 1969 0be6 8B450C   		movl	12(%ebp), %eax
 1970 0be9 890424   		movl	%eax, (%esp)
 1971 0bec E8000000 		call	_wcscat
 1971      00
 1972 0bf1 EB15     		jmp	L146
 1973              	L145:
1336:str_merge.c   ****         }
1337:str_merge.c   ****         else{
1338:str_merge.c   ****             wcscat(out_data, itembuf);
 1975              	LM224:
 1976 0bf3 8D85E8F7 		leal	-2072(%ebp), %eax
 1976      FFFF
 1977 0bf9 89442404 		movl	%eax, 4(%esp)
 1978 0bfd 8B450C   		movl	12(%ebp), %eax
 1979 0c00 890424   		movl	%eax, (%esp)
 1980 0c03 E8000000 		call	_wcscat
 1980      00
 1981              	L146:
1339:str_merge.c   ****         }
1340:str_merge.c   **** 
1341:str_merge.c   ****         wcscat(out_data, L"\t");
 1983              	LM225:
 1984 0c08 C7442404 		movl	$LC0, 4(%esp)
 1984      48000000 
 1985 0c10 8B450C   		movl	12(%ebp), %eax
 1986 0c13 890424   		movl	%eax, (%esp)
 1987 0c16 E8000000 		call	_wcscat
 1987      00
 1989              	LM226:
 1990 0c1b 8D45F4   		leal	-12(%ebp), %eax
 1991 0c1e FF00     		incl	(%eax)
 1992 0c20 EB87     		jmp	L141
 1993              	L142:
1342:str_merge.c   ****     }
1343:str_merge.c   **** 
1344:str_merge.c   ****     /*copy the needed column*/
1345:str_merge.c   ****     for(i = 0; i < total_lang; ++i)
 1995              	LM227:
 1996 0c22 C745F400 		movl	$0, -12(%ebp)
 1996      000000
 1997              	L147:
 1998 0c29 8B45F4   		movl	-12(%ebp), %eax
 1999 0c2c 3B4514   		cmpl	20(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 51


 2000 0c2f 7C05     		jl	L150
 2001 0c31 E9A60000 		jmp	L148
 2001      00
 2002              	L150:
1346:str_merge.c   ****     {
1347:str_merge.c   ****         if(index[i] != -1) /*we have this language in ref_list*/
 2004              	LM228:
 2005 0c36 8B45F4   		movl	-12(%ebp), %eax
 2006 0c39 8D148500 		leal	0(,%eax,4), %edx
 2006      000000
 2007 0c40 8B4510   		movl	16(%ebp), %eax
 2008 0c43 833C10FF 		cmpl	$-1, (%eax,%edx)
 2009 0c47 7461     		je	L151
1348:str_merge.c   ****         {
1349:str_merge.c   ****             GetItem(in_data, index[i], itembuf);
 2011              	LM229:
 2012 0c49 8D85E8F7 		leal	-2072(%ebp), %eax
 2012      FFFF
 2013 0c4f 89442408 		movl	%eax, 8(%esp)
 2014 0c53 8B45F4   		movl	-12(%ebp), %eax
 2015 0c56 8D148500 		leal	0(,%eax,4), %edx
 2015      000000
 2016 0c5d 8B4510   		movl	16(%ebp), %eax
 2017 0c60 8B0410   		movl	(%eax,%edx), %eax
 2018 0c63 89442404 		movl	%eax, 4(%esp)
 2019 0c67 8B4508   		movl	8(%ebp), %eax
 2020 0c6a 890424   		movl	%eax, (%esp)
 2021 0c6d E8E3F7FF 		call	_GetItem
 2021      FF
1350:str_merge.c   **** 		
1351:str_merge.c   ****             if(itembuf[0] == '\0'){
 2023              	LM230:
 2024 0c72 6683BDE8 		cmpw	$0, -2072(%ebp)
 2024      F7FFFF00 
 2025 0c7a 7517     		jne	L152
1352:str_merge.c   ****                 wcscat(out_data, marker);
 2027              	LM231:
 2028 0c7c 8D85E4F7 		leal	-2076(%ebp), %eax
 2028      FFFF
 2029 0c82 89442404 		movl	%eax, 4(%esp)
 2030 0c86 8B450C   		movl	12(%ebp), %eax
 2031 0c89 890424   		movl	%eax, (%esp)
 2032 0c8c E8000000 		call	_wcscat
 2032      00
 2033 0c91 EB2C     		jmp	L154
 2034              	L152:
1353:str_merge.c   ****             }
1354:str_merge.c   ****             else{
1355:str_merge.c   ****                 wcscat(out_data, itembuf);
 2036              	LM232:
 2037 0c93 8D85E8F7 		leal	-2072(%ebp), %eax
 2037      FFFF
 2038 0c99 89442404 		movl	%eax, 4(%esp)
 2039 0c9d 8B450C   		movl	12(%ebp), %eax
 2040 0ca0 890424   		movl	%eax, (%esp)
 2041 0ca3 E8000000 		call	_wcscat
 2041      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 52


 2042 0ca8 EB15     		jmp	L154
 2043              	L151:
1356:str_merge.c   ****             }
1357:str_merge.c   ****         }
1358:str_merge.c   ****         else{ /*in ref_list, we do not have this language*/
1359:str_merge.c   ****             wcscat(out_data, marker);
 2045              	LM233:
 2046 0caa 8D85E4F7 		leal	-2076(%ebp), %eax
 2046      FFFF
 2047 0cb0 89442404 		movl	%eax, 4(%esp)
 2048 0cb4 8B450C   		movl	12(%ebp), %eax
 2049 0cb7 890424   		movl	%eax, (%esp)
 2050 0cba E8000000 		call	_wcscat
 2050      00
 2051              	L154:
1360:str_merge.c   ****         }
1361:str_merge.c   ****         wcscat(out_data, L"\t");
 2053              	LM234:
 2054 0cbf C7442404 		movl	$LC0, 4(%esp)
 2054      48000000 
 2055 0cc7 8B450C   		movl	12(%ebp), %eax
 2056 0cca 890424   		movl	%eax, (%esp)
 2057 0ccd E8000000 		call	_wcscat
 2057      00
 2059              	LM235:
 2060 0cd2 8D45F4   		leal	-12(%ebp), %eax
 2061 0cd5 FF00     		incl	(%eax)
 2062 0cd7 E94DFFFF 		jmp	L147
 2062      FF
 2063              	L148:
1362:str_merge.c   ****     }
1363:str_merge.c   ****     /*in order to reduce memory but will increase process time*/
1364:str_merge.c   ****     wcscat(out_data, L"\r\n\0");
 2065              	LM236:
 2066 0cdc C7442404 		movl	$LC8, 4(%esp)
 2066      BC0A0000 
 2067 0ce4 8B450C   		movl	12(%ebp), %eax
 2068 0ce7 890424   		movl	%eax, (%esp)
 2069 0cea E8000000 		call	_wcscat
 2069      00
 2070 0cef 8BA5E0F7 		movl	-2080(%ebp), %esp
 2070      FFFF
1365:str_merge.c   **** }
 2072              	LM237:
 2073              	L138:
 2074 0cf5 C9       		leave
 2075 0cf6 C3       		ret
 2076              	LBE15:
 2084              	Lscope13:
 2086              	LC9:
 2087 0cf7 52454620 		.ascii "REF LIST ITEM is NULL\0"
 2087      4C495354 
 2087      20495445 
 2087      4D206973 
 2087      204E554C 
 2088 0d0d 90909090 		.align 32
 2088      90909090 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 53


 2088      90909090 
 2088      90909090 
 2088      909090
 2089              	LC10:
 2090 0d20 52454620 		.ascii "REF LIST ITEM format error!! It can be an empty line. \0"
 2090      4C495354 
 2090      20495445 
 2090      4D20666F 
 2090      726D6174 
 2091 0d57 89F68DBC 		.align 32
 2091      27000000 
 2091      00
 2092              	LC11:
 2093 0d60 52454620 		.ascii "REF LIST item overflow: %d, buffer size = %d\0"
 2093      4C495354 
 2093      20697465 
 2093      6D206F76 
 2093      6572666C 
 2097              	.globl _check_ref_list_item
 2099              	_check_ref_list_item:
1366:str_merge.c   **** 
1367:str_merge.c   **** /*****************************************************************************
1368:str_merge.c   ****  * FUNCTION
1369:str_merge.c   ****  *  check_ref_list_item
1370:str_merge.c   ****  * DESCRIPTION
1371:str_merge.c   ****  *  Check if the format of the ref list line is invalid or not
1372:str_merge.c   ****  *
1373:str_merge.c   ****  * PARAMETERS
1374:str_merge.c   ****  *  ref_line      :[IN] one line of ref list to be check
1375:str_merge.c   ****  * RETURNS
1376:str_merge.c   ****  *  0              : Valid format
1377:str_merge.c   ****  * -1            : Invalid format
1378:str_merge.c   ****  *****************************************************************************/
1379:str_merge.c   **** int check_ref_list_item(wchar_t * ref_line, int buf_size)
1380:str_merge.c   **** { 
 2101              	LM238:
 2102 0d8d 55       		pushl	%ebp
 2103 0d8e 89E5     		movl	%esp, %ebp
 2104 0d90 83EC28   		subl	$40, %esp
1381:str_merge.c   ****     int str_length = 0;
 2106              	LM239:
 2107              	LBB17:
 2108 0d93 C745FC00 		movl	$0, -4(%ebp)
 2108      000000
1382:str_merge.c   ****     // NULL pointer check
1383:str_merge.c   ****     if(ref_line == NULL)
 2110              	LM240:
 2111 0d9a 837D0800 		cmpl	$0, 8(%ebp)
 2112 0d9e 7525     		jne	L156
1384:str_merge.c   ****     {
1385:str_merge.c   ****                 STRMERG_LOG_E("REF LIST ITEM is NULL");
 2114              	LM241:
 2115 0da0 C7442408 		movl	$LC9, 8(%esp)
 2115      F70C0000 
 2116 0da8 C7442404 		movl	$LC3, 4(%esp)
 2116      4B040000 
 2117 0db0 C7042403 		movl	$3, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 54


 2117      000000
 2118 0db7 E8000000 		call	_reslog_adaptor_log
 2118      00
1386:str_merge.c   ****                 return -1;
 2120              	LM242:
 2121 0dbc C745F8FF 		movl	$-1, -8(%ebp)
 2121      FFFFFF
 2122 0dc3 EB7B     		jmp	L155
 2123              	L156:
1387:str_merge.c   ****     }
1388:str_merge.c   ****     // Empty check
1389:str_merge.c   ****     str_length= wcslen(ref_line);
 2125              	LM243:
 2126 0dc5 8B4508   		movl	8(%ebp), %eax
 2127 0dc8 890424   		movl	%eax, (%esp)
 2128 0dcb E8000000 		call	_wcslen
 2128      00
 2129 0dd0 8945FC   		movl	%eax, -4(%ebp)
1390:str_merge.c   **** 
1391:str_merge.c   ****     if(str_length <= 2){
 2131              	LM244:
 2132 0dd3 837DFC02 		cmpl	$2, -4(%ebp)
 2133 0dd7 7F25     		jg	L157
1392:str_merge.c   ****         STRMERG_LOG_E("REF LIST ITEM format error!! It can be an empty line. ");
 2135              	LM245:
 2136 0dd9 C7442408 		movl	$LC10, 8(%esp)
 2136      200D0000 
 2137 0de1 C7442404 		movl	$LC3, 4(%esp)
 2137      4B040000 
 2138 0de9 C7042403 		movl	$3, (%esp)
 2138      000000
 2139 0df0 E8000000 		call	_reslog_adaptor_log
 2139      00
1393:str_merge.c   ****         return -1;
 2141              	LM246:
 2142 0df5 C745F8FF 		movl	$-1, -8(%ebp)
 2142      FFFFFF
 2143 0dfc EB42     		jmp	L155
 2144              	L157:
1394:str_merge.c   ****     }
1395:str_merge.c   **** 
1396:str_merge.c   ****     // Check for overflow
1397:str_merge.c   ****     if(str_length >= buf_size){
 2146              	LM247:
 2147 0dfe 8B45FC   		movl	-4(%ebp), %eax
 2148 0e01 3B450C   		cmpl	12(%ebp), %eax
 2149 0e04 7C33     		jl	L158
1398:str_merge.c   ****         STRMERG_LOG_E("REF LIST item overflow: %d, buffer size = %d", str_length, buf_size);
 2151              	LM248:
 2152 0e06 8B450C   		movl	12(%ebp), %eax
 2153 0e09 89442410 		movl	%eax, 16(%esp)
 2154 0e0d 8B45FC   		movl	-4(%ebp), %eax
 2155 0e10 8944240C 		movl	%eax, 12(%esp)
 2156 0e14 C7442408 		movl	$LC11, 8(%esp)
 2156      600D0000 
 2157 0e1c C7442404 		movl	$LC3, 4(%esp)
 2157      4B040000 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 55


 2158 0e24 C7042403 		movl	$3, (%esp)
 2158      000000
 2159 0e2b E8000000 		call	_reslog_adaptor_log
 2159      00
1399:str_merge.c   ****         return -1;
 2161              	LM249:
 2162 0e30 C745F8FF 		movl	$-1, -8(%ebp)
 2162      FFFFFF
 2163 0e37 EB07     		jmp	L155
 2164              	L158:
1400:str_merge.c   ****     }
1401:str_merge.c   **** 
1402:str_merge.c   ****     return 0;
 2166              	LM250:
 2167 0e39 C745F800 		movl	$0, -8(%ebp)
 2167      000000
1403:str_merge.c   **** }
 2169              	LM251:
 2170              	L155:
 2171              	LBE17:
 2172 0e40 8B45F8   		movl	-8(%ebp), %eax
 2173 0e43 C9       		leave
 2174 0e44 C3       		ret
 2178              	Lscope14:
 2180 0e45 90       		.align 2
 2181              	LC12:
 2182 0e46 0000     		.ascii "\0\0"
 2183              		.align 2
 2184              	LC13:
 2185 0e48 50006100 		.ascii "P\0a\0r\0s\0i\0n\0g\0:\0 \0%\0l\0s\0\0\0"
 2185      72007300 
 2185      69006E00 
 2185      67003A00 
 2185      20002500 
 2186 0e62 90909090 		.align 32
 2186      90909090 
 2186      90909090 
 2186      90909090 
 2186      90909090 
 2187              	LC14:
 2188 0e80 49006E00 		.ascii "I\0n\0v\0a\0l\0i\0d\0 \0R\0E\0F\0 \0i\0t\0e\0m\0 \0a\0f\0t\0e\0r\0:\0 \0%\0l\0s\0\0\0"
 2188      76006100 
 2188      6C006900 
 2188      64002000 
 2188      52004500 
 2189 0eb8 908DB426 		.align 32
 2189      00000000 
 2190              	LC15:
 2191 0ec0 50006C00 		.ascii "P\0l\0e\0a\0e\0 \0c\0h\0e\0c\0k\0 \0t\0h\0e\0 \0R\0E\0F\0 \0i\0t\0e\0m\0 \0i\0n\0 \0p\0l\0
 2191      65006100 
 2191      65002000 
 2191      63006800 
 2191      65006300 
 2192 0fa6 90909090 		.align 32
 2192      90909090 
 2192      90909090 
 2192      90909090 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 56


 2192      90909090 
 2193              	LC16:
 2194 0fc0 46006100 		.ascii "F\0a\0t\0a\0l\0 \0e\0r\0r\0o\0r\0 \0i\0n\0 \0l\0o\0a\0d\0_\0r\0e\0f\0_\0l\0i\0s\0t\0_\0t\0
 2194      74006100 
 2194      6C002000 
 2194      65007200 
 2194      72006F00 
 2195 100c 90909090 		.align 32
 2195      90909090 
 2195      90909090 
 2195      90909090 
 2195      90909090 
 2196              	LC17:
 2197 1020 50006C00 		.ascii "P\0l\0e\0a\0s\0e\0 \0c\0h\0e\0c\0k\0 \0p\0l\0u\0t\0o\0m\0m\0i\0\\\0C\0u\0s\0t\0o\0m\0e\0r\
 2197      65006100 
 2197      73006500 
 2197      20006300 
 2197      68006500 
 2205              	_load_ref_list_to_mem:
1404:str_merge.c   **** 
1405:str_merge.c   **** #ifndef MEM_REF_LIST_OPT /* MEM_REF_LIST_OPT */
1406:str_merge.c   **** 
1407:str_merge.c   **** /*****************************************************************************
1408:str_merge.c   ****  * FUNCTION
1409:str_merge.c   ****  *  load_ref_list_to_mem
1410:str_merge.c   ****  * DESCRIPTION
1411:str_merge.c   ****  *  load the ref list's information to memory
1412:str_merge.c   ****  *
1413:str_merge.c   ****  * PARAMETERS
1414:str_merge.c   ****  *  out_buff     :[OUT]  the buffer used to store the content of ref list
1415:str_merge.c   ****  *  end_line     :[OUT] the end line of ref list
1416:str_merge.c   ****  *  ref          :[IN] file handle point to ref list
1417:str_merge.c   ****  *  index        :[IN] the column index that populated language in ref list
1418:str_merge.c   ****  *  ref_cnt      :[IN] the item count in ref list
1419:str_merge.c   ****  * RETURNS
1420:str_merge.c   ****  *  void
1421:str_merge.c   ****  *****************************************************************************/
1422:str_merge.c   **** static void load_ref_list_to_mem(wchar_t *out_buff, wchar_t **end_line, FILE* ref, const int* index
1423:str_merge.c   **** {
1424:str_merge.c   ****     int j = 0;
1425:str_merge.c   ****     wchar_t *tmp = out_buff;
1426:str_merge.c   ****     wchar_t *ref_line = NULL;
1427:str_merge.c   ****     wchar_t *last_valid_ref_line = NULL;	
1428:str_merge.c   ****     wchar_t *ref_result = NULL;
1429:str_merge.c   ****     wchar_t itembuf[MAX_LENGTH];
1430:str_merge.c   **** 
1431:str_merge.c   ****     if(out_buff == NULL)
1432:str_merge.c   ****         return;
1433:str_merge.c   **** 
1434:str_merge.c   ****     /*mallco memory for tmp buffer*/
1435:str_merge.c   ****     ref_line = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
1436:str_merge.c   ****     last_valid_ref_line = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
1437:str_merge.c   ****     if(ref_line == NULL || last_valid_ref_line == NULL)
1438:str_merge.c   ****     {
1439:str_merge.c   ****         ASSERT(0);
1440:str_merge.c   ****     }
1441:str_merge.c   **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 57


1442:str_merge.c   ****     /*malloc  memory for return result*/
1443:str_merge.c   ****     ref_result = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
1444:str_merge.c   **** 
1445:str_merge.c   ****     if(ref_result == NULL)
1446:str_merge.c   ****     {
1447:str_merge.c   ****         free(ref_line);
1448:str_merge.c   ****         ASSERT(0);
1449:str_merge.c   ****     }
1450:str_merge.c   **** 
1451:str_merge.c   ****     // Init last_valid_ref_line
1452:str_merge.c   ****     wcscpy(last_valid_ref_line,L"");
1453:str_merge.c   **** 
1454:str_merge.c   ****     rewind(ref);
1455:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
1456:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
1457:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
1458:str_merge.c   **** 
1459:str_merge.c   ****     for(j = 0; j < ref_cnt; j++)
1460:str_merge.c   ****     {
1461:str_merge.c   ****         fgetws(ref_line, g_line_buf_length, ref);
1462:str_merge.c   **** 
1463:str_merge.c   ****         if(check_ref_list_item(ref_line, g_line_buf_length)< 0)
1464:str_merge.c   ****         {
1465:str_merge.c   ****             // The format is invalid!!
1466:str_merge.c   ****             STRMERG_WLOG_E(L"Invalid REF item after: %ls", last_valid_ref_line);
1467:str_merge.c   ****             fflush(stdout);
1468:str_merge.c   ****          }
1469:str_merge.c   ****          else
1470:str_merge.c   ****          {
1471:str_merge.c   **** 
1472:str_merge.c   **** 
1473:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
1474:str_merge.c   ****         /* set fixed string id flag */
1475:str_merge.c   ****         GetItem(ref_line, 0, itembuf);
1476:str_merge.c   ****         set_fixed_str_flag(&fixed_id, itembuf);
1477:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1478:str_merge.c   ****         
1479:str_merge.c   ****         filter_raw_string(ref_line, ref_result, index, deployed_lang);
1480:str_merge.c   **** 
1481:str_merge.c   ****         wcscpy(tmp, ref_result);
1482:str_merge.c   ****         wcscpy(last_valid_ref_line, ref_line);		
1483:str_merge.c   ****         tmp += g_line_buf_act_length;
1484:str_merge.c   **** 
1485:str_merge.c   ****         }
1486:str_merge.c   ****     }
1487:str_merge.c   **** 
1488:str_merge.c   ****     *end_line = tmp - g_line_buf_act_length;
1489:str_merge.c   **** 
1490:str_merge.c   ****     free(ref_line);
1491:str_merge.c   ****     free(ref_result);
1492:str_merge.c   **** }
1493:str_merge.c   **** #else /* MEM_REF_LIST_OPT */
1494:str_merge.c   **** /*****************************************************************************
1495:str_merge.c   ****  * FUNCTION
1496:str_merge.c   ****  *  load_ref_list_to_mem
1497:str_merge.c   ****  * DESCRIPTION
1498:str_merge.c   ****  *  Load the ref list's information to memory; storing the ref list data with 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 58


1499:str_merge.c   ****  *   a vector (dynamic array) instead of a large continuous array
1500:str_merge.c   ****  *
1501:str_merge.c   ****  * PARAMETERS
1502:str_merge.c   ****  *  out_buff     :[OUT]  the buffer used to store the content of ref list
1503:str_merge.c   ****  *  ref          :[IN] file handle point to ref list
1504:str_merge.c   ****  *  index        :[IN] the column index that populated language in ref list
1505:str_merge.c   ****  *  ref_cnt      :[IN] the item count in ref list
1506:str_merge.c   ****  * RETURNS
1507:str_merge.c   ****  *  void
1508:str_merge.c   ****  *****************************************************************************/
1509:str_merge.c   **** static void load_ref_list_to_mem(RefList *out_buff, FILE* ref, const int* index, const int ref_cnt,
1510:str_merge.c   **** {
 2207              	LM252:
 2208 10ce 55       		pushl	%ebp
 2209 10cf 89E5     		movl	%esp, %ebp
 2210 10d1 81EC5804 		subl	$1112, %esp
 2210      0000
1511:str_merge.c   ****     int j = 0;
 2212              	LM253:
 2213              	LBB18:
 2214 10d7 C745F400 		movl	$0, -12(%ebp)
 2214      000000
1512:str_merge.c   ****     wchar_t *tmp = out_buff;
 2216              	LM254:
 2217 10de 8B4508   		movl	8(%ebp), %eax
 2218 10e1 8945F0   		movl	%eax, -16(%ebp)
1513:str_merge.c   ****     wchar_t *ref_line = NULL;
 2220              	LM255:
 2221 10e4 C745EC00 		movl	$0, -20(%ebp)
 2221      000000
1514:str_merge.c   ****     wchar_t *last_valid_ref_line = NULL;
 2223              	LM256:
 2224 10eb C745E800 		movl	$0, -24(%ebp)
 2224      000000
1515:str_merge.c   ****     wchar_t *ref_result = NULL;
 2226              	LM257:
 2227 10f2 C745E400 		movl	$0, -28(%ebp)
 2227      000000
1516:str_merge.c   ****     wchar_t itembuf[MAX_LENGTH];
1517:str_merge.c   **** 
1518:str_merge.c   ****     if(out_buff == NULL)
 2229              	LM258:
 2230 10f9 837D0800 		cmpl	$0, 8(%ebp)
 2231 10fd 7505     		jne	L160
1519:str_merge.c   ****         return;
 2233              	LM259:
 2234 10ff E9850200 		jmp	L159
 2234      00
 2235              	L160:
1520:str_merge.c   **** 
1521:str_merge.c   ****     /*mallco memory for tmp buffer (str line of all languages)*/
1522:str_merge.c   ****     ref_line = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 2237              	LM260:
 2238 1104 A1280000 		movl	_g_line_buf_length, %eax
 2238      00
 2239 1109 01C0     		addl	%eax, %eax
 2240 110b 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 59


 2241 110e E8000000 		call	_malloc
 2241      00
 2242 1113 8945EC   		movl	%eax, -20(%ebp)
1523:str_merge.c   **** 	
1524:str_merge.c   ****     last_valid_ref_line = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 2244              	LM261:
 2245 1116 A1280000 		movl	_g_line_buf_length, %eax
 2245      00
 2246 111b 01C0     		addl	%eax, %eax
 2247 111d 890424   		movl	%eax, (%esp)
 2248 1120 E8000000 		call	_malloc
 2248      00
 2249 1125 8945E8   		movl	%eax, -24(%ebp)
1525:str_merge.c   ****     if(ref_line == NULL || last_valid_ref_line == NULL)
 2251              	LM262:
 2252 1128 837DEC00 		cmpl	$0, -20(%ebp)
 2253 112c 7406     		je	L162
 2254 112e 837DE800 		cmpl	$0, -24(%ebp)
 2255 1132 7502     		jne	L161
 2256              	L162:
1526:str_merge.c   ****     {
1527:str_merge.c   ****         ASSERT(0);
 2258              	LM263:
 2259              	L164:
 2260 1134 EBFE     		jmp	L164
 2261              	L161:
1528:str_merge.c   ****     }
1529:str_merge.c   **** 
1530:str_merge.c   ****     /* malloc  memory for return result (str line of deployed languages)*/
1531:str_merge.c   ****     ref_result = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 2263              	LM264:
 2264 1136 A1280000 		movl	_g_line_buf_length, %eax
 2264      00
 2265 113b 01C0     		addl	%eax, %eax
 2266 113d 890424   		movl	%eax, (%esp)
 2267 1140 E8000000 		call	_malloc
 2267      00
 2268 1145 8945E4   		movl	%eax, -28(%ebp)
1532:str_merge.c   ****     if(ref_result == NULL)
 2270              	LM265:
 2271 1148 837DE400 		cmpl	$0, -28(%ebp)
 2272 114c 750D     		jne	L168
1533:str_merge.c   ****     {
1534:str_merge.c   ****         free(ref_line);
 2274              	LM266:
 2275 114e 8B45EC   		movl	-20(%ebp), %eax
 2276 1151 890424   		movl	%eax, (%esp)
 2277 1154 E8000000 		call	_free
 2277      00
1535:str_merge.c   ****         ASSERT(0);
 2279              	LM267:
 2280              	L170:
 2281 1159 EBFE     		jmp	L170
 2282              	L168:
1536:str_merge.c   ****     }
1537:str_merge.c   **** 
1538:str_merge.c   ****     // Initialize last_valid_ref_line
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 60


1539:str_merge.c   ****     wcscpy(last_valid_ref_line,L"");
 2284              	LM268:
 2285 115b C7442404 		movl	$LC12, 4(%esp)
 2285      460E0000 
 2286 1163 8B45E8   		movl	-24(%ebp), %eax
 2287 1166 890424   		movl	%eax, (%esp)
 2288 1169 E8000000 		call	_wcscpy
 2288      00
1540:str_merge.c   **** 
1541:str_merge.c   ****     rewind(ref);
 2290              	LM269:
 2291 116e 8B450C   		movl	12(%ebp), %eax
 2292 1171 890424   		movl	%eax, (%esp)
 2293 1174 E8000000 		call	_rewind
 2293      00
1542:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
 2295              	LM270:
 2296 1179 8B450C   		movl	12(%ebp), %eax
 2297 117c 89442408 		movl	%eax, 8(%esp)
 2298 1180 A1280000 		movl	_g_line_buf_length, %eax
 2298      00
 2299 1185 89442404 		movl	%eax, 4(%esp)
 2300 1189 8B45EC   		movl	-20(%ebp), %eax
 2301 118c 890424   		movl	%eax, (%esp)
 2302 118f E8000000 		call	_fgetws
 2302      00
1543:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
 2304              	LM271:
 2305 1194 8B450C   		movl	12(%ebp), %eax
 2306 1197 89442408 		movl	%eax, 8(%esp)
 2307 119b A1280000 		movl	_g_line_buf_length, %eax
 2307      00
 2308 11a0 89442404 		movl	%eax, 4(%esp)
 2309 11a4 8B45EC   		movl	-20(%ebp), %eax
 2310 11a7 890424   		movl	%eax, (%esp)
 2311 11aa E8000000 		call	_fgetws
 2311      00
1544:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
 2313              	LM272:
 2314 11af 8B450C   		movl	12(%ebp), %eax
 2315 11b2 89442408 		movl	%eax, 8(%esp)
 2316 11b6 A1280000 		movl	_g_line_buf_length, %eax
 2316      00
 2317 11bb 89442404 		movl	%eax, 4(%esp)
 2318 11bf 8B45EC   		movl	-20(%ebp), %eax
 2319 11c2 890424   		movl	%eax, (%esp)
 2320 11c5 E8000000 		call	_fgetws
 2320      00
1545:str_merge.c   **** 
1546:str_merge.c   ****     for(j = 0; j < ref_cnt; j++)
 2322              	LM273:
 2323 11ca C745F400 		movl	$0, -12(%ebp)
 2323      000000
 2324              	L174:
 2325 11d1 8B45F4   		movl	-12(%ebp), %eax
 2326 11d4 3B4514   		cmpl	20(%ebp), %eax
 2327 11d7 7C05     		jl	L177
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 61


 2328 11d9 E9950100 		jmp	L175
 2328      00
 2329              	L177:
1547:str_merge.c   ****     {
1548:str_merge.c   ****         fgetws(ref_line, g_line_buf_length, ref);
 2331              	LM274:
 2332 11de 8B450C   		movl	12(%ebp), %eax
 2333 11e1 89442408 		movl	%eax, 8(%esp)
 2334 11e5 A1280000 		movl	_g_line_buf_length, %eax
 2334      00
 2335 11ea 89442404 		movl	%eax, 4(%esp)
 2336 11ee 8B45EC   		movl	-20(%ebp), %eax
 2337 11f1 890424   		movl	%eax, (%esp)
 2338 11f4 E8000000 		call	_fgetws
 2338      00
1549:str_merge.c   **** #ifdef STR_MERGE_DEBUG
1550:str_merge.c   ****         STRMERG_WLOG_D(L"Parsing: %ls", ref_line);
 2340              	LM275:
 2341 11f9 8B45EC   		movl	-20(%ebp), %eax
 2342 11fc 8944240C 		movl	%eax, 12(%esp)
 2343 1200 C7442408 		movl	$LC13, 8(%esp)
 2343      480E0000 
 2344 1208 C7442404 		movl	$LC3, 4(%esp)
 2344      4B040000 
 2345 1210 C7042400 		movl	$0, (%esp)
 2345      000000
 2346 1217 E8000000 		call	_reslog_adaptor_wlog
 2346      00
1551:str_merge.c   ****         fflush(stdout);
 2348              	LM276:
 2349 121c A1000000 		movl	__imp___iob, %eax
 2349      00
 2350 1221 83C020   		addl	$32, %eax
 2351 1224 890424   		movl	%eax, (%esp)
 2352 1227 E8000000 		call	_fflush
 2352      00
1552:str_merge.c   **** #endif
1553:str_merge.c   ****         if(check_ref_list_item(ref_line, g_line_buf_length)< 0)
 2354              	LM277:
 2355 122c A1280000 		movl	_g_line_buf_length, %eax
 2355      00
 2356 1231 89442404 		movl	%eax, 4(%esp)
 2357 1235 8B45EC   		movl	-20(%ebp), %eax
 2358 1238 890424   		movl	%eax, (%esp)
 2359 123b E84DFBFF 		call	_check_ref_list_item
 2359      FF
 2360 1240 85C0     		testl	%eax, %eax
 2361 1242 0F899600 		jns	L178
 2361      0000
1554:str_merge.c   ****         {
1555:str_merge.c   ****         // The format is invalid!!
1556:str_merge.c   ****             wchar_t * err_msg = malloc((STRMERGE_ERR_MSG_LEN_MAX+1) * sizeof(wchar_t));
 2363              	LM278:
 2364              	LBB19:
 2365 1248 C7042492 		movl	$402, (%esp)
 2365      010000
 2366 124f E8000000 		call	_malloc
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 62


 2366      00
 2367 1254 8985D4FB 		movl	%eax, -1068(%ebp)
 2367      FFFF
1557:str_merge.c   ****             swprintf(err_msg,L"Invalid REF item after: %ls", last_valid_ref_line);
 2369              	LM279:
 2370 125a 8B45E8   		movl	-24(%ebp), %eax
 2371 125d 89442408 		movl	%eax, 8(%esp)
 2372 1261 C7442404 		movl	$LC14, 4(%esp)
 2372      800E0000 
 2373 1269 8B85D4FB 		movl	-1068(%ebp), %eax
 2373      FFFF
 2374 126f 890424   		movl	%eax, (%esp)
 2375 1272 E8000000 		call	_swprintf
 2375      00
1558:str_merge.c   ****             // Use RES_WLOG_PENDING_FATAL to notify error. It will cause mtk_resgenerator.exe to re
1559:str_merge.c   ****             RES_WLOG_PENDING_FATAL(STRMERG_TAG, L"Fatal error in load_ref_list_to_mem()", err_msg,L
 2377              	LM280:
 2378 1277 C7442410 		movl	$LC15, 16(%esp)
 2378      C00E0000 
 2379 127f 8B85D4FB 		movl	-1068(%ebp), %eax
 2379      FFFF
 2380 1285 8944240C 		movl	%eax, 12(%esp)
 2381 1289 C7442408 		movl	$LC16, 8(%esp)
 2381      C00F0000 
 2382 1291 C7442404 		movl	$LC3, 4(%esp)
 2382      4B040000 
 2383 1299 C7042403 		movl	$3, (%esp)
 2383      000000
 2384 12a0 E8000000 		call	_reslog_adaptor_fatal_error_pending_wlog
 2384      00
1560:str_merge.c   ****             STRMERG_WLOG_E(L"Please check plutommi\\Customer\\CustResource\\ref_list.txt for this e
 2386              	LM281:
 2387 12a5 8B85D4FB 		movl	-1068(%ebp), %eax
 2387      FFFF
 2388 12ab 8944240C 		movl	%eax, 12(%esp)
 2389 12af C7442408 		movl	$LC17, 8(%esp)
 2389      20100000 
 2390 12b7 C7442404 		movl	$LC3, 4(%esp)
 2390      4B040000 
 2391 12bf C7042403 		movl	$3, (%esp)
 2391      000000
 2392 12c6 E8000000 		call	_reslog_adaptor_wlog
 2392      00
1561:str_merge.c   ****             free(err_msg);
 2394              	LM282:
 2395 12cb 8B85D4FB 		movl	-1068(%ebp), %eax
 2395      FFFF
 2396 12d1 890424   		movl	%eax, (%esp)
 2397 12d4 E8000000 		call	_free
 2397      00
 2398              	LBE19:
 2399 12d9 E98B0000 		jmp	L176
 2399      00
 2400              	L178:
1562:str_merge.c   ****         }
1563:str_merge.c   ****         else
1564:str_merge.c   ****         {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 63


1565:str_merge.c   **** 
1566:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
1567:str_merge.c   ****             /* set fixed string id flag */
1568:str_merge.c   ****             GetItem(ref_line, 0, itembuf);
 2402              	LM283:
 2403              	LBB20:
 2404 12de 8D85D8FB 		leal	-1064(%ebp), %eax
 2404      FFFF
 2405 12e4 89442408 		movl	%eax, 8(%esp)
 2406 12e8 C7442404 		movl	$0, 4(%esp)
 2406      00000000 
 2407 12f0 8B45EC   		movl	-20(%ebp), %eax
 2408 12f3 890424   		movl	%eax, (%esp)
 2409 12f6 E85AF1FF 		call	_GetItem
 2409      FF
1569:str_merge.c   ****             set_fixed_str_flag(&fixed_id, itembuf);
 2411              	LM284:
 2412 12fb 8D85D8FB 		leal	-1064(%ebp), %eax
 2412      FFFF
 2413 1301 89442404 		movl	%eax, 4(%esp)
 2414 1305 C7042400 		movl	$_fixed_id, (%esp)
 2414      000000
 2415 130c E8285600 		call	_set_fixed_str_flag
 2415      00
1570:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1571:str_merge.c   ****     
1572:str_merge.c   ****             /* Load the string of deployed language only */
1573:str_merge.c   ****             filter_raw_string(ref_line, ref_result, index, deployed_lang);
 2417              	LM285:
 2418 1311 8B4518   		movl	24(%ebp), %eax
 2419 1314 8944240C 		movl	%eax, 12(%esp)
 2420 1318 8B4510   		movl	16(%ebp), %eax
 2421 131b 89442408 		movl	%eax, 8(%esp)
 2422 131f 8B45E4   		movl	-28(%ebp), %eax
 2423 1322 89442404 		movl	%eax, 4(%esp)
 2424 1326 8B45EC   		movl	-20(%ebp), %eax
 2425 1329 890424   		movl	%eax, (%esp)
 2426 132c E893F7FF 		call	_filter_raw_string
 2426      FF
1574:str_merge.c   ****             /* Create a ref list item object and store the str line to it */
1575:str_merge.c   ****             RefListItem *lineItem = CreateListItemFromStr(ref_result);
 2428              	LM286:
 2429 1331 8B45E4   		movl	-28(%ebp), %eax
 2430 1334 890424   		movl	%eax, (%esp)
 2431 1337 E8086700 		call	_CreateListItemFromStr
 2431      00
 2432 133c 8985D4FB 		movl	%eax, -1068(%ebp)
 2432      FFFF
1576:str_merge.c   ****             /* Add the new ref list item to ref list*/
1577:str_merge.c   ****             AddRefListItem(out_buff,lineItem);
 2434              	LM287:
 2435 1342 8B85D4FB 		movl	-1068(%ebp), %eax
 2435      FFFF
 2436 1348 89442404 		movl	%eax, 4(%esp)
 2437 134c 8B4508   		movl	8(%ebp), %eax
 2438 134f 890424   		movl	%eax, (%esp)
 2439 1352 E8DF6800 		call	_AddRefListItem
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 64


 2439      00
1578:str_merge.c   ****             /* Record the last success one for debug */			
1579:str_merge.c   ****             wcscpy(last_valid_ref_line, ref_line);
 2441              	LM288:
 2442 1357 8B45EC   		movl	-20(%ebp), %eax
 2443 135a 89442404 		movl	%eax, 4(%esp)
 2444 135e 8B45E8   		movl	-24(%ebp), %eax
 2445 1361 890424   		movl	%eax, (%esp)
 2446 1364 E8000000 		call	_wcscpy
 2446      00
 2448              	LM289:
 2449              	L176:
 2450 1369 8D45F4   		leal	-12(%ebp), %eax
 2451              	LBE20:
 2452 136c FF00     		incl	(%eax)
 2453 136e E95EFEFF 		jmp	L174
 2453      FF
 2454              	L175:
1580:str_merge.c   ****         }
1581:str_merge.c   ****     }
1582:str_merge.c   ****     free(ref_line);
 2456              	LM290:
 2457 1373 8B45EC   		movl	-20(%ebp), %eax
 2458 1376 890424   		movl	%eax, (%esp)
 2459 1379 E8000000 		call	_free
 2459      00
1583:str_merge.c   ****     free(ref_result);
 2461              	LM291:
 2462 137e 8B45E4   		movl	-28(%ebp), %eax
 2463 1381 890424   		movl	%eax, (%esp)
 2464 1384 E8000000 		call	_free
 2464      00
1584:str_merge.c   **** }
 2466              	LM292:
 2467              	L159:
 2468 1389 C9       		leave
 2469 138a C3       		ret
 2470              	LBE18:
 2485              	Lscope15:
 2491              	.globl _get_ref_count
 2493              	_get_ref_count:
1585:str_merge.c   **** #endif
1586:str_merge.c   **** 
1587:str_merge.c   **** /*****************************************************************************
1588:str_merge.c   ****  * FUNCTION
1589:str_merge.c   ****  *  get_ref_count
1590:str_merge.c   ****  * DESCRIPTION
1591:str_merge.c   ****  *  get the ref list item count
1592:str_merge.c   ****  *
1593:str_merge.c   ****  * PARAMETERS
1594:str_merge.c   ****  *  fp            :[IN]  file handle of ref list
1595:str_merge.c   ****  *  line_len      :[IN] line length of each item
1596:str_merge.c   ****  *  buff          :[IN] buffer to restore a item content
1597:str_merge.c   ****  * RETURNS
1598:str_merge.c   ****  *  int           : item count 
1599:str_merge.c   ****  *****************************************************************************/
1600:str_merge.c   **** int get_ref_count(FILE *fp, U32 line_len, wchar_t* buff)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 65


1601:str_merge.c   **** {
 2495              	LM293:
 2496 138b 55       		pushl	%ebp
 2497 138c 89E5     		movl	%esp, %ebp
 2498 138e 83EC18   		subl	$24, %esp
1602:str_merge.c   ****     int count = 0;
 2500              	LM294:
 2501              	LBB21:
 2502 1391 C745FC00 		movl	$0, -4(%ebp)
 2502      000000
1603:str_merge.c   **** 
1604:str_merge.c   ****     if(fp == NULL || line_len <= 0)
 2504              	LM295:
 2505 1398 837D0800 		cmpl	$0, 8(%ebp)
 2506 139c 7406     		je	L182
 2507 139e 837D0C00 		cmpl	$0, 12(%ebp)
 2508 13a2 7509     		jne	L181
 2509              	L182:
1605:str_merge.c   ****     {
1606:str_merge.c   ****         return 0;
 2511              	LM296:
 2512 13a4 C745F800 		movl	$0, -8(%ebp)
 2512      000000
 2513 13ab EB50     		jmp	L180
 2514              	L181:
1607:str_merge.c   ****     }
1608:str_merge.c   **** 
1609:str_merge.c   ****     /* calculate the number of entries and read them to the buffer */
1610:str_merge.c   ****     fgetws(buff, line_len, fp);
 2516              	LM297:
 2517 13ad 8B4508   		movl	8(%ebp), %eax
 2518 13b0 89442408 		movl	%eax, 8(%esp)
 2519 13b4 8B450C   		movl	12(%ebp), %eax
 2520 13b7 89442404 		movl	%eax, 4(%esp)
 2521 13bb 8B4510   		movl	16(%ebp), %eax
 2522 13be 890424   		movl	%eax, (%esp)
 2523 13c1 E8000000 		call	_fgetws
 2523      00
1611:str_merge.c   ****     while (!feof(fp))
 2525              	LM298:
 2526              	L183:
 2527 13c6 8B4508   		movl	8(%ebp), %eax
 2528 13c9 890424   		movl	%eax, (%esp)
 2529 13cc E8000000 		call	_feof
 2529      00
 2530 13d1 85C0     		testl	%eax, %eax
 2531 13d3 7402     		je	L185
 2532 13d5 EB20     		jmp	L184
 2533              	L185:
1612:str_merge.c   ****     {
1613:str_merge.c   ****         count++;
 2535              	LM299:
 2536 13d7 8D45FC   		leal	-4(%ebp), %eax
 2537 13da FF00     		incl	(%eax)
1614:str_merge.c   ****         fgetws(buff, line_len, fp);
 2539              	LM300:
 2540 13dc 8B4508   		movl	8(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 66


 2541 13df 89442408 		movl	%eax, 8(%esp)
 2542 13e3 8B450C   		movl	12(%ebp), %eax
 2543 13e6 89442404 		movl	%eax, 4(%esp)
 2544 13ea 8B4510   		movl	16(%ebp), %eax
 2545 13ed 890424   		movl	%eax, (%esp)
 2546 13f0 E8000000 		call	_fgetws
 2546      00
 2547 13f5 EBCF     		jmp	L183
 2548              	L184:
1615:str_merge.c   ****     }
1616:str_merge.c   **** 
1617:str_merge.c   ****     return count;
 2550              	LM301:
 2551 13f7 8B45FC   		movl	-4(%ebp), %eax
 2552 13fa 8945F8   		movl	%eax, -8(%ebp)
1618:str_merge.c   **** }
 2554              	LM302:
 2555              	L180:
 2556              	LBE21:
 2557 13fd 8B45F8   		movl	-8(%ebp), %eax
 2558 1400 C9       		leave
 2559 1401 C3       		ret
 2563              	Lscope16:
 2566              	.globl _get_filter_used_language_count
 2568              	_get_filter_used_language_count:
1619:str_merge.c   **** 
1620:str_merge.c   **** 
1621:str_merge.c   **** /*****************************************************************************
1622:str_merge.c   ****  * FUNCTION
1623:str_merge.c   ****  *  get_filter_used_language_count
1624:str_merge.c   ****  * DESCRIPTION
1625:str_merge.c   ****  *  get the filter language count
1626:str_merge.c   ****  *
1627:str_merge.c   ****  * PARAMETERS
1628:str_merge.c   ****  *  void
1629:str_merge.c   ****  * RETURNS
1630:str_merge.c   ****  *  int          : filtered total language count
1631:str_merge.c   ****  *****************************************************************************/
1632:str_merge.c   **** int get_filter_used_language_count(void)
1633:str_merge.c   **** {
 2570              	LM303:
 2571 1402 55       		pushl	%ebp
 2572 1403 89E5     		movl	%esp, %ebp
 2573 1405 83EC08   		subl	$8, %esp
1634:str_merge.c   ****     int count = 0;
 2575              	LM304:
 2576              	LBB22:
 2577 1408 C745FC00 		movl	$0, -4(%ebp)
 2577      000000
1635:str_merge.c   **** 	
1636:str_merge.c   ****     if(en_language_is_open()){
 2579              	LM305:
 2580 140f E896F3FF 		call	_en_language_is_open
 2580      FF
 2581 1414 85C0     		testl	%eax, %eax
 2582 1416 740C     		je	L187
1637:str_merge.c   ****         count = mtk_gMaxDeployedLangs;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 67


 2584              	LM306:
 2585 1418 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 2585      000000
 2586 141f 8945FC   		movl	%eax, -4(%ebp)
 2587 1422 EB0B     		jmp	L188
 2588              	L187:
1638:str_merge.c   ****     }
1639:str_merge.c   ****     else{
1640:str_merge.c   ****         /*if english is not open, we still need to process it, so total language count will add 1*/
1641:str_merge.c   ****         count = mtk_gMaxDeployedLangs + 1;
 2590              	LM307:
 2591 1424 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 2591      000000
 2592 142b 40       		incl	%eax
 2593 142c 8945FC   		movl	%eax, -4(%ebp)
 2594              	L188:
1642:str_merge.c   ****     }
1643:str_merge.c   **** 
1644:str_merge.c   ****     return count;
 2596              	LM308:
 2597 142f 8B45FC   		movl	-4(%ebp), %eax
1645:str_merge.c   **** }
 2599              	LM309:
 2600 1432 C9       		leave
 2601 1433 C3       		ret
 2602              	LBE22:
 2606              	Lscope17:
 2608 1434 8DB60000 		.align 32
 2608      00008DBF 
 2608      00000000 
 2609              	LC18:
 2610 1440 4D657267 		.ascii "MergeStrRes(): Start to merge string translation data\0"
 2610      65537472 
 2610      52657328 
 2610      293A2053 
 2610      74617274 
 2611              	LC19:
 2612 1476 7374725F 		.ascii "str_merge.c\0"
 2612      6D657267 
 2612      652E6300 
 2613 1482 90909090 		.align 32
 2613      90909090 
 2613      90909090 
 2613      90909090 
 2613      90909090 
 2614              	LC20:
 2615 14a0 696E6974 		.ascii "init_fixed_id() error: LINE:%d,\11FILE%s\0"
 2615      5F666978 
 2615      65645F69 
 2615      64282920 
 2615      6572726F 
 2616 14c7 90909090 		.align 32
 2616      90909090 
 2616      90909090 
 2616      90909090 
 2616      90909090 
 2617              	LC21:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 68


 2618 14e0 6661696C 		.ascii "failed error: LINE:%d,\11FILE%s\12\0"
 2618      65642065 
 2618      72726F72 
 2618      3A204C49 
 2618      4E453A25 
 2619 14ff 90       		.align 32
 2620              	LC22:
 2621 1500 67656E65 		.ascii "generate_enum_hash() error: LINE:%d,\11FILE%s\0"
 2621      72617465 
 2621      5F656E75 
 2621      6D5F6861 
 2621      73682829 
 2622              	LC23:
 2623 152c 726200   		.ascii "rb\0"
 2624              	LC24:
 2625 152f 2E2E5C63 		.ascii "..\\custresource\\ref_list.txt\0"
 2625      75737472 
 2625      65736F75 
 2625      7263655C 
 2625      7265665F 
 2626 154c 90909090 		.align 32
 2626      90909090 
 2626      90909090 
 2626      90909090 
 2626      90909090 
 2627              	LC25:
 2628 1560 496E7661 		.ascii "Invalid reference filename: %s\0"
 2628      6C696420 
 2628      72656665 
 2628      72656E63 
 2628      65206669 
 2629              	LC26:
 2630 157f 7700     		.ascii "w\0"
 2631              	LC27:
 2632 1581 2E5C5C64 		.ascii ".\\\\debug\\\\NoTranslation.txt\0"
 2632      65627567 
 2632      5C5C4E6F 
 2632      5472616E 
 2632      736C6174 
 2633 159d 8D7600   		.align 32
 2634              	LC28:
 2635 15a0 2E5C5C64 		.ascii ".\\\\debug\\\\NoTranslation.txt Open Fail!!\0"
 2635      65627567 
 2635      5C5C4E6F 
 2635      5472616E 
 2635      736C6174 
 2636              	LC29:
 2637 15c8 6100     		.ascii "a\0"
 2638              	LC30:
 2639 15ca 4E6F5472 		.ascii "NoTranslation.txt Open Fail!!\0"
 2639      616E736C 
 2639      6174696F 
 2639      6E2E7478 
 2639      74204F70 
 2640 15e8 90909090 		.align 32
 2640      90909090 
 2640      90909090 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 69


 2640      90909090 
 2640      90909090 
 2641              	LC31:
 2642 1600 6D656D6F 		.ascii "memory is not available step.1 size=[%d]\0"
 2642      72792069 
 2642      73206E6F 
 2642      74206176 
 2642      61696C61 
 2643              	LC32:
 2644 1629 257300   		.ascii "%s\0"
 2645              	LC33:
 2646 162c 09257300 		.ascii "\11%s\0"
 2647              	LC34:
 2648 1630 0A00     		.ascii "\12\0"
 2649 1632 8DB42600 		.align 32
 2649      0000008D 
 2649      BC270000 
 2649      0000
 2650              	LC35:
 2651 1640 6D656D6F 		.ascii "memory is not available step.2 size=[%d]\0"
 2651      72792069 
 2651      73206E6F 
 2651      74206176 
 2651      61696C61 
 2652 1669 90909090 		.align 32
 2652      90909090 
 2652      90909090 
 2652      90909090 
 2652      90909090 
 2653              	LC36:
 2654 1680 5B4D454D 		.ascii "[MEM]CreateRefList : create data structure to store ref list lines\0"
 2654      5D437265 
 2654      61746552 
 2654      65664C69 
 2654      7374203A 
 2655 16c3 90909090 		.align 32
 2655      90909090 
 2655      90909090 
 2655      90909090 
 2655      90909090 
 2656              	LC37:
 2657 16e0 6D656D6F 		.ascii "memory is not available step.7 length=[%d]\0"
 2657      72792069 
 2657      73206E6F 
 2657      74206176 
 2657      61696C61 
 2658 170b 90909090 		.align 32
 2658      90909090 
 2658      90909090 
 2658      90909090 
 2658      90909090 
 2659              	LC38:
 2660 1720 5B4D454D 		.ascii "[MEM]load_ref_list_to_mem: load ref list items to ref_all vector\0"
 2660      5D6C6F61 
 2660      645F7265 
 2660      665F6C69 
 2660      73745F74 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 70


 2661 1761 90909090 		.align 32
 2661      90909090 
 2661      90909090 
 2661      90909090 
 2661      90909090 
 2662              	LC39:
 2663 1780 6D656D6F 		.ascii "memory is not available step.8 size=[%d]\0"
 2663      72792069 
 2663      73206E6F 
 2663      74206176 
 2663      61696C61 
 2664              	LC40:
 2665 17a9 43686563 		.ascii "Check String ID %d\0"
 2665      6B205374 
 2665      72696E67 
 2665      20494420 
 2665      256400
 2666 17bc 8D742600 		.align 32
 2667              	LC41:
 2668 17c0 50726F63 		.ascii "Process ref_all_list!! search_index = %d\0"
 2668      65737320 
 2668      7265665F 
 2668      616C6C5F 
 2668      6C697374 
 2669 17e9 90       		.align 2
 2670              	LC42:
 2671 17ea 09005600 		.ascii "\11\0V\0\0\0"
 2671      0000
 2672 17f0 90909090 		.align 32
 2672      90909090 
 2672      90909090 
 2672      90909090 
 2673              	LC43:
 2674 1800 6D697373 		.ascii "missLanguage found!! search_index = %d\0"
 2674      4C616E67 
 2674      75616765 
 2674      20666F75 
 2674      6E642121 
 2675              	LC44:
 2676 1827 6974656D 		.ascii "item in ref list is NULL: %d \0"
 2676      20696E20 
 2676      72656620 
 2676      6C697374 
 2676      20697320 
 2677              	LC45:
 2678 1845 25730909 		.ascii "%s\11\11\11Empty\12\0"
 2678      09456D70 
 2678      74790A00 
 2679 1851 EB0D9090 		.align 32
 2679      90909090 
 2679      90909090 
 2679      909090
 2680              	LC46:
 2681 1860 506C6561 		.ascii "Please see NoTranslation.txt to see the result...\0"
 2681      73652073 
 2681      6565204E 
 2681      6F547261 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 71


 2681      6E736C61 
 2683              	.globl _MergeStrRes
 2685              	_MergeStrRes:
1646:str_merge.c   **** 
1647:str_merge.c   **** 
1648:str_merge.c   **** /*****************************************************************************
1649:str_merge.c   ****  * FUNCTION
1650:str_merge.c   ****  *  MergeStrRes
1651:str_merge.c   ****  * DESCRIPTION
1652:str_merge.c   ****  *  Find string ID in ref_list.txt, generate string content table
1653:str_merge.c   ****  * PARAMETERS
1654:str_merge.c   ****  *  void
1655:str_merge.c   ****  * RETURNS
1656:str_merge.c   ****  *  Return 0 on success, otherwise, return -1
1657:str_merge.c   ****  *****************************************************************************/
1658:str_merge.c   **** int MergeStrRes(void)
1659:str_merge.c   **** {
 2687              	LM310:
 2688 1892 55       		pushl	%ebp
 2689 1893 89E5     		movl	%esp, %ebp
 2690 1895 B8A81A00 		movl	$6824, %eax
 2690      00
 2691 189a E8000000 		call	__alloca
 2691      00
 2692              	LBB23:
 2693 189f 89A58CE5 		movl	%esp, -6772(%ebp)
 2693      FFFF
1660:str_merge.c   ****     /*----------------------------------------------------------------*/
1661:str_merge.c   ****     /* Local Variables                                                */
1662:str_merge.c   ****     /*----------------------------------------------------------------*/
1663:str_merge.c   ****     FILE *ref = NULL;
 2695              	LM311:
 2696 18a5 C745F400 		movl	$0, -12(%ebp)
 2696      000000
1664:str_merge.c   ****     FILE *fail = NULL;
 2698              	LM312:
 2699 18ac C745F000 		movl	$0, -16(%ebp)
 2699      000000
1665:str_merge.c   ****     wchar_t *tmp_line;
1666:str_merge.c   ****     wchar_t *end_line;
1667:str_merge.c   **** 
1668:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
1669:str_merge.c   ****     /* Record the scanning string line index of ref list */
1670:str_merge.c   ****     int tmp_line_indx = 0;
 2701              	LM313:
 2702 18b3 C745E400 		movl	$0, -28(%ebp)
 2702      000000
1671:str_merge.c   ****     /* temp variable to read/wirte data from/to a ref list item*/
1672:str_merge.c   ****     RefListItem *tmp_list_item = NULL;
 2704              	LM314:
 2705 18ba C745E000 		movl	$0, -32(%ebp)
 2705      000000
1673:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
1674:str_merge.c   **** 
1675:str_merge.c   ****     wchar_t buf_src[TMP_BUF_LENGTH];
1676:str_merge.c   ****     wchar_t buf_ref[TMP_BUF_LENGTH];
1677:str_merge.c   ****     wchar_t tmp_buf[TMP_BUF_LENGTH];
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 72


1678:str_merge.c   ****     int token_id = 0, gIndex = 0;
 2707              	LM315:
 2708 18c1 C785D4E7 		movl	$0, -6188(%ebp)
 2708      FFFF0000 
 2708      0000
 2709 18cb C785D0E7 		movl	$0, -6192(%ebp)
 2709      FFFF0000 
 2709      0000
1679:str_merge.c   ****     char buf_asc[512];
1680:str_merge.c   ****     int found = 0, i = 0, StrNotTranslated = 1, missLanguage = 0;
 2711              	LM316:
 2712 18d5 C785C4E5 		movl	$0, -6716(%ebp)
 2712      FFFF0000 
 2712      0000
 2713 18df C785C0E5 		movl	$0, -6720(%ebp)
 2713      FFFF0000 
 2713      0000
 2714 18e9 C785BCE5 		movl	$1, -6724(%ebp)
 2714      FFFF0100 
 2714      0000
 2715 18f3 C785B8E5 		movl	$0, -6728(%ebp)
 2715      FFFF0000 
 2715      0000
1681:str_merge.c   **** 
1682:str_merge.c   ****     int ret = 0;
 2717              	LM317:
 2718 18fd C785B4E5 		movl	$0, -6732(%ebp)
 2718      FFFF0000 
 2718      0000
1683:str_merge.c   ****     U16 nStrId = 0;
 2720              	LM318:
 2721 1907 66C785B2 		movw	$0, -6734(%ebp)
 2721      E5FFFF00 
 2721      00
1684:str_merge.c   ****     U16 total_id = CurrMaxStringId;
 2723              	LM319:
 2724 1910 0FB70500 		movzwl	_CurrMaxStringId, %eax
 2724      000000
 2725 1917 668985B0 		movw	%ax, -6736(%ebp)
 2725      E5FFFF
1685:str_merge.c   **** 
1686:str_merge.c   ****     wchar_t marker[2] = {NO_TRANSLATION_MARKER, 0};
 2727              	LM320:
 2728 191e 66C785AC 		movw	$19, -6740(%ebp)
 2728      E5FFFF13 
 2728      00
 2729 1927 66C785AE 		movw	$0, -6738(%ebp)
 2729      E5FFFF00 
 2729      00
1687:str_merge.c   ****     // record the times of memory allocation retry
1688:str_merge.c   ****     int mem_retry_count = 0;
 2731              	LM321:
 2732 1930 C785A8E5 		movl	$0, -6744(%ebp)
 2732      FFFF0000 
 2732      0000
1689:str_merge.c   **** 
1690:str_merge.c   ****     /* operator support */
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 73


1691:str_merge.c   **** #ifndef __OPTR_NONE__
1692:str_merge.c   ****     FILE *optr_ref = NULL;
1693:str_merge.c   ****     char *optr_path;
1694:str_merge.c   ****     int optr_lang;
1695:str_merge.c   ****     U32 optr_line_buf_length;
1696:str_merge.c   ****     U16 *optr_lang_mask = NULL;
1697:str_merge.c   ****     wchar_t (*ref_ssc_list)[SSC_LENGTH] = NULL;
1698:str_merge.c   **** 
1699:str_merge.c   **** 
1700:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
1701:str_merge.c   ****     wchar_t *optr_ref_all = NULL;
1702:str_merge.c   **** #else /* MEM_REF_LIST_OPT */
1703:str_merge.c   ****     /* Load optr ref list lines to a vector with variable 
1704:str_merge.c   ****        size elememts instead of a lare array with fixed
1705:str_merge.c   ****        size elementsn */
1706:str_merge.c   ****     RefList *optr_ref_all_list = NULL;
1707:str_merge.c   ****     /* Record the scanning string line index of operator ref list */
1708:str_merge.c   ****     int optr_tmp_line_indx = 0;
1709:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
1710:str_merge.c   **** 
1711:str_merge.c   ****     wchar_t *optr_ref_ssc = NULL;
1712:str_merge.c   ****     wchar_t *optr_tmp_line;
1713:str_merge.c   ****     wchar_t *optr_end_line;
1714:str_merge.c   ****     int optr_found;
1715:str_merge.c   ****     int optr_ref_cnt = 0;
1716:str_merge.c   ****     int optr_new_cnt = 0;
1717:str_merge.c   ****     int optr_search_cnt = 0;
1718:str_merge.c   ****     int optr_search_index = 0;
1719:str_merge.c   **** #endif /* __OPTR_NONE__ */
1720:str_merge.c   **** 
1721:str_merge.c   **** #ifdef __TIME_CONSUME
1722:str_merge.c   ****     time_t start_time, end_time;
1723:str_merge.c   **** #endif
1724:str_merge.c   ****     int ref_cnt = 0;
 2734              	LM322:
 2735 193a C785A4E5 		movl	$0, -6748(%ebp)
 2735      FFFF0000 
 2735      0000
1725:str_merge.c   ****     int search_cnt = 0;
 2737              	LM323:
 2738 1944 C785A0E5 		movl	$0, -6752(%ebp)
 2738      FFFF0000 
 2738      0000
1726:str_merge.c   ****     int search_index = 0;
 2740              	LM324:
 2741 194e C7859CE5 		movl	$0, -6756(%ebp)
 2741      FFFF0000 
 2741      0000
1727:str_merge.c   ****     int j;
1728:str_merge.c   ****     /*column index that deployed language in ref list*/
1729:str_merge.c   ****     int deployed_lang_index[mtk_gMaxDeployedLangs + 1];
 2743              	LM325:
 2744 1958 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 2744      000000
 2745 195f C1E002   		sall	$2, %eax
 2746 1962 83C004   		addl	$4, %eax
 2747 1965 83C00F   		addl	$15, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 74


 2748 1968 C1E804   		shrl	$4, %eax
 2749 196b C1E004   		sall	$4, %eax
 2750 196e 898584E5 		movl	%eax, -6780(%ebp)
 2750      FFFF
 2751 1974 8B8584E5 		movl	-6780(%ebp), %eax
 2751      FFFF
 2752 197a E8000000 		call	__alloca
 2752      00
 2753 197f 8D442414 		leal	20(%esp), %eax
 2754 1983 898588E5 		movl	%eax, -6776(%ebp)
 2754      FFFF
1730:str_merge.c   **** #ifndef __OPTR_NONE__
1731:str_merge.c   ****     int optr_deployed_lang_index[mtk_gMaxDeployedLangs + 1];
1732:str_merge.c   **** #endif /*__OPTR_NONE__*/
1733:str_merge.c   **** 
1734:str_merge.c   ****     int count = 0;
 2756              	LM326:
 2757 1989 C78594E5 		movl	$0, -6764(%ebp)
 2757      FFFF0000 
 2757      0000
1735:str_merge.c   **** 
1736:str_merge.c   ****     /*----------------------------------------------------------------*/
1737:str_merge.c   ****     /* Code Body                                                      */
1738:str_merge.c   ****     /*----------------------------------------------------------------*/
1739:str_merge.c   ****     STRMERG_LOG_V("MergeStrRes(): Start to merge string translation data");
 2759              	LM327:
 2760 1993 C7442408 		movl	$LC18, 8(%esp)
 2760      40140000 
 2761 199b C7442404 		movl	$LC3, 4(%esp)
 2761      4B040000 
 2762 19a3 C7042401 		movl	$1, (%esp)
 2762      000000
 2763 19aa E8000000 		call	_reslog_adaptor_log
 2763      00
1740:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
1741:str_merge.c   ****     CurrMaxTransStrId = 0;
 2765              	LM328:
 2766 19af 66C70500 		movw	$0, _CurrMaxTransStrId
 2766      00000000 
 2766      00
1742:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1743:str_merge.c   ****     /*it will be used to caculate string size*/
1744:str_merge.c   ****     memset(StrSize, 0, sizeof(U16) * MAX_STRING_MAP_SIZE);
 2768              	LM329:
 2769 19b8 C7442408 		movl	$131070, 8(%esp)
 2769      FEFF0100 
 2770 19c0 C7442404 		movl	$0, 4(%esp)
 2770      00000000 
 2771 19c8 C70424D8 		movl	$_StrSize, (%esp)
 2771      000200
 2772 19cf E8000000 		call	_memset
 2772      00
1745:str_merge.c   ****     memset(deployed_lang_index, -1, sizeof(int) * (mtk_gMaxDeployedLangs + 1));
 2774              	LM330:
 2775 19d4 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 2775      000000
 2776 19db C1E002   		sall	$2, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 75


 2777 19de 83C004   		addl	$4, %eax
 2778 19e1 89442408 		movl	%eax, 8(%esp)
 2779 19e5 C7442404 		movl	$-1, 4(%esp)
 2779      FFFFFFFF 
 2780 19ed 8B8588E5 		movl	-6776(%ebp), %eax
 2780      FFFF
 2781 19f3 890424   		movl	%eax, (%esp)
 2782 19f6 E8000000 		call	_memset
 2782      00
1746:str_merge.c   **** #ifndef __OPTR_NONE__
1747:str_merge.c   ****     memset(optr_deployed_lang_index, -1, sizeof(int) * (mtk_gMaxDeployedLangs + 1));
1748:str_merge.c   **** #endif /*__OPTR_NONE__*/
1749:str_merge.c   **** 
1750:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
1751:str_merge.c   ****     ret = init_fixed_id(&fixed_id, CurrMaxStringId);
 2784              	LM331:
 2785 19fb 0FB70500 		movzwl	_CurrMaxStringId, %eax
 2785      000000
 2786 1a02 89442404 		movl	%eax, 4(%esp)
 2787 1a06 C7042400 		movl	$_fixed_id, (%esp)
 2787      000000
 2788 1a0d E81A4E00 		call	_init_fixed_id
 2788      00
 2789 1a12 8985B4E5 		movl	%eax, -6732(%ebp)
 2789      FFFF
1752:str_merge.c   ****     if(ret != 0){
 2791              	LM332:
 2792 1a18 83BDB4E5 		cmpl	$0, -6732(%ebp)
 2792      FFFF00
 2793 1a1f 7469     		je	L190
1753:str_merge.c   ****         STRMERG_LOG_E("init_fixed_id() error: LINE:%d,\tFILE%s", __LINE__, __FILE__);
 2795              	LM333:
 2796 1a21 C7442410 		movl	$LC19, 16(%esp)
 2796      76140000 
 2797 1a29 C744240C 		movl	$1753, 12(%esp)
 2797      D9060000 
 2798 1a31 C7442408 		movl	$LC20, 8(%esp)
 2798      A0140000 
 2799 1a39 C7442404 		movl	$LC3, 4(%esp)
 2799      4B040000 
 2800 1a41 C7042403 		movl	$3, (%esp)
 2800      000000
 2801 1a48 E8000000 		call	_reslog_adaptor_log
 2801      00
1754:str_merge.c   ****         fprintf(stderr, "failed error: LINE:%d,\tFILE%s\n", __LINE__, __FILE__);
 2803              	LM334:
 2804 1a4d C744240C 		movl	$LC19, 12(%esp)
 2804      76140000 
 2805 1a55 C7442408 		movl	$1754, 8(%esp)
 2805      DA060000 
 2806 1a5d C7442404 		movl	$LC21, 4(%esp)
 2806      E0140000 
 2807 1a65 A1000000 		movl	__imp___iob, %eax
 2807      00
 2808 1a6a 83C040   		addl	$64, %eax
 2809 1a6d 890424   		movl	%eax, (%esp)
 2810 1a70 E8000000 		call	_fprintf
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 76


 2810      00
1755:str_merge.c   ****         return -1;
 2812              	LM335:
 2813              	LBB24:
 2814 1a75 8BA58CE5 		movl	-6772(%ebp), %esp
 2814      FFFF
 2815              	LBE24:
 2816 1a7b C78590E5 		movl	$-1, -6768(%ebp)
 2816      FFFFFFFF 
 2816      FFFF
 2817 1a85 E91B0D00 		jmp	L189
 2817      00
 2818              	L190:
1756:str_merge.c   ****     }
1757:str_merge.c   **** 
1758:str_merge.c   ****     ret = generate_enum_hash(fixed_id.enum_id_tb, StrIsPopulate, StrEnum);
 2820              	LM336:
 2821 1a8a C7442408 		movl	$_StrEnum, 8(%esp)
 2821      00000000 
 2822 1a92 C7442404 		movl	$_StrIsPopulate, 4(%esp)
 2822      00000000 
 2823 1a9a A1080000 		movl	_fixed_id+8, %eax
 2823      00
 2824 1a9f 890424   		movl	%eax, (%esp)
 2825 1aa2 E8194F00 		call	_generate_enum_hash
 2825      00
 2826 1aa7 8985B4E5 		movl	%eax, -6732(%ebp)
 2826      FFFF
1759:str_merge.c   ****     if(ret < 0){
 2828              	LM337:
 2829 1aad 83BDB4E5 		cmpl	$0, -6732(%ebp)
 2829      FFFF00
 2830 1ab4 7969     		jns	L191
1760:str_merge.c   ****         STRMERG_LOG_E("generate_enum_hash() error: LINE:%d,\tFILE%s", __LINE__, __FILE__);
 2832              	LM338:
 2833 1ab6 C7442410 		movl	$LC19, 16(%esp)
 2833      76140000 
 2834 1abe C744240C 		movl	$1760, 12(%esp)
 2834      E0060000 
 2835 1ac6 C7442408 		movl	$LC22, 8(%esp)
 2835      00150000 
 2836 1ace C7442404 		movl	$LC3, 4(%esp)
 2836      4B040000 
 2837 1ad6 C7042403 		movl	$3, (%esp)
 2837      000000
 2838 1add E8000000 		call	_reslog_adaptor_log
 2838      00
1761:str_merge.c   ****         fprintf(stderr, "failed error: LINE:%d,\tFILE%s\n", __LINE__, __FILE__);
 2840              	LM339:
 2841 1ae2 C744240C 		movl	$LC19, 12(%esp)
 2841      76140000 
 2842 1aea C7442408 		movl	$1761, 8(%esp)
 2842      E1060000 
 2843 1af2 C7442404 		movl	$LC21, 4(%esp)
 2843      E0140000 
 2844 1afa A1000000 		movl	__imp___iob, %eax
 2844      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 77


 2845 1aff 83C040   		addl	$64, %eax
 2846 1b02 890424   		movl	%eax, (%esp)
 2847 1b05 E8000000 		call	_fprintf
 2847      00
1762:str_merge.c   ****         return -1;
 2849              	LM340:
 2850              	LBB25:
 2851 1b0a 8BA58CE5 		movl	-6772(%ebp), %esp
 2851      FFFF
 2852              	LBE25:
 2853 1b10 C78590E5 		movl	$-1, -6768(%ebp)
 2853      FFFFFFFF 
 2853      FFFF
 2854 1b1a E9860C00 		jmp	L189
 2854      00
 2855              	L191:
1763:str_merge.c   ****     }
1764:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1765:str_merge.c   **** 
1766:str_merge.c   **** 
1767:str_merge.c   ****     nUsedLang = get_filter_used_language_count();
 2857              	LM341:
 2858 1b1f E8DEF8FF 		call	_get_filter_used_language_count
 2858      FF
 2859 1b24 66A39800 		movw	%ax, _nUsedLang
 2859      0000
1768:str_merge.c   **** 
1769:str_merge.c   ****     ref = fopen(ref_file, "rb");
 2861              	LM342:
 2862 1b2a C7442404 		movl	$LC23, 4(%esp)
 2862      2C150000 
 2863 1b32 C704242F 		movl	$LC24, (%esp)
 2863      150000
 2864 1b39 E8000000 		call	_fopen
 2864      00
 2865 1b3e 8945F4   		movl	%eax, -12(%ebp)
1770:str_merge.c   ****     if (ref == NULL)
 2867              	LM343:
 2868 1b41 837DF400 		cmpl	$0, -12(%ebp)
 2869 1b45 7539     		jne	L192
1771:str_merge.c   ****     {
1772:str_merge.c   ****         STRMERG_LOG_E("Invalid reference filename: %s",ref_file);
 2871              	LM344:
 2872 1b47 C744240C 		movl	$LC24, 12(%esp)
 2872      2F150000 
 2873 1b4f C7442408 		movl	$LC25, 8(%esp)
 2873      60150000 
 2874 1b57 C7442404 		movl	$LC3, 4(%esp)
 2874      4B040000 
 2875 1b5f C7042403 		movl	$3, (%esp)
 2875      000000
 2876 1b66 E8000000 		call	_reslog_adaptor_log
 2876      00
1773:str_merge.c   ****         return -1;
 2878              	LM345:
 2879              	LBB26:
 2880 1b6b 8BA58CE5 		movl	-6772(%ebp), %esp
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 78


 2880      FFFF
 2881              	LBE26:
 2882 1b71 C78590E5 		movl	$-1, -6768(%ebp)
 2882      FFFFFFFF 
 2882      FFFF
 2883 1b7b E9250C00 		jmp	L189
 2883      00
 2884              	L192:
1774:str_merge.c   ****     }
1775:str_merge.c   ****     /* operator support */
1776:str_merge.c   **** #ifndef __OPTR_NONE__
1777:str_merge.c   ****     optr_path = (char *)tmp_buf;
1778:str_merge.c   ****     strcpy(tmp_buf, CUST_OPERATOR_STR_PATH);
1779:str_merge.c   ****     strcat(tmp_buf, "\\");
1780:str_merge.c   ****     strcat(tmp_buf, optr_ref_file);
1781:str_merge.c   **** 
1782:str_merge.c   ****     optr_ref = fopen(optr_path, "rb");
1783:str_merge.c   ****     if (optr_ref == NULL)
1784:str_merge.c   ****     {
1785:str_merge.c   ****         STRMERG_LOG_E("Invalid operator reference filename");
1786:str_merge.c   ****         goto ERR_RET;
1787:str_merge.c   ****     }
1788:str_merge.c   **** #endif /* __OPTR_NONE__ */
1789:str_merge.c   ****     fail = fopen(".\\\\debug\\\\NoTranslation.txt", "w");
 2886              	LM346:
 2887 1b80 C7442404 		movl	$LC26, 4(%esp)
 2887      7F150000 
 2888 1b88 C7042481 		movl	$LC27, (%esp)
 2888      150000
 2889 1b8f E8000000 		call	_fopen
 2889      00
 2890 1b94 8945F0   		movl	%eax, -16(%ebp)
1790:str_merge.c   ****     if (fail == NULL)
 2892              	LM347:
 2893 1b97 837DF000 		cmpl	$0, -16(%ebp)
 2894 1b9b 7521     		jne	L193
1791:str_merge.c   ****     {
1792:str_merge.c   ****         STRMERG_LOG_E(".\\\\debug\\\\NoTranslation.txt Open Fail!!");
 2896              	LM348:
 2897 1b9d C7442408 		movl	$LC28, 8(%esp)
 2897      A0150000 
 2898 1ba5 C7442404 		movl	$LC3, 4(%esp)
 2898      4B040000 
 2899 1bad C7042403 		movl	$3, (%esp)
 2899      000000
 2900 1bb4 E8000000 		call	_reslog_adaptor_log
 2900      00
1793:str_merge.c   ****         goto ERR_RET;
 2902              	LM349:
 2903 1bb9 E93C0B00 		jmp	L194
 2903      00
 2904              	L193:
1794:str_merge.c   ****     }
1795:str_merge.c   ****     fclose(fail);
 2906              	LM350:
 2907 1bbe 8B45F0   		movl	-16(%ebp), %eax
 2908 1bc1 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 79


 2909 1bc4 E8000000 		call	_fclose
 2909      00
1796:str_merge.c   ****     fail = fopen(".\\\\debug\\\\NoTranslation.txt", "a");
 2911              	LM351:
 2912 1bc9 C7442404 		movl	$LC29, 4(%esp)
 2912      C8150000 
 2913 1bd1 C7042481 		movl	$LC27, (%esp)
 2913      150000
 2914 1bd8 E8000000 		call	_fopen
 2914      00
 2915 1bdd 8945F0   		movl	%eax, -16(%ebp)
1797:str_merge.c   ****     if (fail == NULL)
 2917              	LM352:
 2918 1be0 837DF000 		cmpl	$0, -16(%ebp)
 2919 1be4 7521     		jne	L195
1798:str_merge.c   ****     {
1799:str_merge.c   ****         STRMERG_LOG_E("NoTranslation.txt Open Fail!!");
 2921              	LM353:
 2922 1be6 C7442408 		movl	$LC30, 8(%esp)
 2922      CA150000 
 2923 1bee C7442404 		movl	$LC3, 4(%esp)
 2923      4B040000 
 2924 1bf6 C7042403 		movl	$3, (%esp)
 2924      000000
 2925 1bfd E8000000 		call	_reslog_adaptor_log
 2925      00
1800:str_merge.c   ****         goto ERR_RET;        
 2927              	LM354:
 2928 1c02 E9F30A00 		jmp	L194
 2928      00
 2929              	L195:
1801:str_merge.c   ****     }
1802:str_merge.c   **** 
1803:str_merge.c   **** #ifdef __TIME_CONSUME
1804:str_merge.c   ****     start_time = time(NULL);
1805:str_merge.c   **** #endif
1806:str_merge.c   **** 
1807:str_merge.c   ****     fgetws(tmp_buf, TMP_BUF_LENGTH, ref); /* Number of Language */
 2931              	LM355:
 2932 1c07 8B45F4   		movl	-12(%ebp), %eax
 2933 1c0a 89442408 		movl	%eax, 8(%esp)
 2934 1c0e C7442404 		movl	$1024, 4(%esp)
 2934      00040000 
 2935 1c16 8D85D8E7 		leal	-6184(%ebp), %eax
 2935      FFFF
 2936 1c1c 890424   		movl	%eax, (%esp)
 2937 1c1f E8000000 		call	_fgetws
 2937      00
1808:str_merge.c   ****     GetItem(tmp_buf, 1, buf_ref);
 2939              	LM356:
 2940 1c24 8D85D8EF 		leal	-4136(%ebp), %eax
 2940      FFFF
 2941 1c2a 89442408 		movl	%eax, 8(%esp)
 2942 1c2e C7442404 		movl	$1, 4(%esp)
 2942      01000000 
 2943 1c36 8D85D8E7 		leal	-6184(%ebp), %eax
 2943      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 80


 2944 1c3c 890424   		movl	%eax, (%esp)
 2945 1c3f E811E8FF 		call	_GetItem
 2945      FF
1809:str_merge.c   ****     nLang = _wtoi(buf_ref);
 2947              	LM357:
 2948 1c44 8D85D8EF 		leal	-4136(%ebp), %eax
 2948      FFFF
 2949 1c4a 890424   		movl	%eax, (%esp)
 2950 1c4d E8000000 		call	__wtoi
 2950      00
 2951 1c52 A3780000 		movl	%eax, _nLang
 2951      00
1810:str_merge.c   ****     rewind(ref);
 2953              	LM358:
 2954 1c57 8B45F4   		movl	-12(%ebp), %eax
 2955 1c5a 890424   		movl	%eax, (%esp)
 2956 1c5d E8000000 		call	_rewind
 2956      00
1811:str_merge.c   ****     g_line_buf_length = GetLineBufLength(ref, nLang);
 2958              	LM359:
 2959 1c62 A1780000 		movl	_nLang, %eax
 2959      00
 2960 1c67 89442404 		movl	%eax, 4(%esp)
 2961 1c6b 8B45F4   		movl	-12(%ebp), %eax
 2962 1c6e 890424   		movl	%eax, (%esp)
 2963 1c71 E872EAFF 		call	_GetLineBufLength
 2963      FF
 2964 1c76 A3280000 		movl	%eax, _g_line_buf_length
 2964      00
1812:str_merge.c   ****     /* need additional buffer for NO_TRANSLATION_MARKER to avoid buffer overruns */
1813:str_merge.c   ****     g_line_buf_length += wcslen(marker) * nLang;
 2966              	LM360:
 2967 1c7b 8D85ACE5 		leal	-6740(%ebp), %eax
 2967      FFFF
 2968 1c81 890424   		movl	%eax, (%esp)
 2969 1c84 E8000000 		call	_wcslen
 2969      00
 2970 1c89 0FAF0578 		imull	_nLang, %eax
 2970      000000
 2971 1c90 01052800 		addl	%eax, _g_line_buf_length
 2971      0000
1814:str_merge.c   ****     /* actually line length */
1815:str_merge.c   ****     g_line_buf_act_length = g_line_buf_length;
 2973              	LM361:
 2974 1c96 A1280000 		movl	_g_line_buf_length, %eax
 2974      00
 2975 1c9b A3380000 		movl	%eax, _g_line_buf_act_length
 2975      00
1816:str_merge.c   **** 
1817:str_merge.c   ****     rewind(ref);
 2977              	LM362:
 2978 1ca0 8B45F4   		movl	-12(%ebp), %eax
 2979 1ca3 890424   		movl	%eax, (%esp)
 2980 1ca6 E8000000 		call	_rewind
 2980      00
1818:str_merge.c   ****     fgetws(tmp_buf, TMP_BUF_LENGTH, ref); /* Skip Number of Language */
 2982              	LM363:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 81


 2983 1cab 8B45F4   		movl	-12(%ebp), %eax
 2984 1cae 89442408 		movl	%eax, 8(%esp)
 2985 1cb2 C7442404 		movl	$1024, 4(%esp)
 2985      00040000 
 2986 1cba 8D85D8E7 		leal	-6184(%ebp), %eax
 2986      FFFF
 2987 1cc0 890424   		movl	%eax, (%esp)
 2988 1cc3 E8000000 		call	_fgetws
 2988      00
1819:str_merge.c   **** 
1820:str_merge.c   **** 
1821:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
1822:str_merge.c   ****     /* Allocate tmp_line buffer. tmp_line will be write back to RefList
1823:str_merge.c   ****             strcuture indexed by corrosponding tmp_line_index. */
1824:str_merge.c   ****     tmp_line = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t));
 2990              	LM364:
 2991 1cc8 A1380000 		movl	_g_line_buf_act_length, %eax
 2991      00
 2992 1ccd 01C0     		addl	%eax, %eax
 2993 1ccf 890424   		movl	%eax, (%esp)
 2994 1cd2 E8000000 		call	_malloc
 2994      00
 2995 1cd7 8945EC   		movl	%eax, -20(%ebp)
1825:str_merge.c   ****     memset(tmp_line, 0, g_line_buf_act_length * sizeof(wchar_t));
 2997              	LM365:
 2998 1cda A1380000 		movl	_g_line_buf_act_length, %eax
 2998      00
 2999 1cdf 01C0     		addl	%eax, %eax
 3000 1ce1 89442408 		movl	%eax, 8(%esp)
 3001 1ce5 C7442404 		movl	$0, 4(%esp)
 3001      00000000 
 3002 1ced 8B45EC   		movl	-20(%ebp), %eax
 3003 1cf0 890424   		movl	%eax, (%esp)
 3004 1cf3 E8000000 		call	_memset
 3004      00
1826:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
1827:str_merge.c   **** 
1828:str_merge.c   ****     /* operator support */
1829:str_merge.c   **** #ifndef __OPTR_NONE__
1830:str_merge.c   ****     fgetws(tmp_buf, TMP_BUF_LENGTH, optr_ref);
1831:str_merge.c   ****     GetItem(tmp_buf, 1, buf_ref);
1832:str_merge.c   ****     optr_lang = _wtoi(buf_ref);
1833:str_merge.c   ****     rewind(optr_ref);
1834:str_merge.c   ****     optr_line_buf_length = GetLineBufLength(optr_ref, optr_lang); 
1835:str_merge.c   ****     /* need additional buffer for NO_TRANSLATION_MARKER to avoid buffer overruns */
1836:str_merge.c   ****     optr_line_buf_length += wcslen(marker) * optr_lang;    
1837:str_merge.c   ****     rewind(optr_ref);
1838:str_merge.c   ****     fgetws(tmp_buf, TMP_BUF_LENGTH, optr_ref); /* Skip Number of Language */
1839:str_merge.c   **** 	
1840:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
1841:str_merge.c   ****     /* Allocate tmp_line buffer. optr_tmp_line will be write back to RefList 
1842:str_merge.c   ****             strcuture indexed by corrosponding optr_tmp_line_index. */
1843:str_merge.c   ****     optr_tmp_line = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t));
1844:str_merge.c   ****     memset(optr_tmp_line, 0, g_line_buf_act_length * sizeof(wchar_t));
1845:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
1846:str_merge.c   **** 
1847:str_merge.c   **** #endif /* __OPTR_NONE__ */
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 82


1848:str_merge.c   **** 
1849:str_merge.c   ****     /* 
1850:str_merge.c   ****      * calculate line buffer size 
1851:str_merge.c   ****      * here +2 for Description, and (Max String Length, MODULE, ENUM)
1852:str_merge.c   ****      */
1853:str_merge.c   ****     /* Makr this line for reduce string memory, use GetLineBufLength */
1854:str_merge.c   ****     /*  g_line_buf_length = (nLang + 2) * MAX_LENGTH; */
1855:str_merge.c   ****     ref_tmp = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 3006              	LM366:
 3007 1cf8 A1280000 		movl	_g_line_buf_length, %eax
 3007      00
 3008 1cfd 01C0     		addl	%eax, %eax
 3009 1cff 890424   		movl	%eax, (%esp)
 3010 1d02 E8000000 		call	_malloc
 3010      00
 3011 1d07 A3680000 		movl	%eax, _ref_tmp
 3011      00
1856:str_merge.c   ****     if (ref_tmp == NULL)
 3013              	LM367:
 3014 1d0c 833D6800 		cmpl	$0, _ref_tmp
 3014      000000
 3015 1d13 752C     		jne	L196
1857:str_merge.c   ****     {
1858:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.1 size=[%d]", g_line_buf_length * sizeof(wchar_
 3017              	LM368:
 3018 1d15 A1280000 		movl	_g_line_buf_length, %eax
 3018      00
 3019 1d1a 01C0     		addl	%eax, %eax
 3020 1d1c 8944240C 		movl	%eax, 12(%esp)
 3021 1d20 C7442408 		movl	$LC31, 8(%esp)
 3021      00160000 
 3022 1d28 C7442404 		movl	$LC3, 4(%esp)
 3022      4B040000 
 3023 1d30 C7042403 		movl	$3, (%esp)
 3023      000000
 3024 1d37 E8000000 		call	_reslog_adaptor_log
 3024      00
1859:str_merge.c   ****         goto ERR_RET;
 3026              	LM369:
 3027 1d3c E9B90900 		jmp	L194
 3027      00
 3028              	L196:
1860:str_merge.c   ****     }
1861:str_merge.c   **** 
1862:str_merge.c   ****     token_id = 0;
 3030              	LM370:
 3031 1d41 C785D4E7 		movl	$0, -6188(%ebp)
 3031      FFFF0000 
 3031      0000
1863:str_merge.c   ****     fgetws(ref_tmp, TMP_BUF_LENGTH, ref);   /* Title list */
 3033              	LM371:
 3034 1d4b 8B45F4   		movl	-12(%ebp), %eax
 3035 1d4e 89442408 		movl	%eax, 8(%esp)
 3036 1d52 C7442404 		movl	$1024, 4(%esp)
 3036      00040000 
 3037 1d5a A1680000 		movl	_ref_tmp, %eax
 3037      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 83


 3038 1d5f 890424   		movl	%eax, (%esp)
 3039 1d62 E8000000 		call	_fgetws
 3039      00
1864:str_merge.c   ****     GetItem(ref_tmp, token_id++, buf_src);
 3041              	LM372:
 3042 1d67 8D85D8F7 		leal	-2088(%ebp), %eax
 3042      FFFF
 3043 1d6d 89442408 		movl	%eax, 8(%esp)
 3044 1d71 8B85D4E7 		movl	-6188(%ebp), %eax
 3044      FFFF
 3045 1d77 89442404 		movl	%eax, 4(%esp)
 3046 1d7b 8D85D4E7 		leal	-6188(%ebp), %eax
 3046      FFFF
 3047 1d81 FF00     		incl	(%eax)
 3048 1d83 A1680000 		movl	_ref_tmp, %eax
 3048      00
 3049 1d88 890424   		movl	%eax, (%esp)
 3050 1d8b E8C5E6FF 		call	_GetItem
 3050      FF
1865:str_merge.c   ****     UCS2ASCII((char*)buf_src, buf_asc);     /* Enum Value */
 3052              	LM373:
 3053 1d90 8D85C8E5 		leal	-6712(%ebp), %eax
 3053      FFFF
 3054 1d96 89442404 		movl	%eax, 4(%esp)
 3055 1d9a 8D85D8F7 		leal	-2088(%ebp), %eax
 3055      FFFF
 3056 1da0 890424   		movl	%eax, (%esp)
 3057 1da3 E83BE6FF 		call	_UCS2ASCII
 3057      FF
1866:str_merge.c   ****     fprintf(fail, "%s", buf_asc);           /* print out to NoTranslation.txt */
 3059              	LM374:
 3060 1da8 8D85C8E5 		leal	-6712(%ebp), %eax
 3060      FFFF
 3061 1dae 89442408 		movl	%eax, 8(%esp)
 3062 1db2 C7442404 		movl	$LC32, 4(%esp)
 3062      29160000 
 3063 1dba 8B45F0   		movl	-16(%ebp), %eax
 3064 1dbd 890424   		movl	%eax, (%esp)
 3065 1dc0 E8000000 		call	_fprintf
 3065      00
1867:str_merge.c   **** 
1868:str_merge.c   ****     GetItem(ref_tmp, token_id++, buf_src);
 3067              	LM375:
 3068 1dc5 8D85D8F7 		leal	-2088(%ebp), %eax
 3068      FFFF
 3069 1dcb 89442408 		movl	%eax, 8(%esp)
 3070 1dcf 8B85D4E7 		movl	-6188(%ebp), %eax
 3070      FFFF
 3071 1dd5 89442404 		movl	%eax, 4(%esp)
 3072 1dd9 8D85D4E7 		leal	-6188(%ebp), %eax
 3072      FFFF
 3073 1ddf FF00     		incl	(%eax)
 3074 1de1 A1680000 		movl	_ref_tmp, %eax
 3074      00
 3075 1de6 890424   		movl	%eax, (%esp)
 3076 1de9 E867E6FF 		call	_GetItem
 3076      FF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 84


1869:str_merge.c   ****     UCS2ASCII((char*)buf_src, buf_asc);     /* MODULE NAME */
 3078              	LM376:
 3079 1dee 8D85C8E5 		leal	-6712(%ebp), %eax
 3079      FFFF
 3080 1df4 89442404 		movl	%eax, 4(%esp)
 3081 1df8 8D85D8F7 		leal	-2088(%ebp), %eax
 3081      FFFF
 3082 1dfe 890424   		movl	%eax, (%esp)
 3083 1e01 E8DDE5FF 		call	_UCS2ASCII
 3083      FF
1870:str_merge.c   ****     fprintf(fail, "\t%s", buf_asc);         /* print out to NoTranslation.txt */
 3085              	LM377:
 3086 1e06 8D85C8E5 		leal	-6712(%ebp), %eax
 3086      FFFF
 3087 1e0c 89442408 		movl	%eax, 8(%esp)
 3088 1e10 C7442404 		movl	$LC33, 4(%esp)
 3088      2C160000 
 3089 1e18 8B45F0   		movl	-16(%ebp), %eax
 3090 1e1b 890424   		movl	%eax, (%esp)
 3091 1e1e E8000000 		call	_fprintf
 3091      00
1871:str_merge.c   **** 
1872:str_merge.c   ****     GetItem(ref_tmp, token_id++, buf_src);
 3093              	LM378:
 3094 1e23 8D85D8F7 		leal	-2088(%ebp), %eax
 3094      FFFF
 3095 1e29 89442408 		movl	%eax, 8(%esp)
 3096 1e2d 8B85D4E7 		movl	-6188(%ebp), %eax
 3096      FFFF
 3097 1e33 89442404 		movl	%eax, 4(%esp)
 3098 1e37 8D85D4E7 		leal	-6188(%ebp), %eax
 3098      FFFF
 3099 1e3d FF00     		incl	(%eax)
 3100 1e3f A1680000 		movl	_ref_tmp, %eax
 3100      00
 3101 1e44 890424   		movl	%eax, (%esp)
 3102 1e47 E809E6FF 		call	_GetItem
 3102      FF
1873:str_merge.c   ****     UCS2ASCII((char*)buf_src, buf_asc);     /* Max String Length */
 3104              	LM379:
 3105 1e4c 8D85C8E5 		leal	-6712(%ebp), %eax
 3105      FFFF
 3106 1e52 89442404 		movl	%eax, 4(%esp)
 3107 1e56 8D85D8F7 		leal	-2088(%ebp), %eax
 3107      FFFF
 3108 1e5c 890424   		movl	%eax, (%esp)
 3109 1e5f E87FE5FF 		call	_UCS2ASCII
 3109      FF
1874:str_merge.c   ****     fprintf(fail, "\t%s", buf_asc);         /* print out to NoTranslation.txt */
 3111              	LM380:
 3112 1e64 8D85C8E5 		leal	-6712(%ebp), %eax
 3112      FFFF
 3113 1e6a 89442408 		movl	%eax, 8(%esp)
 3114 1e6e C7442404 		movl	$LC33, 4(%esp)
 3114      2C160000 
 3115 1e76 8B45F0   		movl	-16(%ebp), %eax
 3116 1e79 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 85


 3117 1e7c E8000000 		call	_fprintf
 3117      00
1875:str_merge.c   **** 
1876:str_merge.c   ****     GetItem(ref_tmp, token_id++, buf_src);
 3119              	LM381:
 3120 1e81 8D85D8F7 		leal	-2088(%ebp), %eax
 3120      FFFF
 3121 1e87 89442408 		movl	%eax, 8(%esp)
 3122 1e8b 8B85D4E7 		movl	-6188(%ebp), %eax
 3122      FFFF
 3123 1e91 89442404 		movl	%eax, 4(%esp)
 3124 1e95 8D85D4E7 		leal	-6188(%ebp), %eax
 3124      FFFF
 3125 1e9b FF00     		incl	(%eax)
 3126 1e9d A1680000 		movl	_ref_tmp, %eax
 3126      00
 3127 1ea2 890424   		movl	%eax, (%esp)
 3128 1ea5 E8ABE5FF 		call	_GetItem
 3128      FF
1877:str_merge.c   ****     UCS2ASCII((char*)buf_src, buf_asc);     /* Description */
 3130              	LM382:
 3131 1eaa 8D85C8E5 		leal	-6712(%ebp), %eax
 3131      FFFF
 3132 1eb0 89442404 		movl	%eax, 4(%esp)
 3133 1eb4 8D85D8F7 		leal	-2088(%ebp), %eax
 3133      FFFF
 3134 1eba 890424   		movl	%eax, (%esp)
 3135 1ebd E821E5FF 		call	_UCS2ASCII
 3135      FF
1878:str_merge.c   ****     fprintf(fail, "\t%s", buf_asc);         /* print out to NoTranslation.txt */
 3137              	LM383:
 3138 1ec2 8D85C8E5 		leal	-6712(%ebp), %eax
 3138      FFFF
 3139 1ec8 89442408 		movl	%eax, 8(%esp)
 3140 1ecc C7442404 		movl	$LC33, 4(%esp)
 3140      2C160000 
 3141 1ed4 8B45F0   		movl	-16(%ebp), %eax
 3142 1ed7 890424   		movl	%eax, (%esp)
 3143 1eda E8000000 		call	_fprintf
 3143      00
1879:str_merge.c   **** 
1880:str_merge.c   ****     for (i = 0; i < nLang; i++)
 3145              	LM384:
 3146 1edf C785C0E5 		movl	$0, -6720(%ebp)
 3146      FFFF0000 
 3146      0000
 3147              	L197:
 3148 1ee9 8B85C0E5 		movl	-6720(%ebp), %eax
 3148      FFFF
 3149 1eef 3B057800 		cmpl	_nLang, %eax
 3149      0000
 3150 1ef5 7C02     		jl	L200
 3151 1ef7 EB66     		jmp	L198
 3152              	L200:
1881:str_merge.c   ****     {
1882:str_merge.c   ****         GetItem(ref_tmp, token_id + i, buf_ref);
 3154              	LM385:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 86


 3155 1ef9 8D85D8EF 		leal	-4136(%ebp), %eax
 3155      FFFF
 3156 1eff 89442408 		movl	%eax, 8(%esp)
 3157 1f03 8B85C0E5 		movl	-6720(%ebp), %eax
 3157      FFFF
 3158 1f09 0385D4E7 		addl	-6188(%ebp), %eax
 3158      FFFF
 3159 1f0f 89442404 		movl	%eax, 4(%esp)
 3160 1f13 A1680000 		movl	_ref_tmp, %eax
 3160      00
 3161 1f18 890424   		movl	%eax, (%esp)
 3162 1f1b E835E5FF 		call	_GetItem
 3162      FF
1883:str_merge.c   ****         UCS2ASCII((char*)buf_ref, buf_asc); /* Language */
 3164              	LM386:
 3165 1f20 8D85C8E5 		leal	-6712(%ebp), %eax
 3165      FFFF
 3166 1f26 89442404 		movl	%eax, 4(%esp)
 3167 1f2a 8D85D8EF 		leal	-4136(%ebp), %eax
 3167      FFFF
 3168 1f30 890424   		movl	%eax, (%esp)
 3169 1f33 E8ABE4FF 		call	_UCS2ASCII
 3169      FF
1884:str_merge.c   ****         fprintf(fail, "\t%s", buf_asc);     /* print out to NoTranslation.txt */
 3171              	LM387:
 3172 1f38 8D85C8E5 		leal	-6712(%ebp), %eax
 3172      FFFF
 3173 1f3e 89442408 		movl	%eax, 8(%esp)
 3174 1f42 C7442404 		movl	$LC33, 4(%esp)
 3174      2C160000 
 3175 1f4a 8B45F0   		movl	-16(%ebp), %eax
 3176 1f4d 890424   		movl	%eax, (%esp)
 3177 1f50 E8000000 		call	_fprintf
 3177      00
 3179              	LM388:
 3180 1f55 8D85C0E5 		leal	-6720(%ebp), %eax
 3180      FFFF
 3181 1f5b FF00     		incl	(%eax)
 3182 1f5d EB8A     		jmp	L197
 3183              	L198:
1885:str_merge.c   ****     }
1886:str_merge.c   ****     fprintf(fail, "\n");
 3185              	LM389:
 3186 1f5f C7442404 		movl	$LC34, 4(%esp)
 3186      30160000 
 3187 1f67 8B45F0   		movl	-16(%ebp), %eax
 3188 1f6a 890424   		movl	%eax, (%esp)
 3189 1f6d E8000000 		call	_fprintf
 3189      00
1887:str_merge.c   **** 
1888:str_merge.c   ****     ref_ssc = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 3191              	LM390:
 3192 1f72 A1280000 		movl	_g_line_buf_length, %eax
 3192      00
 3193 1f77 01C0     		addl	%eax, %eax
 3194 1f79 890424   		movl	%eax, (%esp)
 3195 1f7c E8000000 		call	_malloc
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 87


 3195      00
 3196 1f81 A3580000 		movl	%eax, _ref_ssc
 3196      00
1889:str_merge.c   ****     if (ref_ssc == NULL)
 3198              	LM391:
 3199 1f86 833D5800 		cmpl	$0, _ref_ssc
 3199      000000
 3200 1f8d 752C     		jne	L201
1890:str_merge.c   ****     {
1891:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.2 size=[%d]", g_line_buf_length * sizeof(wchar_
 3202              	LM392:
 3203 1f8f A1280000 		movl	_g_line_buf_length, %eax
 3203      00
 3204 1f94 01C0     		addl	%eax, %eax
 3205 1f96 8944240C 		movl	%eax, 12(%esp)
 3206 1f9a C7442408 		movl	$LC35, 8(%esp)
 3206      40160000 
 3207 1fa2 C7442404 		movl	$LC3, 4(%esp)
 3207      4B040000 
 3208 1faa C7042403 		movl	$3, (%esp)
 3208      000000
 3209 1fb1 E8000000 		call	_reslog_adaptor_log
 3209      00
1892:str_merge.c   ****         goto ERR_RET;
 3211              	LM393:
 3212 1fb6 E93F0700 		jmp	L194
 3212      00
 3213              	L201:
1893:str_merge.c   ****     }
1894:str_merge.c   ****     fgetws(ref_ssc, g_line_buf_length, ref); /* SSC STRING */
 3215              	LM394:
 3216 1fbb 8B45F4   		movl	-12(%ebp), %eax
 3217 1fbe 89442408 		movl	%eax, 8(%esp)
 3218 1fc2 A1280000 		movl	_g_line_buf_length, %eax
 3218      00
 3219 1fc7 89442404 		movl	%eax, 4(%esp)
 3220 1fcb A1580000 		movl	_ref_ssc, %eax
 3220      00
 3221 1fd0 890424   		movl	%eax, (%esp)
 3222 1fd3 E8000000 		call	_fgetws
 3222      00
1895:str_merge.c   **** 
1896:str_merge.c   ****     filter_ref_ssc = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t));
 3224              	LM395:
 3225 1fd8 A1380000 		movl	_g_line_buf_act_length, %eax
 3225      00
 3226 1fdd 01C0     		addl	%eax, %eax
 3227 1fdf 890424   		movl	%eax, (%esp)
 3228 1fe2 E8000000 		call	_malloc
 3228      00
 3229 1fe7 A3880000 		movl	%eax, _filter_ref_ssc
 3229      00
1897:str_merge.c   ****     if (filter_ref_ssc == NULL)
 3231              	LM396:
 3232 1fec 833D8800 		cmpl	$0, _filter_ref_ssc
 3232      000000
 3233 1ff3 752C     		jne	L202
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 88


1898:str_merge.c   ****     {
1899:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.2 size=[%d]", g_line_buf_act_length * sizeof(wc
 3235              	LM397:
 3236 1ff5 A1380000 		movl	_g_line_buf_act_length, %eax
 3236      00
 3237 1ffa 01C0     		addl	%eax, %eax
 3238 1ffc 8944240C 		movl	%eax, 12(%esp)
 3239 2000 C7442408 		movl	$LC35, 8(%esp)
 3239      40160000 
 3240 2008 C7442404 		movl	$LC3, 4(%esp)
 3240      4B040000 
 3241 2010 C7042403 		movl	$3, (%esp)
 3241      000000
 3242 2017 E8000000 		call	_reslog_adaptor_log
 3242      00
1900:str_merge.c   ****         goto ERR_RET;
 3244              	LM398:
 3245 201c E9D90600 		jmp	L194
 3245      00
 3246              	L202:
1901:str_merge.c   ****     }
1902:str_merge.c   **** 
1903:str_merge.c   ****     ref_cnt = get_ref_count(ref, g_line_buf_length, ref_tmp);
 3248              	LM399:
 3249 2021 A1680000 		movl	_ref_tmp, %eax
 3249      00
 3250 2026 89442408 		movl	%eax, 8(%esp)
 3251 202a A1280000 		movl	_g_line_buf_length, %eax
 3251      00
 3252 202f 89442404 		movl	%eax, 4(%esp)
 3253 2033 8B45F4   		movl	-12(%ebp), %eax
 3254 2036 890424   		movl	%eax, (%esp)
 3255 2039 E84DF3FF 		call	_get_ref_count
 3255      FF
 3256 203e 8985A4E5 		movl	%eax, -6748(%ebp)
 3256      FFFF
1904:str_merge.c   **** 
1905:str_merge.c   ****     /*get index of language in ref list*/
1906:str_merge.c   ****     get_language_in_ssc_index(ref_ssc, &deployed_lang_index, nLang);
 3258              	LM400:
 3259 2044 A1780000 		movl	_nLang, %eax
 3259      00
 3260 2049 89442408 		movl	%eax, 8(%esp)
 3261 204d 8B8588E5 		movl	-6776(%ebp), %eax
 3261      FFFF
 3262 2053 89442404 		movl	%eax, 4(%esp)
 3263 2057 A1580000 		movl	_ref_ssc, %eax
 3263      00
 3264 205c 890424   		movl	%eax, (%esp)
 3265 205f E8C0E7FF 		call	_get_language_in_ssc_index
 3265      FF
1907:str_merge.c   ****     filter_raw_string(ref_ssc, filter_ref_ssc, deployed_lang_index, nUsedLang);
 3267              	LM401:
 3268 2064 0FB70598 		movzwl	_nUsedLang, %eax
 3268      000000
 3269 206b 8944240C 		movl	%eax, 12(%esp)
 3270 206f 8B8588E5 		movl	-6776(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 89


 3270      FFFF
 3271 2075 89442408 		movl	%eax, 8(%esp)
 3272 2079 A1880000 		movl	_filter_ref_ssc, %eax
 3272      00
 3273 207e 89442404 		movl	%eax, 4(%esp)
 3274 2082 A1580000 		movl	_ref_ssc, %eax
 3274      00
 3275 2087 890424   		movl	%eax, (%esp)
 3276 208a E835EAFF 		call	_filter_raw_string
 3276      FF
1908:str_merge.c   **** 
1909:str_merge.c   ****     /* operator support */
1910:str_merge.c   **** #ifndef __OPTR_NONE__
1911:str_merge.c   ****     /* Makr this line for reduce string memory, use GetLineBufLength */
1912:str_merge.c   ****     /* optr_line_buf_length = (optr_lang + 2) * MAX_LENGTH; */
1913:str_merge.c   ****     optr_ref_ssc = (wchar_t *)malloc(optr_line_buf_length * sizeof(wchar_t));
1914:str_merge.c   ****     if (optr_ref_ssc == NULL)
1915:str_merge.c   ****     {
1916:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.3 size=[%d]", optr_line_buf_length * sizeof(wch
1917:str_merge.c   ****         goto ERR_RET;
1918:str_merge.c   ****     }
1919:str_merge.c   **** 
1920:str_merge.c   ****     optr_filter_ref_ssc =  (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t));
1921:str_merge.c   ****     if (optr_filter_ref_ssc == NULL)
1922:str_merge.c   ****     {
1923:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.3 size=[%d]", g_line_buf_act_length * sizeof(wc
1924:str_merge.c   ****         goto ERR_RET;
1925:str_merge.c   ****     }
1926:str_merge.c   **** 
1927:str_merge.c   ****     fgetws(ref_tmp, optr_line_buf_length, optr_ref);
1928:str_merge.c   ****     fgetws(optr_ref_ssc, optr_line_buf_length, optr_ref);
1929:str_merge.c   **** 
1930:str_merge.c   ****     /*get index of language in operator ref list and filter ssc*/
1931:str_merge.c   ****     get_language_in_ssc_index(optr_ref_ssc, &optr_deployed_lang_index, optr_lang);
1932:str_merge.c   ****     filter_raw_string(optr_ref_ssc, optr_filter_ref_ssc, optr_deployed_lang_index, nUsedLang);
1933:str_merge.c   **** 
1934:str_merge.c   ****     /* allocate mask for languages in operator_ref_list.txt */
1935:str_merge.c   ****     optr_lang_mask = (U16 *)malloc(nUsedLang* sizeof(U16));
1936:str_merge.c   ****     if (optr_lang_mask == NULL)
1937:str_merge.c   ****     {
1938:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.4 size=[%d]", nUsedLang * sizeof(U16));
1939:str_merge.c   ****         goto ERR_RET;
1940:str_merge.c   ****     }
1941:str_merge.c   ****     memset(optr_lang_mask, 0, nUsedLang * sizeof(U16));
1942:str_merge.c   ****     ref_ssc_list = (wchar_t (*)[SSC_LENGTH])malloc(sizeof(wchar_t[SSC_LENGTH]) * nUsedLang);
1943:str_merge.c   ****     if (ref_ssc_list == NULL)
1944:str_merge.c   ****     {
1945:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.5 size=[%d]", sizeof(wchar_t[SSC_LENGTH]) * nUs
1946:str_merge.c   ****         goto ERR_RET;
1947:str_merge.c   ****     }
1948:str_merge.c   **** 
1949:str_merge.c   ****     /* read each SSC into ref_ssc_list */
1950:str_merge.c   ****     token_id = 4; /* skip the first 4 column header information */
1951:str_merge.c   ****     for (i = 0; i < nUsedLang; i++)
1952:str_merge.c   ****     {
1953:str_merge.c   ****         GetItem(filter_ref_ssc, token_id++, buf_ref);
1954:str_merge.c   ****         wcscpy(ref_ssc_list[i], buf_ref);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 90


1955:str_merge.c   ****     }
1956:str_merge.c   ****     /* 
1957:str_merge.c   ****      * try to match each SSC in operator_ref_list.txt 
1958:str_merge.c   ****      * within ref_ssc_list
1959:str_merge.c   ****      */
1960:str_merge.c   ****     token_id = 4; /* skip the first 4 column header information */
1961:str_merge.c   ****     for (i = 0; i < nUsedLang; i++)
1962:str_merge.c   ****     {
1963:str_merge.c   ****         GetItem(optr_filter_ref_ssc, token_id++, buf_ref);
1964:str_merge.c   ****         for (j = 0; j < nUsedLang; j++)
1965:str_merge.c   ****         {
1966:str_merge.c   ****             if (!wcscmp(buf_ref, ref_ssc_list[j]))
1967:str_merge.c   ****             {
1968:str_merge.c   ****                 /* 
1969:str_merge.c   ****                  * language column j is found in operator_ref_list.txt, 
1970:str_merge.c   ****                  * and matching to language column i
1971:str_merge.c   ****                  */
1972:str_merge.c   ****                 optr_lang_mask[j] = i + 1;
1973:str_merge.c   ****                 break;
1974:str_merge.c   ****             }
1975:str_merge.c   ****         }
1976:str_merge.c   ****     }
1977:str_merge.c   ****     free(ref_ssc_list);
1978:str_merge.c   ****     ref_ssc_list = NULL;
1979:str_merge.c   **** 
1980:str_merge.c   **** 
1981:str_merge.c   ****     optr_ref_cnt = get_ref_count(optr_ref, g_line_buf_length, ref_tmp);
1982:str_merge.c   **** 
1983:str_merge.c   ****     if (optr_ref_cnt != 0)
1984:str_merge.c   ****     {
1985:str_merge.c   **** 
1986:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
1987:str_merge.c   ****         optr_ref_all = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t) * optr_ref_cnt);
1988:str_merge.c   **** 
1989:str_merge.c   ****         if (optr_ref_all == NULL)
1990:str_merge.c   ****         {
1991:str_merge.c   ****             STRMERG_LOG_E("memory is not available step.6 size=[%d]", g_line_buf_act_length * sizeo
1992:str_merge.c   ****             goto ERR_RET;
1993:str_merge.c   ****         }
1994:str_merge.c   ****         /*load optr ref list to optr_ref_all, this is used to instead the following old part*/
1995:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Load optr ref list to memory");
1996:str_merge.c   ****         load_ref_list_to_mem(optr_ref_all, &optr_end_line, optr_ref, optr_deployed_lang_index, optr
1997:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "optr ref list: count= %d , size = %d", optr_ref_cnt, g_l
1998:str_merge.c   **** #else / *MEM_REF_LIST_OPT */
1999:str_merge.c   ****         /* Create a Vector-like structure to load operator ref list */
2000:str_merge.c   ****         optr_ref_all_list = CreateRefList(optr_ref_cnt);
2001:str_merge.c   ****         
2002:str_merge.c   ****         if (optr_ref_all_list == NULL)
2003:str_merge.c   ****         {
2004:str_merge.c   ****             STRMERG_LOG_E("memory is not available step.6 length=[%d]",optr_ref_cnt);
2005:str_merge.c   ****             goto ERR_RET;
2006:str_merge.c   ****         }
2007:str_merge.c   ****         
2008:str_merge.c   ****         /*load optr ref list to ref_all, this is used to instead the following old part*/
2009:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Load optr ref list to memory");
2010:str_merge.c   ****         load_ref_list_to_mem(optr_ref_all_list, optr_ref, optr_deployed_lang_index, optr_ref_cnt, n
2011:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "optr_ref_all_list length = %d, size = %d", optr_ref_all_
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 91


2012:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
2013:str_merge.c   ****     }
2014:str_merge.c   **** #endif /* __OPTR_NONE__ */
2015:str_merge.c   **** 
2016:str_merge.c   ****     /* operator support */
2017:str_merge.c   **** #ifndef __OPTR_NONE__
2018:str_merge.c   ****     count = ref_cnt + optr_ref_cnt;
2019:str_merge.c   **** #else /*__OPTR_NONE__*/
2020:str_merge.c   ****     count = ref_cnt; 
 3278              	LM402:
 3279 208f 8B85A4E5 		movl	-6748(%ebp), %eax
 3279      FFFF
 3280 2095 898594E5 		movl	%eax, -6764(%ebp)
 3280      FFFF
2021:str_merge.c   **** #endif /*__OPTR_NONE__*/
2022:str_merge.c   **** 
2023:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2024:str_merge.c   ****     ref_all = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t) * (count));
2025:str_merge.c   ****     STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "memory usage in step.7 size=[%d], buf_length: %d, count: %d"
2026:str_merge.c   ****     fflush(stdout);
2027:str_merge.c   **** 	
2028:str_merge.c   ****     //Retry if the memory is not available
2029:str_merge.c   ****     while(ref_all == NULL && mem_retry_count < MEM_RETRY_COUNT_MAX)
2030:str_merge.c   ****     {
2031:str_merge.c   ****         /* Retry count of memory allocation */
2032:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "memory is unavailable step.7, retry after %d sec", MEM_R
2033:str_merge.c   ****         sleep(MEM_RETRY_TIME_INTERVAL_SEC);
2034:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "retry: %d", mem_retry_count);
2035:str_merge.c   ****         ref_all = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t) * (count));
2036:str_merge.c   ****         mem_retry_count++;
2037:str_merge.c   ****     }
2038:str_merge.c   **** 	  
2039:str_merge.c   ****     if (ref_all == NULL)
2040:str_merge.c   ****     {
2041:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.7 size=[%d]", g_line_buf_act_length * sizeof(wc
2042:str_merge.c   ****         goto ERR_RET;
2043:str_merge.c   ****     }    
2044:str_merge.c   ****     /*load ref list to ref_all, this is used to instead the following old part*/
2045:str_merge.c   ****     load_ref_list_to_mem(ref_all, &end_line, ref, deployed_lang_index, ref_cnt, nUsedLang);
2046:str_merge.c   **** #else /*MEM_REF_LIST_OPT*/
2047:str_merge.c   ****     /* Create a ref list vector to store ref list lines in ref_list.txt */
2048:str_merge.c   **** 	STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "CreateRefList : create data structure to store ref list lines")
 3282              	LM403:
 3283 209b C7442408 		movl	$LC36, 8(%esp)
 3283      80160000 
 3284 20a3 C7442404 		movl	$LC3, 4(%esp)
 3284      4B040000 
 3285 20ab C7042401 		movl	$1, (%esp)
 3285      000000
 3286 20b2 E8000000 		call	_reslog_adaptor_log
 3286      00
2049:str_merge.c   ****     fflush(stdout);
 3288              	LM404:
 3289 20b7 A1000000 		movl	__imp___iob, %eax
 3289      00
 3290 20bc 83C020   		addl	$32, %eax
 3291 20bf 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 92


 3292 20c2 E8000000 		call	_fflush
 3292      00
2050:str_merge.c   ****     ref_all_list = CreateRefList(count);
 3294              	LM405:
 3295 20c7 8B8594E5 		movl	-6764(%ebp), %eax
 3295      FFFF
 3296 20cd 890424   		movl	%eax, (%esp)
 3297 20d0 E8F75600 		call	_CreateRefList
 3297      00
 3298 20d5 A3480000 		movl	%eax, _ref_all_list
 3298      00
2051:str_merge.c   ****     if (ref_all_list == NULL)
 3300              	LM406:
 3301 20da 833D4800 		cmpl	$0, _ref_all_list
 3301      000000
 3302 20e1 752B     		jne	L203
2052:str_merge.c   ****     {
2053:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.7 length=[%d]", count);
 3304              	LM407:
 3305 20e3 8B8594E5 		movl	-6764(%ebp), %eax
 3305      FFFF
 3306 20e9 8944240C 		movl	%eax, 12(%esp)
 3307 20ed C7442408 		movl	$LC37, 8(%esp)
 3307      E0160000 
 3308 20f5 C7442404 		movl	$LC3, 4(%esp)
 3308      4B040000 
 3309 20fd C7042403 		movl	$3, (%esp)
 3309      000000
 3310 2104 E8000000 		call	_reslog_adaptor_log
 3310      00
2054:str_merge.c   ****         goto ERR_RET;
 3312              	LM408:
 3313 2109 E9EC0500 		jmp	L194
 3313      00
 3314              	L203:
2055:str_merge.c   ****     }
2056:str_merge.c   **** 	
2057:str_merge.c   ****     /* load ref list items to ref_all vector*/
2058:str_merge.c   **** 	STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "load_ref_list_to_mem: load ref list items to ref_all vector");	
 3316              	LM409:
 3317 210e C7442408 		movl	$LC38, 8(%esp)
 3317      20170000 
 3318 2116 C7442404 		movl	$LC3, 4(%esp)
 3318      4B040000 
 3319 211e C7042401 		movl	$1, (%esp)
 3319      000000
 3320 2125 E8000000 		call	_reslog_adaptor_log
 3320      00
2059:str_merge.c   ****     fflush(stdout);
 3322              	LM410:
 3323 212a A1000000 		movl	__imp___iob, %eax
 3323      00
 3324 212f 83C020   		addl	$32, %eax
 3325 2132 890424   		movl	%eax, (%esp)
 3326 2135 E8000000 		call	_fflush
 3326      00
2060:str_merge.c   ****     load_ref_list_to_mem(ref_all_list, ref, deployed_lang_index, ref_cnt, nUsedLang);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 93


 3328              	LM411:
 3329 213a 0FB70598 		movzwl	_nUsedLang, %eax
 3329      000000
 3330 2141 89442410 		movl	%eax, 16(%esp)
 3331 2145 8B85A4E5 		movl	-6748(%ebp), %eax
 3331      FFFF
 3332 214b 8944240C 		movl	%eax, 12(%esp)
 3333 214f 8B8588E5 		movl	-6776(%ebp), %eax
 3333      FFFF
 3334 2155 89442408 		movl	%eax, 8(%esp)
 3335 2159 8B45F4   		movl	-12(%ebp), %eax
 3336 215c 89442404 		movl	%eax, 4(%esp)
 3337 2160 A1480000 		movl	_ref_all_list, %eax
 3337      00
 3338 2165 890424   		movl	%eax, (%esp)
 3339 2168 E861EFFF 		call	_load_ref_list_to_mem
 3339      FF
2061:str_merge.c   **** 
2062:str_merge.c   **** 	/* Update ref_cnt based to the loaded items */
2063:str_merge.c   ****     ref_cnt = ref_all_list->ListLength;
 3341              	LM412:
 3342 216d A1480000 		movl	_ref_all_list, %eax
 3342      00
 3343 2172 8B4004   		movl	4(%eax), %eax
 3344 2175 8985A4E5 		movl	%eax, -6748(%ebp)
 3344      FFFF
2064:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
2065:str_merge.c   **** 
2066:str_merge.c   **** #ifdef DEBUG_REF_LIST_DUMP
2067:str_merge.c   **** /* Dump the ref list loaded in memory to log file REFLISST_DUMP_FILE_BEFOR_MERGE */
2068:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2069:str_merge.c   ****     DumpRefList(REFLISST_DUMP_FILE_BEFOR_MERGE, ref_all, g_line_buf_act_length, count);
2070:str_merge.c   **** #else /* MEM_REF_LIST_OPT */
2071:str_merge.c   ****     DumpRefList(REFLISST_DUMP_FILE_BEFOR_MERGE, ref_all_list);
2072:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
2073:str_merge.c   **** #endif /* DEBUG_REF_LIST_DUMP */
2074:str_merge.c   **** 
2075:str_merge.c   **** 
2076:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
2077:str_merge.c   ****     total_id = CurrMaxTransStrId;
 3346              	LM413:
 3347 217b 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 3347      000000
 3348 2182 668985B0 		movw	%ax, -6736(%ebp)
 3348      E5FFFF
2078:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
2079:str_merge.c   **** 
2080:str_merge.c   ****     /* String ID array without empty slot */
2081:str_merge.c   ****     StrID = (U16 *)malloc(sizeof(U16) * total_id);
 3350              	LM414:
 3351 2189 0FB785B0 		movzwl	-6736(%ebp), %eax
 3351      E5FFFF
 3352 2190 01C0     		addl	%eax, %eax
 3353 2192 890424   		movl	%eax, (%esp)
 3354 2195 E8000000 		call	_malloc
 3354      00
 3355 219a A3180000 		movl	%eax, _StrID
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 94


 3355      00
2082:str_merge.c   ****     if (StrID == NULL)
 3357              	LM415:
 3358 219f 833D1800 		cmpl	$0, _StrID
 3358      000000
 3359 21a6 752E     		jne	L204
2083:str_merge.c   ****     {
2084:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.8 size=[%d]", sizeof(U16) * total_id);
 3361              	LM416:
 3362 21a8 0FB785B0 		movzwl	-6736(%ebp), %eax
 3362      E5FFFF
 3363 21af 01C0     		addl	%eax, %eax
 3364 21b1 8944240C 		movl	%eax, 12(%esp)
 3365 21b5 C7442408 		movl	$LC39, 8(%esp)
 3365      80170000 
 3366 21bd C7442404 		movl	$LC3, 4(%esp)
 3366      4B040000 
 3367 21c5 C7042403 		movl	$3, (%esp)
 3367      000000
 3368 21cc E8000000 		call	_reslog_adaptor_log
 3368      00
2085:str_merge.c   ****         goto ERR_RET;
 3370              	LM417:
 3371 21d1 E9240500 		jmp	L194
 3371      00
 3372              	L204:
2086:str_merge.c   ****     }
2087:str_merge.c   **** 
2088:str_merge.c   ****     nStrId = 0;
 3374              	LM418:
 3375 21d6 66C785B2 		movw	$0, -6734(%ebp)
 3375      E5FFFF00 
 3375      00
2089:str_merge.c   ****     while (nStrId < MAX_STRING_MAP_SIZE)
 3377              	LM419:
 3378              	L205:
 3379 21df 6683BDB2 		cmpw	$-1, -6734(%ebp)
 3379      E5FFFFFF 
 3380 21e7 7505     		jne	L207
 3381 21e9 E99B0400 		jmp	L206
 3381      00
 3382              	L207:
2090:str_merge.c   ****     {
2091:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2092:str_merge.c   ****         STRMERG_LOG_D("Check String ID %d", nStrId);
 3384              	LM420:
 3385 21ee 0FB785B2 		movzwl	-6734(%ebp), %eax
 3385      E5FFFF
 3386 21f5 8944240C 		movl	%eax, 12(%esp)
 3387 21f9 C7442408 		movl	$LC40, 8(%esp)
 3387      A9170000 
 3388 2201 C7442404 		movl	$LC3, 4(%esp)
 3388      4B040000 
 3389 2209 C7042400 		movl	$0, (%esp)
 3389      000000
 3390 2210 E8000000 		call	_reslog_adaptor_log
 3390      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 95


2093:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2094:str_merge.c   ****         if (StrIsPopulate[nStrId] == 0)
 3392              	LM421:
 3393 2215 0FB785B2 		movzwl	-6734(%ebp), %eax
 3393      E5FFFF
 3394 221c 80B80000 		cmpb	$0, _StrIsPopulate(%eax)
 3394      000000
 3395 2223 7511     		jne	L208
2095:str_merge.c   ****         {
2096:str_merge.c   ****             nStrId++;
 3397              	LM422:
 3398 2225 0FB785B2 		movzwl	-6734(%ebp), %eax
 3398      E5FFFF
 3399 222c 40       		incl	%eax
 3400 222d 668985B2 		movw	%ax, -6734(%ebp)
 3400      E5FFFF
2097:str_merge.c   ****             continue;
 3402              	LM423:
 3403 2234 EBA9     		jmp	L205
 3404              	L208:
2098:str_merge.c   ****         }
2099:str_merge.c   **** 
2100:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
2101:str_merge.c   ****         /* skip no translated string id */
2102:str_merge.c   ****         if(fixed_id.fixed_id_flag[nStrId] == NO_TRANSLATE_FLAG)
 3406              	LM424:
 3407 2236 0FB795B2 		movzwl	-6734(%ebp), %edx
 3407      E5FFFF
 3408 223d A1040000 		movl	_fixed_id+4, %eax
 3408      00
 3409 2242 803C0201 		cmpb	$1, (%edx,%eax)
 3410 2246 7511     		jne	L209
2103:str_merge.c   ****         {
2104:str_merge.c   ****             nStrId++;
 3412              	LM425:
 3413 2248 0FB785B2 		movzwl	-6734(%ebp), %eax
 3413      E5FFFF
 3414 224f 40       		incl	%eax
 3415 2250 668985B2 		movw	%ax, -6734(%ebp)
 3415      E5FFFF
2105:str_merge.c   ****             continue;
 3417              	LM426:
 3418 2257 EB86     		jmp	L205
 3419              	L209:
2106:str_merge.c   ****         }
2107:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
2108:str_merge.c   **** 
2109:str_merge.c   ****         *(StrID + gIndex) = nStrId;
 3421              	LM427:
 3422 2259 8B85D0E7 		movl	-6192(%ebp), %eax
 3422      FFFF
 3423 225f 8D0C00   		leal	(%eax,%eax), %ecx
 3424 2262 8B151800 		movl	_StrID, %edx
 3424      0000
 3425 2268 0FB785B2 		movzwl	-6734(%ebp), %eax
 3425      E5FFFF
 3426 226f 6689040A 		movw	%ax, (%edx,%ecx)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 96


2110:str_merge.c   **** 
2111:str_merge.c   ****         /* operator support */
2112:str_merge.c   **** #ifndef __OPTR_NONE__
2113:str_merge.c   ****         optr_found = 0;
2114:str_merge.c   ****         if (optr_ref_cnt != 0) /* operator ref liststring id */
2115:str_merge.c   ****         {
2116:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2117:str_merge.c   ****             STRMERG_LOG_D("OP ref list item idx = %d",optr_search_index );
2118:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2119:str_merge.c   **** 
2120:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2121:str_merge.c   ****             optr_tmp_line = optr_ref_all + optr_search_index * g_line_buf_act_length;
2122:str_merge.c   **** #else
2123:str_merge.c   ****             /* Read a list item from optr_ref_all_list*/
2124:str_merge.c   ****             tmp_list_item = GetRefListItem(optr_ref_all_list,optr_search_index);
2125:str_merge.c   ****             /* NULL pointer check*/
2126:str_merge.c   ****             if(tmp_list_item != NULL)
2127:str_merge.c   ****             {
2128:str_merge.c   ****                 wcscpy(optr_tmp_line,tmp_list_item->ItemData);
2129:str_merge.c   ****             }
2130:str_merge.c   ****             else
2131:str_merge.c   ****             {
2132:str_merge.c   ****                 STRMERG_LOG_E("tmp_list_item in op list is NULL, idx = %d", optr_search_index);
2133:str_merge.c   ****             }
2134:str_merge.c   ****             /* Record the current scaning line in the op ref list */
2135:str_merge.c   ****             optr_tmp_line_indx = optr_search_index;
2136:str_merge.c   **** #endif  /*MEM_REF_LIST_OPT*/
2137:str_merge.c   ****             while (optr_search_cnt < optr_ref_cnt)
2138:str_merge.c   ****             {
2139:str_merge.c   ****                 token_id = 0;
2140:str_merge.c   ****                 GetItem(optr_tmp_line, token_id++, buf_ref);
2141:str_merge.c   ****                 /* Check if it is a new string*/
2142:str_merge.c   ****                 if (!wcscmp((wchar_t *)StrEnum[nStrId], buf_ref))
2143:str_merge.c   ****                 {
2144:str_merge.c   ****                     optr_found = 1;
2145:str_merge.c   ****                     break;
2146:str_merge.c   ****                 }
2147:str_merge.c   ****                 optr_search_cnt++;
2148:str_merge.c   ****                 optr_search_index++;
2149:str_merge.c   ****                 if (optr_search_index >= optr_ref_cnt)
2150:str_merge.c   ****                     optr_search_index = 0;
2151:str_merge.c   **** 
2152:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2153:str_merge.c   ****                 optr_tmp_line += g_line_buf_act_length;
2154:str_merge.c   ****                 if (optr_tmp_line > optr_end_line)
2155:str_merge.c   ****                     optr_tmp_line = optr_ref_all;
2156:str_merge.c   **** #else
2157:str_merge.c   ****                 tmp_list_item = GetRefListItem(optr_ref_all_list,optr_search_index);
2158:str_merge.c   ****                 /* Read the next string line in optr ref list */
2159:str_merge.c   ****                 if(tmp_list_item!=NULL)
2160:str_merge.c   ****                 {
2161:str_merge.c   ****                     wcscpy(optr_tmp_line, tmp_list_item->ItemData);
2162:str_merge.c   ****                 }
2163:str_merge.c   ****                 else
2164:str_merge.c   ****                 {
2165:str_merge.c   ****                     wcscpy(optr_tmp_line,L"");
2166:str_merge.c   ****                 }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 97


2167:str_merge.c   ****                 /* Record the current scanning line in optr ref list */
2168:str_merge.c   ****                 optr_tmp_line_indx = optr_search_index;
2169:str_merge.c   **** #endif  /*MEM_REF_LIST_OPT*/
2170:str_merge.c   ****             }
2171:str_merge.c   **** 
2172:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2173:str_merge.c   ****             STRMERG_LOG_D("Finished check opfound= %d", optr_found);
2174:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2175:str_merge.c   ****         }
2176:str_merge.c   **** 
2177:str_merge.c   **** #endif /* __OPTR_NONE__ */
2178:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2179:str_merge.c   ****         STRMERG_LOG_D("Process ref_all_list!! search_index = %d",search_index);
 3428              	LM428:
 3429 2273 8B859CE5 		movl	-6756(%ebp), %eax
 3429      FFFF
 3430 2279 8944240C 		movl	%eax, 12(%esp)
 3431 227d C7442408 		movl	$LC41, 8(%esp)
 3431      C0170000 
 3432 2285 C7442404 		movl	$LC3, 4(%esp)
 3432      4B040000 
 3433 228d C7042400 		movl	$0, (%esp)
 3433      000000
 3434 2294 E8000000 		call	_reslog_adaptor_log
 3434      00
2180:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2181:str_merge.c   ****         found = 0;
 3436              	LM429:
 3437 2299 C785C4E5 		movl	$0, -6716(%ebp)
 3437      FFFF0000 
 3437      0000
2182:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2183:str_merge.c   ****         tmp_line = ref_all + search_index * g_line_buf_act_length;
2184:str_merge.c   **** #else
2185:str_merge.c   ****         tmp_list_item = GetRefListItem(ref_all_list, search_index);
 3439              	LM430:
 3440 22a3 8B859CE5 		movl	-6756(%ebp), %eax
 3440      FFFF
 3441 22a9 89442404 		movl	%eax, 4(%esp)
 3442 22ad A1480000 		movl	_ref_all_list, %eax
 3442      00
 3443 22b2 890424   		movl	%eax, (%esp)
 3444 22b5 E84A5B00 		call	_GetRefListItem
 3444      00
 3445 22ba 8945E0   		movl	%eax, -32(%ebp)
2186:str_merge.c   ****         if(tmp_list_item!=NULL)
 3447              	LM431:
 3448 22bd 837DE000 		cmpl	$0, -32(%ebp)
 3449 22c1 7416     		je	L210
2187:str_merge.c   ****         {
2188:str_merge.c   ****             /* Copy string line to temp line buffer */
2189:str_merge.c   ****             wcscpy(tmp_line,tmp_list_item->ItemData);
 3451              	LM432:
 3452 22c3 8B45E0   		movl	-32(%ebp), %eax
 3453 22c6 8B00     		movl	(%eax), %eax
 3454 22c8 89442404 		movl	%eax, 4(%esp)
 3455 22cc 8B45EC   		movl	-20(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 98


 3456 22cf 890424   		movl	%eax, (%esp)
 3457 22d2 E8000000 		call	_wcscpy
 3457      00
 3458 22d7 EB13     		jmp	L211
 3459              	L210:
2190:str_merge.c   ****         }
2191:str_merge.c   ****         else{
2192:str_merge.c   ****                 wcscpy(tmp_line,L"");
 3461              	LM433:
 3462 22d9 C7442404 		movl	$LC12, 4(%esp)
 3462      460E0000 
 3463 22e1 8B45EC   		movl	-20(%ebp), %eax
 3464 22e4 890424   		movl	%eax, (%esp)
 3465 22e7 E8000000 		call	_wcscpy
 3465      00
 3466              	L211:
2193:str_merge.c   ****         }
2194:str_merge.c   ****         /* Record scanning line index of ref list */
2195:str_merge.c   ****         tmp_line_indx = search_index;
 3468              	LM434:
 3469 22ec 8B859CE5 		movl	-6756(%ebp), %eax
 3469      FFFF
 3470 22f2 8945E4   		movl	%eax, -28(%ebp)
2196:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
2197:str_merge.c   **** 
2198:str_merge.c   **** 
2199:str_merge.c   ****         while ((search_cnt < ref_cnt) && !found)
 3472              	LM435:
 3473              	L212:
 3474 22f5 8B85A0E5 		movl	-6752(%ebp), %eax
 3474      FFFF
 3475 22fb 3B85A4E5 		cmpl	-6748(%ebp), %eax
 3475      FFFF
 3476 2301 0F8D0C03 		jge	L213
 3476      0000
 3477 2307 83BDC4E5 		cmpl	$0, -6716(%ebp)
 3477      FFFF00
 3478 230e 0F85FF02 		jne	L213
 3478      0000
2200:str_merge.c   ****         {
2201:str_merge.c   ****             token_id = 0;
 3480              	LM436:
 3481 2314 C785D4E7 		movl	$0, -6188(%ebp)
 3481      FFFF0000 
 3481      0000
2202:str_merge.c   ****             GetItem(tmp_line, token_id++, buf_ref);
 3483              	LM437:
 3484 231e 8D85D8EF 		leal	-4136(%ebp), %eax
 3484      FFFF
 3485 2324 89442408 		movl	%eax, 8(%esp)
 3486 2328 8B85D4E7 		movl	-6188(%ebp), %eax
 3486      FFFF
 3487 232e 89442404 		movl	%eax, 4(%esp)
 3488 2332 8D85D4E7 		leal	-6188(%ebp), %eax
 3488      FFFF
 3489 2338 FF00     		incl	(%eax)
 3490 233a 8B45EC   		movl	-20(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 99


 3491 233d 890424   		movl	%eax, (%esp)
 3492 2340 E810E1FF 		call	_GetItem
 3492      FF
2203:str_merge.c   ****             if (!wcscmp((wchar_t *)StrEnum[nStrId], buf_ref))
 3494              	LM438:
 3495 2345 8D85D8EF 		leal	-4136(%ebp), %eax
 3495      FFFF
 3496 234b 89442404 		movl	%eax, 4(%esp)
 3497 234f 0FB785B2 		movzwl	-6734(%ebp), %eax
 3497      E5FFFF
 3498 2356 8B048500 		movl	_StrEnum(,%eax,4), %eax
 3498      000000
 3499 235d 890424   		movl	%eax, (%esp)
 3500 2360 E8000000 		call	_wcscmp
 3500      00
 3501 2365 85C0     		testl	%eax, %eax
 3502 2367 0F85F801 		jne	L216
 3502      0000
2204:str_merge.c   ****             {
2205:str_merge.c   ****                 found = 1;
 3504              	LM439:
 3505 236d C785C4E5 		movl	$1, -6716(%ebp)
 3505      FFFF0100 
 3505      0000
2206:str_merge.c   ****                 StrLine[nStrId] = search_index + 1;
 3507              	LM440:
 3508 2377 0FB795B2 		movzwl	-6734(%ebp), %edx
 3508      E5FFFF
 3509 237e 8B859CE5 		movl	-6756(%ebp), %eax
 3509      FFFF
 3510 2384 40       		incl	%eax
 3511 2385 66898412 		movw	%ax, _StrLine(%edx,%edx)
 3511      D8000000 
2207:str_merge.c   **** 
2208:str_merge.c   ****                 wcscpy(tmp_buf, (wchar_t *)StrEnum[nStrId]); /* print out Enum Values */
 3513              	LM441:
 3514 238d 0FB785B2 		movzwl	-6734(%ebp), %eax
 3514      E5FFFF
 3515 2394 8B048500 		movl	_StrEnum(,%eax,4), %eax
 3515      000000
 3516 239b 89442404 		movl	%eax, 4(%esp)
 3517 239f 8D85D8E7 		leal	-6184(%ebp), %eax
 3517      FFFF
 3518 23a5 890424   		movl	%eax, (%esp)
 3519 23a8 E8000000 		call	_wcscpy
 3519      00
2209:str_merge.c   **** 
2210:str_merge.c   ****                 /* output content of fix columns */
2211:str_merge.c   ****                 OutputFixColumns(tmp_line, &token_id, buf_src, tmp_buf, ref_tmp);
 3521              	LM442:
 3522 23ad A1680000 		movl	_ref_tmp, %eax
 3522      00
 3523 23b2 89442410 		movl	%eax, 16(%esp)
 3524 23b6 8D85D8E7 		leal	-6184(%ebp), %eax
 3524      FFFF
 3525 23bc 8944240C 		movl	%eax, 12(%esp)
 3526 23c0 8D85D8F7 		leal	-2088(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 100


 3526      FFFF
 3527 23c6 89442408 		movl	%eax, 8(%esp)
 3528 23ca 8D85D4E7 		leal	-6188(%ebp), %eax
 3528      FFFF
 3529 23d0 89442404 		movl	%eax, 4(%esp)
 3530 23d4 8B45EC   		movl	-20(%ebp), %eax
 3531 23d7 890424   		movl	%eax, (%esp)
 3532 23da E8D9E1FF 		call	_OutputFixColumns
 3532      FF
2212:str_merge.c   **** 
2213:str_merge.c   ****                 missLanguage = 0;
 3534              	LM443:
 3535 23df C785B8E5 		movl	$0, -6728(%ebp)
 3535      FFFF0000 
 3535      0000
2214:str_merge.c   ****                 for (i = 0; i < nUsedLang; i++)
 3537              	LM444:
 3538 23e9 C785C0E5 		movl	$0, -6720(%ebp)
 3538      FFFF0000 
 3538      0000
 3539              	L217:
 3540 23f3 0FB70598 		movzwl	_nUsedLang, %eax
 3540      000000
 3541 23fa 3985C0E5 		cmpl	%eax, -6720(%ebp)
 3541      FFFF
 3542 2400 7C05     		jl	L220
 3543 2402 E9CC0000 		jmp	L218
 3543      00
 3544              	L220:
2215:str_merge.c   ****                 {
2216:str_merge.c   ****                     GetItem(tmp_line, i + token_id, buf_ref);
 3546              	LM445:
 3547 2407 8D85D8EF 		leal	-4136(%ebp), %eax
 3547      FFFF
 3548 240d 89442408 		movl	%eax, 8(%esp)
 3549 2411 8B85D4E7 		movl	-6188(%ebp), %eax
 3549      FFFF
 3550 2417 0385C0E5 		addl	-6720(%ebp), %eax
 3550      FFFF
 3551 241d 89442404 		movl	%eax, 4(%esp)
 3552 2421 8B45EC   		movl	-20(%ebp), %eax
 3553 2424 890424   		movl	%eax, (%esp)
 3554 2427 E829E0FF 		call	_GetItem
 3554      FF
2217:str_merge.c   **** 
2218:str_merge.c   ****                     /* operator support */
2219:str_merge.c   **** #ifndef __OPTR_NONE__
2220:str_merge.c   ****                     if (optr_found == 1 && optr_lang_mask[i])
2221:str_merge.c   ****                     {
2222:str_merge.c   ****                         GetItem(optr_tmp_line, 3 + optr_lang_mask[i], buf_ref);
2223:str_merge.c   ****                     }
2224:str_merge.c   **** #endif /* __OPTR_NONE__ */
2225:str_merge.c   **** 
2226:str_merge.c   ****                     if (buf_ref[0] == '\0')
 3556              	LM446:
 3557 242c 6683BDD8 		cmpw	$0, -4136(%ebp)
 3557      EFFFFF00 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 101


 3558 2434 754E     		jne	L221
2227:str_merge.c   ****                     {
2228:str_merge.c   ****                         /* if there is no corresponding string translation, use English */
2229:str_merge.c   ****                         missLanguage = 1;
 3560              	LM447:
 3561 2436 C785B8E5 		movl	$1, -6728(%ebp)
 3561      FFFF0100 
 3561      0000
2230:str_merge.c   ****                         wcscat(tmp_buf, L"\tV");
 3563              	LM448:
 3564 2440 C7442404 		movl	$LC42, 4(%esp)
 3564      EA170000 
 3565 2448 8D85D8E7 		leal	-6184(%ebp), %eax
 3565      FFFF
 3566 244e 890424   		movl	%eax, (%esp)
 3567 2451 E8000000 		call	_wcscat
 3567      00
2231:str_merge.c   **** 
2232:str_merge.c   ****                         wcscat(ref_tmp, L"\t");
 3569              	LM449:
 3570 2456 C7442404 		movl	$LC0, 4(%esp)
 3570      48000000 
 3571 245e A1680000 		movl	_ref_tmp, %eax
 3571      00
 3572 2463 890424   		movl	%eax, (%esp)
 3573 2466 E8000000 		call	_wcscat
 3573      00
2233:str_merge.c   ****                         wcscat(ref_tmp, marker);
 3575              	LM450:
 3576 246b 8D85ACE5 		leal	-6740(%ebp), %eax
 3576      FFFF
 3577 2471 89442404 		movl	%eax, 4(%esp)
 3578 2475 A1680000 		movl	_ref_tmp, %eax
 3578      00
 3579 247a 890424   		movl	%eax, (%esp)
 3580 247d E8000000 		call	_wcscat
 3580      00
 3581 2482 EB42     		jmp	L219
 3582              	L221:
2234:str_merge.c   ****                     }
2235:str_merge.c   ****                     else
2236:str_merge.c   ****                     {
2237:str_merge.c   ****                         wcscat(tmp_buf, L"\t");
 3584              	LM451:
 3585 2484 C7442404 		movl	$LC0, 4(%esp)
 3585      48000000 
 3586 248c 8D85D8E7 		leal	-6184(%ebp), %eax
 3586      FFFF
 3587 2492 890424   		movl	%eax, (%esp)
 3588 2495 E8000000 		call	_wcscat
 3588      00
2238:str_merge.c   **** 
2239:str_merge.c   ****                         /* for possible missing language translation */
2240:str_merge.c   ****                         wcscat(ref_tmp, L"\t");
 3590              	LM452:
 3591 249a C7442404 		movl	$LC0, 4(%esp)
 3591      48000000 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 102


 3592 24a2 A1680000 		movl	_ref_tmp, %eax
 3592      00
 3593 24a7 890424   		movl	%eax, (%esp)
 3594 24aa E8000000 		call	_wcscat
 3594      00
2241:str_merge.c   ****                         wcscat(ref_tmp, buf_ref);
 3596              	LM453:
 3597 24af 8D85D8EF 		leal	-4136(%ebp), %eax
 3597      FFFF
 3598 24b5 89442404 		movl	%eax, 4(%esp)
 3599 24b9 A1680000 		movl	_ref_tmp, %eax
 3599      00
 3600 24be 890424   		movl	%eax, (%esp)
 3601 24c1 E8000000 		call	_wcscat
 3601      00
 3603              	LM454:
 3604              	L219:
 3605 24c6 8D85C0E5 		leal	-6720(%ebp), %eax
 3605      FFFF
 3606 24cc FF00     		incl	(%eax)
 3607 24ce E920FFFF 		jmp	L217
 3607      FF
 3608              	L218:
2242:str_merge.c   ****                     }
2243:str_merge.c   ****                 }
2244:str_merge.c   ****                 if (missLanguage == 1)
 3610              	LM455:
 3611 24d3 83BDB8E5 		cmpl	$1, -6728(%ebp)
 3611      FFFF01
 3612 24da 0F858500 		jne	L216
 3612      0000
2245:str_merge.c   ****                 {
2246:str_merge.c   ****                     wcscat(tmp_buf, L"\n");
 3614              	LM456:
 3615 24e0 C7442404 		movl	$LC1, 4(%esp)
 3615      4C000000 
 3616 24e8 8D85D8E7 		leal	-6184(%ebp), %eax
 3616      FFFF
 3617 24ee 890424   		movl	%eax, (%esp)
 3618 24f1 E8000000 		call	_wcscat
 3618      00
2247:str_merge.c   ****                     UCS2ASCII((char*)tmp_buf, buf_asc);
 3620              	LM457:
 3621 24f6 8D85C8E5 		leal	-6712(%ebp), %eax
 3621      FFFF
 3622 24fc 89442404 		movl	%eax, 4(%esp)
 3623 2500 8D85D8E7 		leal	-6184(%ebp), %eax
 3623      FFFF
 3624 2506 890424   		movl	%eax, (%esp)
 3625 2509 E8D5DEFF 		call	_UCS2ASCII
 3625      FF
2248:str_merge.c   ****                     fprintf(fail, "%s", buf_asc);
 3627              	LM458:
 3628 250e 8D85C8E5 		leal	-6712(%ebp), %eax
 3628      FFFF
 3629 2514 89442408 		movl	%eax, 8(%esp)
 3630 2518 C7442404 		movl	$LC32, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 103


 3630      29160000 
 3631 2520 8B45F0   		movl	-16(%ebp), %eax
 3632 2523 890424   		movl	%eax, (%esp)
 3633 2526 E8000000 		call	_fprintf
 3633      00
2249:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2250:str_merge.c   ****                     STRMERG_LOG_V("missLanguage found!! search_index = %d",search_index);     
 3635              	LM459:
 3636 252b 8B859CE5 		movl	-6756(%ebp), %eax
 3636      FFFF
 3637 2531 8944240C 		movl	%eax, 12(%esp)
 3638 2535 C7442408 		movl	$LC43, 8(%esp)
 3638      00180000 
 3639 253d C7442404 		movl	$LC3, 4(%esp)
 3639      4B040000 
 3640 2545 C7042401 		movl	$1, (%esp)
 3640      000000
 3641 254c E8000000 		call	_reslog_adaptor_log
 3641      00
2251:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2252:str_merge.c   **** 
2253:str_merge.c   ****                     /* replace string content */
2254:str_merge.c   ****                     wcscpy(tmp_line, ref_tmp);
 3643              	LM460:
 3644 2551 A1680000 		movl	_ref_tmp, %eax
 3644      00
 3645 2556 89442404 		movl	%eax, 4(%esp)
 3646 255a 8B45EC   		movl	-20(%ebp), %eax
 3647 255d 890424   		movl	%eax, (%esp)
 3648 2560 E8000000 		call	_wcscpy
 3648      00
 3649              	L216:
2255:str_merge.c   ****                 }
2256:str_merge.c   **** #ifndef __OPTR_NONE__
2257:str_merge.c   ****                 else if (optr_found == 1)
2258:str_merge.c   ****                 {
2259:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2260:str_merge.c   ****                     STRMERG_LOG_D("OPTR found!! search_index = %d",search_index);     
2261:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2262:str_merge.c   ****                     /* replace string content */
2263:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2264:str_merge.c   ****                     wcscpy(tmp_line, ref_tmp);
2265:str_merge.c   **** #else
2266:str_merge.c   ****                     tmp_list_item = CreateListItemFromStr(ref_tmp);
2267:str_merge.c   ****                     SetRefListItem(ref_all_list, tmp_line_indx,tmp_list_item );
2268:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
2269:str_merge.c   ****                 }
2270:str_merge.c   **** #endif /* __OPTR_NONE__ */
2271:str_merge.c   ****             }
2272:str_merge.c   ****             if (!found)
 3651              	LM461:
 3652 2565 83BDC4E5 		cmpl	$0, -6716(%ebp)
 3652      FFFF00
 3653 256c 7508     		jne	L224
2273:str_merge.c   ****             {
2274:str_merge.c   ****                 search_cnt++;
 3655              	LM462:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 104


 3656 256e 8D85A0E5 		leal	-6752(%ebp), %eax
 3656      FFFF
 3657 2574 FF00     		incl	(%eax)
 3658              	L224:
2275:str_merge.c   ****             }
2276:str_merge.c   ****             search_index++;
 3660              	LM463:
 3661 2576 8D859CE5 		leal	-6756(%ebp), %eax
 3661      FFFF
 3662 257c FF00     		incl	(%eax)
2277:str_merge.c   ****             if (search_index >= ref_cnt)
 3664              	LM464:
 3665 257e 8B859CE5 		movl	-6756(%ebp), %eax
 3665      FFFF
 3666 2584 3B85A4E5 		cmpl	-6748(%ebp), %eax
 3666      FFFF
 3667 258a 7C0A     		jl	L225
2278:str_merge.c   ****                 search_index = 0;
 3669              	LM465:
 3670 258c C7859CE5 		movl	$0, -6756(%ebp)
 3670      FFFF0000 
 3670      0000
 3671              	L225:
2279:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2280:str_merge.c   ****             tmp_line += g_line_buf_act_length;
2281:str_merge.c   ****             if (tmp_line > end_line)
2282:str_merge.c   ****                 tmp_line = ref_all;
2283:str_merge.c   **** #else
2284:str_merge.c   ****             tmp_list_item = GetRefListItem(ref_all_list, search_index);
 3673              	LM466:
 3674 2596 8B859CE5 		movl	-6756(%ebp), %eax
 3674      FFFF
 3675 259c 89442404 		movl	%eax, 4(%esp)
 3676 25a0 A1480000 		movl	_ref_all_list, %eax
 3676      00
 3677 25a5 890424   		movl	%eax, (%esp)
 3678 25a8 E8575800 		call	_GetRefListItem
 3678      00
 3679 25ad 8945E0   		movl	%eax, -32(%ebp)
2285:str_merge.c   ****             if(tmp_list_item!=NULL)
 3681              	LM467:
 3682 25b0 837DE000 		cmpl	$0, -32(%ebp)
 3683 25b4 7416     		je	L226
2286:str_merge.c   ****             {
2287:str_merge.c   ****                 /* read scanning line to buffer */
2288:str_merge.c   ****                 wcscpy(tmp_line,tmp_list_item->ItemData);
 3685              	LM468:
 3686 25b6 8B45E0   		movl	-32(%ebp), %eax
 3687 25b9 8B00     		movl	(%eax), %eax
 3688 25bb 89442404 		movl	%eax, 4(%esp)
 3689 25bf 8B45EC   		movl	-20(%ebp), %eax
 3690 25c2 890424   		movl	%eax, (%esp)
 3691 25c5 E8000000 		call	_wcscpy
 3691      00
 3692 25ca EB39     		jmp	L227
 3693              	L226:
2289:str_merge.c   ****             }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 105


2290:str_merge.c   ****             else
2291:str_merge.c   ****             {
2292:str_merge.c   ****                 STRMERG_LOG_D("item in ref list is NULL: %d ",search_index);
 3695              	LM469:
 3696 25cc 8B859CE5 		movl	-6756(%ebp), %eax
 3696      FFFF
 3697 25d2 8944240C 		movl	%eax, 12(%esp)
 3698 25d6 C7442408 		movl	$LC44, 8(%esp)
 3698      27180000 
 3699 25de C7442404 		movl	$LC3, 4(%esp)
 3699      4B040000 
 3700 25e6 C7042400 		movl	$0, (%esp)
 3700      000000
 3701 25ed E8000000 		call	_reslog_adaptor_log
 3701      00
2293:str_merge.c   ****                 wcscpy(tmp_line,L"");
 3703              	LM470:
 3704 25f2 C7442404 		movl	$LC12, 4(%esp)
 3704      460E0000 
 3705 25fa 8B45EC   		movl	-20(%ebp), %eax
 3706 25fd 890424   		movl	%eax, (%esp)
 3707 2600 E8000000 		call	_wcscpy
 3707      00
 3708              	L227:
2294:str_merge.c   ****             }
2295:str_merge.c   ****             tmp_line_indx = search_index;
 3710              	LM471:
 3711 2605 8B859CE5 		movl	-6756(%ebp), %eax
 3711      FFFF
 3712 260b 8945E4   		movl	%eax, -28(%ebp)
 3713 260e E9E2FCFF 		jmp	L212
 3713      FF
 3714              	L213:
2296:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
2297:str_merge.c   ****         }
2298:str_merge.c   ****         if (!found)
 3716              	LM472:
 3717 2613 83BDC4E5 		cmpl	$0, -6716(%ebp)
 3717      FFFF00
 3718 261a 7547     		jne	L228
2299:str_merge.c   ****         {
2300:str_merge.c   **** #ifndef __OPTR_NONE__
2301:str_merge.c   ****             if (optr_found == 1)
2302:str_merge.c   ****             {
2303:str_merge.c   ****                 /* for strings only in operator_ref_list.txt */
2304:str_merge.c   ****                 int optr_token_id = 0;
2305:str_merge.c   **** 
2306:str_merge.c   ****                 GetItem(optr_tmp_line, optr_token_id++, buf_src);
2307:str_merge.c   ****                 wcscpy(tmp_buf, (wchar_t *)buf_src); /* print out Enum Values */
2308:str_merge.c   **** 
2309:str_merge.c   ****                 /* output content of fix columns */
2310:str_merge.c   ****                 OutputFixColumns(optr_tmp_line, &optr_token_id, buf_src, tmp_buf, ref_tmp);
2311:str_merge.c   **** 
2312:str_merge.c   ****                 missLanguage = 0;
2313:str_merge.c   ****                 for (i = 0; i < nUsedLang; i++)
2314:str_merge.c   ****                 {
2315:str_merge.c   ****                     buf_ref[0] = '\0';
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 106


2316:str_merge.c   **** 
2317:str_merge.c   ****                     if (optr_lang_mask[i])
2318:str_merge.c   ****                     {
2319:str_merge.c   ****                         GetItem(optr_tmp_line, 3 + optr_lang_mask[i], buf_ref);
2320:str_merge.c   ****                     }
2321:str_merge.c   **** 
2322:str_merge.c   ****                     if (buf_ref[0] == '\0')
2323:str_merge.c   ****                     {
2324:str_merge.c   ****                         /* if there is no corresponding string translation, use English */
2325:str_merge.c   ****                         missLanguage = 1;
2326:str_merge.c   ****                         wcscat(tmp_buf, L"\tV");
2327:str_merge.c   **** 
2328:str_merge.c   ****                         wcscat(ref_tmp, L"\t");
2329:str_merge.c   ****                         wcscat(ref_tmp, marker);
2330:str_merge.c   ****                     }
2331:str_merge.c   ****                     else
2332:str_merge.c   ****                     {
2333:str_merge.c   ****                         wcscat(tmp_buf, L"\t");
2334:str_merge.c   **** 
2335:str_merge.c   ****                         /* will copy back to reference string table */
2336:str_merge.c   ****                         wcscat(ref_tmp, L"\t");
2337:str_merge.c   ****                         wcscat(ref_tmp, buf_ref);
2338:str_merge.c   ****                     }
2339:str_merge.c   ****                 }
2340:str_merge.c   **** 
2341:str_merge.c   ****                 if (missLanguage == 1)
2342:str_merge.c   ****                 {
2343:str_merge.c   ****                     wcscat(tmp_buf, L"\n");
2344:str_merge.c   ****                     UCS2ASCII((char*)tmp_buf, buf_asc);
2345:str_merge.c   ****                     fprintf(fail, "%s", buf_asc);
2346:str_merge.c   ****                 }
2347:str_merge.c   **** 
2348:str_merge.c   ****                 /* copy back to reference string table */
2349:str_merge.c   ****                 optr_new_cnt++;
2350:str_merge.c   ****                 StrLine[nStrId] = ref_cnt + optr_new_cnt;
2351:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2352:str_merge.c   ****                 STRMERG_LOG_E("Copy Back nStrId = %d",nStrId);
2353:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2354:str_merge.c   **** 
2355:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2356:str_merge.c   ****                 wcscpy((end_line + optr_new_cnt * g_line_buf_act_length), ref_tmp);
2357:str_merge.c   **** #else
2358:str_merge.c   ****                 tmp_list_item = CreateListItemFromStr(ref_tmp);
2359:str_merge.c   ****                 if(tmp_list_item!=NULL)
2360:str_merge.c   ****                 {
2361:str_merge.c   ****                     AddRefListItem(ref_all_list,tmp_list_item);
2362:str_merge.c   ****                 }
2363:str_merge.c   ****                 else
2364:str_merge.c   ****                 {
2365:str_merge.c   ****                     STRMERG_LOG_V("Copy back from an empty item in ref list, index = %d", optr_new_
2366:str_merge.c   ****                 }
2367:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
2368:str_merge.c   ****             }
2369:str_merge.c   ****             else
2370:str_merge.c   **** #endif /*__OPTR_NONE__*/
2371:str_merge.c   ****             {
2372:str_merge.c   ****                 /* didn't find any match */
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 107


2373:str_merge.c   ****                 StrNotTranslated = 0;
 3720              	LM473:
 3721 261c C785BCE5 		movl	$0, -6724(%ebp)
 3721      FFFF0000 
 3721      0000
2374:str_merge.c   ****                 UCS2ASCII((char*)StrEnum[nStrId], buf_asc);
 3723              	LM474:
 3724 2626 8D85C8E5 		leal	-6712(%ebp), %eax
 3724      FFFF
 3725 262c 89442404 		movl	%eax, 4(%esp)
 3726 2630 0FB785B2 		movzwl	-6734(%ebp), %eax
 3726      E5FFFF
 3727 2637 8B048500 		movl	_StrEnum(,%eax,4), %eax
 3727      000000
 3728 263e 890424   		movl	%eax, (%esp)
 3729 2641 E89DDDFF 		call	_UCS2ASCII
 3729      FF
2375:str_merge.c   ****                 fprintf(fail, "%s\t\t\tEmpty\n", buf_asc);
 3731              	LM475:
 3732 2646 8D85C8E5 		leal	-6712(%ebp), %eax
 3732      FFFF
 3733 264c 89442408 		movl	%eax, 8(%esp)
 3734 2650 C7442404 		movl	$LC45, 4(%esp)
 3734      45180000 
 3735 2658 8B45F0   		movl	-16(%ebp), %eax
 3736 265b 890424   		movl	%eax, (%esp)
 3737 265e E8000000 		call	_fprintf
 3737      00
 3738              	L228:
2376:str_merge.c   ****             }
2377:str_merge.c   ****         }
2378:str_merge.c   **** 
2379:str_merge.c   ****         gIndex++;
 3740              	LM476:
 3741 2663 8D85D0E7 		leal	-6192(%ebp), %eax
 3741      FFFF
 3742 2669 FF00     		incl	(%eax)
2380:str_merge.c   ****         nStrId++;
 3744              	LM477:
 3745 266b 0FB785B2 		movzwl	-6734(%ebp), %eax
 3745      E5FFFF
 3746 2672 40       		incl	%eax
 3747 2673 668985B2 		movw	%ax, -6734(%ebp)
 3747      E5FFFF
2381:str_merge.c   ****         search_cnt = 0;
 3749              	LM478:
 3750 267a C785A0E5 		movl	$0, -6752(%ebp)
 3750      FFFF0000 
 3750      0000
 3751 2684 E956FBFF 		jmp	L205
 3751      FF
 3752              	L206:
2382:str_merge.c   ****         /* operator support */
2383:str_merge.c   **** #ifndef __OPTR_NONE__
2384:str_merge.c   ****         optr_search_cnt = 0;
2385:str_merge.c   **** #endif
2386:str_merge.c   ****     }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 108


2387:str_merge.c   **** 
2388:str_merge.c   **** #ifdef __TIME_CONSUME
2389:str_merge.c   ****     end_time = time(NULL);
2390:str_merge.c   ****     STRMERG_LOG_V("elapsed time = %d", end_time - start_time);
2391:str_merge.c   **** #endif /* __TIME_CONSUME */
2392:str_merge.c   **** 
2393:str_merge.c   ****     /* operator support */
2394:str_merge.c   **** #ifndef __OPTR_NONE__
2395:str_merge.c   ****     if (optr_lang_mask)
2396:str_merge.c   ****         free(optr_lang_mask);
2397:str_merge.c   ****     if (optr_ref_ssc)
2398:str_merge.c   ****         free(optr_ref_ssc);
2399:str_merge.c   ****     if(optr_filter_ref_ssc)
2400:str_merge.c   ****         free(optr_filter_ref_ssc);
2401:str_merge.c   **** /* Release ref list buffer memory*/
2402:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2403:str_merge.c   ****     if (optr_ref_all)
2404:str_merge.c   ****         free(optr_ref_all);
2405:str_merge.c   **** #else
2406:str_merge.c   ****     if(optr_tmp_line)
2407:str_merge.c   ****         free(optr_tmp_line);
2408:str_merge.c   ****     if(optr_ref_all_list)
2409:str_merge.c   ****         DeleteRefList(optr_ref_all_list);
2410:str_merge.c   **** #endif /* MEM_REF_LIST_OPT*/
2411:str_merge.c   ****     if (optr_ref)
2412:str_merge.c   ****         fclose(optr_ref);
2413:str_merge.c   **** #endif /* __OPTR_NONE__ */
2414:str_merge.c   **** 
2415:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
2416:str_merge.c   ****     if(tmp_line)
 3754              	LM479:
 3755 2689 837DEC00 		cmpl	$0, -20(%ebp)
 3756 268d 740B     		je	L229
2417:str_merge.c   ****         free(tmp_line);
 3758              	LM480:
 3759 268f 8B45EC   		movl	-20(%ebp), %eax
 3760 2692 890424   		movl	%eax, (%esp)
 3761 2695 E8000000 		call	_free
 3761      00
 3762              	L229:
2418:str_merge.c   **** #endif /* MEM_REF_LIST_OPT*/
2419:str_merge.c   **** 
2420:str_merge.c   **** #ifdef DEBUG_REF_LIST_DUMP
2421:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2422:str_merge.c   ****     DumpRefList(REFLISST_DUMP_FILE_AFTER_MERGE, ref_all, g_line_buf_act_length, count);
2423:str_merge.c   **** #else
2424:str_merge.c   ****     DumpRefList(REFLISST_DUMP_FILE_AFTER_MERGE, ref_all_list);
2425:str_merge.c   **** #endif /* MEM_REF_LIST_OPT*/
2426:str_merge.c   **** #endif /* DEBUG_REF_LIST_DUMP */
2427:str_merge.c   **** 
2428:str_merge.c   ****     fclose(ref);
 3764              	LM481:
 3765 269a 8B45F4   		movl	-12(%ebp), %eax
 3766 269d 890424   		movl	%eax, (%esp)
 3767 26a0 E8000000 		call	_fclose
 3767      00
2429:str_merge.c   ****     fclose(fail);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 109


 3769              	LM482:
 3770 26a5 8B45F0   		movl	-16(%ebp), %eax
 3771 26a8 890424   		movl	%eax, (%esp)
 3772 26ab E8000000 		call	_fclose
 3772      00
2430:str_merge.c   ****     if (StrNotTranslated == 0)
 3774              	LM483:
 3775 26b0 83BDBCE5 		cmpl	$0, -6724(%ebp)
 3775      FFFF00
 3776 26b7 751C     		jne	L230
2431:str_merge.c   ****     {
2432:str_merge.c   ****         STRMERG_LOG_V("Please see NoTranslation.txt to see the result...");
 3778              	LM484:
 3779 26b9 C7442408 		movl	$LC46, 8(%esp)
 3779      60180000 
 3780 26c1 C7442404 		movl	$LC3, 4(%esp)
 3780      4B040000 
 3781 26c9 C7042401 		movl	$1, (%esp)
 3781      000000
 3782 26d0 E8000000 		call	_reslog_adaptor_log
 3782      00
 3783              	L230:
2433:str_merge.c   ****     }
2434:str_merge.c   **** 	
2435:str_merge.c   **** 	fflush(stdout); // flush log message
 3785              	LM485:
 3786 26d5 A1000000 		movl	__imp___iob, %eax
 3786      00
 3787 26da 83C020   		addl	$32, %eax
 3788 26dd 890424   		movl	%eax, (%esp)
 3789 26e0 E8000000 		call	_fflush
 3789      00
2436:str_merge.c   ****     return 0;
 3791              	LM486:
 3792              	LBB27:
 3793 26e5 8BA58CE5 		movl	-6772(%ebp), %esp
 3793      FFFF
 3794              	LBE27:
 3795 26eb C78590E5 		movl	$0, -6768(%ebp)
 3795      FFFF0000 
 3795      0000
 3796 26f5 E9AB0000 		jmp	L189
 3796      00
 3797              	L194:
2437:str_merge.c   **** 
2438:str_merge.c   **** ERR_RET:
2439:str_merge.c   **** 	fflush(stdout); // flush log message
 3799              	LM487:
 3800 26fa A1000000 		movl	__imp___iob, %eax
 3800      00
 3801 26ff 83C020   		addl	$32, %eax
 3802 2702 890424   		movl	%eax, (%esp)
 3803 2705 E8000000 		call	_fflush
 3803      00
2440:str_merge.c   ****     if (ref_tmp)
 3805              	LM488:
 3806 270a 833D6800 		cmpl	$0, _ref_tmp
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 110


 3806      000000
 3807 2711 740D     		je	L231
2441:str_merge.c   ****         free(ref_tmp);
 3809              	LM489:
 3810 2713 A1680000 		movl	_ref_tmp, %eax
 3810      00
 3811 2718 890424   		movl	%eax, (%esp)
 3812 271b E8000000 		call	_free
 3812      00
 3813              	L231:
2442:str_merge.c   ****     if (ref_ssc)
 3815              	LM490:
 3816 2720 833D5800 		cmpl	$0, _ref_ssc
 3816      000000
 3817 2727 740D     		je	L232
2443:str_merge.c   ****         free(ref_ssc);
 3819              	LM491:
 3820 2729 A1580000 		movl	_ref_ssc, %eax
 3820      00
 3821 272e 890424   		movl	%eax, (%esp)
 3822 2731 E8000000 		call	_free
 3822      00
 3823              	L232:
2444:str_merge.c   **** 
2445:str_merge.c   **** /* Release ref list buffer memory*/
2446:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2447:str_merge.c   ****     if (ref_all)
2448:str_merge.c   ****         free(ref_all);
2449:str_merge.c   **** #else
2450:str_merge.c   ****     if(tmp_line)
 3825              	LM492:
 3826 2736 837DEC00 		cmpl	$0, -20(%ebp)
 3827 273a 740B     		je	L233
2451:str_merge.c   ****         free(tmp_line);
 3829              	LM493:
 3830 273c 8B45EC   		movl	-20(%ebp), %eax
 3831 273f 890424   		movl	%eax, (%esp)
 3832 2742 E8000000 		call	_free
 3832      00
 3833              	L233:
2452:str_merge.c   ****     if(ref_all_list)
 3835              	LM494:
 3836 2747 833D4800 		cmpl	$0, _ref_all_list
 3836      000000
 3837 274e 740D     		je	L234
2453:str_merge.c   ****         DeleteRefList(ref_all_list);
 3839              	LM495:
 3840 2750 A1480000 		movl	_ref_all_list, %eax
 3840      00
 3841 2755 890424   		movl	%eax, (%esp)
 3842 2758 E8DB5100 		call	_DeleteRefList
 3842      00
 3843              	L234:
2454:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
2455:str_merge.c   **** 
2456:str_merge.c   ****     if(filter_ref_ssc)
 3845              	LM496:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 111


 3846 275d 833D8800 		cmpl	$0, _filter_ref_ssc
 3846      000000
 3847 2764 740D     		je	L235
2457:str_merge.c   ****         free(filter_ref_ssc);
 3849              	LM497:
 3850 2766 A1880000 		movl	_filter_ref_ssc, %eax
 3850      00
 3851 276b 890424   		movl	%eax, (%esp)
 3852 276e E8000000 		call	_free
 3852      00
 3853              	L235:
2458:str_merge.c   ****     /* operator support */
2459:str_merge.c   **** #ifndef __OPTR_NONE__
2460:str_merge.c   ****     if (optr_lang_mask)
2461:str_merge.c   ****         free(optr_lang_mask);
2462:str_merge.c   ****     if (ref_ssc_list)
2463:str_merge.c   ****         free(ref_ssc_list);
2464:str_merge.c   ****     if (optr_ref_ssc)
2465:str_merge.c   ****         free(optr_ref_ssc);
2466:str_merge.c   **** 
2467:str_merge.c   **** /* Release OPTR ref list buffer memory*/
2468:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2469:str_merge.c   ****     if (optr_ref_all)
2470:str_merge.c   ****         free(optr_ref_all);
2471:str_merge.c   **** #else
2472:str_merge.c   ****     if(optr_ref_all_list)
2473:str_merge.c   ****         DeleteRefList(optr_ref_all_list);
2474:str_merge.c   ****     if(optr_tmp_line)
2475:str_merge.c   ****         free(optr_tmp_line);
2476:str_merge.c   **** #endif /*#ifndef MEM_REF_LIST_OPT*/
2477:str_merge.c   ****     if (optr_ref)
2478:str_merge.c   ****         fclose(optr_ref);
2479:str_merge.c   **** #endif /* __OPTR_NONE__ */
2480:str_merge.c   **** 
2481:str_merge.c   ****     if (ref)
 3855              	LM498:
 3856 2773 837DF400 		cmpl	$0, -12(%ebp)
 3857 2777 740B     		je	L236
2482:str_merge.c   ****         fclose(ref);
 3859              	LM499:
 3860 2779 8B45F4   		movl	-12(%ebp), %eax
 3861 277c 890424   		movl	%eax, (%esp)
 3862 277f E8000000 		call	_fclose
 3862      00
 3863              	L236:
2483:str_merge.c   ****     if (fail)
 3865              	LM500:
 3866 2784 837DF000 		cmpl	$0, -16(%ebp)
 3867 2788 740B     		je	L237
2484:str_merge.c   ****         fclose(fail);
 3869              	LM501:
 3870 278a 8B45F0   		movl	-16(%ebp), %eax
 3871 278d 890424   		movl	%eax, (%esp)
 3872 2790 E8000000 		call	_fclose
 3872      00
 3873              	L237:
2485:str_merge.c   ****     return -1;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 112


 3875              	LM502:
 3876              	LBB28:
 3877 2795 8BA58CE5 		movl	-6772(%ebp), %esp
 3877      FFFF
 3878              	LBE28:
 3879 279b C78590E5 		movl	$-1, -6768(%ebp)
 3879      FFFFFFFF 
 3879      FFFF
2486:str_merge.c   **** }
 3881              	LM503:
 3882              	L189:
 3883              	LBE23:
 3884 27a5 8B8590E5 		movl	-6768(%ebp), %eax
 3884      FFFF
 3885 27ab C9       		leave
 3886 27ac C3       		ret
 3916              	Lscope18:
 3921              	_mask_length:
2487:str_merge.c   **** 
2488:str_merge.c   **** 
2489:str_merge.c   **** /*****************************************************************************
2490:str_merge.c   ****  * FUNCTION
2491:str_merge.c   ****  *  mask_length
2492:str_merge.c   ****  * DESCRIPTION
2493:str_merge.c   ****  *  Get token between index and index+1 DELIMETER
2494:str_merge.c   ****  * PARAMETERS
2495:str_merge.c   ****  *  val     [IN]
2496:str_merge.c   ****  * RETURNS
2497:str_merge.c   ****  *  Return the mask bit count
2498:str_merge.c   ****  *****************************************************************************/
2499:str_merge.c   **** static int mask_length(int val)
2500:str_merge.c   **** {
 3923              	LM504:
 3924 27ad 55       		pushl	%ebp
 3925 27ae 89E5     		movl	%esp, %ebp
 3926 27b0 83EC08   		subl	$8, %esp
2501:str_merge.c   ****     /*----------------------------------------------------------------*/
2502:str_merge.c   ****     /* Local Variables                                                */
2503:str_merge.c   ****     /*----------------------------------------------------------------*/
2504:str_merge.c   ****     int l = 0, v;
 3928              	LM505:
 3929              	LBB29:
 3930 27b3 C745FC00 		movl	$0, -4(%ebp)
 3930      000000
2505:str_merge.c   **** 
2506:str_merge.c   ****     /*----------------------------------------------------------------*/
2507:str_merge.c   ****     /* Code Body                                                      */
2508:str_merge.c   ****     /*----------------------------------------------------------------*/
2509:str_merge.c   ****     v = val / 2;
 3932              	LM506:
 3933 27ba 8B5508   		movl	8(%ebp), %edx
 3934 27bd 89D0     		movl	%edx, %eax
 3935 27bf C1F81F   		sarl	$31, %eax
 3936 27c2 C1E81F   		shrl	$31, %eax
 3937 27c5 8D0410   		leal	(%eax,%edx), %eax
 3938 27c8 D1F8     		sarl	%eax
 3939 27ca 8945F8   		movl	%eax, -8(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 113


2510:str_merge.c   ****     while (v >= 1)
 3941              	LM507:
 3942              	L239:
 3943 27cd 837DF800 		cmpl	$0, -8(%ebp)
 3944 27d1 7F02     		jg	L241
 3945 27d3 EB1A     		jmp	L240
 3946              	L241:
2511:str_merge.c   ****     {
2512:str_merge.c   ****         l++;
 3948              	LM508:
 3949 27d5 8D45FC   		leal	-4(%ebp), %eax
 3950 27d8 FF00     		incl	(%eax)
2513:str_merge.c   ****         v = v / 2;
 3952              	LM509:
 3953 27da 8B55F8   		movl	-8(%ebp), %edx
 3954 27dd 89D0     		movl	%edx, %eax
 3955 27df C1F81F   		sarl	$31, %eax
 3956 27e2 C1E81F   		shrl	$31, %eax
 3957 27e5 8D0410   		leal	(%eax,%edx), %eax
 3958 27e8 D1F8     		sarl	%eax
 3959 27ea 8945F8   		movl	%eax, -8(%ebp)
 3960 27ed EBDE     		jmp	L239
 3961              	L240:
2514:str_merge.c   ****     }
2515:str_merge.c   ****     return l;
 3963              	LM510:
 3964 27ef 8B45FC   		movl	-4(%ebp), %eax
2516:str_merge.c   **** }
 3966              	LM511:
 3967 27f2 C9       		leave
 3968 27f3 C3       		ret
 3969              	LBE29:
 3974              	Lscope19:
 3980              	_pow:
2517:str_merge.c   **** 
2518:str_merge.c   **** 
2519:str_merge.c   **** /*****************************************************************************
2520:str_merge.c   ****  * FUNCTION
2521:str_merge.c   ****  *  pow
2522:str_merge.c   ****  * DESCRIPTION
2523:str_merge.c   ****  *  Calculate base raised to the power of index
2524:str_merge.c   ****  * PARAMETERS
2525:str_merge.c   ****  *  base    [IN]
2526:str_merge.c   ****  *  index   [IN]
2527:str_merge.c   ****  * RETURNS
2528:str_merge.c   ****  *  Return the value: base raised to the power of index
2529:str_merge.c   ****  *****************************************************************************/
2530:str_merge.c   **** static int pow(int base, int index)
2531:str_merge.c   **** {
 3982              	LM512:
 3983 27f4 55       		pushl	%ebp
 3984 27f5 89E5     		movl	%esp, %ebp
 3985 27f7 83EC08   		subl	$8, %esp
2532:str_merge.c   ****     /*----------------------------------------------------------------*/
2533:str_merge.c   ****     /* Local Variables                                                */
2534:str_merge.c   ****     /*----------------------------------------------------------------*/
2535:str_merge.c   ****     int i, ret = 1;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 114


 3987              	LM513:
 3988              	LBB30:
 3989 27fa C745F801 		movl	$1, -8(%ebp)
 3989      000000
2536:str_merge.c   **** 
2537:str_merge.c   ****     /*----------------------------------------------------------------*/
2538:str_merge.c   ****     /* Code Body                                                      */
2539:str_merge.c   ****     /*----------------------------------------------------------------*/
2540:str_merge.c   ****     for (i = 0; i < index; i++)
 3991              	LM514:
 3992 2801 C745FC00 		movl	$0, -4(%ebp)
 3992      000000
 3993              	L243:
 3994 2808 8B45FC   		movl	-4(%ebp), %eax
 3995 280b 3B450C   		cmpl	12(%ebp), %eax
 3996 280e 7C02     		jl	L246
 3997 2810 EB11     		jmp	L244
 3998              	L246:
2541:str_merge.c   ****         ret = ret * base;
 4000              	LM515:
 4001 2812 8B45F8   		movl	-8(%ebp), %eax
 4002 2815 0FAF4508 		imull	8(%ebp), %eax
 4003 2819 8945F8   		movl	%eax, -8(%ebp)
 4005              	LM516:
 4006 281c 8D45FC   		leal	-4(%ebp), %eax
 4007 281f FF00     		incl	(%eax)
 4008 2821 EBE5     		jmp	L243
 4009              	L244:
2542:str_merge.c   ****     return ret;
 4011              	LM517:
 4012 2823 8B45F8   		movl	-8(%ebp), %eax
2543:str_merge.c   **** }
 4014              	LM518:
 4015 2826 C9       		leave
 4016 2827 C3       		ret
 4017              	LBE30:
 4022              	Lscope20:
 4028              	_fmod:
2544:str_merge.c   **** 
2545:str_merge.c   **** 
2546:str_merge.c   **** /*****************************************************************************
2547:str_merge.c   ****  * FUNCTION
2548:str_merge.c   ****  *  fmod
2549:str_merge.c   ****  * DESCRIPTION
2550:str_merge.c   ****  *  Calculate the remainder
2551:str_merge.c   ****  * PARAMETERS
2552:str_merge.c   ****  *  denominator [IN]
2553:str_merge.c   ****  *  numerator   [IN]
2554:str_merge.c   ****  * RETURNS
2555:str_merge.c   ****  *  Return the remainder of denominator / numerator
2556:str_merge.c   ****  *****************************************************************************/
2557:str_merge.c   **** static int fmod(int denominator, int numerator)
2558:str_merge.c   **** {
 4030              	LM519:
 4031 2828 55       		pushl	%ebp
 4032 2829 89E5     		movl	%esp, %ebp
 4033 282b 83EC04   		subl	$4, %esp
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 115


2559:str_merge.c   ****     /*----------------------------------------------------------------*/
2560:str_merge.c   ****     /* Local Variables                                                */
2561:str_merge.c   ****     /*----------------------------------------------------------------*/
2562:str_merge.c   ****     int ret = denominator;
 4035              	LM520:
 4036              	LBB31:
 4037 282e 8B4508   		movl	8(%ebp), %eax
 4038 2831 8945FC   		movl	%eax, -4(%ebp)
2563:str_merge.c   **** 
2564:str_merge.c   ****     /*----------------------------------------------------------------*/
2565:str_merge.c   ****     /* Code Body                                                      */
2566:str_merge.c   ****     /*----------------------------------------------------------------*/
2567:str_merge.c   ****     while (ret >= numerator)
 4040              	LM521:
 4041              	L248:
 4042 2834 8B45FC   		movl	-4(%ebp), %eax
 4043 2837 3B450C   		cmpl	12(%ebp), %eax
 4044 283a 7D02     		jge	L250
 4045 283c EB0A     		jmp	L249
 4046              	L250:
2568:str_merge.c   ****         ret = ret - numerator;
 4048              	LM522:
 4049 283e 8B550C   		movl	12(%ebp), %edx
 4050 2841 8D45FC   		leal	-4(%ebp), %eax
 4051 2844 2910     		subl	%edx, (%eax)
 4052 2846 EBEC     		jmp	L248
 4053              	L249:
2569:str_merge.c   ****     return ret;
 4055              	LM523:
 4056 2848 8B45FC   		movl	-4(%ebp), %eax
2570:str_merge.c   **** }
 4058              	LM524:
 4059 284b C9       		leave
 4060 284c C3       		ret
 4061              	LBE31:
 4065              	Lscope21:
 4071              	_GetHashValue:
2571:str_merge.c   **** 
2572:str_merge.c   **** 
2573:str_merge.c   **** /*****************************************************************************
2574:str_merge.c   ****  * FUNCTION
2575:str_merge.c   ****  *  GetHashValue
2576:str_merge.c   ****  * DESCRIPTION
2577:str_merge.c   ****  *  Calculate the hash value of input string
2578:str_merge.c   ****  * PARAMETERS
2579:str_merge.c   ****  *  string      [IN]
2580:str_merge.c   ****  *  hash_range  [IN]
2581:str_merge.c   ****  * RETURNS
2582:str_merge.c   ****  *  Return the hash value
2583:str_merge.c   ****  *****************************************************************************/
2584:str_merge.c   **** static int GetHashValue(wchar_t *string, int hash_range)
2585:str_merge.c   **** {
 4073              	LM525:
 4074 284d 55       		pushl	%ebp
 4075 284e 89E5     		movl	%esp, %ebp
 4076 2850 83EC18   		subl	$24, %esp
2586:str_merge.c   ****     /*----------------------------------------------------------------*/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 116


2587:str_merge.c   ****     /* Local Variables                                                */
2588:str_merge.c   ****     /*----------------------------------------------------------------*/
2589:str_merge.c   ****     int length = mask_length(hash_range);
 4078              	LM526:
 4079              	LBB32:
 4080 2853 8B450C   		movl	12(%ebp), %eax
 4081 2856 890424   		movl	%eax, (%esp)
 4082 2859 E84FFFFF 		call	_mask_length
 4082      FF
 4083 285e 8945FC   		movl	%eax, -4(%ebp)
2590:str_merge.c   ****     int mask = (int)pow(2, length) - 1;
 4085              	LM527:
 4086 2861 8B45FC   		movl	-4(%ebp), %eax
 4087 2864 89442404 		movl	%eax, 4(%esp)
 4088 2868 C7042402 		movl	$2, (%esp)
 4088      000000
 4089 286f E880FFFF 		call	_pow
 4089      FF
 4090 2874 48       		decl	%eax
 4091 2875 8945F8   		movl	%eax, -8(%ebp)
2591:str_merge.c   ****     int i = 0;
 4093              	LM528:
 4094 2878 C745F400 		movl	$0, -12(%ebp)
 4094      000000
2592:str_merge.c   ****     long val = 0;
 4096              	LM529:
 4097 287f C745F000 		movl	$0, -16(%ebp)
 4097      000000
2593:str_merge.c   **** 
2594:str_merge.c   ****     /*----------------------------------------------------------------*/
2595:str_merge.c   ****     /* Code Body                                                      */
2596:str_merge.c   ****     /*----------------------------------------------------------------*/
2597:str_merge.c   ****     for (i = 0; i < (int)wcslen(string); i++)
 4099              	LM530:
 4100 2886 C745F400 		movl	$0, -12(%ebp)
 4100      000000
 4101              	L252:
 4102 288d 8B4508   		movl	8(%ebp), %eax
 4103 2890 890424   		movl	%eax, (%esp)
 4104 2893 E8000000 		call	_wcslen
 4104      00
 4105 2898 3945F4   		cmpl	%eax, -12(%ebp)
 4106 289b 7C02     		jl	L255
 4107 289d EB30     		jmp	L253
 4108              	L255:
2598:str_merge.c   ****     {
2599:str_merge.c   ****         val += ((string[i] + val * 37) & mask);
 4110              	LM531:
 4111 289f 8B45F4   		movl	-12(%ebp), %eax
 4112 28a2 8D1400   		leal	(%eax,%eax), %edx
 4113 28a5 8B4508   		movl	8(%ebp), %eax
 4114 28a8 0FB70C10 		movzwl	(%eax,%edx), %ecx
 4115 28ac 8B55F0   		movl	-16(%ebp), %edx
 4116 28af 89D0     		movl	%edx, %eax
 4117 28b1 C1E003   		sall	$3, %eax
 4118 28b4 01D0     		addl	%edx, %eax
 4119 28b6 C1E002   		sall	$2, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 117


 4120 28b9 01D0     		addl	%edx, %eax
 4121 28bb 8D0408   		leal	(%eax,%ecx), %eax
 4122 28be 89C2     		movl	%eax, %edx
 4123 28c0 2355F8   		andl	-8(%ebp), %edx
 4124 28c3 8D45F0   		leal	-16(%ebp), %eax
 4125 28c6 0110     		addl	%edx, (%eax)
 4127              	LM532:
 4128 28c8 8D45F4   		leal	-12(%ebp), %eax
 4129 28cb FF00     		incl	(%eax)
 4130 28cd EBBE     		jmp	L252
 4131              	L253:
2600:str_merge.c   ****     }
2601:str_merge.c   ****     val = fmod(val, hash_range);
 4133              	LM533:
 4134 28cf 8B450C   		movl	12(%ebp), %eax
 4135 28d2 89442404 		movl	%eax, 4(%esp)
 4136 28d6 8B45F0   		movl	-16(%ebp), %eax
 4137 28d9 890424   		movl	%eax, (%esp)
 4138 28dc E847FFFF 		call	_fmod
 4138      FF
 4139 28e1 8945F0   		movl	%eax, -16(%ebp)
2602:str_merge.c   ****     return (int)val;
 4141              	LM534:
 4142 28e4 8B45F0   		movl	-16(%ebp), %eax
2603:str_merge.c   **** }
 4144              	LM535:
 4145 28e7 C9       		leave
 4146 28e8 C3       		ret
 4147              	LBE32:
 4154              	Lscope22:
 4160              	_Trans:
2604:str_merge.c   **** 
2605:str_merge.c   **** 
2606:str_merge.c   **** /*****************************************************************************
2607:str_merge.c   ****  * FUNCTION
2608:str_merge.c   ****  *  Trans
2609:str_merge.c   ****  * DESCRIPTION
2610:str_merge.c   ****  *  Transform UCS2-encoding "\","n" to "\n"
2611:str_merge.c   ****  * PARAMETERS
2612:str_merge.c   ****  *  string  [IN]
2613:str_merge.c   ****  *  buf     [OUT]
2614:str_merge.c   ****  * RETURNS
2615:str_merge.c   ****  *  Return 1 if transformed, otherwise, return 0
2616:str_merge.c   ****  *****************************************************************************/
2617:str_merge.c   **** static int Trans(wchar_t *string, wchar_t *buf)
2618:str_merge.c   **** {
 4162              	LM536:
 4163 28e9 55       		pushl	%ebp
 4164 28ea 89E5     		movl	%esp, %ebp
 4165 28ec 53       		pushl	%ebx
 4166 28ed 83EC14   		subl	$20, %esp
2619:str_merge.c   ****     /*----------------------------------------------------------------*/
2620:str_merge.c   ****     /* Local Variables                                                */
2621:str_merge.c   ****     /*----------------------------------------------------------------*/
2622:str_merge.c   ****     int i = 0;
 4168              	LM537:
 4169              	LBB33:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 118


 4170 28f0 C745F800 		movl	$0, -8(%ebp)
 4170      000000
2623:str_merge.c   ****     int l = 0, ret = 0;
 4172              	LM538:
 4173 28f7 C745F400 		movl	$0, -12(%ebp)
 4173      000000
 4174 28fe C745F000 		movl	$0, -16(%ebp)
 4174      000000
2624:str_merge.c   **** 
2625:str_merge.c   ****     /*----------------------------------------------------------------*/
2626:str_merge.c   ****     /* Code Body                                                      */
2627:str_merge.c   ****     /*----------------------------------------------------------------*/
2628:str_merge.c   ****     for (i = 0; i < wcslen(string); i++)
 4176              	LM539:
 4177 2905 C745F800 		movl	$0, -8(%ebp)
 4177      000000
 4178              	L257:
 4179 290c 8B4508   		movl	8(%ebp), %eax
 4180 290f 890424   		movl	%eax, (%esp)
 4181 2912 E8000000 		call	_wcslen
 4181      00
 4182 2917 3945F8   		cmpl	%eax, -8(%ebp)
 4183 291a 7202     		jb	L260
 4184 291c EB64     		jmp	L258
 4185              	L260:
2629:str_merge.c   ****     {
2630:str_merge.c   ****         if (string[i] == L'\\' && string[i + 1] == L'n')
 4187              	LM540:
 4188 291e 8B45F8   		movl	-8(%ebp), %eax
 4189 2921 8D1400   		leal	(%eax,%eax), %edx
 4190 2924 8B4508   		movl	8(%ebp), %eax
 4191 2927 66833C10 		cmpw	$92, (%eax,%edx)
 4191      5C
 4192 292c 752E     		jne	L261
 4193 292e 8B45F8   		movl	-8(%ebp), %eax
 4194 2931 01C0     		addl	%eax, %eax
 4195 2933 034508   		addl	8(%ebp), %eax
 4196 2936 83C002   		addl	$2, %eax
 4197 2939 6683386E 		cmpw	$110, (%eax)
 4198 293d 751D     		jne	L261
2631:str_merge.c   ****         {
2632:str_merge.c   ****             buf[l] = '\n';
 4200              	LM541:
 4201 293f 8B45F4   		movl	-12(%ebp), %eax
 4202 2942 8D1400   		leal	(%eax,%eax), %edx
 4203 2945 8B450C   		movl	12(%ebp), %eax
 4204 2948 66C70410 		movw	$10, (%eax,%edx)
 4204      0A00
2633:str_merge.c   ****             i++;
 4206              	LM542:
 4207 294e 8D45F8   		leal	-8(%ebp), %eax
 4208 2951 FF00     		incl	(%eax)
2634:str_merge.c   ****             ret = 1;
 4210              	LM543:
 4211 2953 C745F001 		movl	$1, -16(%ebp)
 4211      000000
 4212 295a EB1A     		jmp	L262
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 119


 4213              	L261:
2635:str_merge.c   ****         }
2636:str_merge.c   ****         else
2637:str_merge.c   ****             buf[l] = string[i];
 4215              	LM544:
 4216 295c 8B45F4   		movl	-12(%ebp), %eax
 4217 295f 8D1C00   		leal	(%eax,%eax), %ebx
 4218 2962 8B4D0C   		movl	12(%ebp), %ecx
 4219 2965 8B45F8   		movl	-8(%ebp), %eax
 4220 2968 8D1400   		leal	(%eax,%eax), %edx
 4221 296b 8B4508   		movl	8(%ebp), %eax
 4222 296e 0FB70410 		movzwl	(%eax,%edx), %eax
 4223 2972 66890419 		movw	%ax, (%ecx,%ebx)
 4224              	L262:
2638:str_merge.c   ****         l++;
 4226              	LM545:
 4227 2976 8D45F4   		leal	-12(%ebp), %eax
 4228 2979 FF00     		incl	(%eax)
 4230              	LM546:
 4231 297b 8D45F8   		leal	-8(%ebp), %eax
 4232 297e FF00     		incl	(%eax)
 4233 2980 EB8A     		jmp	L257
 4234              	L258:
2639:str_merge.c   ****     }
2640:str_merge.c   ****     buf[l] = L'\0';
 4236              	LM547:
 4237 2982 8B45F4   		movl	-12(%ebp), %eax
 4238 2985 8D1400   		leal	(%eax,%eax), %edx
 4239 2988 8B450C   		movl	12(%ebp), %eax
 4240 298b 66C70410 		movw	$0, (%eax,%edx)
 4240      0000
2641:str_merge.c   ****     return ret;
 4242              	LM548:
 4243 2991 8B45F0   		movl	-16(%ebp), %eax
2642:str_merge.c   **** }
 4245              	LM549:
 4246 2994 83C414   		addl	$20, %esp
 4247 2997 5B       		popl	%ebx
 4248 2998 5D       		popl	%ebp
 4249 2999 C3       		ret
 4250              	LBE33:
 4256              	Lscope23:
 4262              	_UCS2ASCII_CR:
2643:str_merge.c   **** 
2644:str_merge.c   **** 
2645:str_merge.c   **** /*****************************************************************************
2646:str_merge.c   ****  * FUNCTION
2647:str_merge.c   ****  *  UCS2ASCII_CR
2648:str_merge.c   ****  * DESCRIPTION
2649:str_merge.c   ****  *  Convert wide character to ASCII character, removing charcters after CR
2650:str_merge.c   ****  * PARAMETERS
2651:str_merge.c   ****  *  w_in    [IN]
2652:str_merge.c   ****  *  a_out   [OUT]
2653:str_merge.c   ****  * RETURNS
2654:str_merge.c   ****  *  void
2655:str_merge.c   ****  *****************************************************************************/
2656:str_merge.c   **** static void UCS2ASCII_CR(char *w_in, char *a_out)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 120


2657:str_merge.c   **** {
 4264              	LM550:
 4265 299a 55       		pushl	%ebp
 4266 299b 89E5     		movl	%esp, %ebp
 4267 299d 83EC04   		subl	$4, %esp
2658:str_merge.c   ****     /*----------------------------------------------------------------*/
2659:str_merge.c   ****     /* Local Variables                                                */
2660:str_merge.c   ****     /*----------------------------------------------------------------*/
2661:str_merge.c   ****     int i = 0;
 4269              	LM551:
 4270              	LBB34:
 4271 29a0 C745FC00 		movl	$0, -4(%ebp)
 4271      000000
2662:str_merge.c   **** 
2663:str_merge.c   ****     /*----------------------------------------------------------------*/
2664:str_merge.c   ****     /* Code Body                                                      */
2665:str_merge.c   ****     /*----------------------------------------------------------------*/
2666:str_merge.c   ****     while (w_in[i] != '\0' || w_in[i + 1] != '\0')
 4273              	LM552:
 4274              	L264:
 4275 29a7 8B45FC   		movl	-4(%ebp), %eax
 4276 29aa 034508   		addl	8(%ebp), %eax
 4277 29ad 803800   		cmpb	$0, (%eax)
 4278 29b0 750E     		jne	L266
 4279 29b2 8B45FC   		movl	-4(%ebp), %eax
 4280 29b5 034508   		addl	8(%ebp), %eax
 4281 29b8 40       		incl	%eax
 4282 29b9 803800   		cmpb	$0, (%eax)
 4283 29bc 7502     		jne	L266
 4284 29be EB1E     		jmp	L265
 4285              	L266:
2667:str_merge.c   ****     {
2668:str_merge.c   ****         a_out[i >> 1] = w_in[i];
 4287              	LM553:
 4288 29c0 8B45FC   		movl	-4(%ebp), %eax
 4289 29c3 89C1     		movl	%eax, %ecx
 4290 29c5 D1F9     		sarl	%ecx
 4291 29c7 8B550C   		movl	12(%ebp), %edx
 4292 29ca 8B45FC   		movl	-4(%ebp), %eax
 4293 29cd 034508   		addl	8(%ebp), %eax
 4294 29d0 0FB600   		movzbl	(%eax), %eax
 4295 29d3 880411   		movb	%al, (%ecx,%edx)
2669:str_merge.c   ****         i += 2;
 4297              	LM554:
 4298 29d6 8D45FC   		leal	-4(%ebp), %eax
 4299 29d9 830002   		addl	$2, (%eax)
 4300 29dc EBC9     		jmp	L264
 4301              	L265:
2670:str_merge.c   ****     }
2671:str_merge.c   ****     a_out[i >> 1] = '\0';
 4303              	LM555:
 4304 29de 8B45FC   		movl	-4(%ebp), %eax
 4305 29e1 89C2     		movl	%eax, %edx
 4306 29e3 D1FA     		sarl	%edx
 4307 29e5 8B450C   		movl	12(%ebp), %eax
 4308 29e8 C6040200 		movb	$0, (%edx,%eax)
2672:str_merge.c   ****     i = i >> 1;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 121


 4310              	LM556:
 4311 29ec 8D45FC   		leal	-4(%ebp), %eax
 4312 29ef D138     		sarl	(%eax)
2673:str_merge.c   ****     i--;
 4314              	LM557:
 4315 29f1 8D45FC   		leal	-4(%ebp), %eax
 4316 29f4 FF08     		decl	(%eax)
2674:str_merge.c   ****     while (i >= 0)
 4318              	LM558:
 4319              	L267:
 4320 29f6 837DFC00 		cmpl	$0, -4(%ebp)
 4321 29fa 7902     		jns	L269
 4322 29fc EB1D     		jmp	L263
 4323              	L269:
2675:str_merge.c   ****     {
2676:str_merge.c   ****         if (a_out[i] == 0x0D)
 4325              	LM559:
 4326 29fe 8B45FC   		movl	-4(%ebp), %eax
 4327 2a01 03450C   		addl	12(%ebp), %eax
 4328 2a04 80380D   		cmpb	$13, (%eax)
 4329 2a07 750B     		jne	L270
2677:str_merge.c   ****         {
2678:str_merge.c   ****             a_out[i] = '\0';
 4331              	LM560:
 4332 2a09 8B45FC   		movl	-4(%ebp), %eax
 4333 2a0c 03450C   		addl	12(%ebp), %eax
 4334 2a0f C60000   		movb	$0, (%eax)
2679:str_merge.c   ****             break;
 4336              	LM561:
 4337 2a12 EB07     		jmp	L263
 4338              	L270:
2680:str_merge.c   ****         }
2681:str_merge.c   ****         else
2682:str_merge.c   ****             i--;
 4340              	LM562:
 4341 2a14 8D45FC   		leal	-4(%ebp), %eax
 4342 2a17 FF08     		decl	(%eax)
 4343 2a19 EBDB     		jmp	L267
2683:str_merge.c   ****     }
2684:str_merge.c   **** }
 4345              	LM563:
 4346              	L263:
 4347 2a1b C9       		leave
 4348 2a1c C3       		ret
 4349              	LBE34:
 4353              	Lscope24:
 4358              	_ifLanguageUsed:
2685:str_merge.c   **** 
2686:str_merge.c   **** 
2687:str_merge.c   **** /*****************************************************************************
2688:str_merge.c   ****  * FUNCTION
2689:str_merge.c   ****  *  ifLanguageUsed
2690:str_merge.c   ****  * DESCRIPTION
2691:str_merge.c   ****  *  Decide if the translated language should be used for string resource, 
2692:str_merge.c   ****  *  according to SSC string
2693:str_merge.c   ****  * PARAMETERS
2694:str_merge.c   ****  *  ssc_ref [IN]
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 122


2695:str_merge.c   ****  * RETURNS
2696:str_merge.c   ****  *  Return -1 if the language is not used, otherwise, return non-negative index
2697:str_merge.c   ****  *****************************************************************************/
2698:str_merge.c   **** static int ifLanguageUsed(wchar_t *ssc_ref)
2699:str_merge.c   **** {
 4360              	LM564:
 4361 2a1d 55       		pushl	%ebp
 4362 2a1e 89E5     		movl	%esp, %ebp
 4363 2a20 83EC48   		subl	$72, %esp
2700:str_merge.c   ****     /*----------------------------------------------------------------*/
2701:str_merge.c   ****     /* Local Variables                                                */
2702:str_merge.c   ****     /*----------------------------------------------------------------*/
2703:str_merge.c   ****     int i = 0;
 4365              	LM565:
 4366              	LBB35:
 4367 2a23 C745F400 		movl	$0, -12(%ebp)
 4367      000000
2704:str_merge.c   ****     char ascii_ssc[10];
2705:str_merge.c   **** 
2706:str_merge.c   ****     /*----------------------------------------------------------------*/
2707:str_merge.c   ****     /* Code Body                                                      */
2708:str_merge.c   ****     /*----------------------------------------------------------------*/
2709:str_merge.c   ****     UCS2ASCII_CR((char *)ssc_ref, ascii_ssc);
 4369              	LM566:
 4370 2a2a 8D45D8   		leal	-40(%ebp), %eax
 4371 2a2d 89442404 		movl	%eax, 4(%esp)
 4372 2a31 8B4508   		movl	8(%ebp), %eax
 4373 2a34 890424   		movl	%eax, (%esp)
 4374 2a37 E85EFFFF 		call	_UCS2ASCII_CR
 4374      FF
2710:str_merge.c   ****     for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 4376              	LM567:
 4377 2a3c C745F400 		movl	$0, -12(%ebp)
 4377      000000
 4378              	L273:
 4379 2a43 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 4379      000000
 4380 2a4a 3945F4   		cmpl	%eax, -12(%ebp)
 4381 2a4d 7C02     		jl	L276
 4382 2a4f EB33     		jmp	L274
 4383              	L276:
2711:str_merge.c   ****     {
2712:str_merge.c   ****         if (strcmp(mtk_gLanguageArray[i].aLangSSC, ascii_ssc) == 0)
 4385              	LM568:
 4386 2a51 8D45D8   		leal	-40(%ebp), %eax
 4387 2a54 89442404 		movl	%eax, 4(%esp)
 4388 2a58 8B55F4   		movl	-12(%ebp), %edx
 4389 2a5b 89D0     		movl	%edx, %eax
 4390 2a5d C1E005   		sall	$5, %eax
 4391 2a60 29D0     		subl	%edx, %eax
 4392 2a62 01C0     		addl	%eax, %eax
 4393 2a64 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 4393      00
 4394 2a69 890424   		movl	%eax, (%esp)
 4395 2a6c E8000000 		call	_strcmp
 4395      00
 4396 2a71 85C0     		testl	%eax, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 123


 4397 2a73 7508     		jne	L275
2713:str_merge.c   ****         {
2714:str_merge.c   ****             return i;
 4399              	LM569:
 4400 2a75 8B45F4   		movl	-12(%ebp), %eax
 4401 2a78 8945D4   		movl	%eax, -44(%ebp)
 4402 2a7b EB0E     		jmp	L272
 4404              	LM570:
 4405              	L275:
 4406 2a7d 8D45F4   		leal	-12(%ebp), %eax
 4407 2a80 FF00     		incl	(%eax)
 4408 2a82 EBBF     		jmp	L273
 4409              	L274:
2715:str_merge.c   ****         }
2716:str_merge.c   ****     }
2717:str_merge.c   ****     return -1;
 4411              	LM571:
 4412 2a84 C745D4FF 		movl	$-1, -44(%ebp)
 4412      FFFFFF
2718:str_merge.c   **** }
 4414              	LM572:
 4415              	L272:
 4416              	LBE35:
 4417 2a8b 8B45D4   		movl	-44(%ebp), %eax
 4418 2a8e C9       		leave
 4419 2a8f C3       		ret
 4424              	Lscope25:
 4433              	_GetStrByRef:
2719:str_merge.c   **** 
2720:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
2721:str_merge.c   **** /*****************************************************************************
2722:str_merge.c   ****  * FUNCTION
2723:str_merge.c   ****  *  GetStrByRef
2724:str_merge.c   ****  * DESCRIPTION
2725:str_merge.c   ****  *  Get string content according to reference index
2726:str_merge.c   ****  *  The string content depends on whether it is duplicated or not
2727:str_merge.c   ****  * PARAMETERS
2728:str_merge.c   ****  *  strres     [IN] string resource
2729:str_merge.c   ****  *  strres_dup [IN] duplicated string resource
2730:str_merge.c   ****  *  lang_idx   [IN] language index in process
2731:str_merge.c   ****  *  id_count   [IN] string id in current language
2732:str_merge.c   ****  *  ref_idx    [IN] string reference index in current language
2733:str_merge.c   ****  * RETURNS
2734:str_merge.c   ****  *  Return the string content
2735:str_merge.c   ****  *****************************************************************************/
2736:str_merge.c   **** static wchar_t* GetStrByRef(StrRes *strres, DupStrRes *strres_dup, int lang_idx, int id_count, int 
2737:str_merge.c   **** {
 4435              	LM573:
 4436 2a90 55       		pushl	%ebp
 4437 2a91 89E5     		movl	%esp, %ebp
 4438 2a93 53       		pushl	%ebx
 4439 2a94 83EC04   		subl	$4, %esp
2738:str_merge.c   ****     /*----------------------------------------------------------------*/
2739:str_merge.c   ****     /* Local Variables                                                */
2740:str_merge.c   ****     /*----------------------------------------------------------------*/
2741:str_merge.c   **** 
2742:str_merge.c   ****     /*----------------------------------------------------------------*/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 124


2743:str_merge.c   ****     /* Code Body                                                      */
2744:str_merge.c   ****     /*----------------------------------------------------------------*/
2745:str_merge.c   **** 
2746:str_merge.c   ****     if (!strres[lang_idx].is_dup[id_count])
 4441              	LM574:
 4442 2a97 8B5510   		movl	16(%ebp), %edx
 4443 2a9a 89D0     		movl	%edx, %eax
 4444 2a9c 01C0     		addl	%eax, %eax
 4445 2a9e 01D0     		addl	%edx, %eax
 4446 2aa0 8D0CC500 		leal	0(,%eax,8), %ecx
 4446      000000
 4447 2aa7 8B5508   		movl	8(%ebp), %edx
 4448 2aaa 8B4514   		movl	20(%ebp), %eax
 4449 2aad 03440A10 		addl	16(%edx,%ecx), %eax
 4450 2ab1 803800   		cmpb	$0, (%eax)
 4451 2ab4 7528     		jne	L279
2747:str_merge.c   ****     {
2748:str_merge.c   ****         return strres[lang_idx].Str[ref_idx];
 4453              	LM575:
 4454 2ab6 8B5510   		movl	16(%ebp), %edx
 4455 2ab9 89D0     		movl	%edx, %eax
 4456 2abb 01C0     		addl	%eax, %eax
 4457 2abd 01D0     		addl	%edx, %eax
 4458 2abf 8D1CC500 		leal	0(,%eax,8), %ebx
 4458      000000
 4459 2ac6 8B4D08   		movl	8(%ebp), %ecx
 4460 2ac9 8B4518   		movl	24(%ebp), %eax
 4461 2acc 8D148500 		leal	0(,%eax,4), %edx
 4461      000000
 4462 2ad3 8B0419   		movl	(%ecx,%ebx), %eax
 4463 2ad6 8B0410   		movl	(%eax,%edx), %eax
 4464 2ad9 8945F8   		movl	%eax, -8(%ebp)
 4465 2adc EB15     		jmp	L278
 4466              	L279:
2749:str_merge.c   ****     }
2750:str_merge.c   ****     else
2751:str_merge.c   ****     {
2752:str_merge.c   ****         return strres_dup->Str[ref_idx];
 4468              	LM576:
 4469 2ade 8B4D0C   		movl	12(%ebp), %ecx
 4470 2ae1 8B4518   		movl	24(%ebp), %eax
 4471 2ae4 8D148500 		leal	0(,%eax,4), %edx
 4471      000000
 4472 2aeb 8B01     		movl	(%ecx), %eax
 4473 2aed 8B0410   		movl	(%eax,%edx), %eax
 4474 2af0 8945F8   		movl	%eax, -8(%ebp)
2753:str_merge.c   ****     }    
2754:str_merge.c   **** }
 4476              	LM577:
 4477              	L278:
 4478 2af3 8B45F8   		movl	-8(%ebp), %eax
 4479 2af6 83C404   		addl	$4, %esp
 4480 2af9 5B       		popl	%ebx
 4481 2afa 5D       		popl	%ebp
 4482 2afb C3       		ret
 4483              	Lscope26:
 4494              	_LookupDupStr:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 125


2755:str_merge.c   **** 
2756:str_merge.c   **** /*****************************************************************************
2757:str_merge.c   ****  * FUNCTION
2758:str_merge.c   ****  *  LookupDupStr
2759:str_merge.c   ****  * DESCRIPTION
2760:str_merge.c   ****  *  Look up potential duplicated strings in languages excluding the current language
2761:str_merge.c   ****  *  If found :
2762:str_merge.c   ****  *  1. turn on dup flag 
2763:str_merge.c   ****  *  2. assign string reference index
2764:str_merge.c   ****  *  If found first time :
2765:str_merge.c   ****  *  1. put the string into duplicated string resource
2766:str_merge.c   ****  *  2. traverse the linked list for the duplicated string in the same language, 
2767:str_merge.c   ****  *     turn on dup flags and re-assign the correct string reference index in duplicated string reso
2768:str_merge.c   ****  * PARAMETERS
2769:str_merge.c   ****  *  strres     [INOUT] string resource
2770:str_merge.c   ****  *  strres_dup [INOUT] duplicated string resource
2771:str_merge.c   ****  *  cur_lang   [IN] current language index in process
2772:str_merge.c   ****  *  id_count   [IN] string id in current language
2773:str_merge.c   ****  *  ht         [IN] hash table
2774:str_merge.c   ****  *  hash_value [IN] hash value of the string in process
2775:str_merge.c   ****  *  tok        [IN] the string in process
2776:str_merge.c   ****  * RETURNS
2777:str_merge.c   ****  *  Return 1 if any duplicated string is found, otherwise return 0
2778:str_merge.c   ****  *****************************************************************************/
2779:str_merge.c   **** static int LookupDupStr(StrRes *strres, DupStrRes *strres_dup, int cur_lang, int id_count, struct H
2780:str_merge.c   **** {
 4496              	LM578:
 4497 2afc 55       		pushl	%ebp
 4498 2afd 89E5     		movl	%esp, %ebp
 4499 2aff 57       		pushl	%edi
 4500 2b00 56       		pushl	%esi
 4501 2b01 53       		pushl	%ebx
 4502 2b02 83EC2C   		subl	$44, %esp
2781:str_merge.c   ****     /*----------------------------------------------------------------*/
2782:str_merge.c   ****     /* Local Variables                                                */
2783:str_merge.c   ****     /*----------------------------------------------------------------*/
2784:str_merge.c   ****     struct HashItem *temp = NULL;   
 4504              	LM579:
 4505              	LBB36:
 4506 2b05 C745F000 		movl	$0, -16(%ebp)
 4506      000000
2785:str_merge.c   ****     wchar_t *str; 
2786:str_merge.c   ****     int lang_idx, ref_idx;    
2787:str_merge.c   **** 
2788:str_merge.c   ****     /*----------------------------------------------------------------*/
2789:str_merge.c   ****     /* Code Body                                                      */
2790:str_merge.c   ****     /*----------------------------------------------------------------*/
2791:str_merge.c   ****     for (lang_idx = 0; lang_idx < mtk_gMaxDeployedLangs; lang_idx++)
 4508              	LM580:
 4509 2b0c C745E800 		movl	$0, -24(%ebp)
 4509      000000
 4510              	L282:
 4511 2b13 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 4511      000000
 4512 2b1a 3945E8   		cmpl	%eax, -24(%ebp)
 4513 2b1d 7C05     		jl	L285
 4514 2b1f E93A0300 		jmp	L283
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 126


 4514      00
 4515              	L285:
2792:str_merge.c   ****     {
2793:str_merge.c   ****         if (lang_idx != cur_lang && mtk_gLanguageFlag[lang_idx])
 4517              	LM581:
 4518 2b24 8B45E8   		movl	-24(%ebp), %eax
 4519 2b27 3B4510   		cmpl	16(%ebp), %eax
 4520 2b2a 0F842403 		je	L284
 4520      0000
 4521 2b30 8B45E8   		movl	-24(%ebp), %eax
 4522 2b33 8D148500 		leal	0(,%eax,4), %edx
 4522      000000
 4523 2b3a A1B80000 		movl	_mtk_gLanguageFlag, %eax
 4523      00
 4524 2b3f 833C1000 		cmpl	$0, (%eax,%edx)
 4525 2b43 0F840B03 		je	L284
 4525      0000
2794:str_merge.c   ****         {
2795:str_merge.c   ****             if (ht[lang_idx][hash_value].pointer != -1)
 4527              	LM582:
 4528 2b49 8B45E8   		movl	-24(%ebp), %eax
 4529 2b4c 8D1C8500 		leal	0(,%eax,4), %ebx
 4529      000000
 4530 2b53 8B4D18   		movl	24(%ebp), %ecx
 4531 2b56 8B451C   		movl	28(%ebp), %eax
 4532 2b59 8D14C500 		leal	0(,%eax,8), %edx
 4532      000000
 4533 2b60 8B0419   		movl	(%ecx,%ebx), %eax
 4534 2b63 833C10FF 		cmpl	$-1, (%eax,%edx)
 4535 2b67 0F84E702 		je	L284
 4535      0000
2796:str_merge.c   ****             {
2797:str_merge.c   ****                 /* there is a string with the same hash value in another language */
2798:str_merge.c   ****                 temp = &ht[lang_idx][hash_value];
 4537              	LM583:
 4538 2b6d 8B45E8   		movl	-24(%ebp), %eax
 4539 2b70 8D0C8500 		leal	0(,%eax,4), %ecx
 4539      000000
 4540 2b77 8B5518   		movl	24(%ebp), %edx
 4541 2b7a 8B451C   		movl	28(%ebp), %eax
 4542 2b7d C1E003   		sall	$3, %eax
 4543 2b80 03040A   		addl	(%edx,%ecx), %eax
 4544 2b83 8945F0   		movl	%eax, -16(%ebp)
2799:str_merge.c   ****                 while (temp != NULL)
 4546              	LM584:
 4547              	L288:
 4548 2b86 837DF000 		cmpl	$0, -16(%ebp)
 4549 2b8a 7505     		jne	L290
 4550 2b8c E9C30200 		jmp	L284
 4550      00
 4551              	L290:
2800:str_merge.c   ****                 {
2801:str_merge.c   ****                     ref_idx = strres[lang_idx].StrRef[temp->pointer];
 4553              	LM585:
 4554 2b91 8B55E8   		movl	-24(%ebp), %edx
 4555 2b94 89D0     		movl	%edx, %eax
 4556 2b96 01C0     		addl	%eax, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 127


 4557 2b98 01D0     		addl	%edx, %eax
 4558 2b9a 8D1CC500 		leal	0(,%eax,8), %ebx
 4558      000000
 4559 2ba1 8B4D08   		movl	8(%ebp), %ecx
 4560 2ba4 8B45F0   		movl	-16(%ebp), %eax
 4561 2ba7 8B00     		movl	(%eax), %eax
 4562 2ba9 8D148500 		leal	0(,%eax,4), %edx
 4562      000000
 4563 2bb0 8B441904 		movl	4(%ecx,%ebx), %eax
 4564 2bb4 8B0410   		movl	(%eax,%edx), %eax
 4565 2bb7 8945E4   		movl	%eax, -28(%ebp)
2802:str_merge.c   ****                     str = GetStrByRef(strres, strres_dup, lang_idx, temp->pointer, ref_idx);
 4567              	LM586:
 4568 2bba 8B45E4   		movl	-28(%ebp), %eax
 4569 2bbd 89442410 		movl	%eax, 16(%esp)
 4570 2bc1 8B45F0   		movl	-16(%ebp), %eax
 4571 2bc4 8B00     		movl	(%eax), %eax
 4572 2bc6 8944240C 		movl	%eax, 12(%esp)
 4573 2bca 8B45E8   		movl	-24(%ebp), %eax
 4574 2bcd 89442408 		movl	%eax, 8(%esp)
 4575 2bd1 8B450C   		movl	12(%ebp), %eax
 4576 2bd4 89442404 		movl	%eax, 4(%esp)
 4577 2bd8 8B4508   		movl	8(%ebp), %eax
 4578 2bdb 890424   		movl	%eax, (%esp)
 4579 2bde E8ADFEFF 		call	_GetStrByRef
 4579      FF
 4580 2be3 8945EC   		movl	%eax, -20(%ebp)
2803:str_merge.c   ****                     if (wcscmp(tok, str) == 0)
 4582              	LM587:
 4583 2be6 8B45EC   		movl	-20(%ebp), %eax
 4584 2be9 89442404 		movl	%eax, 4(%esp)
 4585 2bed 8B4520   		movl	32(%ebp), %eax
 4586 2bf0 890424   		movl	%eax, (%esp)
 4587 2bf3 E8000000 		call	_wcscmp
 4587      00
 4588 2bf8 85C0     		testl	%eax, %eax
 4589 2bfa 0F854602 		jne	L291
 4589      0000
2804:str_merge.c   ****                     {
2805:str_merge.c   ****                         /* they are duplicated strings */
2806:str_merge.c   ****                         strres[cur_lang].is_dup[id_count] = 1;
 4591              	LM588:
 4592 2c00 8B5510   		movl	16(%ebp), %edx
 4593 2c03 89D0     		movl	%edx, %eax
 4594 2c05 01C0     		addl	%eax, %eax
 4595 2c07 01D0     		addl	%edx, %eax
 4596 2c09 8D0CC500 		leal	0(,%eax,8), %ecx
 4596      000000
 4597 2c10 8B5508   		movl	8(%ebp), %edx
 4598 2c13 8B4514   		movl	20(%ebp), %eax
 4599 2c16 03440A10 		addl	16(%edx,%ecx), %eax
 4600 2c1a C60001   		movb	$1, (%eax)
2807:str_merge.c   ****                         strres[cur_lang].StrRef[id_count] = ref_idx;
 4602              	LM589:
 4603 2c1d 8B5510   		movl	16(%ebp), %edx
 4604 2c20 89D0     		movl	%edx, %eax
 4605 2c22 01C0     		addl	%eax, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 128


 4606 2c24 01D0     		addl	%edx, %eax
 4607 2c26 8D1CC500 		leal	0(,%eax,8), %ebx
 4607      000000
 4608 2c2d 8B5508   		movl	8(%ebp), %edx
 4609 2c30 8B4514   		movl	20(%ebp), %eax
 4610 2c33 8D0C8500 		leal	0(,%eax,4), %ecx
 4610      000000
 4611 2c3a 8B541A04 		movl	4(%edx,%ebx), %edx
 4612 2c3e 8B45E4   		movl	-28(%ebp), %eax
 4613 2c41 89040A   		movl	%eax, (%edx,%ecx)
2808:str_merge.c   ****                         /* check if this duplicated string has already been found before */
2809:str_merge.c   ****                         if (!strres[lang_idx].is_dup[temp->pointer])
 4615              	LM590:
 4616 2c44 8B55E8   		movl	-24(%ebp), %edx
 4617 2c47 89D0     		movl	%edx, %eax
 4618 2c49 01C0     		addl	%eax, %eax
 4619 2c4b 01D0     		addl	%edx, %eax
 4620 2c4d 8D0CC500 		leal	0(,%eax,8), %ecx
 4620      000000
 4621 2c54 8B5508   		movl	8(%ebp), %edx
 4622 2c57 8B45F0   		movl	-16(%ebp), %eax
 4623 2c5a 8B00     		movl	(%eax), %eax
 4624 2c5c 03440A10 		addl	16(%edx,%ecx), %eax
 4625 2c60 803800   		cmpb	$0, (%eax)
 4626 2c63 0F85D401 		jne	L292
 4626      0000
2810:str_merge.c   ****                         {
2811:str_merge.c   ****                             /* first time found */
2812:str_merge.c   ****                             strres[lang_idx].is_dup[temp->pointer] = 1;
 4628              	LM591:
 4629 2c69 8B55E8   		movl	-24(%ebp), %edx
 4630 2c6c 89D0     		movl	%edx, %eax
 4631 2c6e 01C0     		addl	%eax, %eax
 4632 2c70 01D0     		addl	%edx, %eax
 4633 2c72 8D0CC500 		leal	0(,%eax,8), %ecx
 4633      000000
 4634 2c79 8B5508   		movl	8(%ebp), %edx
 4635 2c7c 8B45F0   		movl	-16(%ebp), %eax
 4636 2c7f 8B00     		movl	(%eax), %eax
 4637 2c81 03440A10 		addl	16(%edx,%ecx), %eax
 4638 2c85 C60001   		movb	$1, (%eax)
2813:str_merge.c   ****                             strres[lang_idx].StrRef[temp->pointer] = strres_dup->MaxNum;
 4640              	LM592:
 4641 2c88 8B55E8   		movl	-24(%ebp), %edx
 4642 2c8b 89D0     		movl	%edx, %eax
 4643 2c8d 01C0     		addl	%eax, %eax
 4644 2c8f 01D0     		addl	%edx, %eax
 4645 2c91 8D1CC500 		leal	0(,%eax,8), %ebx
 4645      000000
 4646 2c98 8B5508   		movl	8(%ebp), %edx
 4647 2c9b 8B45F0   		movl	-16(%ebp), %eax
 4648 2c9e 8B00     		movl	(%eax), %eax
 4649 2ca0 8D0C8500 		leal	0(,%eax,4), %ecx
 4649      000000
 4650 2ca7 8B541A04 		movl	4(%edx,%ebx), %edx
 4651 2cab 8B450C   		movl	12(%ebp), %eax
 4652 2cae 8B4004   		movl	4(%eax), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 129


 4653 2cb1 89040A   		movl	%eax, (%edx,%ecx)
2814:str_merge.c   ****                             strres[lang_idx].TotalLength -= wcslen(tok) * 2 + 2;
 4655              	LM593:
 4656 2cb4 8B55E8   		movl	-24(%ebp), %edx
 4657 2cb7 89D0     		movl	%edx, %eax
 4658 2cb9 01C0     		addl	%eax, %eax
 4659 2cbb 01D0     		addl	%edx, %eax
 4660 2cbd 8D3CC500 		leal	0(,%eax,8), %edi
 4660      000000
 4661 2cc4 8B4508   		movl	8(%ebp), %eax
 4662 2cc7 8945DC   		movl	%eax, -36(%ebp)
 4663 2cca 8B55E8   		movl	-24(%ebp), %edx
 4664 2ccd 89D0     		movl	%edx, %eax
 4665 2ccf 01C0     		addl	%eax, %eax
 4666 2cd1 01D0     		addl	%edx, %eax
 4667 2cd3 8D1CC500 		leal	0(,%eax,8), %ebx
 4667      000000
 4668 2cda 8B7508   		movl	8(%ebp), %esi
 4669 2cdd 8B4520   		movl	32(%ebp), %eax
 4670 2ce0 890424   		movl	%eax, (%esp)
 4671 2ce3 E8000000 		call	_wcslen
 4671      00
 4672 2ce8 8D1400   		leal	(%eax,%eax), %edx
 4673 2ceb 8B441E14 		movl	20(%esi,%ebx), %eax
 4674 2cef 29D0     		subl	%edx, %eax
 4675 2cf1 83E802   		subl	$2, %eax
 4676 2cf4 8B55DC   		movl	-36(%ebp), %edx
 4677 2cf7 89443A14 		movl	%eax, 20(%edx,%edi)
2815:str_merge.c   ****                             strres[cur_lang].StrRef[id_count] = strres_dup->MaxNum;
 4679              	LM594:
 4680 2cfb 8B5510   		movl	16(%ebp), %edx
 4681 2cfe 89D0     		movl	%edx, %eax
 4682 2d00 01C0     		addl	%eax, %eax
 4683 2d02 01D0     		addl	%edx, %eax
 4684 2d04 8D1CC500 		leal	0(,%eax,8), %ebx
 4684      000000
 4685 2d0b 8B5508   		movl	8(%ebp), %edx
 4686 2d0e 8B4514   		movl	20(%ebp), %eax
 4687 2d11 8D0C8500 		leal	0(,%eax,4), %ecx
 4687      000000
 4688 2d18 8B541A04 		movl	4(%edx,%ebx), %edx
 4689 2d1c 8B450C   		movl	12(%ebp), %eax
 4690 2d1f 8B4004   		movl	4(%eax), %eax
 4691 2d22 89040A   		movl	%eax, (%edx,%ecx)
2816:str_merge.c   ****                             strres_dup->Str[strres_dup->MaxNum] = strres[lang_idx].Str[ref_idx];
 4693              	LM595:
 4694 2d25 8B550C   		movl	12(%ebp), %edx
 4695 2d28 8B450C   		movl	12(%ebp), %eax
 4696 2d2b 8B4004   		movl	4(%eax), %eax
 4697 2d2e 8D348500 		leal	0(,%eax,4), %esi
 4697      000000
 4698 2d35 8B3A     		movl	(%edx), %edi
 4699 2d37 8B55E8   		movl	-24(%ebp), %edx
 4700 2d3a 89D0     		movl	%edx, %eax
 4701 2d3c 01C0     		addl	%eax, %eax
 4702 2d3e 01D0     		addl	%edx, %eax
 4703 2d40 8D1CC500 		leal	0(,%eax,8), %ebx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 130


 4703      000000
 4704 2d47 8B4D08   		movl	8(%ebp), %ecx
 4705 2d4a 8B45E4   		movl	-28(%ebp), %eax
 4706 2d4d 8D148500 		leal	0(,%eax,4), %edx
 4706      000000
 4707 2d54 8B0419   		movl	(%ecx,%ebx), %eax
 4708 2d57 8B0410   		movl	(%eax,%edx), %eax
 4709 2d5a 890437   		movl	%eax, (%edi,%esi)
2817:str_merge.c   ****                             strres[lang_idx].Str[ref_idx] = NULL;
 4711              	LM596:
 4712 2d5d 8B55E8   		movl	-24(%ebp), %edx
 4713 2d60 89D0     		movl	%edx, %eax
 4714 2d62 01C0     		addl	%eax, %eax
 4715 2d64 01D0     		addl	%edx, %eax
 4716 2d66 8D1CC500 		leal	0(,%eax,8), %ebx
 4716      000000
 4717 2d6d 8B4D08   		movl	8(%ebp), %ecx
 4718 2d70 8B45E4   		movl	-28(%ebp), %eax
 4719 2d73 8D148500 		leal	0(,%eax,4), %edx
 4719      000000
 4720 2d7a 8B0419   		movl	(%ecx,%ebx), %eax
 4721 2d7d C7041000 		movl	$0, (%eax,%edx)
 4721      000000
2818:str_merge.c   ****                             /* traverse the linked list, turn on dup flags and 
2819:str_merge.c   ****                              * change string reference index for the dup strings in the same lang
2820:str_merge.c   ****                              */
2821:str_merge.c   ****                             while (temp->next != NULL)
 4723              	LM597:
 4724              	L293:
 4725 2d84 8B45F0   		movl	-16(%ebp), %eax
 4726 2d87 83780400 		cmpl	$0, 4(%eax)
 4727 2d8b 7505     		jne	L295
 4728 2d8d E9A50000 		jmp	L294
 4728      00
 4729              	L295:
2822:str_merge.c   ****                             {
2823:str_merge.c   ****                                 temp = temp->next;
 4731              	LM598:
 4732 2d92 8B45F0   		movl	-16(%ebp), %eax
 4733 2d95 8B4004   		movl	4(%eax), %eax
 4734 2d98 8945F0   		movl	%eax, -16(%ebp)
2824:str_merge.c   ****                                 if ((!strres[lang_idx].is_dup[temp->pointer])
 4736              	LM599:
 4737 2d9b 8B55E8   		movl	-24(%ebp), %edx
 4738 2d9e 89D0     		movl	%edx, %eax
 4739 2da0 01C0     		addl	%eax, %eax
 4740 2da2 01D0     		addl	%edx, %eax
 4741 2da4 8D0CC500 		leal	0(,%eax,8), %ecx
 4741      000000
 4742 2dab 8B5508   		movl	8(%ebp), %edx
 4743 2dae 8B45F0   		movl	-16(%ebp), %eax
 4744 2db1 8B00     		movl	(%eax), %eax
 4745 2db3 03440A10 		addl	16(%edx,%ecx), %eax
 4746 2db7 803800   		cmpb	$0, (%eax)
 4747 2dba 75C8     		jne	L293
 4748 2dbc 8B55E8   		movl	-24(%ebp), %edx
 4749 2dbf 89D0     		movl	%edx, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 131


 4750 2dc1 01C0     		addl	%eax, %eax
 4751 2dc3 01D0     		addl	%edx, %eax
 4752 2dc5 8D1CC500 		leal	0(,%eax,8), %ebx
 4752      000000
 4753 2dcc 8B4D08   		movl	8(%ebp), %ecx
 4754 2dcf 8B45F0   		movl	-16(%ebp), %eax
 4755 2dd2 8B00     		movl	(%eax), %eax
 4756 2dd4 8D148500 		leal	0(,%eax,4), %edx
 4756      000000
 4757 2ddb 8B441904 		movl	4(%ecx,%ebx), %eax
 4758 2ddf 8B0410   		movl	(%eax,%edx), %eax
 4759 2de2 3B45E4   		cmpl	-28(%ebp), %eax
 4760 2de5 759D     		jne	L293
2825:str_merge.c   ****                                     && (strres[lang_idx].StrRef[temp->pointer] == ref_idx))
2826:str_merge.c   ****                                 {
2827:str_merge.c   ****                                     strres[lang_idx].is_dup[temp->pointer] = 1;
 4762              	LM600:
 4763 2de7 8B55E8   		movl	-24(%ebp), %edx
 4764 2dea 89D0     		movl	%edx, %eax
 4765 2dec 01C0     		addl	%eax, %eax
 4766 2dee 01D0     		addl	%edx, %eax
 4767 2df0 8D0CC500 		leal	0(,%eax,8), %ecx
 4767      000000
 4768 2df7 8B5508   		movl	8(%ebp), %edx
 4769 2dfa 8B45F0   		movl	-16(%ebp), %eax
 4770 2dfd 8B00     		movl	(%eax), %eax
 4771 2dff 03440A10 		addl	16(%edx,%ecx), %eax
 4772 2e03 C60001   		movb	$1, (%eax)
2828:str_merge.c   ****                                     strres[lang_idx].StrRef[temp->pointer] = strres_dup->MaxNum;   
 4774              	LM601:
 4775 2e06 8B55E8   		movl	-24(%ebp), %edx
 4776 2e09 89D0     		movl	%edx, %eax
 4777 2e0b 01C0     		addl	%eax, %eax
 4778 2e0d 01D0     		addl	%edx, %eax
 4779 2e0f 8D1CC500 		leal	0(,%eax,8), %ebx
 4779      000000
 4780 2e16 8B5508   		movl	8(%ebp), %edx
 4781 2e19 8B45F0   		movl	-16(%ebp), %eax
 4782 2e1c 8B00     		movl	(%eax), %eax
 4783 2e1e 8D0C8500 		leal	0(,%eax,4), %ecx
 4783      000000
 4784 2e25 8B541A04 		movl	4(%edx,%ebx), %edx
 4785 2e29 8B450C   		movl	12(%ebp), %eax
 4786 2e2c 8B4004   		movl	4(%eax), %eax
 4787 2e2f 89040A   		movl	%eax, (%edx,%ecx)
 4788 2e32 E94DFFFF 		jmp	L293
 4788      FF
 4789              	L294:
2829:str_merge.c   ****                                 }
2830:str_merge.c   ****                             }
2831:str_merge.c   ****                             strres_dup->MaxNum++;
 4791              	LM602:
 4792 2e37 8B450C   		movl	12(%ebp), %eax
 4793 2e3a FF4004   		incl	4(%eax)
 4794              	L292:
2832:str_merge.c   ****                         }
2833:str_merge.c   ****                         return 1;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 132


 4796              	LM603:
 4797 2e3d C745E001 		movl	$1, -32(%ebp)
 4797      000000
 4798 2e44 EB1F     		jmp	L281
 4799              	L291:
2834:str_merge.c   ****                     }
2835:str_merge.c   ****                     temp = temp->next;
 4801              	LM604:
 4802 2e46 8B45F0   		movl	-16(%ebp), %eax
 4803 2e49 8B4004   		movl	4(%eax), %eax
 4804 2e4c 8945F0   		movl	%eax, -16(%ebp)
 4805 2e4f E932FDFF 		jmp	L288
 4805      FF
 4807              	LM605:
 4808              	L284:
 4809 2e54 8D45E8   		leal	-24(%ebp), %eax
 4810 2e57 FF00     		incl	(%eax)
 4811 2e59 E9B5FCFF 		jmp	L282
 4811      FF
 4812              	L283:
2836:str_merge.c   ****                 }
2837:str_merge.c   ****             }
2838:str_merge.c   ****         }
2839:str_merge.c   ****     }   
2840:str_merge.c   ****     return 0;      
 4814              	LM606:
 4815 2e5e C745E000 		movl	$0, -32(%ebp)
 4815      000000
2841:str_merge.c   **** }
 4817              	LM607:
 4818              	L281:
 4819              	LBE36:
 4820 2e65 8B45E0   		movl	-32(%ebp), %eax
 4821 2e68 83C42C   		addl	$44, %esp
 4822 2e6b 5B       		popl	%ebx
 4823 2e6c 5E       		popl	%esi
 4824 2e6d 5F       		popl	%edi
 4825 2e6e 5D       		popl	%ebp
 4826 2e6f C3       		ret
 4833              	Lscope27:
 4835              	LC47:
 4836 2e70 6D616C6C 		.ascii "malloc fail strres \0"
 4836      6F632066 
 4836      61696C20 
 4836      73747272 
 4836      65732000 
 4837              	LC48:
 4838 2e84 6D616C6C 		.ascii "malloc fail ht \0"
 4838      6F632066 
 4838      61696C20 
 4838      68742000 
 4839              	LC49:
 4840 2e94 6D616C6C 		.ascii "malloc fail strres_dup \0"
 4840      6F632066 
 4840      61696C20 
 4840      73747272 
 4840      65735F64 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 133


 4841              	LC50:
 4842 2eac 6D616C6C 		.ascii "malloc fail strres_dup->Str \0"
 4842      6F632066 
 4842      61696C20 
 4842      73747272 
 4842      65735F64 
 4843 2ec9 90909090 		.align 32
 4843      90909090 
 4843      90909090 
 4843      90909090 
 4843      90909090 
 4844              	LC51:
 4845 2ee0 6D616C6C 		.ascii "malloc fail mtk_gLanguageFlag \0"
 4845      6F632066 
 4845      61696C20 
 4845      6D746B5F 
 4845      674C616E 
 4846 2eff 90       		.align 32
 4847              	LC52:
 4848 2f00 6D616C6C 		.ascii "malloc fail strres[LangIndex].Str \0"
 4848      6F632066 
 4848      61696C20 
 4848      73747272 
 4848      65735B4C 
 4849 2f23 90909090 		.align 32
 4849      90909090 
 4849      90909090 
 4849      90909090 
 4849      90909090 
 4850              	LC53:
 4851 2f40 6D616C6C 		.ascii "malloc fail strres[LangIndex].StrRef \0"
 4851      6F632066 
 4851      61696C20 
 4851      73747272 
 4851      65735B4C 
 4852 2f66 90909090 		.align 32
 4852      90909090 
 4852      90909090 
 4852      90909090 
 4852      90909090 
 4853              	LC54:
 4854 2f80 6D616C6C 		.ascii "malloc fail strres[LangIndex].is_dup \0"
 4854      6F632066 
 4854      61696C20 
 4854      73747272 
 4854      65735B4C 
 4855              	LC56:
 4856 2fa6 6D616C6C 		.ascii "malloc fail ht[LangIndex] \0"
 4856      6F632066 
 4856      61696C20 
 4856      68745B4C 
 4856      616E6749 
 4857 2fc1 90909090 		.align 32
 4857      90909090 
 4857      90909090 
 4857      90909090 
 4857      90909090 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 134


 4858              	LC57:
 4859 2fe0 4E6F2052 		.ascii "No REF item found for String: %d\0"
 4859      45462069 
 4859      74656D20 
 4859      666F756E 
 4859      6420666F 
 4860 3001 90909090 		.align 32
 4860      90909090 
 4860      90909090 
 4860      90909090 
 4860      90909090 
 4861              	LC58:
 4862 3020 6D616C6C 		.ascii "malloc fail strres[LangIndex].Str[i] \0"
 4862      6F632066 
 4862      61696C20 
 4862      73747272 
 4862      65735B4C 
 4863              	LC59:
 4864 3046 6D616C6C 		.ascii "malloc fail extra \0"
 4864      6F632066 
 4864      61696C20 
 4864      65787472 
 4864      612000
 4865 3059 8DB42600 		.align 8
 4865      000000
 4866              	LC55:
 4867 3060 9A999999 		.long	-1717986918
 4868 3064 9999F13F 		.long	1072798105
 4872              	_GetStrResList:
2842:str_merge.c   **** 
2843:str_merge.c   **** 
2844:str_merge.c   **** /*****************************************************************************
2845:str_merge.c   ****  * FUNCTION
2846:str_merge.c   ****  *  GetStrResList
2847:str_merge.c   ****  * DESCRIPTION
2848:str_merge.c   ****  *  Generate a non-duplicate string list from input file, using hash table
2849:str_merge.c   ****  * PARAMETERS
2850:str_merge.c   ****  *  result  [OUT]
2851:str_merge.c   ****  * RETURNS
2852:str_merge.c   ****  *  Return number of all populated string IDs
2853:str_merge.c   ****  *****************************************************************************/
2854:str_merge.c   **** static int GetStrResList(StrResSet *result)
2855:str_merge.c   **** {
 4874              	LM608:
 4875 3068 55       		pushl	%ebp
 4876 3069 89E5     		movl	%esp, %ebp
 4877 306b 57       		pushl	%edi
 4878 306c 56       		pushl	%esi
 4879 306d 53       		pushl	%ebx
 4880 306e 83EC7C   		subl	$124, %esp
2856:str_merge.c   ****     /*----------------------------------------------------------------*/
2857:str_merge.c   ****     /* Local Variables                                                */
2858:str_merge.c   ****     /*----------------------------------------------------------------*/
2859:str_merge.c   ****     struct HashItem **ht = NULL, *extra = NULL, *temp = NULL;
 4882              	LM609:
 4883              	LBB37:
 4884 3071 C745F000 		movl	$0, -16(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 135


 4884      000000
 4885 3078 C745EC00 		movl	$0, -20(%ebp)
 4885      000000
 4886 307f C745E800 		movl	$0, -24(%ebp)
 4886      000000
2860:str_merge.c   ****     struct StrRes *strres = NULL;
 4888              	LM610:
 4889 3086 C745E400 		movl	$0, -28(%ebp)
 4889      000000
2861:str_merge.c   ****     wchar_t *tok = NULL;
 4891              	LM611:
 4892 308d C745E000 		movl	$0, -32(%ebp)
 4892      000000
2862:str_merge.c   ****     wchar_t *tok_eng = NULL;    
 4894              	LM612:
 4895 3094 C745DC00 		movl	$0, -36(%ebp)
 4895      000000
2863:str_merge.c   ****     int i = 0, j = 0, k = 0, h = 0, l = 0;
 4897              	LM613:
 4898 309b C745D800 		movl	$0, -40(%ebp)
 4898      000000
 4899 30a2 C745D400 		movl	$0, -44(%ebp)
 4899      000000
 4900 30a9 C745D000 		movl	$0, -48(%ebp)
 4900      000000
 4901 30b0 C745CC00 		movl	$0, -52(%ebp)
 4901      000000
 4902 30b7 C745C800 		movl	$0, -56(%ebp)
 4902      000000
2864:str_merge.c   ****     int LangIndex = 0;
 4904              	LM614:
 4905 30be C745C400 		movl	$0, -60(%ebp)
 4905      000000
2865:str_merge.c   ****     int hash_range = 0;
 4907              	LM615:
 4908 30c5 C745C000 		movl	$0, -64(%ebp)
 4908      000000
2866:str_merge.c   ****     int ref_item_found = 0;
 4910              	LM616:
 4911 30cc C745BC00 		movl	$0, -68(%ebp)
 4911      000000
2867:str_merge.c   **** 
2868:str_merge.c   ****   #ifdef MEM_REF_LIST_OPT
2869:str_merge.c   ****       RefListItem * tmp_list_item = NULL; /* temp buffer of ref list item */
 4913              	LM617:
 4914 30d3 C745B800 		movl	$0, -72(%ebp)
 4914      000000
2870:str_merge.c   ****   #endif /*MEM_REF_LIST_OPT*/
2871:str_merge.c   **** 
2872:str_merge.c   ****     /* add a data structure to record duplicated strings in different language */
2873:str_merge.c   ****     struct DupStrRes *strres_dup;
2874:str_merge.c   **** 
2875:str_merge.c   ****     U16 nStrId;
2876:str_merge.c   **** 
2877:str_merge.c   ****     /*----------------------------------------------------------------*/
2878:str_merge.c   ****     /* Code Body                                                      */
2879:str_merge.c   ****     /*----------------------------------------------------------------*/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 136


2880:str_merge.c   ****     strres = malloc(sizeof(struct StrRes) * mtk_gMaxDeployedLangs);
 4916              	LM618:
 4917 30da 0FB71500 		movzwl	_mtk_gMaxDeployedLangs, %edx
 4917      000000
 4918 30e1 89D0     		movl	%edx, %eax
 4919 30e3 01C0     		addl	%eax, %eax
 4920 30e5 01D0     		addl	%edx, %eax
 4921 30e7 C1E003   		sall	$3, %eax
 4922 30ea 890424   		movl	%eax, (%esp)
 4923 30ed E8000000 		call	_malloc
 4923      00
 4924 30f2 8945E4   		movl	%eax, -28(%ebp)
2881:str_merge.c   ****     if (strres == NULL) {STRMERG_LOG_E("malloc fail strres "); exit(2);}
 4926              	LM619:
 4927 30f5 837DE400 		cmpl	$0, -28(%ebp)
 4928 30f9 7528     		jne	L298
 4929 30fb C7442408 		movl	$LC47, 8(%esp)
 4929      702E0000 
 4930 3103 C7442404 		movl	$LC3, 4(%esp)
 4930      4B040000 
 4931 310b C7042403 		movl	$3, (%esp)
 4931      000000
 4932 3112 E8000000 		call	_reslog_adaptor_log
 4932      00
 4933 3117 C7042402 		movl	$2, (%esp)
 4933      000000
 4934 311e E8000000 		call	_exit
 4934      00
 4935              	L298:
2882:str_merge.c   ****     ht = malloc(sizeof(struct HashItem *) * mtk_gMaxDeployedLangs);
 4937              	LM620:
 4938 3123 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 4938      000000
 4939 312a C1E002   		sall	$2, %eax
 4940 312d 890424   		movl	%eax, (%esp)
 4941 3130 E8000000 		call	_malloc
 4941      00
 4942 3135 8945F0   		movl	%eax, -16(%ebp)
2883:str_merge.c   ****     if (ht == NULL) {STRMERG_LOG_E("malloc fail ht "); exit(2);}
 4944              	LM621:
 4945 3138 837DF000 		cmpl	$0, -16(%ebp)
 4946 313c 7528     		jne	L299
 4947 313e C7442408 		movl	$LC48, 8(%esp)
 4947      842E0000 
 4948 3146 C7442404 		movl	$LC3, 4(%esp)
 4948      4B040000 
 4949 314e C7042403 		movl	$3, (%esp)
 4949      000000
 4950 3155 E8000000 		call	_reslog_adaptor_log
 4950      00
 4951 315a C7042402 		movl	$2, (%esp)
 4951      000000
 4952 3161 E8000000 		call	_exit
 4952      00
 4953              	L299:
2884:str_merge.c   ****     /* allocate memory */
2885:str_merge.c   ****     strres_dup = malloc(sizeof(struct DupStrRes));
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 137


 4955              	LM622:
 4956 3166 C7042408 		movl	$8, (%esp)
 4956      000000
 4957 316d E8000000 		call	_malloc
 4957      00
 4958 3172 8945B4   		movl	%eax, -76(%ebp)
2886:str_merge.c   ****     if (strres_dup == NULL) {STRMERG_LOG_E("malloc fail strres_dup "); exit(2);}
 4960              	LM623:
 4961 3175 837DB400 		cmpl	$0, -76(%ebp)
 4962 3179 7528     		jne	L300
 4963 317b C7442408 		movl	$LC49, 8(%esp)
 4963      942E0000 
 4964 3183 C7442404 		movl	$LC3, 4(%esp)
 4964      4B040000 
 4965 318b C7042403 		movl	$3, (%esp)
 4965      000000
 4966 3192 E8000000 		call	_reslog_adaptor_log
 4966      00
 4967 3197 C7042402 		movl	$2, (%esp)
 4967      000000
 4968 319e E8000000 		call	_exit
 4968      00
 4969              	L300:
2887:str_merge.c   ****     strres_dup->Str = (wchar_t **)malloc(sizeof(wchar_t *) * CurrMaxTransStrId * 3);
 4971              	LM624:
 4972 31a3 8B5DB4   		movl	-76(%ebp), %ebx
 4973 31a6 0FB71500 		movzwl	_CurrMaxTransStrId, %edx
 4973      000000
 4974 31ad 89D0     		movl	%edx, %eax
 4975 31af 01C0     		addl	%eax, %eax
 4976 31b1 01D0     		addl	%edx, %eax
 4977 31b3 C1E002   		sall	$2, %eax
 4978 31b6 890424   		movl	%eax, (%esp)
 4979 31b9 E8000000 		call	_malloc
 4979      00
 4980 31be 8903     		movl	%eax, (%ebx)
2888:str_merge.c   ****     if (strres_dup->Str == NULL) {STRMERG_LOG_E("malloc fail strres_dup->Str "); exit(2);}
 4982              	LM625:
 4983 31c0 8B45B4   		movl	-76(%ebp), %eax
 4984 31c3 833800   		cmpl	$0, (%eax)
 4985 31c6 7528     		jne	L301
 4986 31c8 C7442408 		movl	$LC50, 8(%esp)
 4986      AC2E0000 
 4987 31d0 C7442404 		movl	$LC3, 4(%esp)
 4987      4B040000 
 4988 31d8 C7042403 		movl	$3, (%esp)
 4988      000000
 4989 31df E8000000 		call	_reslog_adaptor_log
 4989      00
 4990 31e4 C7042402 		movl	$2, (%esp)
 4990      000000
 4991 31eb E8000000 		call	_exit
 4991      00
 4992              	L301:
2889:str_merge.c   ****     /* init */
2890:str_merge.c   ****     strres_dup->MaxNum = 0;
 4994              	LM626:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 138


 4995 31f0 8B45B4   		movl	-76(%ebp), %eax
 4996 31f3 C7400400 		movl	$0, 4(%eax)
 4996      000000
2891:str_merge.c   **** 
2892:str_merge.c   ****     mtk_gLanguageFlag = malloc(sizeof(int) * mtk_gMaxDeployedLangs);
 4998              	LM627:
 4999 31fa 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 4999      000000
 5000 3201 C1E002   		sall	$2, %eax
 5001 3204 890424   		movl	%eax, (%esp)
 5002 3207 E8000000 		call	_malloc
 5002      00
 5003 320c A3B80000 		movl	%eax, _mtk_gLanguageFlag
 5003      00
2893:str_merge.c   ****     if (mtk_gLanguageFlag == NULL) {STRMERG_LOG_E("malloc fail mtk_gLanguageFlag "); exit(2);}
 5005              	LM628:
 5006 3211 833DB800 		cmpl	$0, _mtk_gLanguageFlag
 5006      000000
 5007 3218 7528     		jne	L302
 5008 321a C7442408 		movl	$LC51, 8(%esp)
 5008      E02E0000 
 5009 3222 C7442404 		movl	$LC3, 4(%esp)
 5009      4B040000 
 5010 322a C7042403 		movl	$3, (%esp)
 5010      000000
 5011 3231 E8000000 		call	_reslog_adaptor_log
 5011      00
 5012 3236 C7042402 		movl	$2, (%esp)
 5012      000000
 5013 323d E8000000 		call	_exit
 5013      00
 5014              	L302:
2894:str_merge.c   ****     for (h = 0; h < mtk_gMaxDeployedLangs; h++)
 5016              	LM629:
 5017 3242 C745CC00 		movl	$0, -52(%ebp)
 5017      000000
 5018              	L303:
 5019 3249 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 5019      000000
 5020 3250 3945CC   		cmpl	%eax, -52(%ebp)
 5021 3253 7C02     		jl	L306
 5022 3255 EB1D     		jmp	L304
 5023              	L306:
2895:str_merge.c   ****     {
2896:str_merge.c   ****         mtk_gLanguageFlag[h] = 0;
 5025              	LM630:
 5026 3257 8B45CC   		movl	-52(%ebp), %eax
 5027 325a 8D148500 		leal	0(,%eax,4), %edx
 5027      000000
 5028 3261 A1B80000 		movl	_mtk_gLanguageFlag, %eax
 5028      00
 5029 3266 C7041000 		movl	$0, (%eax,%edx)
 5029      000000
 5031              	LM631:
 5032 326d 8D45CC   		leal	-52(%ebp), %eax
 5033 3270 FF00     		incl	(%eax)
 5034 3272 EBD5     		jmp	L303
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 139


 5035              	L304:
2897:str_merge.c   ****     }
2898:str_merge.c   **** 
2899:str_merge.c   ****     for (j = 0; j < nUsedLang; j++)
 5037              	LM632:
 5038 3274 C745D400 		movl	$0, -44(%ebp)
 5038      000000
 5039              	L307:
 5040 327b 0FB70598 		movzwl	_nUsedLang, %eax
 5040      000000
 5041 3282 3945D4   		cmpl	%eax, -44(%ebp)
 5042 3285 7C05     		jl	L310
 5043 3287 E9010D00 		jmp	L308
 5043      00
 5044              	L310:
2900:str_merge.c   ****     {
2901:str_merge.c   ****         wcscpy(ref_tmp, filter_ref_ssc);
 5046              	LM633:
 5047 328c A1880000 		movl	_filter_ref_ssc, %eax
 5047      00
 5048 3291 89442404 		movl	%eax, 4(%esp)
 5049 3295 A1680000 		movl	_ref_tmp, %eax
 5049      00
 5050 329a 890424   		movl	%eax, (%esp)
 5051 329d E8000000 		call	_wcscpy
 5051      00
2902:str_merge.c   ****         tok = wcstok(ref_tmp, DELIMETER);   /* ENUM */
 5053              	LM634:
 5054 32a2 A1940100 		movl	_DELIMETER, %eax
 5054      00
 5055 32a7 89442404 		movl	%eax, 4(%esp)
 5056 32ab A1680000 		movl	_ref_tmp, %eax
 5056      00
 5057 32b0 890424   		movl	%eax, (%esp)
 5058 32b3 E8000000 		call	_wcstok
 5058      00
 5059 32b8 8945E0   		movl	%eax, -32(%ebp)
2903:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* MODULE NAME */
 5061              	LM635:
 5062 32bb A1940100 		movl	_DELIMETER, %eax
 5062      00
 5063 32c0 89442404 		movl	%eax, 4(%esp)
 5064 32c4 C7042400 		movl	$0, (%esp)
 5064      000000
 5065 32cb E8000000 		call	_wcstok
 5065      00
 5066 32d0 8945E0   		movl	%eax, -32(%ebp)
2904:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* MAX LENGTH */
 5068              	LM636:
 5069 32d3 A1940100 		movl	_DELIMETER, %eax
 5069      00
 5070 32d8 89442404 		movl	%eax, 4(%esp)
 5071 32dc C7042400 		movl	$0, (%esp)
 5071      000000
 5072 32e3 E8000000 		call	_wcstok
 5072      00
 5073 32e8 8945E0   		movl	%eax, -32(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 140


2905:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* DESCRIPTION */
 5075              	LM637:
 5076 32eb A1940100 		movl	_DELIMETER, %eax
 5076      00
 5077 32f0 89442404 		movl	%eax, 4(%esp)
 5078 32f4 C7042400 		movl	$0, (%esp)
 5078      000000
 5079 32fb E8000000 		call	_wcstok
 5079      00
 5080 3300 8945E0   		movl	%eax, -32(%ebp)
2906:str_merge.c   **** 
2907:str_merge.c   ****         /* change to corresponding language column according to j */
2908:str_merge.c   ****         for (k = 0; k < j + 1; k++)
 5082              	LM638:
 5083 3303 C745D000 		movl	$0, -48(%ebp)
 5083      000000
 5084              	L311:
 5085 330a 8B45D4   		movl	-44(%ebp), %eax
 5086 330d 40       		incl	%eax
 5087 330e 3945D0   		cmpl	%eax, -48(%ebp)
 5088 3311 7C02     		jl	L314
 5089 3313 EB1F     		jmp	L312
 5090              	L314:
2909:str_merge.c   ****         {
2910:str_merge.c   ****             tok = wcstok(NULL, DELIMETER);
 5092              	LM639:
 5093 3315 A1940100 		movl	_DELIMETER, %eax
 5093      00
 5094 331a 89442404 		movl	%eax, 4(%esp)
 5095 331e C7042400 		movl	$0, (%esp)
 5095      000000
 5096 3325 E8000000 		call	_wcstok
 5096      00
 5097 332a 8945E0   		movl	%eax, -32(%ebp)
 5099              	LM640:
 5100 332d 8D45D0   		leal	-48(%ebp), %eax
 5101 3330 FF00     		incl	(%eax)
 5102 3332 EBD6     		jmp	L311
 5103              	L312:
2911:str_merge.c   ****         }
2912:str_merge.c   ****         ASSERT(tok != NULL);
 5105              	LM641:
 5106 3334 837DE000 		cmpl	$0, -32(%ebp)
 5107 3338 7502     		jne	L319
 5108              	L316:
 5109 333a EBFE     		jmp	L316
 5110              	L319:
2913:str_merge.c   ****         LangIndex = ifLanguageUsed(tok);
 5112              	LM642:
 5113 333c 8B45E0   		movl	-32(%ebp), %eax
 5114 333f 890424   		movl	%eax, (%esp)
 5115 3342 E8D6F6FF 		call	_ifLanguageUsed
 5115      FF
 5116 3347 8945C4   		movl	%eax, -60(%ebp)
2914:str_merge.c   **** 
2915:str_merge.c   ****         if (LangIndex < 0) /* the language is not used in font resource */
 5118              	LM643:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 141


 5119 334a 837DC400 		cmpl	$0, -60(%ebp)
 5120 334e 7905     		jns	L320
2916:str_merge.c   ****             continue;
 5122              	LM644:
 5123 3350 E92E0C00 		jmp	L309
 5123      00
 5124              	L320:
2917:str_merge.c   **** 
2918:str_merge.c   ****         mtk_gLanguageFlag[LangIndex] = 1;
 5126              	LM645:
 5127 3355 8B45C4   		movl	-60(%ebp), %eax
 5128 3358 8D148500 		leal	0(,%eax,4), %edx
 5128      000000
 5129 335f A1B80000 		movl	_mtk_gLanguageFlag, %eax
 5129      00
 5130 3364 C7041001 		movl	$1, (%eax,%edx)
 5130      000000
2919:str_merge.c   **** 
2920:str_merge.c   ****         strres[LangIndex].Str = (wchar_t **)malloc(sizeof(wchar_t *) * CurrMaxTransStrId);
 5132              	LM646:
 5133 336b 8B55C4   		movl	-60(%ebp), %edx
 5134 336e 89D0     		movl	%edx, %eax
 5135 3370 01C0     		addl	%eax, %eax
 5136 3372 01D0     		addl	%edx, %eax
 5137 3374 8D1CC500 		leal	0(,%eax,8), %ebx
 5137      000000
 5138 337b 8B75E4   		movl	-28(%ebp), %esi
 5139 337e 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5139      000000
 5140 3385 C1E002   		sall	$2, %eax
 5141 3388 890424   		movl	%eax, (%esp)
 5142 338b E8000000 		call	_malloc
 5142      00
 5143 3390 89041E   		movl	%eax, (%esi,%ebx)
2921:str_merge.c   ****         if (strres[LangIndex].Str == NULL) {STRMERG_LOG_E("malloc fail strres[LangIndex].Str "); ex
 5145              	LM647:
 5146 3393 8B55C4   		movl	-60(%ebp), %edx
 5147 3396 89D0     		movl	%edx, %eax
 5148 3398 01C0     		addl	%eax, %eax
 5149 339a 01D0     		addl	%edx, %eax
 5150 339c 8D14C500 		leal	0(,%eax,8), %edx
 5150      000000
 5151 33a3 8B45E4   		movl	-28(%ebp), %eax
 5152 33a6 833C1000 		cmpl	$0, (%eax,%edx)
 5153 33aa 7528     		jne	L321
 5154 33ac C7442408 		movl	$LC52, 8(%esp)
 5154      002F0000 
 5155 33b4 C7442404 		movl	$LC3, 4(%esp)
 5155      4B040000 
 5156 33bc C7042403 		movl	$3, (%esp)
 5156      000000
 5157 33c3 E8000000 		call	_reslog_adaptor_log
 5157      00
 5158 33c8 C7042402 		movl	$2, (%esp)
 5158      000000
 5159 33cf E8000000 		call	_exit
 5159      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 142


 5160              	L321:
2922:str_merge.c   ****         strres[LangIndex].StrRef = (int *)malloc(sizeof(int) * CurrMaxTransStrId);
 5162              	LM648:
 5163 33d4 8B55C4   		movl	-60(%ebp), %edx
 5164 33d7 89D0     		movl	%edx, %eax
 5165 33d9 01C0     		addl	%eax, %eax
 5166 33db 01D0     		addl	%edx, %eax
 5167 33dd 8D1CC500 		leal	0(,%eax,8), %ebx
 5167      000000
 5168 33e4 8B75E4   		movl	-28(%ebp), %esi
 5169 33e7 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5169      000000
 5170 33ee C1E002   		sall	$2, %eax
 5171 33f1 890424   		movl	%eax, (%esp)
 5172 33f4 E8000000 		call	_malloc
 5172      00
 5173 33f9 89441E04 		movl	%eax, 4(%esi,%ebx)
2923:str_merge.c   ****         if (strres[LangIndex].StrRef == NULL) {STRMERG_LOG_E("malloc fail strres[LangIndex].StrRef 
 5175              	LM649:
 5176 33fd 8B55C4   		movl	-60(%ebp), %edx
 5177 3400 89D0     		movl	%edx, %eax
 5178 3402 01C0     		addl	%eax, %eax
 5179 3404 01D0     		addl	%edx, %eax
 5180 3406 8D14C500 		leal	0(,%eax,8), %edx
 5180      000000
 5181 340d 8B45E4   		movl	-28(%ebp), %eax
 5182 3410 837C1004 		cmpl	$0, 4(%eax,%edx)
 5182      00
 5183 3415 7528     		jne	L322
 5184 3417 C7442408 		movl	$LC53, 8(%esp)
 5184      402F0000 
 5185 341f C7442404 		movl	$LC3, 4(%esp)
 5185      4B040000 
 5186 3427 C7042403 		movl	$3, (%esp)
 5186      000000
 5187 342e E8000000 		call	_reslog_adaptor_log
 5187      00
 5188 3433 C7042402 		movl	$2, (%esp)
 5188      000000
 5189 343a E8000000 		call	_exit
 5189      00
 5190              	L322:
2924:str_merge.c   ****         /* allocate memory */
2925:str_merge.c   ****         strres[LangIndex].is_dup= (char *)malloc(sizeof(char) * CurrMaxTransStrId);
 5192              	LM650:
 5193 343f 8B55C4   		movl	-60(%ebp), %edx
 5194 3442 89D0     		movl	%edx, %eax
 5195 3444 01C0     		addl	%eax, %eax
 5196 3446 01D0     		addl	%edx, %eax
 5197 3448 8D34C500 		leal	0(,%eax,8), %esi
 5197      000000
 5198 344f 8B5DE4   		movl	-28(%ebp), %ebx
 5199 3452 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5199      000000
 5200 3459 890424   		movl	%eax, (%esp)
 5201 345c E8000000 		call	_malloc
 5201      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 143


 5202 3461 89443310 		movl	%eax, 16(%ebx,%esi)
2926:str_merge.c   ****         if (strres[LangIndex].is_dup == NULL) {STRMERG_LOG_E("malloc fail strres[LangIndex].is_dup 
 5204              	LM651:
 5205 3465 8B55C4   		movl	-60(%ebp), %edx
 5206 3468 89D0     		movl	%edx, %eax
 5207 346a 01C0     		addl	%eax, %eax
 5208 346c 01D0     		addl	%edx, %eax
 5209 346e 8D14C500 		leal	0(,%eax,8), %edx
 5209      000000
 5210 3475 8B45E4   		movl	-28(%ebp), %eax
 5211 3478 837C1010 		cmpl	$0, 16(%eax,%edx)
 5211      00
 5212 347d 7528     		jne	L323
 5213 347f C7442408 		movl	$LC54, 8(%esp)
 5213      802F0000 
 5214 3487 C7442404 		movl	$LC3, 4(%esp)
 5214      4B040000 
 5215 348f C7042403 		movl	$3, (%esp)
 5215      000000
 5216 3496 E8000000 		call	_reslog_adaptor_log
 5216      00
 5217 349b C7042402 		movl	$2, (%esp)
 5217      000000
 5218 34a2 E8000000 		call	_exit
 5218      00
 5219              	L323:
2927:str_merge.c   ****         /* set default value */
2928:str_merge.c   ****         for (l = 0; l < CurrMaxTransStrId; l++)
 5221              	LM652:
 5222 34a7 C745C800 		movl	$0, -56(%ebp)
 5222      000000
 5223              	L324:
 5224 34ae 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5224      000000
 5225 34b5 3945C8   		cmpl	%eax, -56(%ebp)
 5226 34b8 7C02     		jl	L327
 5227 34ba EB67     		jmp	L325
 5228              	L327:
2929:str_merge.c   ****         {
2930:str_merge.c   ****             strres[LangIndex].StrRef[l] = -1;
 5230              	LM653:
 5231 34bc 8B55C4   		movl	-60(%ebp), %edx
 5232 34bf 89D0     		movl	%edx, %eax
 5233 34c1 01C0     		addl	%eax, %eax
 5234 34c3 01D0     		addl	%edx, %eax
 5235 34c5 8D1CC500 		leal	0(,%eax,8), %ebx
 5235      000000
 5236 34cc 8B4DE4   		movl	-28(%ebp), %ecx
 5237 34cf 8B45C8   		movl	-56(%ebp), %eax
 5238 34d2 8D148500 		leal	0(,%eax,4), %edx
 5238      000000
 5239 34d9 8B441904 		movl	4(%ecx,%ebx), %eax
 5240 34dd C70410FF 		movl	$-1, (%eax,%edx)
 5240      FFFFFF
2931:str_merge.c   ****             strres[LangIndex].TotalLength = 0;
 5242              	LM654:
 5243 34e4 8B55C4   		movl	-60(%ebp), %edx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 144


 5244 34e7 89D0     		movl	%edx, %eax
 5245 34e9 01C0     		addl	%eax, %eax
 5246 34eb 01D0     		addl	%edx, %eax
 5247 34ed 8D14C500 		leal	0(,%eax,8), %edx
 5247      000000
 5248 34f4 8B45E4   		movl	-28(%ebp), %eax
 5249 34f7 C7441014 		movl	$0, 20(%eax,%edx)
 5249      00000000 
2932:str_merge.c   ****             /* set default value */
2933:str_merge.c   ****             strres[LangIndex].is_dup[l] = 0;
 5251              	LM655:
 5252 34ff 8B55C4   		movl	-60(%ebp), %edx
 5253 3502 89D0     		movl	%edx, %eax
 5254 3504 01C0     		addl	%eax, %eax
 5255 3506 01D0     		addl	%edx, %eax
 5256 3508 8D0CC500 		leal	0(,%eax,8), %ecx
 5256      000000
 5257 350f 8B55E4   		movl	-28(%ebp), %edx
 5258 3512 8B45C8   		movl	-56(%ebp), %eax
 5259 3515 03440A10 		addl	16(%edx,%ecx), %eax
 5260 3519 C60000   		movb	$0, (%eax)
 5262              	LM656:
 5263 351c 8D45C8   		leal	-56(%ebp), %eax
 5264 351f FF00     		incl	(%eax)
 5265 3521 EB8B     		jmp	L324
 5266              	L325:
2934:str_merge.c   ****         }
2935:str_merge.c   **** 
2936:str_merge.c   ****         /* set hash_range as maximum id times 1.1(Can be changed) */
2937:str_merge.c   ****         hash_range = (int)(CurrMaxTransStrId * 1.1);
 5268              	LM657:
 5269 3523 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5269      000000
 5270 352a 50       		pushl	%eax
 5271 352b DB0424   		fildl	(%esp)
 5272 352e 8D642404 		leal	4(%esp), %esp
 5273 3532 DD056030 		fldl	LC55
 5273      0000
 5274 3538 DEC9     		fmulp	%st, %st(1)
 5275 353a D97DA2   		fnstcw	-94(%ebp)
 5276 353d 0FB745A2 		movzwl	-94(%ebp), %eax
 5277 3541 660D000C 		orw	$3072, %ax
 5278 3545 668945A0 		movw	%ax, -96(%ebp)
 5279 3549 D96DA0   		fldcw	-96(%ebp)
 5280 354c DB5DC0   		fistpl	-64(%ebp)
 5281 354f D96DA2   		fldcw	-94(%ebp)
2938:str_merge.c   **** 
2939:str_merge.c   ****         /* initialize hash table */
2940:str_merge.c   ****         ht[LangIndex] = (struct HashItem *)malloc(sizeof(struct HashItem) * hash_range);
 5283              	LM658:
 5284 3552 8B45C4   		movl	-60(%ebp), %eax
 5285 3555 8D348500 		leal	0(,%eax,4), %esi
 5285      000000
 5286 355c 8B5DF0   		movl	-16(%ebp), %ebx
 5287 355f 8B45C0   		movl	-64(%ebp), %eax
 5288 3562 C1E003   		sall	$3, %eax
 5289 3565 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 145


 5290 3568 E8000000 		call	_malloc
 5290      00
 5291 356d 890433   		movl	%eax, (%ebx,%esi)
2941:str_merge.c   ****         if (ht[LangIndex] == NULL) {STRMERG_LOG_E("malloc fail ht[LangIndex] "); exit(2);}
 5293              	LM659:
 5294 3570 8B45C4   		movl	-60(%ebp), %eax
 5295 3573 8D148500 		leal	0(,%eax,4), %edx
 5295      000000
 5296 357a 8B45F0   		movl	-16(%ebp), %eax
 5297 357d 833C1000 		cmpl	$0, (%eax,%edx)
 5298 3581 7528     		jne	L328
 5299 3583 C7442408 		movl	$LC56, 8(%esp)
 5299      A62F0000 
 5300 358b C7442404 		movl	$LC3, 4(%esp)
 5300      4B040000 
 5301 3593 C7042403 		movl	$3, (%esp)
 5301      000000
 5302 359a E8000000 		call	_reslog_adaptor_log
 5302      00
 5303 359f C7042402 		movl	$2, (%esp)
 5303      000000
 5304 35a6 E8000000 		call	_exit
 5304      00
 5305              	L328:
2942:str_merge.c   ****         for (k = 0; k < hash_range; k++)
 5307              	LM660:
 5308 35ab C745D000 		movl	$0, -48(%ebp)
 5308      000000
 5309              	L329:
 5310 35b2 8B45D0   		movl	-48(%ebp), %eax
 5311 35b5 3B45C0   		cmpl	-64(%ebp), %eax
 5312 35b8 7C02     		jl	L332
 5313 35ba EB4A     		jmp	L330
 5314              	L332:
2943:str_merge.c   ****         {
2944:str_merge.c   ****             ht[LangIndex][k].next = NULL;
 5316              	LM661:
 5317 35bc 8B45C4   		movl	-60(%ebp), %eax
 5318 35bf 8D1C8500 		leal	0(,%eax,4), %ebx
 5318      000000
 5319 35c6 8B4DF0   		movl	-16(%ebp), %ecx
 5320 35c9 8B45D0   		movl	-48(%ebp), %eax
 5321 35cc 8D14C500 		leal	0(,%eax,8), %edx
 5321      000000
 5322 35d3 8B0419   		movl	(%ecx,%ebx), %eax
 5323 35d6 C7441004 		movl	$0, 4(%eax,%edx)
 5323      00000000 
2945:str_merge.c   ****             ht[LangIndex][k].pointer = -1;
 5325              	LM662:
 5326 35de 8B45C4   		movl	-60(%ebp), %eax
 5327 35e1 8D1C8500 		leal	0(,%eax,4), %ebx
 5327      000000
 5328 35e8 8B4DF0   		movl	-16(%ebp), %ecx
 5329 35eb 8B45D0   		movl	-48(%ebp), %eax
 5330 35ee 8D14C500 		leal	0(,%eax,8), %edx
 5330      000000
 5331 35f5 8B0419   		movl	(%ecx,%ebx), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 146


 5332 35f8 C70410FF 		movl	$-1, (%eax,%edx)
 5332      FFFFFF
 5334              	LM663:
 5335 35ff 8D45D0   		leal	-48(%ebp), %eax
 5336 3602 FF00     		incl	(%eax)
 5337 3604 EBAC     		jmp	L329
 5338              	L330:
2946:str_merge.c   ****         }
2947:str_merge.c   **** 
2948:str_merge.c   ****         k = 0;
 5340              	LM664:
 5341 3606 C745D000 		movl	$0, -48(%ebp)
 5341      000000
2949:str_merge.c   ****         i = 0;  /* number of Ref(non-duplicate strings, excluding NULL) */
 5343              	LM665:
 5344 360d C745D800 		movl	$0, -40(%ebp)
 5344      000000
2950:str_merge.c   ****         l = -1; /* number of ID (all strings) */
 5346              	LM666:
 5347 3614 C745C8FF 		movl	$-1, -56(%ebp)
 5347      FFFFFF
2951:str_merge.c   **** 
2952:str_merge.c   ****         while (l < CurrMaxTransStrId - 1)
 5349              	LM667:
 5350              	L333:
 5351 361b 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5351      000000
 5352 3622 48       		decl	%eax
 5353 3623 3945C8   		cmpl	%eax, -56(%ebp)
 5354 3626 7C05     		jl	L335
 5355 3628 E9210900 		jmp	L334
 5355      00
 5356              	L335:
2953:str_merge.c   ****         {
2954:str_merge.c   ****             l++;
 5358              	LM668:
 5359 362d 8D45C8   		leal	-56(%ebp), %eax
 5360 3630 FF00     		incl	(%eax)
2955:str_merge.c   ****             nStrId = StrID[l];
 5362              	LM669:
 5363 3632 8B45C8   		movl	-56(%ebp), %eax
 5364 3635 8D1400   		leal	(%eax,%eax), %edx
 5365 3638 A1180000 		movl	_StrID, %eax
 5365      00
 5366 363d 0FB70410 		movzwl	(%eax,%edx), %eax
 5367 3641 668945B2 		movw	%ax, -78(%ebp)
2956:str_merge.c   **** 
2957:str_merge.c   ****             /* check if ID already found in ref_list.txt, save the result in ref_item_found */
2958:str_merge.c   ****             if (StrLine[nStrId] != 0)
 5369              	LM670:
 5370 3645 0FB745B2 		movzwl	-78(%ebp), %eax
 5371 3649 6683BC00 		cmpw	$0, _StrLine(%eax,%eax)
 5371      D8000000 
 5371      00
 5372 3652 0F848600 		je	L336
 5372      0000
2959:str_merge.c   ****             {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 147


2960:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2961:str_merge.c   ****                 wcscpy(ref_tmp, ref_all + (StrLine[nStrId] - 1) * g_line_buf_act_length);
2962:str_merge.c   **** #else
2963:str_merge.c   ****                 tmp_list_item = GetRefListItem(ref_all_list,(StrLine[nStrId] - 1));
 5374              	LM671:
 5375 3658 0FB745B2 		movzwl	-78(%ebp), %eax
 5376 365c 0FB78400 		movzwl	_StrLine(%eax,%eax), %eax
 5376      D8000000 
 5377 3664 48       		decl	%eax
 5378 3665 89442404 		movl	%eax, 4(%esp)
 5379 3669 A1480000 		movl	_ref_all_list, %eax
 5379      00
 5380 366e 890424   		movl	%eax, (%esp)
 5381 3671 E88E4700 		call	_GetRefListItem
 5381      00
 5382 3676 8945B8   		movl	%eax, -72(%ebp)
2964:str_merge.c   ****                 if(tmp_list_item!=NULL)
 5384              	LM672:
 5385 3679 837DB800 		cmpl	$0, -72(%ebp)
 5386 367d 741F     		je	L337
2965:str_merge.c   ****                 {
2966:str_merge.c   ****                     wcscpy(ref_tmp,tmp_list_item->ItemData );
 5388              	LM673:
 5389 367f 8B45B8   		movl	-72(%ebp), %eax
 5390 3682 8B00     		movl	(%eax), %eax
 5391 3684 89442404 		movl	%eax, 4(%esp)
 5392 3688 A1680000 		movl	_ref_tmp, %eax
 5392      00
 5393 368d 890424   		movl	%eax, (%esp)
 5394 3690 E8000000 		call	_wcscpy
 5394      00
2967:str_merge.c   ****                     ref_item_found = 1;
 5396              	LM674:
 5397 3695 C745BC01 		movl	$1, -68(%ebp)
 5397      000000
 5398 369c EB40     		jmp	L336
 5399              	L337:
2968:str_merge.c   ****                 }
2969:str_merge.c   ****                 else
2970:str_merge.c   ****                 {
2971:str_merge.c   ****                     // Reset the buffer
2972:str_merge.c   ****                     wcscpy(ref_tmp,L"");
 5401              	LM675:
 5402 369e C7442404 		movl	$LC12, 4(%esp)
 5402      460E0000 
 5403 36a6 A1680000 		movl	_ref_tmp, %eax
 5403      00
 5404 36ab 890424   		movl	%eax, (%esp)
 5405 36ae E8000000 		call	_wcscpy
 5405      00
2973:str_merge.c   ****                     STRMERG_LOG_E("No REF item found for String: %d", nStrId);
 5407              	LM676:
 5408 36b3 0FB745B2 		movzwl	-78(%ebp), %eax
 5409 36b7 8944240C 		movl	%eax, 12(%esp)
 5410 36bb C7442408 		movl	$LC57, 8(%esp)
 5410      E02F0000 
 5411 36c3 C7442404 		movl	$LC3, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 148


 5411      4B040000 
 5412 36cb C7042403 		movl	$3, (%esp)
 5412      000000
 5413 36d2 E8000000 		call	_reslog_adaptor_log
 5413      00
2974:str_merge.c   ****                     ref_item_found = 0;
 5415              	LM677:
 5416 36d7 C745BC00 		movl	$0, -68(%ebp)
 5416      000000
 5417              	L336:
2975:str_merge.c   ****                 }
2976:str_merge.c   **** #endif
2977:str_merge.c   ****             }
2978:str_merge.c   **** 
2979:str_merge.c   ****                 if(ref_item_found == 1){
 5419              	LM678:
 5420 36de 837DBC01 		cmpl	$1, -68(%ebp)
 5421 36e2 0F85D800 		jne	L339
 5421      0000
2980:str_merge.c   ****                 tok = wcstok(ref_tmp, DELIMETER);
 5423              	LM679:
 5424 36e8 A1940100 		movl	_DELIMETER, %eax
 5424      00
 5425 36ed 89442404 		movl	%eax, 4(%esp)
 5426 36f1 A1680000 		movl	_ref_tmp, %eax
 5426      00
 5427 36f6 890424   		movl	%eax, (%esp)
 5428 36f9 E8000000 		call	_wcstok
 5428      00
 5429 36fe 8945E0   		movl	%eax, -32(%ebp)
2981:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Module Name */
 5431              	LM680:
 5432 3701 A1940100 		movl	_DELIMETER, %eax
 5432      00
 5433 3706 89442404 		movl	%eax, 4(%esp)
 5434 370a C7042400 		movl	$0, (%esp)
 5434      000000
 5435 3711 E8000000 		call	_wcstok
 5435      00
 5436 3716 8945E0   		movl	%eax, -32(%ebp)
2982:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Max String Length */
 5438              	LM681:
 5439 3719 A1940100 		movl	_DELIMETER, %eax
 5439      00
 5440 371e 89442404 		movl	%eax, 4(%esp)
 5441 3722 C7042400 		movl	$0, (%esp)
 5441      000000
 5442 3729 E8000000 		call	_wcstok
 5442      00
 5443 372e 8945E0   		movl	%eax, -32(%ebp)
2983:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Description */
 5445              	LM682:
 5446 3731 A1940100 		movl	_DELIMETER, %eax
 5446      00
 5447 3736 89442404 		movl	%eax, 4(%esp)
 5448 373a C7042400 		movl	$0, (%esp)
 5448      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 149


 5449 3741 E8000000 		call	_wcstok
 5449      00
 5450 3746 8945E0   		movl	%eax, -32(%ebp)
2984:str_merge.c   ****                 /* change to corresponding language column according to j */
2985:str_merge.c   ****                 for (k = 0; k < j + 1; k++)
 5452              	LM683:
 5453 3749 C745D000 		movl	$0, -48(%ebp)
 5453      000000
 5454              	L340:
 5455 3750 8B45D4   		movl	-44(%ebp), %eax
 5456 3753 40       		incl	%eax
 5457 3754 3945D0   		cmpl	%eax, -48(%ebp)
 5458 3757 7C05     		jl	L343
 5459 3759 E9B60000 		jmp	L346
 5459      00
 5460              	L343:
2986:str_merge.c   ****                 {
2987:str_merge.c   ****                     tok = wcstok(NULL, DELIMETER);
 5462              	LM684:
 5463 375e A1940100 		movl	_DELIMETER, %eax
 5463      00
 5464 3763 89442404 		movl	%eax, 4(%esp)
 5465 3767 C7042400 		movl	$0, (%esp)
 5465      000000
 5466 376e E8000000 		call	_wcstok
 5466      00
 5467 3773 8945E0   		movl	%eax, -32(%ebp)
2988:str_merge.c   ****                     if (k == 0)
 5469              	LM685:
 5470 3776 837DD000 		cmpl	$0, -48(%ebp)
 5471 377a 7506     		jne	L344
2989:str_merge.c   ****                     {
2990:str_merge.c   ****                         tok_eng = tok;
 5473              	LM686:
 5474 377c 8B45E0   		movl	-32(%ebp), %eax
 5475 377f 8945DC   		movl	%eax, -36(%ebp)
 5476              	L344:
2991:str_merge.c   ****                     }
2992:str_merge.c   ****                     /* here possible case for tok to be NULL? */
2993:str_merge.c   **** 
2994:str_merge.c   ****                     if (tok != NULL && tok[wcslen(tok) - 1] == (wchar_t)'\n')
 5478              	LM687:
 5479 3782 837DE000 		cmpl	$0, -32(%ebp)
 5480 3786 7431     		je	L342
 5481 3788 8B45E0   		movl	-32(%ebp), %eax
 5482 378b 890424   		movl	%eax, (%esp)
 5483 378e E8000000 		call	_wcslen
 5483      00
 5484 3793 01C0     		addl	%eax, %eax
 5485 3795 0345E0   		addl	-32(%ebp), %eax
 5486 3798 83E802   		subl	$2, %eax
 5487 379b 6683380A 		cmpw	$10, (%eax)
 5488 379f 7518     		jne	L342
2995:str_merge.c   ****                     {
2996:str_merge.c   ****                         /* remove carriage-return */
2997:str_merge.c   ****                         tok[wcslen(tok) - 2] = '\0';
 5490              	LM688:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 150


 5491 37a1 8B45E0   		movl	-32(%ebp), %eax
 5492 37a4 890424   		movl	%eax, (%esp)
 5493 37a7 E8000000 		call	_wcslen
 5493      00
 5494 37ac 01C0     		addl	%eax, %eax
 5495 37ae 0345E0   		addl	-32(%ebp), %eax
 5496 37b1 83E804   		subl	$4, %eax
 5497 37b4 66C70000 		movw	$0, (%eax)
 5497      00
 5499              	LM689:
 5500              	L342:
 5501 37b9 8D45D0   		leal	-48(%ebp), %eax
 5502 37bc FF00     		incl	(%eax)
 5503 37be EB90     		jmp	L340
 5504              	L339:
2998:str_merge.c   ****                     }
2999:str_merge.c   ****                 }
3000:str_merge.c   ****             }
3001:str_merge.c   ****             else
3002:str_merge.c   ****             {
3003:str_merge.c   ****                 /* no corresponding line in ref_list.txt */
3004:str_merge.c   ****                 // TODO: maybe we do not need to do this because processed this part in MergeStrRes
3005:str_merge.c   ****                 if(fixed_id.fixed_id_flag[nStrId] == TRANSLATE_FLAG)
 5506              	LM690:
 5507 37c0 0FB755B2 		movzwl	-78(%ebp), %edx
 5508 37c4 A1040000 		movl	_fixed_id+4, %eax
 5508      00
 5509 37c9 803C0202 		cmpb	$2, (%edx,%eax)
 5510 37cd 0F8548FE 		jne	L333
 5510      FFFF
3006:str_merge.c   ****                 {
3007:str_merge.c   ****                     strres[LangIndex].MaxID = strres[LangIndex].MaxID - 1;
 5512              	LM691:
 5513 37d3 8B55C4   		movl	-60(%ebp), %edx
 5514 37d6 89D0     		movl	%edx, %eax
 5515 37d8 01C0     		addl	%eax, %eax
 5516 37da 01D0     		addl	%edx, %eax
 5517 37dc 8D0CC500 		leal	0(,%eax,8), %ecx
 5517      000000
 5518 37e3 8B5DE4   		movl	-28(%ebp), %ebx
 5519 37e6 8B55C4   		movl	-60(%ebp), %edx
 5520 37e9 89D0     		movl	%edx, %eax
 5521 37eb 01C0     		addl	%eax, %eax
 5522 37ed 01D0     		addl	%edx, %eax
 5523 37ef 8D14C500 		leal	0(,%eax,8), %edx
 5523      000000
 5524 37f6 8B45E4   		movl	-28(%ebp), %eax
 5525 37f9 8B441008 		movl	8(%eax,%edx), %eax
 5526 37fd 48       		decl	%eax
 5527 37fe 89440B08 		movl	%eax, 8(%ebx,%ecx)
3008:str_merge.c   ****                     fixed_id.fixed_id_flag[nStrId] = NO_TRANSLATE_FLAG;
 5529              	LM692:
 5530 3802 0FB755B2 		movzwl	-78(%ebp), %edx
 5531 3806 A1040000 		movl	_fixed_id+4, %eax
 5531      00
 5532 380b C6040201 		movb	$1, (%edx,%eax)
3009:str_merge.c   ****                 }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 151


3010:str_merge.c   ****                 continue;
 5534              	LM693:
 5535 380f E907FEFF 		jmp	L333
 5535      FF
 5536              	L346:
3011:str_merge.c   ****             }
3012:str_merge.c   **** 
3013:str_merge.c   ****             /* decise if the read-in string is " " (blank) */
3014:str_merge.c   ****             if (tok != NULL && tok[0] == 20 && tok[1] == 0)
 5538              	LM694:
 5539 3814 837DE000 		cmpl	$0, -32(%ebp)
 5540 3818 741C     		je	L348
 5541 381a 8B45E0   		movl	-32(%ebp), %eax
 5542 381d 66833814 		cmpw	$20, (%eax)
 5543 3821 7513     		jne	L348
 5544 3823 8B45E0   		movl	-32(%ebp), %eax
 5545 3826 83C002   		addl	$2, %eax
 5546 3829 66833800 		cmpw	$0, (%eax)
 5547 382d 7507     		jne	L348
3015:str_merge.c   ****                 tok = NULL;
 5549              	LM695:
 5550 382f C745E000 		movl	$0, -32(%ebp)
 5550      000000
 5551              	L348:
3016:str_merge.c   ****             /* handling NULL read-in string, it's Ref is default value -1 */
3017:str_merge.c   ****             if (tok == NULL)
 5553              	LM696:
 5554 3836 837DE000 		cmpl	$0, -32(%ebp)
 5555 383a 7502     		jne	L349
 5556 383c EB31     		jmp	L350
 5557              	L349:
3018:str_merge.c   ****             {
3019:str_merge.c   ****                 /* nothing to be done */
3020:str_merge.c   ****             }
3021:str_merge.c   ****             else if (tok[0] == NO_TRANSLATION_MARKER && tok[1] == 0)
 5559              	LM697:
 5560 383e 8B45E0   		movl	-32(%ebp), %eax
 5561 3841 66833813 		cmpw	$19, (%eax)
 5562 3845 7528     		jne	L350
 5563 3847 8B45E0   		movl	-32(%ebp), %eax
 5564 384a 83C002   		addl	$2, %eax
 5565 384d 66833800 		cmpw	$0, (%eax)
 5566 3851 751C     		jne	L350
3022:str_merge.c   ****             {
3023:str_merge.c   ****                 /* Use English translation in ref_list */
3024:str_merge.c   ****                 if (LangIndex == 0)
 5568              	LM698:
 5569 3853 837DC400 		cmpl	$0, -60(%ebp)
 5570 3857 7510     		jne	L352
3025:str_merge.c   ****                 {
3026:str_merge.c   ****                 /* no translation for current language */
3027:str_merge.c   ****                 tok = (wchar_t *)Str[nStrId];
 5572              	LM699:
 5573 3859 0FB745B2 		movzwl	-78(%ebp), %eax
 5574 385d 8B048500 		movl	_Str(,%eax,4), %eax
 5574      000000
 5575 3864 8945E0   		movl	%eax, -32(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 152


 5576 3867 EB06     		jmp	L350
 5577              	L352:
3028:str_merge.c   ****             }
3029:str_merge.c   ****                 else
3030:str_merge.c   ****                 {
3031:str_merge.c   ****                     tok = (wchar_t *)tok_eng;
 5579              	LM700:
 5580 3869 8B45DC   		movl	-36(%ebp), %eax
 5581 386c 8945E0   		movl	%eax, -32(%ebp)
 5582              	L350:
3032:str_merge.c   ****                 }
3033:str_merge.c   ****             }
3034:str_merge.c   **** 
3035:str_merge.c   ****             if (tok != NULL)
 5584              	LM701:
 5585 386f 837DE000 		cmpl	$0, -32(%ebp)
 5586 3873 0F84A2FD 		je	L333
 5586      FFFF
3036:str_merge.c   ****             {
3037:str_merge.c   ****                 /* transform "\""n" */
3038:str_merge.c   ****                 Trans(tok, tok);
 5588              	LM702:
 5589 3879 8B45E0   		movl	-32(%ebp), %eax
 5590 387c 89442404 		movl	%eax, 4(%esp)
 5591 3880 8B45E0   		movl	-32(%ebp), %eax
 5592 3883 890424   		movl	%eax, (%esp)
 5593 3886 E85EF0FF 		call	_Trans
 5593      FF
3039:str_merge.c   **** 
3040:str_merge.c   ****                 /* calculate hash value */
3041:str_merge.c   ****                 h = GetHashValue(tok, hash_range);
 5595              	LM703:
 5596 388b 8B45C0   		movl	-64(%ebp), %eax
 5597 388e 89442404 		movl	%eax, 4(%esp)
 5598 3892 8B45E0   		movl	-32(%ebp), %eax
 5599 3895 890424   		movl	%eax, (%esp)
 5600 3898 E8B0EFFF 		call	_GetHashValue
 5600      FF
 5601 389d 8945CC   		movl	%eax, -52(%ebp)
3042:str_merge.c   ****                 if (ht[LangIndex][h].pointer == -1)
 5603              	LM704:
 5604 38a0 8B45C4   		movl	-60(%ebp), %eax
 5605 38a3 8D1C8500 		leal	0(,%eax,4), %ebx
 5605      000000
 5606 38aa 8B4DF0   		movl	-16(%ebp), %ecx
 5607 38ad 8B45CC   		movl	-52(%ebp), %eax
 5608 38b0 8D14C500 		leal	0(,%eax,8), %edx
 5608      000000
 5609 38b7 8B0419   		movl	(%ecx,%ebx), %eax
 5610 38ba 833C10FF 		cmpl	$-1, (%eax,%edx)
 5611 38be 0F85AF01 		jne	L355
 5611      0000
3043:str_merge.c   ****                 {
3044:str_merge.c   ****                     /* no duplicate hash value */
3045:str_merge.c   ****                     ht[LangIndex][h].pointer = l;
 5613              	LM705:
 5614 38c4 8B45C4   		movl	-60(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 153


 5615 38c7 8D1C8500 		leal	0(,%eax,4), %ebx
 5615      000000
 5616 38ce 8B55F0   		movl	-16(%ebp), %edx
 5617 38d1 8B45CC   		movl	-52(%ebp), %eax
 5618 38d4 8D0CC500 		leal	0(,%eax,8), %ecx
 5618      000000
 5619 38db 8B141A   		movl	(%edx,%ebx), %edx
 5620 38de 8B45C8   		movl	-56(%ebp), %eax
 5621 38e1 89040A   		movl	%eax, (%edx,%ecx)
3046:str_merge.c   ****                     ht[LangIndex][h].next = NULL;
 5623              	LM706:
 5624 38e4 8B45C4   		movl	-60(%ebp), %eax
 5625 38e7 8D1C8500 		leal	0(,%eax,4), %ebx
 5625      000000
 5626 38ee 8B4DF0   		movl	-16(%ebp), %ecx
 5627 38f1 8B45CC   		movl	-52(%ebp), %eax
 5628 38f4 8D14C500 		leal	0(,%eax,8), %edx
 5628      000000
 5629 38fb 8B0419   		movl	(%ecx,%ebx), %eax
 5630 38fe C7441004 		movl	$0, 4(%eax,%edx)
 5630      00000000 
3047:str_merge.c   ****                     /* check if this is a duplicated string already in other languages */
3048:str_merge.c   ****                     if (!LookupDupStr(strres, strres_dup, LangIndex, l, ht, h, tok))
 5632              	LM707:
 5633 3906 8B45E0   		movl	-32(%ebp), %eax
 5634 3909 89442418 		movl	%eax, 24(%esp)
 5635 390d 8B45CC   		movl	-52(%ebp), %eax
 5636 3910 89442414 		movl	%eax, 20(%esp)
 5637 3914 8B45F0   		movl	-16(%ebp), %eax
 5638 3917 89442410 		movl	%eax, 16(%esp)
 5639 391b 8B45C8   		movl	-56(%ebp), %eax
 5640 391e 8944240C 		movl	%eax, 12(%esp)
 5641 3922 8B45C4   		movl	-60(%ebp), %eax
 5642 3925 89442408 		movl	%eax, 8(%esp)
 5643 3929 8B45B4   		movl	-76(%ebp), %eax
 5644 392c 89442404 		movl	%eax, 4(%esp)
 5645 3930 8B45E4   		movl	-28(%ebp), %eax
 5646 3933 890424   		movl	%eax, (%esp)
 5647 3936 E8C1F1FF 		call	_LookupDupStr
 5647      FF
 5648 393b 85C0     		testl	%eax, %eax
 5649 393d 0F85D8FC 		jne	L333
 5649      FFFF
3049:str_merge.c   ****                     {
3050:str_merge.c   ****                         /* record max offset of each language in byte */
3051:str_merge.c   ****                     strres[LangIndex].Str[i] = (wchar_t *)malloc(wcslen(tok) * 2 + 2);
 5651              	LM708:
 5652 3943 8B55C4   		movl	-60(%ebp), %edx
 5653 3946 89D0     		movl	%edx, %eax
 5654 3948 01C0     		addl	%eax, %eax
 5655 394a 01D0     		addl	%edx, %eax
 5656 394c 8D0CC500 		leal	0(,%eax,8), %ecx
 5656      000000
 5657 3953 8B55E4   		movl	-28(%ebp), %edx
 5658 3956 8B45D8   		movl	-40(%ebp), %eax
 5659 3959 8D1C8500 		leal	0(,%eax,4), %ebx
 5659      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 154


 5660 3960 8B340A   		movl	(%edx,%ecx), %esi
 5661 3963 8B45E0   		movl	-32(%ebp), %eax
 5662 3966 890424   		movl	%eax, (%esp)
 5663 3969 E8000000 		call	_wcslen
 5663      00
 5664 396e 01C0     		addl	%eax, %eax
 5665 3970 83C002   		addl	$2, %eax
 5666 3973 890424   		movl	%eax, (%esp)
 5667 3976 E8000000 		call	_malloc
 5667      00
 5668 397b 89041E   		movl	%eax, (%esi,%ebx)
3052:str_merge.c   ****                     if (strres[LangIndex].Str[i] == NULL) {STRMERG_LOG_E("malloc fail strres[LangIn
 5670              	LM709:
 5671 397e 8B55C4   		movl	-60(%ebp), %edx
 5672 3981 89D0     		movl	%edx, %eax
 5673 3983 01C0     		addl	%eax, %eax
 5674 3985 01D0     		addl	%edx, %eax
 5675 3987 8D1CC500 		leal	0(,%eax,8), %ebx
 5675      000000
 5676 398e 8B4DE4   		movl	-28(%ebp), %ecx
 5677 3991 8B45D8   		movl	-40(%ebp), %eax
 5678 3994 8D148500 		leal	0(,%eax,4), %edx
 5678      000000
 5679 399b 8B0419   		movl	(%ecx,%ebx), %eax
 5680 399e 833C1000 		cmpl	$0, (%eax,%edx)
 5681 39a2 7528     		jne	L357
 5682 39a4 C7442408 		movl	$LC58, 8(%esp)
 5682      20300000 
 5683 39ac C7442404 		movl	$LC3, 4(%esp)
 5683      4B040000 
 5684 39b4 C7042403 		movl	$3, (%esp)
 5684      000000
 5685 39bb E8000000 		call	_reslog_adaptor_log
 5685      00
 5686 39c0 C7042402 		movl	$2, (%esp)
 5686      000000
 5687 39c7 E8000000 		call	_exit
 5687      00
 5688              	L357:
3053:str_merge.c   ****                     wcscpy(strres[LangIndex].Str[i], tok);
 5690              	LM710:
 5691 39cc 8B45E0   		movl	-32(%ebp), %eax
 5692 39cf 89442404 		movl	%eax, 4(%esp)
 5693 39d3 8B55C4   		movl	-60(%ebp), %edx
 5694 39d6 89D0     		movl	%edx, %eax
 5695 39d8 01C0     		addl	%eax, %eax
 5696 39da 01D0     		addl	%edx, %eax
 5697 39dc 8D1CC500 		leal	0(,%eax,8), %ebx
 5697      000000
 5698 39e3 8B4DE4   		movl	-28(%ebp), %ecx
 5699 39e6 8B45D8   		movl	-40(%ebp), %eax
 5700 39e9 8D148500 		leal	0(,%eax,4), %edx
 5700      000000
 5701 39f0 8B0419   		movl	(%ecx,%ebx), %eax
 5702 39f3 8B0410   		movl	(%eax,%edx), %eax
 5703 39f6 890424   		movl	%eax, (%esp)
 5704 39f9 E8000000 		call	_wcscpy
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 155


 5704      00
3054:str_merge.c   ****                     /* insert the string into the list */
3055:str_merge.c   ****                     strres[LangIndex].StrRef[l] = i;
 5706              	LM711:
 5707 39fe 8B55C4   		movl	-60(%ebp), %edx
 5708 3a01 89D0     		movl	%edx, %eax
 5709 3a03 01C0     		addl	%eax, %eax
 5710 3a05 01D0     		addl	%edx, %eax
 5711 3a07 8D1CC500 		leal	0(,%eax,8), %ebx
 5711      000000
 5712 3a0e 8B55E4   		movl	-28(%ebp), %edx
 5713 3a11 8B45C8   		movl	-56(%ebp), %eax
 5714 3a14 8D0C8500 		leal	0(,%eax,4), %ecx
 5714      000000
 5715 3a1b 8B541A04 		movl	4(%edx,%ebx), %edx
 5716 3a1f 8B45D8   		movl	-40(%ebp), %eax
 5717 3a22 89040A   		movl	%eax, (%edx,%ecx)
3056:str_merge.c   ****                         strres[LangIndex].TotalLength += wcslen(tok) * 2 + 2;                      
 5719              	LM712:
 5720 3a25 8B55C4   		movl	-60(%ebp), %edx
 5721 3a28 89D0     		movl	%edx, %eax
 5722 3a2a 01C0     		addl	%eax, %eax
 5723 3a2c 01D0     		addl	%edx, %eax
 5724 3a2e 8D3CC500 		leal	0(,%eax,8), %edi
 5724      000000
 5725 3a35 8B45E4   		movl	-28(%ebp), %eax
 5726 3a38 89459C   		movl	%eax, -100(%ebp)
 5727 3a3b 8B55C4   		movl	-60(%ebp), %edx
 5728 3a3e 89D0     		movl	%edx, %eax
 5729 3a40 01C0     		addl	%eax, %eax
 5730 3a42 01D0     		addl	%edx, %eax
 5731 3a44 8D1CC500 		leal	0(,%eax,8), %ebx
 5731      000000
 5732 3a4b 8B75E4   		movl	-28(%ebp), %esi
 5733 3a4e 8B45E0   		movl	-32(%ebp), %eax
 5734 3a51 890424   		movl	%eax, (%esp)
 5735 3a54 E8000000 		call	_wcslen
 5735      00
 5736 3a59 01C0     		addl	%eax, %eax
 5737 3a5b 03441E14 		addl	20(%esi,%ebx), %eax
 5738 3a5f 83C002   		addl	$2, %eax
 5739 3a62 8B559C   		movl	-100(%ebp), %edx
 5740 3a65 89443A14 		movl	%eax, 20(%edx,%edi)
3057:str_merge.c   ****                     i++;
 5742              	LM713:
 5743 3a69 8D45D8   		leal	-40(%ebp), %eax
 5744 3a6c FF00     		incl	(%eax)
 5745 3a6e E9A8FBFF 		jmp	L333
 5745      FF
 5746              	L355:
3058:str_merge.c   ****                 }
3059:str_merge.c   ****                 }
3060:str_merge.c   ****                 else
3061:str_merge.c   ****                 {
3062:str_merge.c   ****                     /* 
3063:str_merge.c   ****                      * there are duplicate hash value, check if the string 
3064:str_merge.c   ****                      * is really the same with that has the same hash value
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 156


3065:str_merge.c   ****                      */
3066:str_merge.c   ****                     int found = 0, ref_idx;
 5748              	LM714:
 5749              	LBB38:
 5750 3a73 C745AC00 		movl	$0, -84(%ebp)
 5750      000000
3067:str_merge.c   ****                     wchar_t *str;
3068:str_merge.c   ****                     ref_idx = strres[LangIndex].StrRef[ht[LangIndex][h].pointer];
 5752              	LM715:
 5753 3a7a 8B55C4   		movl	-60(%ebp), %edx
 5754 3a7d 89D0     		movl	%edx, %eax
 5755 3a7f 01C0     		addl	%eax, %eax
 5756 3a81 01D0     		addl	%edx, %eax
 5757 3a83 8D34C500 		leal	0(,%eax,8), %esi
 5757      000000
 5758 3a8a 8B7DE4   		movl	-28(%ebp), %edi
 5759 3a8d 8B45C4   		movl	-60(%ebp), %eax
 5760 3a90 8D1C8500 		leal	0(,%eax,4), %ebx
 5760      000000
 5761 3a97 8B4DF0   		movl	-16(%ebp), %ecx
 5762 3a9a 8B45CC   		movl	-52(%ebp), %eax
 5763 3a9d 8D14C500 		leal	0(,%eax,8), %edx
 5763      000000
 5764 3aa4 8B0419   		movl	(%ecx,%ebx), %eax
 5765 3aa7 8B0410   		movl	(%eax,%edx), %eax
 5766 3aaa 8D148500 		leal	0(,%eax,4), %edx
 5766      000000
 5767 3ab1 8B443704 		movl	4(%edi,%esi), %eax
 5768 3ab5 8B0410   		movl	(%eax,%edx), %eax
 5769 3ab8 8945A8   		movl	%eax, -88(%ebp)
3069:str_merge.c   ****                     str = GetStrByRef(strres, strres_dup, LangIndex, ht[LangIndex][h].pointer, ref_
 5771              	LM716:
 5772 3abb 8B45A8   		movl	-88(%ebp), %eax
 5773 3abe 89442410 		movl	%eax, 16(%esp)
 5774 3ac2 8B45C4   		movl	-60(%ebp), %eax
 5775 3ac5 8D1C8500 		leal	0(,%eax,4), %ebx
 5775      000000
 5776 3acc 8B4DF0   		movl	-16(%ebp), %ecx
 5777 3acf 8B45CC   		movl	-52(%ebp), %eax
 5778 3ad2 8D14C500 		leal	0(,%eax,8), %edx
 5778      000000
 5779 3ad9 8B0419   		movl	(%ecx,%ebx), %eax
 5780 3adc 8B0410   		movl	(%eax,%edx), %eax
 5781 3adf 8944240C 		movl	%eax, 12(%esp)
 5782 3ae3 8B45C4   		movl	-60(%ebp), %eax
 5783 3ae6 89442408 		movl	%eax, 8(%esp)
 5784 3aea 8B45B4   		movl	-76(%ebp), %eax
 5785 3aed 89442404 		movl	%eax, 4(%esp)
 5786 3af1 8B45E4   		movl	-28(%ebp), %eax
 5787 3af4 890424   		movl	%eax, (%esp)
 5788 3af7 E894EFFF 		call	_GetStrByRef
 5788      FF
 5789 3afc 8945A4   		movl	%eax, -92(%ebp)
3070:str_merge.c   ****                     if (wcscmp(tok, str) == 0)
 5791              	LM717:
 5792 3aff 8B45A4   		movl	-92(%ebp), %eax
 5793 3b02 89442404 		movl	%eax, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 157


 5794 3b06 8B45E0   		movl	-32(%ebp), %eax
 5795 3b09 890424   		movl	%eax, (%esp)
 5796 3b0c E8000000 		call	_wcscmp
 5796      00
 5797 3b11 85C0     		testl	%eax, %eax
 5798 3b13 0F85F600 		jne	L359
 5798      0000
3071:str_merge.c   ****                     {
3072:str_merge.c   ****                         /* the two string is the same */
3073:str_merge.c   ****                         strres[LangIndex].StrRef[l] = ref_idx;
 5800              	LM718:
 5801 3b19 8B55C4   		movl	-60(%ebp), %edx
 5802 3b1c 89D0     		movl	%edx, %eax
 5803 3b1e 01C0     		addl	%eax, %eax
 5804 3b20 01D0     		addl	%edx, %eax
 5805 3b22 8D1CC500 		leal	0(,%eax,8), %ebx
 5805      000000
 5806 3b29 8B55E4   		movl	-28(%ebp), %edx
 5807 3b2c 8B45C8   		movl	-56(%ebp), %eax
 5808 3b2f 8D0C8500 		leal	0(,%eax,4), %ecx
 5808      000000
 5809 3b36 8B541A04 		movl	4(%edx,%ebx), %edx
 5810 3b3a 8B45A8   		movl	-88(%ebp), %eax
 5811 3b3d 89040A   		movl	%eax, (%edx,%ecx)
3074:str_merge.c   ****                         strres[LangIndex].is_dup[l] = strres[LangIndex].is_dup[ht[LangIndex][h].poi
 5813              	LM719:
 5814 3b40 8B55C4   		movl	-60(%ebp), %edx
 5815 3b43 89D0     		movl	%edx, %eax
 5816 3b45 01C0     		addl	%eax, %eax
 5817 3b47 01D0     		addl	%edx, %eax
 5818 3b49 8D0CC500 		leal	0(,%eax,8), %ecx
 5818      000000
 5819 3b50 8B55E4   		movl	-28(%ebp), %edx
 5820 3b53 8B45C8   		movl	-56(%ebp), %eax
 5821 3b56 8B7C0A10 		movl	16(%edx,%ecx), %edi
 5822 3b5a 01C7     		addl	%eax, %edi
 5823 3b5c 8B55C4   		movl	-60(%ebp), %edx
 5824 3b5f 89D0     		movl	%edx, %eax
 5825 3b61 01C0     		addl	%eax, %eax
 5826 3b63 01D0     		addl	%edx, %eax
 5827 3b65 C1E003   		sall	$3, %eax
 5828 3b68 894598   		movl	%eax, -104(%ebp)
 5829 3b6b 8B75E4   		movl	-28(%ebp), %esi
 5830 3b6e 8B45C4   		movl	-60(%ebp), %eax
 5831 3b71 8D1C8500 		leal	0(,%eax,4), %ebx
 5831      000000
 5832 3b78 8B4DF0   		movl	-16(%ebp), %ecx
 5833 3b7b 8B45CC   		movl	-52(%ebp), %eax
 5834 3b7e 8D14C500 		leal	0(,%eax,8), %edx
 5834      000000
 5835 3b85 8B0419   		movl	(%ecx,%ebx), %eax
 5836 3b88 8B0410   		movl	(%eax,%edx), %eax
 5837 3b8b 8B5598   		movl	-104(%ebp), %edx
 5838 3b8e 03441610 		addl	16(%esi,%edx), %eax
 5839 3b92 0FB600   		movzbl	(%eax), %eax
 5840 3b95 8807     		movb	%al, (%edi)
3075:str_merge.c   ****                         /* put it into linked list anyway */
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 158


3076:str_merge.c   ****                         extra = (struct HashItem *)malloc(sizeof(struct HashItem));
 5842              	LM720:
 5843 3b97 C7042408 		movl	$8, (%esp)
 5843      000000
 5844 3b9e E8000000 		call	_malloc
 5844      00
 5845 3ba3 8945EC   		movl	%eax, -20(%ebp)
3077:str_merge.c   ****                         if (extra == NULL) {STRMERG_LOG_E("malloc fail extra "); exit(2);}
 5847              	LM721:
 5848 3ba6 837DEC00 		cmpl	$0, -20(%ebp)
 5849 3baa 7528     		jne	L360
 5850 3bac C7442408 		movl	$LC59, 8(%esp)
 5850      46300000 
 5851 3bb4 C7442404 		movl	$LC3, 4(%esp)
 5851      4B040000 
 5852 3bbc C7042403 		movl	$3, (%esp)
 5852      000000
 5853 3bc3 E8000000 		call	_reslog_adaptor_log
 5853      00
 5854 3bc8 C7042402 		movl	$2, (%esp)
 5854      000000
 5855 3bcf E8000000 		call	_exit
 5855      00
 5856              	L360:
3078:str_merge.c   ****                         temp = &ht[LangIndex][h];
 5858              	LM722:
 5859 3bd4 8B45C4   		movl	-60(%ebp), %eax
 5860 3bd7 8D0C8500 		leal	0(,%eax,4), %ecx
 5860      000000
 5861 3bde 8B55F0   		movl	-16(%ebp), %edx
 5862 3be1 8B45CC   		movl	-52(%ebp), %eax
 5863 3be4 C1E003   		sall	$3, %eax
 5864 3be7 03040A   		addl	(%edx,%ecx), %eax
 5865 3bea 8945E8   		movl	%eax, -24(%ebp)
3079:str_merge.c   ****                         extra->next = temp->next;
 5867              	LM723:
 5868 3bed 8B55EC   		movl	-20(%ebp), %edx
 5869 3bf0 8B45E8   		movl	-24(%ebp), %eax
 5870 3bf3 8B4004   		movl	4(%eax), %eax
 5871 3bf6 894204   		movl	%eax, 4(%edx)
3080:str_merge.c   ****                         extra->pointer = l;
 5873              	LM724:
 5874 3bf9 8B55EC   		movl	-20(%ebp), %edx
 5875 3bfc 8B45C8   		movl	-56(%ebp), %eax
 5876 3bff 8902     		movl	%eax, (%edx)
3081:str_merge.c   ****                         temp->next = extra;                                                
 5878              	LM725:
 5879 3c01 8B55E8   		movl	-24(%ebp), %edx
 5880 3c04 8B45EC   		movl	-20(%ebp), %eax
 5881 3c07 894204   		movl	%eax, 4(%edx)
3082:str_merge.c   ****                         /* read in next string */
3083:str_merge.c   ****                         continue;
 5883              	LM726:
 5884 3c0a E90CFAFF 		jmp	L333
 5884      FF
 5885              	L359:
3084:str_merge.c   ****                     }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 159


3085:str_merge.c   **** 
3086:str_merge.c   ****                     /* 
3087:str_merge.c   ****                      * although the two strings have the same hash value, 
3088:str_merge.c   ****                      * but they are different
3089:str_merge.c   ****                      * compare the strings in linked list...
3090:str_merge.c   ****                      */
3091:str_merge.c   ****                     temp = &ht[LangIndex][h];
 5887              	LM727:
 5888 3c0f 8B45C4   		movl	-60(%ebp), %eax
 5889 3c12 8D0C8500 		leal	0(,%eax,4), %ecx
 5889      000000
 5890 3c19 8B55F0   		movl	-16(%ebp), %edx
 5891 3c1c 8B45CC   		movl	-52(%ebp), %eax
 5892 3c1f C1E003   		sall	$3, %eax
 5893 3c22 03040A   		addl	(%edx,%ecx), %eax
 5894 3c25 8945E8   		movl	%eax, -24(%ebp)
3092:str_merge.c   ****                     while (temp->next != NULL)
 5896              	LM728:
 5897              	L361:
 5898 3c28 8B45E8   		movl	-24(%ebp), %eax
 5899 3c2b 83780400 		cmpl	$0, 4(%eax)
 5900 3c2f 7505     		jne	L363
 5901 3c31 E93D0100 		jmp	L362
 5901      00
 5902              	L363:
3093:str_merge.c   ****                     {
3094:str_merge.c   ****                         temp = temp->next;
 5904              	LM729:
 5905 3c36 8B45E8   		movl	-24(%ebp), %eax
 5906 3c39 8B4004   		movl	4(%eax), %eax
 5907 3c3c 8945E8   		movl	%eax, -24(%ebp)
3095:str_merge.c   ****                         ref_idx = strres[LangIndex].StrRef[temp->pointer];
 5909              	LM730:
 5910 3c3f 8B55C4   		movl	-60(%ebp), %edx
 5911 3c42 89D0     		movl	%edx, %eax
 5912 3c44 01C0     		addl	%eax, %eax
 5913 3c46 01D0     		addl	%edx, %eax
 5914 3c48 8D1CC500 		leal	0(,%eax,8), %ebx
 5914      000000
 5915 3c4f 8B4DE4   		movl	-28(%ebp), %ecx
 5916 3c52 8B45E8   		movl	-24(%ebp), %eax
 5917 3c55 8B00     		movl	(%eax), %eax
 5918 3c57 8D148500 		leal	0(,%eax,4), %edx
 5918      000000
 5919 3c5e 8B441904 		movl	4(%ecx,%ebx), %eax
 5920 3c62 8B0410   		movl	(%eax,%edx), %eax
 5921 3c65 8945A8   		movl	%eax, -88(%ebp)
3096:str_merge.c   ****                         str = GetStrByRef(strres, strres_dup, LangIndex, temp->pointer, ref_idx);
 5923              	LM731:
 5924 3c68 8B45A8   		movl	-88(%ebp), %eax
 5925 3c6b 89442410 		movl	%eax, 16(%esp)
 5926 3c6f 8B45E8   		movl	-24(%ebp), %eax
 5927 3c72 8B00     		movl	(%eax), %eax
 5928 3c74 8944240C 		movl	%eax, 12(%esp)
 5929 3c78 8B45C4   		movl	-60(%ebp), %eax
 5930 3c7b 89442408 		movl	%eax, 8(%esp)
 5931 3c7f 8B45B4   		movl	-76(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 160


 5932 3c82 89442404 		movl	%eax, 4(%esp)
 5933 3c86 8B45E4   		movl	-28(%ebp), %eax
 5934 3c89 890424   		movl	%eax, (%esp)
 5935 3c8c E8FFEDFF 		call	_GetStrByRef
 5935      FF
 5936 3c91 8945A4   		movl	%eax, -92(%ebp)
3097:str_merge.c   ****                         if (wcscmp(tok, str) == 0)
 5938              	LM732:
 5939 3c94 8B45A4   		movl	-92(%ebp), %eax
 5940 3c97 89442404 		movl	%eax, 4(%esp)
 5941 3c9b 8B45E0   		movl	-32(%ebp), %eax
 5942 3c9e 890424   		movl	%eax, (%esp)
 5943 3ca1 E8000000 		call	_wcscmp
 5943      00
 5944 3ca6 85C0     		testl	%eax, %eax
 5945 3ca8 0F857AFF 		jne	L361
 5945      FFFF
3098:str_merge.c   ****                         {
3099:str_merge.c   ****                             /* find a identical string in linked list, set the flag on */
3100:str_merge.c   ****                             found = 1;
 5947              	LM733:
 5948 3cae C745AC01 		movl	$1, -84(%ebp)
 5948      000000
3101:str_merge.c   ****                             strres[LangIndex].StrRef[l] = ref_idx;
 5950              	LM734:
 5951 3cb5 8B55C4   		movl	-60(%ebp), %edx
 5952 3cb8 89D0     		movl	%edx, %eax
 5953 3cba 01C0     		addl	%eax, %eax
 5954 3cbc 01D0     		addl	%edx, %eax
 5955 3cbe 8D1CC500 		leal	0(,%eax,8), %ebx
 5955      000000
 5956 3cc5 8B55E4   		movl	-28(%ebp), %edx
 5957 3cc8 8B45C8   		movl	-56(%ebp), %eax
 5958 3ccb 8D0C8500 		leal	0(,%eax,4), %ecx
 5958      000000
 5959 3cd2 8B541A04 		movl	4(%edx,%ebx), %edx
 5960 3cd6 8B45A8   		movl	-88(%ebp), %eax
 5961 3cd9 89040A   		movl	%eax, (%edx,%ecx)
3102:str_merge.c   ****                             strres[LangIndex].is_dup[l] = strres[LangIndex].is_dup[temp->pointer];
 5963              	LM735:
 5964 3cdc 8B55C4   		movl	-60(%ebp), %edx
 5965 3cdf 89D0     		movl	%edx, %eax
 5966 3ce1 01C0     		addl	%eax, %eax
 5967 3ce3 01D0     		addl	%edx, %eax
 5968 3ce5 8D0CC500 		leal	0(,%eax,8), %ecx
 5968      000000
 5969 3cec 8B55E4   		movl	-28(%ebp), %edx
 5970 3cef 8B45C8   		movl	-56(%ebp), %eax
 5971 3cf2 8B5C0A10 		movl	16(%edx,%ecx), %ebx
 5972 3cf6 01C3     		addl	%eax, %ebx
 5973 3cf8 8B55C4   		movl	-60(%ebp), %edx
 5974 3cfb 89D0     		movl	%edx, %eax
 5975 3cfd 01C0     		addl	%eax, %eax
 5976 3cff 01D0     		addl	%edx, %eax
 5977 3d01 8D0CC500 		leal	0(,%eax,8), %ecx
 5977      000000
 5978 3d08 8B55E4   		movl	-28(%ebp), %edx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 161


 5979 3d0b 8B45E8   		movl	-24(%ebp), %eax
 5980 3d0e 8B00     		movl	(%eax), %eax
 5981 3d10 03440A10 		addl	16(%edx,%ecx), %eax
 5982 3d14 0FB600   		movzbl	(%eax), %eax
 5983 3d17 8803     		movb	%al, (%ebx)
3103:str_merge.c   ****                             /* put it into linked list anyway */
3104:str_merge.c   ****                             extra = (struct HashItem *)malloc(sizeof(struct HashItem));            
 5985              	LM736:
 5986 3d19 C7042408 		movl	$8, (%esp)
 5986      000000
 5987 3d20 E8000000 		call	_malloc
 5987      00
 5988 3d25 8945EC   		movl	%eax, -20(%ebp)
3105:str_merge.c   ****                             if (extra == NULL) {STRMERG_LOG_E("malloc fail extra "); exit(2);}
 5990              	LM737:
 5991 3d28 837DEC00 		cmpl	$0, -20(%ebp)
 5992 3d2c 7528     		jne	L365
 5993 3d2e C7442408 		movl	$LC59, 8(%esp)
 5993      46300000 
 5994 3d36 C7442404 		movl	$LC3, 4(%esp)
 5994      4B040000 
 5995 3d3e C7042403 		movl	$3, (%esp)
 5995      000000
 5996 3d45 E8000000 		call	_reslog_adaptor_log
 5996      00
 5997 3d4a C7042402 		movl	$2, (%esp)
 5997      000000
 5998 3d51 E8000000 		call	_exit
 5998      00
 5999              	L365:
3106:str_merge.c   ****                             extra->next = temp->next;
 6001              	LM738:
 6002 3d56 8B55EC   		movl	-20(%ebp), %edx
 6003 3d59 8B45E8   		movl	-24(%ebp), %eax
 6004 3d5c 8B4004   		movl	4(%eax), %eax
 6005 3d5f 894204   		movl	%eax, 4(%edx)
3107:str_merge.c   ****                             extra->pointer = l;
 6007              	LM739:
 6008 3d62 8B55EC   		movl	-20(%ebp), %edx
 6009 3d65 8B45C8   		movl	-56(%ebp), %eax
 6010 3d68 8902     		movl	%eax, (%edx)
3108:str_merge.c   ****                             temp->next = extra;                                                    
 6012              	LM740:
 6013 3d6a 8B55E8   		movl	-24(%ebp), %edx
 6014 3d6d 8B45EC   		movl	-20(%ebp), %eax
 6015 3d70 894204   		movl	%eax, 4(%edx)
 6016              	L362:
3109:str_merge.c   ****                             break;
3110:str_merge.c   ****                         }
3111:str_merge.c   ****                     }
3112:str_merge.c   ****                     if (found == 0)
 6018              	LM741:
 6019 3d73 837DAC00 		cmpl	$0, -84(%ebp)
 6020 3d77 0F85C501 		jne	L366
 6020      0000
3113:str_merge.c   ****                     {
3114:str_merge.c   ****                         /* 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 162


3115:str_merge.c   ****                          * the input string is different with all other 
3116:str_merge.c   ****                          * strings in hash table, add the string in linked 
3117:str_merge.c   ****                          * list
3118:str_merge.c   ****                          */
3119:str_merge.c   ****                         extra = (struct HashItem *)malloc(sizeof(struct HashItem));
 6022              	LM742:
 6023 3d7d C7042408 		movl	$8, (%esp)
 6023      000000
 6024 3d84 E8000000 		call	_malloc
 6024      00
 6025 3d89 8945EC   		movl	%eax, -20(%ebp)
3120:str_merge.c   ****                         if (extra == NULL) {STRMERG_LOG_E("malloc fail extra "); exit(2);}
 6027              	LM743:
 6028 3d8c 837DEC00 		cmpl	$0, -20(%ebp)
 6029 3d90 7528     		jne	L367
 6030 3d92 C7442408 		movl	$LC59, 8(%esp)
 6030      46300000 
 6031 3d9a C7442404 		movl	$LC3, 4(%esp)
 6031      4B040000 
 6032 3da2 C7042403 		movl	$3, (%esp)
 6032      000000
 6033 3da9 E8000000 		call	_reslog_adaptor_log
 6033      00
 6034 3dae C7042402 		movl	$2, (%esp)
 6034      000000
 6035 3db5 E8000000 		call	_exit
 6035      00
 6036              	L367:
3121:str_merge.c   ****                         extra->next = NULL;
 6038              	LM744:
 6039 3dba 8B45EC   		movl	-20(%ebp), %eax
 6040 3dbd C7400400 		movl	$0, 4(%eax)
 6040      000000
3122:str_merge.c   ****                         extra->pointer = l;
 6042              	LM745:
 6043 3dc4 8B55EC   		movl	-20(%ebp), %edx
 6044 3dc7 8B45C8   		movl	-56(%ebp), %eax
 6045 3dca 8902     		movl	%eax, (%edx)
3123:str_merge.c   ****                         temp->next = extra;
 6047              	LM746:
 6048 3dcc 8B55E8   		movl	-24(%ebp), %edx
 6049 3dcf 8B45EC   		movl	-20(%ebp), %eax
 6050 3dd2 894204   		movl	%eax, 4(%edx)
3124:str_merge.c   ****                         if (!LookupDupStr(strres, strres_dup, LangIndex, l, ht, h, tok))
 6052              	LM747:
 6053 3dd5 8B45E0   		movl	-32(%ebp), %eax
 6054 3dd8 89442418 		movl	%eax, 24(%esp)
 6055 3ddc 8B45CC   		movl	-52(%ebp), %eax
 6056 3ddf 89442414 		movl	%eax, 20(%esp)
 6057 3de3 8B45F0   		movl	-16(%ebp), %eax
 6058 3de6 89442410 		movl	%eax, 16(%esp)
 6059 3dea 8B45C8   		movl	-56(%ebp), %eax
 6060 3ded 8944240C 		movl	%eax, 12(%esp)
 6061 3df1 8B45C4   		movl	-60(%ebp), %eax
 6062 3df4 89442408 		movl	%eax, 8(%esp)
 6063 3df8 8B45B4   		movl	-76(%ebp), %eax
 6064 3dfb 89442404 		movl	%eax, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 163


 6065 3dff 8B45E4   		movl	-28(%ebp), %eax
 6066 3e02 890424   		movl	%eax, (%esp)
 6067 3e05 E8F2ECFF 		call	_LookupDupStr
 6067      FF
 6068 3e0a 85C0     		testl	%eax, %eax
 6069 3e0c 0F8509F8 		jne	L333
 6069      FFFF
3125:str_merge.c   ****                         { 
3126:str_merge.c   ****                         strres[LangIndex].Str[i] = malloc(wcslen(tok) * 2 + 2);
 6071              	LM748:
 6072 3e12 8B55C4   		movl	-60(%ebp), %edx
 6073 3e15 89D0     		movl	%edx, %eax
 6074 3e17 01C0     		addl	%eax, %eax
 6075 3e19 01D0     		addl	%edx, %eax
 6076 3e1b 8D0CC500 		leal	0(,%eax,8), %ecx
 6076      000000
 6077 3e22 8B55E4   		movl	-28(%ebp), %edx
 6078 3e25 8B45D8   		movl	-40(%ebp), %eax
 6079 3e28 8D1C8500 		leal	0(,%eax,4), %ebx
 6079      000000
 6080 3e2f 8B340A   		movl	(%edx,%ecx), %esi
 6081 3e32 8B45E0   		movl	-32(%ebp), %eax
 6082 3e35 890424   		movl	%eax, (%esp)
 6083 3e38 E8000000 		call	_wcslen
 6083      00
 6084 3e3d 01C0     		addl	%eax, %eax
 6085 3e3f 83C002   		addl	$2, %eax
 6086 3e42 890424   		movl	%eax, (%esp)
 6087 3e45 E8000000 		call	_malloc
 6087      00
 6088 3e4a 89041E   		movl	%eax, (%esi,%ebx)
3127:str_merge.c   ****                         if (strres[LangIndex].Str[i] == NULL) {STRMERG_LOG_E("malloc fail strres[La
 6090              	LM749:
 6091 3e4d 8B55C4   		movl	-60(%ebp), %edx
 6092 3e50 89D0     		movl	%edx, %eax
 6093 3e52 01C0     		addl	%eax, %eax
 6094 3e54 01D0     		addl	%edx, %eax
 6095 3e56 8D1CC500 		leal	0(,%eax,8), %ebx
 6095      000000
 6096 3e5d 8B4DE4   		movl	-28(%ebp), %ecx
 6097 3e60 8B45D8   		movl	-40(%ebp), %eax
 6098 3e63 8D148500 		leal	0(,%eax,4), %edx
 6098      000000
 6099 3e6a 8B0419   		movl	(%ecx,%ebx), %eax
 6100 3e6d 833C1000 		cmpl	$0, (%eax,%edx)
 6101 3e71 7528     		jne	L369
 6102 3e73 C7442408 		movl	$LC58, 8(%esp)
 6102      20300000 
 6103 3e7b C7442404 		movl	$LC3, 4(%esp)
 6103      4B040000 
 6104 3e83 C7042403 		movl	$3, (%esp)
 6104      000000
 6105 3e8a E8000000 		call	_reslog_adaptor_log
 6105      00
 6106 3e8f C7042402 		movl	$2, (%esp)
 6106      000000
 6107 3e96 E8000000 		call	_exit
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 164


 6107      00
 6108              	L369:
3128:str_merge.c   ****                         wcscpy(strres[LangIndex].Str[i], tok);
 6110              	LM750:
 6111 3e9b 8B45E0   		movl	-32(%ebp), %eax
 6112 3e9e 89442404 		movl	%eax, 4(%esp)
 6113 3ea2 8B55C4   		movl	-60(%ebp), %edx
 6114 3ea5 89D0     		movl	%edx, %eax
 6115 3ea7 01C0     		addl	%eax, %eax
 6116 3ea9 01D0     		addl	%edx, %eax
 6117 3eab 8D1CC500 		leal	0(,%eax,8), %ebx
 6117      000000
 6118 3eb2 8B4DE4   		movl	-28(%ebp), %ecx
 6119 3eb5 8B45D8   		movl	-40(%ebp), %eax
 6120 3eb8 8D148500 		leal	0(,%eax,4), %edx
 6120      000000
 6121 3ebf 8B0419   		movl	(%ecx,%ebx), %eax
 6122 3ec2 8B0410   		movl	(%eax,%edx), %eax
 6123 3ec5 890424   		movl	%eax, (%esp)
 6124 3ec8 E8000000 		call	_wcscpy
 6124      00
3129:str_merge.c   ****                         strres[LangIndex].StrRef[l] = i;
 6126              	LM751:
 6127 3ecd 8B55C4   		movl	-60(%ebp), %edx
 6128 3ed0 89D0     		movl	%edx, %eax
 6129 3ed2 01C0     		addl	%eax, %eax
 6130 3ed4 01D0     		addl	%edx, %eax
 6131 3ed6 8D1CC500 		leal	0(,%eax,8), %ebx
 6131      000000
 6132 3edd 8B55E4   		movl	-28(%ebp), %edx
 6133 3ee0 8B45C8   		movl	-56(%ebp), %eax
 6134 3ee3 8D0C8500 		leal	0(,%eax,4), %ecx
 6134      000000
 6135 3eea 8B541A04 		movl	4(%edx,%ebx), %edx
 6136 3eee 8B45D8   		movl	-40(%ebp), %eax
 6137 3ef1 89040A   		movl	%eax, (%edx,%ecx)
3130:str_merge.c   ****                             strres[LangIndex].TotalLength += wcslen(tok) * 2 + 2;
 6139              	LM752:
 6140 3ef4 8B55C4   		movl	-60(%ebp), %edx
 6141 3ef7 89D0     		movl	%edx, %eax
 6142 3ef9 01C0     		addl	%eax, %eax
 6143 3efb 01D0     		addl	%edx, %eax
 6144 3efd 8D3CC500 		leal	0(,%eax,8), %edi
 6144      000000
 6145 3f04 8B45E4   		movl	-28(%ebp), %eax
 6146 3f07 894594   		movl	%eax, -108(%ebp)
 6147 3f0a 8B55C4   		movl	-60(%ebp), %edx
 6148 3f0d 89D0     		movl	%edx, %eax
 6149 3f0f 01C0     		addl	%eax, %eax
 6150 3f11 01D0     		addl	%edx, %eax
 6151 3f13 8D1CC500 		leal	0(,%eax,8), %ebx
 6151      000000
 6152 3f1a 8B75E4   		movl	-28(%ebp), %esi
 6153 3f1d 8B45E0   		movl	-32(%ebp), %eax
 6154 3f20 890424   		movl	%eax, (%esp)
 6155 3f23 E8000000 		call	_wcslen
 6155      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 165


 6156 3f28 01C0     		addl	%eax, %eax
 6157 3f2a 03441E14 		addl	20(%esi,%ebx), %eax
 6158 3f2e 83C002   		addl	$2, %eax
 6159 3f31 8B5594   		movl	-108(%ebp), %edx
 6160 3f34 89443A14 		movl	%eax, 20(%edx,%edi)
3131:str_merge.c   ****                         i++;
 6162              	LM753:
 6163 3f38 8D45D8   		leal	-40(%ebp), %eax
 6164 3f3b FF00     		incl	(%eax)
 6165 3f3d E9D9F6FF 		jmp	L333
 6165      FF
 6166              	L366:
3132:str_merge.c   ****                     }
3133:str_merge.c   ****                     }
3134:str_merge.c   ****                     else
3135:str_merge.c   ****                         found = 0; /* reset the flag */
 6168              	LM754:
 6169 3f42 C745AC00 		movl	$0, -84(%ebp)
 6169      000000
 6170              	LBE38:
 6171 3f49 E9CDF6FF 		jmp	L333
 6171      FF
 6172              	L334:
3136:str_merge.c   ****                 }
3137:str_merge.c   ****             }
3138:str_merge.c   ****         }
3139:str_merge.c   **** 
3140:str_merge.c   ****         strres[LangIndex].MaxID = l + 1;
 6174              	LM755:
 6175 3f4e 8B55C4   		movl	-60(%ebp), %edx
 6176 3f51 89D0     		movl	%edx, %eax
 6177 3f53 01C0     		addl	%eax, %eax
 6178 3f55 01D0     		addl	%edx, %eax
 6179 3f57 8D0CC500 		leal	0(,%eax,8), %ecx
 6179      000000
 6180 3f5e 8B55E4   		movl	-28(%ebp), %edx
 6181 3f61 8B45C8   		movl	-56(%ebp), %eax
 6182 3f64 40       		incl	%eax
 6183 3f65 89440A08 		movl	%eax, 8(%edx,%ecx)
3141:str_merge.c   ****         strres[LangIndex].MaxNum = i;
 6185              	LM756:
 6186 3f69 8B55C4   		movl	-60(%ebp), %edx
 6187 3f6c 89D0     		movl	%edx, %eax
 6188 3f6e 01C0     		addl	%eax, %eax
 6189 3f70 01D0     		addl	%edx, %eax
 6190 3f72 8D0CC500 		leal	0(,%eax,8), %ecx
 6190      000000
 6191 3f79 8B55E4   		movl	-28(%ebp), %edx
 6192 3f7c 8B45D8   		movl	-40(%ebp), %eax
 6193 3f7f 89440A0C 		movl	%eax, 12(%edx,%ecx)
 6195              	LM757:
 6196              	L309:
 6197 3f83 8D45D4   		leal	-44(%ebp), %eax
 6198 3f86 FF00     		incl	(%eax)
 6199 3f88 E9EEF2FF 		jmp	L307
 6199      FF
 6200              	L308:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 166


3142:str_merge.c   ****     }
3143:str_merge.c   ****     result->iLang = mtk_gMaxDeployedLangs;
 6202              	LM758:
 6203 3f8d 8B5508   		movl	8(%ebp), %edx
 6204 3f90 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 6204      000000
 6205 3f97 894208   		movl	%eax, 8(%edx)
3144:str_merge.c   ****     result->strres = strres;
 6207              	LM759:
 6208 3f9a 8B5508   		movl	8(%ebp), %edx
 6209 3f9d 8B45E4   		movl	-28(%ebp), %eax
 6210 3fa0 8902     		movl	%eax, (%edx)
3145:str_merge.c   ****     /* record duplicated string resource */
3146:str_merge.c   ****     result->strres_dup = strres_dup;
 6212              	LM760:
 6213 3fa2 8B5508   		movl	8(%ebp), %edx
 6214 3fa5 8B45B4   		movl	-76(%ebp), %eax
 6215 3fa8 894204   		movl	%eax, 4(%edx)
3147:str_merge.c   **** 
3148:str_merge.c   ****     return CurrMaxTransStrId;
 6217              	LM761:
 6218 3fab 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 6218      000000
3149:str_merge.c   **** }
 6220              	LM762:
 6221 3fb2 83C47C   		addl	$124, %esp
 6222 3fb5 5B       		popl	%ebx
 6223 3fb6 5E       		popl	%esi
 6224 3fb7 5F       		popl	%edi
 6225 3fb8 5D       		popl	%ebp
 6226 3fb9 C3       		ret
 6227              	LBE37:
 6252              	Lscope28:
 6254              	LC61:
 6255 3fba 776200   		.ascii "wb\0"
 6256              	LC62:
 6257 3fbd 2E5C5C64 		.ascii ".\\\\debug\\\\language_usage.txt\0"
 6257      65627567 
 6257      5C5C6C61 
 6257      6E677561 
 6257      67655F75 
 6258              		.align 2
 6259              	LC63:
 6260 3fda 4C004300 		.ascii "L\0C\0C\0\0\0"
 6260      43000000 
 6261              		.align 2
 6262              	LC64:
 6263 3fe2 53005300 		.ascii "S\0S\0C\0\0\0"
 6263      43000000 
 6264              		.align 2
 6265              	LC65:
 6266 3fea 4E006100 		.ascii "N\0a\0m\0e\0\0\0"
 6266      6D006500 
 6266      0000
 6267              		.align 2
 6268              	LC66:
 6269 3ff4 25006C00 		.ascii "%\0l\0s\0\11\0%\0l\0s\0\11\0%\0l\0s\0\12\0\0\0"
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 167


 6269      73000900 
 6269      25006C00 
 6269      73000900 
 6269      25006C00 
 6270 400e 90909090 		.align 32
 6270      90909090 
 6270      90909090 
 6270      90909090 
 6270      9090
 6271              	LC67:
 6272 4020 6F757470 		.ascii "output language_usage.txt done.\12\0"
 6272      7574206C 
 6272      616E6775 
 6272      6167655F 
 6272      75736167 
 6274              	.globl _print_language_usage
 6276              	_print_language_usage:
3150:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3151:str_merge.c   **** 
3152:str_merge.c   **** /*****************************************************************************
3153:str_merge.c   ****  * FUNCTION
3154:str_merge.c   ****  *  GetStrResList
3155:str_merge.c   ****  * DESCRIPTION
3156:str_merge.c   ****  *  Generate a non-duplicate string list from input file, using hash table
3157:str_merge.c   ****  * PARAMETERS
3158:str_merge.c   ****  *  result  [OUT]
3159:str_merge.c   ****  * RETURNS
3160:str_merge.c   ****  *  Return number of all populated string IDs
3161:str_merge.c   ****  *****************************************************************************/
3162:str_merge.c   **** static int GetStrResList(StrResSet *result)
3163:str_merge.c   **** {
3164:str_merge.c   ****     /*----------------------------------------------------------------*/
3165:str_merge.c   ****     /* Local Variables                                                */
3166:str_merge.c   ****     /*----------------------------------------------------------------*/
3167:str_merge.c   ****     struct HashItem **ht = NULL, *extra = NULL, *temp = NULL;
3168:str_merge.c   ****     struct StrRes *strres = NULL;
3169:str_merge.c   ****     wchar_t *tok = NULL;
3170:str_merge.c   ****     wchar_t *tok_eng = NULL;  
3171:str_merge.c   ****     int i = 0, j = 0, k = 0, h = 0, l = 0;
3172:str_merge.c   ****     int LangIndex = 0;
3173:str_merge.c   ****     int hash_range = 0;
3174:str_merge.c   ****     int ref_item_found = 0;
3175:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
3176:str_merge.c   ****     RefListItem * tmp_list_item = NULL;
3177:str_merge.c   **** #endif
3178:str_merge.c   **** 
3179:str_merge.c   ****     U16 nStrId;
3180:str_merge.c   **** 
3181:str_merge.c   ****     /*----------------------------------------------------------------*/
3182:str_merge.c   ****     /* Code Body                                                      */
3183:str_merge.c   ****     /*----------------------------------------------------------------*/
3184:str_merge.c   ****     strres = malloc(sizeof(struct StrRes) * mtk_gMaxDeployedLangs);
3185:str_merge.c   ****     ht = malloc(sizeof(struct HashItem *) * mtk_gMaxDeployedLangs);
3186:str_merge.c   **** 
3187:str_merge.c   ****     mtk_gLanguageFlag = malloc(sizeof(int) * mtk_gMaxDeployedLangs);
3188:str_merge.c   ****     for (h = 0; h < mtk_gMaxDeployedLangs; h++)
3189:str_merge.c   ****     {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 168


3190:str_merge.c   ****         mtk_gLanguageFlag[h] = 0;
3191:str_merge.c   ****     }
3192:str_merge.c   **** 
3193:str_merge.c   ****     for (j = 0; j < nUsedLang; j++)
3194:str_merge.c   ****     {
3195:str_merge.c   ****         wcscpy(ref_tmp, filter_ref_ssc);
3196:str_merge.c   ****         tok = wcstok(ref_tmp, DELIMETER);   /* ENUM */
3197:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* MODULE NAME */
3198:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* MAX LENGTH */
3199:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* DESCRIPTION */
3200:str_merge.c   **** 
3201:str_merge.c   ****         /* change to corresponding language column according to j */
3202:str_merge.c   ****         for (k = 0; k < j + 1; k++)
3203:str_merge.c   ****         {
3204:str_merge.c   ****             tok = wcstok(NULL, DELIMETER);
3205:str_merge.c   ****         }
3206:str_merge.c   ****         ASSERT(tok != NULL);
3207:str_merge.c   ****         LangIndex = ifLanguageUsed(tok);
3208:str_merge.c   **** 
3209:str_merge.c   ****         if (LangIndex < 0) /* the language is not used in font resource */
3210:str_merge.c   ****             continue;
3211:str_merge.c   **** 
3212:str_merge.c   ****         mtk_gLanguageFlag[LangIndex] = 1;
3213:str_merge.c   **** 
3214:str_merge.c   ****         strres[LangIndex].Str = (wchar_t **)malloc(sizeof(wchar_t *) * CurrMaxStringId);
3215:str_merge.c   ****         strres[LangIndex].StrRef = (int *)malloc(sizeof(int) * CurrMaxStringId);
3216:str_merge.c   ****         /* set default value */
3217:str_merge.c   ****         for (l = 0; l < CurrMaxStringId; l++)
3218:str_merge.c   ****         {
3219:str_merge.c   ****             strres[LangIndex].StrRef[l] = -1;
3220:str_merge.c   ****             strres[LangIndex].TotalLength = 0;
3221:str_merge.c   ****         }
3222:str_merge.c   **** 
3223:str_merge.c   ****         /* set hash_range as maximum id times 1.1(Can be changed) */
3224:str_merge.c   ****         hash_range = (int)(CurrMaxStringId * 1.1);
3225:str_merge.c   **** 
3226:str_merge.c   ****         /* initialize hash table */
3227:str_merge.c   ****         ht[LangIndex] = (struct HashItem *)malloc(sizeof(struct HashItem) * hash_range);
3228:str_merge.c   ****         for (k = 0; k < hash_range; k++)
3229:str_merge.c   ****         {
3230:str_merge.c   ****             ht[LangIndex][k].next = NULL;
3231:str_merge.c   ****             ht[LangIndex][k].pointer = -1;
3232:str_merge.c   ****         }
3233:str_merge.c   **** 
3234:str_merge.c   ****         k = 0;
3235:str_merge.c   ****         i = 0;  /* number of Ref(non-duplicate strings, excluding NULL) */
3236:str_merge.c   ****         l = -1; /* number of ID (all strings) */
3237:str_merge.c   **** 
3238:str_merge.c   ****         while (l < CurrMaxStringId - 1)
3239:str_merge.c   ****         {
3240:str_merge.c   ****             l++;
3241:str_merge.c   ****             nStrId = StrID[l];
3242:str_merge.c   **** 
3243:str_merge.c   ****             /* check if ID already found in ref_list.txt */
3244:str_merge.c   ****             if (StrLine[nStrId] != 0)
3245:str_merge.c   ****             {
3246:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 169


3247:str_merge.c   ****                 wcscpy(ref_tmp, ref_all + (StrLine[nStrId] - 1) * g_line_buf_act_length);
3248:str_merge.c   **** #else
3249:str_merge.c   ****                 tmp_list_item = GetRefListItem(ref_all_list,(StrLine[nStrId] - 1));
3250:str_merge.c   ****                 if(tmp_list_item != NULL)
3251:str_merge.c   ****                 {
3252:str_merge.c   ****                     ref_item_found = 1;
3253:str_merge.c   ****                     wcscpy(ref_tmp,tmp_list_item->ItemData );  
3254:str_merge.c   ****                 }else
3255:str_merge.c   ****                 {
3256:str_merge.c   ****                     ref_item_found = 0;
3257:str_merge.c   ****                     STRMERG_LOG_E("No Ref List item for %d: ",nStrId);
3258:str_merge.c   ****                     fflush(stdout);
3259:str_merge.c   ****                     wcscpy(ref_tmp,L""); 
3260:str_merge.c   ****                 }
3261:str_merge.c   **** #endif
3262:str_merge.c   ****             }
3263:str_merge.c   **** 
3264:str_merge.c   ****             if(ref_item_found == 1)
3265:str_merge.c   ****             {
3266:str_merge.c   ****                 tok = wcstok(ref_tmp, DELIMETER);
3267:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Module Name */
3268:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Max String Length */
3269:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Description */
3270:str_merge.c   ****                 /* change to corresponding language column according to j */
3271:str_merge.c   ****                 for (k = 0; k < j + 1; k++)
3272:str_merge.c   ****                 {
3273:str_merge.c   ****                     tok = wcstok(NULL, DELIMETER);
3274:str_merge.c   ****                     if (k == 0)
3275:str_merge.c   ****                     {
3276:str_merge.c   ****                         tok_eng = tok;
3277:str_merge.c   ****                     }
3278:str_merge.c   **** 
3279:str_merge.c   ****                     /* here possible case for tok to be NULL? */
3280:str_merge.c   **** 
3281:str_merge.c   ****                     if (tok != NULL && tok[wcslen(tok) - 1] == (wchar_t)'\n')
3282:str_merge.c   ****                     {
3283:str_merge.c   ****                         /* remove carriage-return */
3284:str_merge.c   ****                         tok[wcslen(tok) - 2] = '\0';
3285:str_merge.c   ****                     }
3286:str_merge.c   ****                 }
3287:str_merge.c   ****             }
3288:str_merge.c   ****             else
3289:str_merge.c   ****             {
3290:str_merge.c   ****                 /* no corresponding line in ref_list.txt */
3291:str_merge.c   ****                 tok = (wchar_t *)Str[nStrId];
3292:str_merge.c   ****             }
3293:str_merge.c   **** 
3294:str_merge.c   ****             /* decise if the read-in string is " " (blank) */
3295:str_merge.c   ****             if (tok != NULL && tok[0] == 20 && tok[1] == 0)
3296:str_merge.c   ****                 tok = NULL;
3297:str_merge.c   ****             /* handling NULL read-in string, it's Ref is default value -1 */
3298:str_merge.c   ****             if (tok == NULL)
3299:str_merge.c   ****             {
3300:str_merge.c   ****                 /* nothing to be done */
3301:str_merge.c   ****             }
3302:str_merge.c   ****             else if (tok[0] == NO_TRANSLATION_MARKER && tok[1] == 0)
3303:str_merge.c   ****             {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 170


3304:str_merge.c   ****                 /* Use English translation in ref_list */
3305:str_merge.c   ****                 if (LangIndex == 0)
3306:str_merge.c   ****                 {
3307:str_merge.c   ****                 /* no translation for current language */
3308:str_merge.c   ****                 tok = (wchar_t *)Str[nStrId];
3309:str_merge.c   ****                 }
3310:str_merge.c   ****                 else
3311:str_merge.c   ****                 {
3312:str_merge.c   ****                     tok = (wchar_t *)tok_eng;
3313:str_merge.c   ****                 }
3314:str_merge.c   **** 
3315:str_merge.c   ****             }
3316:str_merge.c   **** 
3317:str_merge.c   ****             if (tok != NULL)
3318:str_merge.c   ****             {
3319:str_merge.c   ****                 /* transform "\""n" */
3320:str_merge.c   ****                 Trans(tok, tok);
3321:str_merge.c   **** 
3322:str_merge.c   ****                 /* calculate hash value */
3323:str_merge.c   ****                 h = GetHashValue(tok, hash_range);
3324:str_merge.c   ****                 if (ht[LangIndex][h].pointer == -1)
3325:str_merge.c   ****                 {
3326:str_merge.c   ****                     /* no duplicate hash value */
3327:str_merge.c   ****                     ht[LangIndex][h].pointer = i;
3328:str_merge.c   ****                     ht[LangIndex][h].next = NULL;
3329:str_merge.c   ****                     strres[LangIndex].Str[i] = (wchar_t *)malloc(wcslen(tok) * 2 + 2);
3330:str_merge.c   ****                     wcscpy(strres[LangIndex].Str[i], tok);
3331:str_merge.c   ****                     /* insert the string into the list */
3332:str_merge.c   ****                     strres[LangIndex].StrRef[l] = i;
3333:str_merge.c   ****                     strres[LangIndex].TotalLength += wcslen(tok) + 1;
3334:str_merge.c   ****                     i++;
3335:str_merge.c   ****                 }
3336:str_merge.c   ****                 else
3337:str_merge.c   ****                 {
3338:str_merge.c   ****                     /* 
3339:str_merge.c   ****                      * there are duplicate hash value, check if the string 
3340:str_merge.c   ****                      * is really the same with that has the same hash value
3341:str_merge.c   ****                      */
3342:str_merge.c   ****                     int found = 0;
3343:str_merge.c   ****                     if (wcscmp(tok, strres[LangIndex].Str[ht[LangIndex][h].pointer]) == 0)
3344:str_merge.c   ****                     {
3345:str_merge.c   ****                         /* the two string is the same */
3346:str_merge.c   ****                         strres[LangIndex].StrRef[l] = ht[LangIndex][h].pointer;
3347:str_merge.c   ****                         /* read in next string */
3348:str_merge.c   ****                         continue;
3349:str_merge.c   ****                     }
3350:str_merge.c   **** 
3351:str_merge.c   ****                     /* 
3352:str_merge.c   ****                      * although the two strings have the same hash value, 
3353:str_merge.c   ****                      * but they are different
3354:str_merge.c   ****                      * compare the strings in linked list...
3355:str_merge.c   ****                      */
3356:str_merge.c   ****                     temp = &ht[LangIndex][h];
3357:str_merge.c   ****                     while (temp->next != NULL)
3358:str_merge.c   ****                     {
3359:str_merge.c   ****                         temp = temp->next;
3360:str_merge.c   ****                         if (wcscmp(tok, strres[LangIndex].Str[temp->pointer]) == 0)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 171


3361:str_merge.c   ****                         {
3362:str_merge.c   ****                             /* find a identical string in linked list, set the flag on */
3363:str_merge.c   ****                             found = 1;
3364:str_merge.c   ****                             strres[LangIndex].StrRef[l] = temp->pointer;
3365:str_merge.c   ****                             break;
3366:str_merge.c   ****                         }
3367:str_merge.c   ****                     }
3368:str_merge.c   ****                     if (found == 0)
3369:str_merge.c   ****                     {
3370:str_merge.c   ****                         /* 
3371:str_merge.c   ****                          * the input string is different with all other 
3372:str_merge.c   ****                          * strings in hash table, add the string in linked 
3373:str_merge.c   ****                          * list
3374:str_merge.c   ****                          */
3375:str_merge.c   ****                         extra = (struct HashItem *)malloc(sizeof(struct HashItem));
3376:str_merge.c   ****                         extra->next = NULL;
3377:str_merge.c   ****                         extra->pointer = i;
3378:str_merge.c   ****                         temp->next = extra;
3379:str_merge.c   ****                         strres[LangIndex].Str[i] = malloc(wcslen(tok) * 2 + 2);
3380:str_merge.c   ****                         wcscpy(strres[LangIndex].Str[i], tok);
3381:str_merge.c   ****                         strres[LangIndex].StrRef[l] = i;
3382:str_merge.c   ****                         strres[LangIndex].TotalLength += wcslen(tok) + 1;
3383:str_merge.c   ****                         i++;
3384:str_merge.c   ****                     }
3385:str_merge.c   ****                     else
3386:str_merge.c   ****                         found = 0; /* reset the flag */
3387:str_merge.c   ****                 }
3388:str_merge.c   ****             }
3389:str_merge.c   ****         }
3390:str_merge.c   **** 
3391:str_merge.c   ****         strres[LangIndex].MaxID = l + 1;
3392:str_merge.c   ****         strres[LangIndex].MaxNum = i;
3393:str_merge.c   ****     }
3394:str_merge.c   ****     result->iLang = mtk_gMaxDeployedLangs;
3395:str_merge.c   ****     result->strres = strres;
3396:str_merge.c   **** 
3397:str_merge.c   ****     return CurrMaxStringId;
3398:str_merge.c   **** }
3399:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__*/
3400:str_merge.c   **** 
3401:str_merge.c   **** /*****************************************************************************
3402:str_merge.c   ****  * FUNCTION
3403:str_merge.c   ****  *  print_language_usage
3404:str_merge.c   ****  * DESCRIPTION
3405:str_merge.c   ****  *  dump mtk_gLanguageArray to language_usage.txt
3406:str_merge.c   ****  * PARAMETERS
3407:str_merge.c   ****  *  void
3408:str_merge.c   ****  * RETURNS
3409:str_merge.c   ****  *  void
3410:str_merge.c   ****  *****************************************************************************/
3411:str_merge.c   **** void print_language_usage(void)
3412:str_merge.c   **** {
 6278              	LM763:
 6279 4041 55       		pushl	%ebp
 6280 4042 89E5     		movl	%esp, %ebp
 6281 4044 57       		pushl	%edi
 6282 4045 83EC74   		subl	$116, %esp
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 172


3413:str_merge.c   ****     /*----------------------------------------------------------------*/
3414:str_merge.c   ****     /* Local Variables                                                */
3415:str_merge.c   ****     /*----------------------------------------------------------------*/
3416:str_merge.c   ****     FILE *fp = fopen(".\\\\debug\\\\language_usage.txt", "wb");
 6284              	LM764:
 6285              	LBB39:
 6286 4048 C7442404 		movl	$LC61, 4(%esp)
 6286      BA3F0000 
 6287 4050 C70424BD 		movl	$LC62, (%esp)
 6287      3F0000
 6288 4057 E8000000 		call	_fopen
 6288      00
 6289 405c 8945F4   		movl	%eax, -12(%ebp)
3417:str_merge.c   ****     S32 i;
3418:str_merge.c   **** 
3419:str_merge.c   ****     /*----------------------------------------------------------------*/
3420:str_merge.c   ****     /* Code Body                                                      */
3421:str_merge.c   ****     /*----------------------------------------------------------------*/
3422:str_merge.c   ****     if (fp != NULL)
 6291              	LM765:
 6292 405f 837DF400 		cmpl	$0, -12(%ebp)
 6293 4063 0F847601 		je	L371
 6293      0000
3423:str_merge.c   ****     {
3424:str_merge.c   ****         fwprintf(fp, L"%ls\t%ls\t%ls\n", L"Name", L"SSC", L"LCC");
 6295              	LM766:
 6296 4069 C7442410 		movl	$LC63, 16(%esp)
 6296      DA3F0000 
 6297 4071 C744240C 		movl	$LC64, 12(%esp)
 6297      E23F0000 
 6298 4079 C7442408 		movl	$LC65, 8(%esp)
 6298      EA3F0000 
 6299 4081 C7442404 		movl	$LC66, 4(%esp)
 6299      F43F0000 
 6300 4089 8B45F4   		movl	-12(%ebp), %eax
 6301 408c 890424   		movl	%eax, (%esp)
 6302 408f E8000000 		call	_fwprintf
 6302      00
3425:str_merge.c   ****         for (i = 0 ; i < mtk_gMaxDeployedLangs ; i++)
 6304              	LM767:
 6305 4094 C745F000 		movl	$0, -16(%ebp)
 6305      000000
 6306              	L373:
 6307 409b 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 6307      000000
 6308 40a2 3945F0   		cmpl	%eax, -16(%ebp)
 6309 40a5 7C05     		jl	L376
 6310 40a7 E9100100 		jmp	L374
 6310      00
 6311              	L376:
3426:str_merge.c   ****         {
3427:str_merge.c   ****             S8 ssc[SSC_SIZE*2] = {0}, lcc[LCC_SIZE*2] = {0};
 6313              	LM768:
 6314              	LBB40:
 6315 40ac 8D7DC8   		leal	-56(%ebp), %edi
 6316 40af FC       		cld
 6317 40b0 BA000000 		movl	$0, %edx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 173


 6317      00
 6318 40b5 B8050000 		movl	$5, %eax
 6318      00
 6319 40ba 89C1     		movl	%eax, %ecx
 6320 40bc 89D0     		movl	%edx, %eax
 6321 40be F3       		rep
 6322 40bf AB       		stosl
 6323 40c0 8D7DB8   		leal	-72(%ebp), %edi
 6324 40c3 FC       		cld
 6325 40c4 BA000000 		movl	$0, %edx
 6325      00
 6326 40c9 B8040000 		movl	$4, %eax
 6326      00
 6327 40ce 89C1     		movl	%eax, %ecx
 6328 40d0 89D0     		movl	%edx, %eax
 6329 40d2 F3       		rep
 6330 40d3 AB       		stosl
3428:str_merge.c   ****             S32 j;
3429:str_merge.c   **** 
3430:str_merge.c   ****             for (j = 0 ; j < strlen(mtk_gLanguageArray[i].aLangSSC) ; j++)
 6332              	LM769:
 6333 40d4 C745B400 		movl	$0, -76(%ebp)
 6333      000000
 6334              	L377:
 6335 40db 8B55F0   		movl	-16(%ebp), %edx
 6336 40de 89D0     		movl	%edx, %eax
 6337 40e0 C1E005   		sall	$5, %eax
 6338 40e3 29D0     		subl	%edx, %eax
 6339 40e5 01C0     		addl	%eax, %eax
 6340 40e7 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 6340      00
 6341 40ec 890424   		movl	%eax, (%esp)
 6342 40ef E8000000 		call	_strlen
 6342      00
 6343 40f4 3945B4   		cmpl	%eax, -76(%ebp)
 6344 40f7 7202     		jb	L380
 6345 40f9 EB2D     		jmp	L378
 6346              	L380:
3431:str_merge.c   ****                 ssc[2*j] = (mtk_gLanguageArray[i].aLangSSC[j]), ssc[2*j + 1] = 0;
 6348              	LM770:
 6349 40fb 8B4DB4   		movl	-76(%ebp), %ecx
 6350 40fe 8B55F0   		movl	-16(%ebp), %edx
 6351 4101 89D0     		movl	%edx, %eax
 6352 4103 C1E005   		sall	$5, %eax
 6353 4106 29D0     		subl	%edx, %eax
 6354 4108 01C0     		addl	%eax, %eax
 6355 410a 0345B4   		addl	-76(%ebp), %eax
 6356 410d 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 6356      00
 6357 4112 0FB600   		movzbl	(%eax), %eax
 6358 4115 88444DC8 		movb	%al, -56(%ebp,%ecx,2)
 6359 4119 8B45B4   		movl	-76(%ebp), %eax
 6360 411c C64445C9 		movb	$0, -55(%ebp,%eax,2)
 6360      00
 6362              	LM771:
 6363 4121 8D45B4   		leal	-76(%ebp), %eax
 6364 4124 FF00     		incl	(%eax)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 174


 6365 4126 EBB3     		jmp	L377
 6366              	L378:
3432:str_merge.c   ****             for (j = 0 ; j < strlen(mtk_gLanguageArray[i].aLangCountryCode) ; j++)
 6368              	LM772:
 6369 4128 C745B400 		movl	$0, -76(%ebp)
 6369      000000
 6370              	L381:
 6371 412f 8B55F0   		movl	-16(%ebp), %edx
 6372 4132 89D0     		movl	%edx, %eax
 6373 4134 C1E005   		sall	$5, %eax
 6374 4137 29D0     		subl	%edx, %eax
 6375 4139 01C0     		addl	%eax, %eax
 6376 413b 05320000 		addl	$_mtk_gLanguageArray+50, %eax
 6376      00
 6377 4140 890424   		movl	%eax, (%esp)
 6378 4143 E8000000 		call	_strlen
 6378      00
 6379 4148 3945B4   		cmpl	%eax, -76(%ebp)
 6380 414b 7202     		jb	L384
 6381 414d EB2D     		jmp	L382
 6382              	L384:
3433:str_merge.c   ****                 lcc[2*j] = (mtk_gLanguageArray[i].aLangCountryCode[j]), lcc[2*j + 1] = 0;
 6384              	LM773:
 6385 414f 8B4DB4   		movl	-76(%ebp), %ecx
 6386 4152 8B55F0   		movl	-16(%ebp), %edx
 6387 4155 89D0     		movl	%edx, %eax
 6388 4157 C1E005   		sall	$5, %eax
 6389 415a 29D0     		subl	%edx, %eax
 6390 415c 01C0     		addl	%eax, %eax
 6391 415e 0345B4   		addl	-76(%ebp), %eax
 6392 4161 05320000 		addl	$_mtk_gLanguageArray+50, %eax
 6392      00
 6393 4166 0FB600   		movzbl	(%eax), %eax
 6394 4169 88444DB8 		movb	%al, -72(%ebp,%ecx,2)
 6395 416d 8B45B4   		movl	-76(%ebp), %eax
 6396 4170 C64445B9 		movb	$0, -71(%ebp,%eax,2)
 6396      00
 6398              	LM774:
 6399 4175 8D45B4   		leal	-76(%ebp), %eax
 6400 4178 FF00     		incl	(%eax)
 6401 417a EBB3     		jmp	L381
 6402              	L382:
3434:str_merge.c   ****             fwprintf(fp, L"%ls\t%ls\t%ls\n", mtk_gLanguageArray[i].aName, ssc, lcc);
 6404              	LM775:
 6405 417c 8D45B8   		leal	-72(%ebp), %eax
 6406 417f 89442410 		movl	%eax, 16(%esp)
 6407 4183 8D45C8   		leal	-56(%ebp), %eax
 6408 4186 8944240C 		movl	%eax, 12(%esp)
 6409 418a 8B55F0   		movl	-16(%ebp), %edx
 6410 418d 89D0     		movl	%edx, %eax
 6411 418f C1E005   		sall	$5, %eax
 6412 4192 29D0     		subl	%edx, %eax
 6413 4194 01C0     		addl	%eax, %eax
 6414 4196 05000000 		addl	$_mtk_gLanguageArray, %eax
 6414      00
 6415 419b 89442408 		movl	%eax, 8(%esp)
 6416 419f C7442404 		movl	$LC66, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 175


 6416      F43F0000 
 6417 41a7 8B45F4   		movl	-12(%ebp), %eax
 6418 41aa 890424   		movl	%eax, (%esp)
 6419 41ad E8000000 		call	_fwprintf
 6419      00
 6421              	LM776:
 6422 41b2 8D45F0   		leal	-16(%ebp), %eax
 6423              	LBE40:
 6424 41b5 FF00     		incl	(%eax)
 6425 41b7 E9DFFEFF 		jmp	L373
 6425      FF
 6426              	L374:
3435:str_merge.c   ****         }
3436:str_merge.c   ****         fclose(fp);
 6428              	LM777:
 6429 41bc 8B45F4   		movl	-12(%ebp), %eax
 6430 41bf 890424   		movl	%eax, (%esp)
 6431 41c2 E8000000 		call	_fclose
 6431      00
3437:str_merge.c   **** 
3438:str_merge.c   ****         fprintf(stderr, "output language_usage.txt done.\n");
 6433              	LM778:
 6434 41c7 C7442404 		movl	$LC67, 4(%esp)
 6434      20400000 
 6435 41cf A1000000 		movl	__imp___iob, %eax
 6435      00
 6436 41d4 83C040   		addl	$64, %eax
 6437 41d7 890424   		movl	%eax, (%esp)
 6438 41da E8000000 		call	_fprintf
 6438      00
3439:str_merge.c   ****     }
3440:str_merge.c   **** }
 6440              	LM779:
 6441              	L371:
 6442 41df 83C474   		addl	$116, %esp
 6443 41e2 5F       		popl	%edi
 6444 41e3 5D       		popl	%ebp
 6445 41e4 C3       		ret
 6446              	LBE39:
 6456              	Lscope29:
 6458              	LC68:
 6459 41e5 0900     		.ascii "\11\0"
 6465              	_GetItemAsc:
3441:str_merge.c   **** 
3442:str_merge.c   **** 
3443:str_merge.c   **** /*****************************************************************************
3444:str_merge.c   ****  * FUNCTION
3445:str_merge.c   **** *  GetItemAsc
3446:str_merge.c   **** * DESCRIPTION
3447:str_merge.c   **** *  Get token between index and index+1 DELIMETER
3448:str_merge.c   **** * PARAMETERS
3449:str_merge.c   **** *  string  [IN]
3450:str_merge.c   **** *  index   [IN]
3451:str_merge.c   **** *  buf     [OUT]
3452:str_merge.c   **** * RETURNS
3453:str_merge.c   **** *  void
3454:str_merge.c   **** *****************************************************************************/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 176


3455:str_merge.c   **** static void GetItemAsc(char *string, int index, char *buf)
3456:str_merge.c   **** {
 6467              	LM780:
 6468 41e7 55       		pushl	%ebp
 6469 41e8 89E5     		movl	%esp, %ebp
 6470 41ea 83EC18   		subl	$24, %esp
3457:str_merge.c   ****     /*----------------------------------------------------------------*/
3458:str_merge.c   ****     /* Local Variables                                                */
3459:str_merge.c   ****     /*----------------------------------------------------------------*/
3460:str_merge.c   ****     char *p1 = string;
 6472              	LM781:
 6473              	LBB41:
 6474 41ed 8B4508   		movl	8(%ebp), %eax
 6475 41f0 8945FC   		movl	%eax, -4(%ebp)
3461:str_merge.c   ****     char *p2 = strstr(string, "\t");
 6477              	LM782:
 6478 41f3 C7442404 		movl	$LC68, 4(%esp)
 6478      E5410000 
 6479 41fb 8B4508   		movl	8(%ebp), %eax
 6480 41fe 890424   		movl	%eax, (%esp)
 6481 4201 E8000000 		call	_strstr
 6481      00
 6482 4206 8945F8   		movl	%eax, -8(%ebp)
3462:str_merge.c   ****     int n = p2 - p1;
 6484              	LM783:
 6485 4209 8B55FC   		movl	-4(%ebp), %edx
 6486 420c 8B45F8   		movl	-8(%ebp), %eax
 6487 420f 29D0     		subl	%edx, %eax
 6488 4211 8945F4   		movl	%eax, -12(%ebp)
3463:str_merge.c   ****     
3464:str_merge.c   ****     /*----------------------------------------------------------------*/
3465:str_merge.c   ****     /* Code Body                                                      */
3466:str_merge.c   ****     /*----------------------------------------------------------------*/
3467:str_merge.c   ****     ASSERT(p2 != NULL);
 6490              	LM784:
 6491 4214 837DF800 		cmpl	$0, -8(%ebp)
 6492 4218 7502     		jne	L390
 6493              	L387:
 6494 421a EBFE     		jmp	L387
 6495              	L390:
 6496 421c 90       		nop
3468:str_merge.c   **** 
3469:str_merge.c   ****     while (index > 0)
 6498              	LM785:
 6499              	L391:
 6500 421d 837D0C00 		cmpl	$0, 12(%ebp)
 6501 4221 7F02     		jg	L393
 6502 4223 EB33     		jmp	L392
 6503              	L393:
3470:str_merge.c   ****     {
3471:str_merge.c   ****         p1 = p2 + 1;
 6505              	LM786:
 6506 4225 8B45F8   		movl	-8(%ebp), %eax
 6507 4228 40       		incl	%eax
 6508 4229 8945FC   		movl	%eax, -4(%ebp)
3472:str_merge.c   ****         p2 = strstr(p1, "\t");
 6510              	LM787:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 177


 6511 422c C7442404 		movl	$LC68, 4(%esp)
 6511      E5410000 
 6512 4234 8B45FC   		movl	-4(%ebp), %eax
 6513 4237 890424   		movl	%eax, (%esp)
 6514 423a E8000000 		call	_strstr
 6514      00
 6515 423f 8945F8   		movl	%eax, -8(%ebp)
3473:str_merge.c   ****         n = p2 - p1;
 6517              	LM788:
 6518 4242 8B55FC   		movl	-4(%ebp), %edx
 6519 4245 8B45F8   		movl	-8(%ebp), %eax
 6520 4248 29D0     		subl	%edx, %eax
 6521 424a 8945F4   		movl	%eax, -12(%ebp)
3474:str_merge.c   ****         index--;
 6523              	LM789:
 6524 424d 8D450C   		leal	12(%ebp), %eax
 6525 4250 FF08     		decl	(%eax)
3475:str_merge.c   ****         if (p2 == NULL)
 6527              	LM790:
 6528 4252 837DF800 		cmpl	$0, -8(%ebp)
 6529 4256 75C5     		jne	L391
 6530              	L392:
3476:str_merge.c   ****             break;
3477:str_merge.c   ****     }
3478:str_merge.c   ****     
3479:str_merge.c   ****     if (index > 0)
 6532              	LM791:
 6533 4258 837D0C00 		cmpl	$0, 12(%ebp)
 6534 425c 7E08     		jle	L395
3480:str_merge.c   ****     {
3481:str_merge.c   ****         buf[0] = '\0';
 6536              	LM792:
 6537 425e 8B4510   		movl	16(%ebp), %eax
 6538 4261 C60000   		movb	$0, (%eax)
 6539 4264 EB32     		jmp	L385
 6540              	L395:
3482:str_merge.c   ****     }
3483:str_merge.c   ****     else if (p2 == NULL)
 6542              	LM793:
 6543 4266 837DF800 		cmpl	$0, -8(%ebp)
 6544 426a 7502     		jne	L397
 6545 426c EB2A     		jmp	L385
 6546              	L397:
3484:str_merge.c   ****     {
3485:str_merge.c   ****         /*
3486:str_merge.c   ****         strcpy(buf, p1);
3487:str_merge.c   ****         n = strstr(p1, "\n") - p1;
3488:str_merge.c   ****         buf[n] = '\0';
3489:str_merge.c   ****         */
3490:str_merge.c   ****     }
3491:str_merge.c   ****     else
3492:str_merge.c   ****     {
3493:str_merge.c   ****         ASSERT(p1 != NULL);
 6548              	LM794:
 6549 426e 837DFC00 		cmpl	$0, -4(%ebp)
 6550 4272 7502     		jne	L403
 6551              	L400:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 178


 6552 4274 EBFE     		jmp	L400
 6553              	L403:
3494:str_merge.c   ****         strncpy(buf, p1, n);
 6555              	LM795:
 6556 4276 8B45F4   		movl	-12(%ebp), %eax
 6557 4279 89442408 		movl	%eax, 8(%esp)
 6558 427d 8B45FC   		movl	-4(%ebp), %eax
 6559 4280 89442404 		movl	%eax, 4(%esp)
 6560 4284 8B4510   		movl	16(%ebp), %eax
 6561 4287 890424   		movl	%eax, (%esp)
 6562 428a E8000000 		call	_strncpy
 6562      00
3495:str_merge.c   ****         buf[n] = '\0';
 6564              	LM796:
 6565 428f 8B45F4   		movl	-12(%ebp), %eax
 6566 4292 034510   		addl	16(%ebp), %eax
 6567 4295 C60000   		movb	$0, (%eax)
3496:str_merge.c   ****     }
3497:str_merge.c   **** }
 6569              	LM797:
 6570              	L385:
 6571 4298 C9       		leave
 6572 4299 C3       		ret
 6573              	LBE41:
 6579              	Lscope30:
 6585              	_append_cat_padding_bytes:
3498:str_merge.c   **** 
3499:str_merge.c   **** // Add margin size only when __CAT_SUPPORT__ is defined
3500:str_merge.c   **** static void append_cat_padding_bytes(FILE * file, long originalElementNumber){
 6587              	LM798:
 6588 429a 55       		pushl	%ebp
 6589 429b 89E5     		movl	%esp, %ebp
 6591              	LM799:
 6592 429d 5D       		popl	%ebp
 6593 429e C3       		ret
 6594              	Lscope31:
 6596              	LC69:
 6597 429f 30782530 		.ascii "0x%02X, \0"
 6597      32582C20 
 6597      00
 6603              	.globl _str_add_pedding_bytes
 6605              	_str_add_pedding_bytes:
3501:str_merge.c   **** #if defined(__CAT_SUPPORT__) && defined (MMIRESOURCE_CAT_STR_COMPRESS_RESERVED_MARGIN_SIZE_BYTE) &&
3502:str_merge.c   ****     str_add_pedding_bytes(file, 0xFF, MMIRESOURCE_CAT_STR_COMPRESS_RESERVED_MARGIN_SIZE_BYTE, origi
3503:str_merge.c   **** #endif //CAT_STR_COMPRESS_MARGIN_SIZE
3504:str_merge.c   **** }
3505:str_merge.c   **** 
3506:str_merge.c   **** void str_add_pedding_bytes(FILE * file, int peddingValue, int peddingSize, long originalElementNumb
 6607              	LM800:
 6608 42a8 55       		pushl	%ebp
 6609 42a9 89E5     		movl	%esp, %ebp
 6610 42ab 83EC28   		subl	$40, %esp
3507:str_merge.c   ****     int z = 0;
 6612              	LM801:
 6613              	LBB42:
 6614 42ae C745FC00 		movl	$0, -4(%ebp)
 6614      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 179


3508:str_merge.c   ****     int formattingOffset = originalElementNumber %16;
 6616              	LM802:
 6617 42b5 8B4514   		movl	20(%ebp), %eax
 6618 42b8 8945F4   		movl	%eax, -12(%ebp)
 6619 42bb 8B55F4   		movl	-12(%ebp), %edx
 6620 42be 8955F0   		movl	%edx, -16(%ebp)
 6621 42c1 837DF000 		cmpl	$0, -16(%ebp)
 6622 42c5 7904     		jns	L406
 6623 42c7 8345F00F 		addl	$15, -16(%ebp)
 6624              	L406:
 6625 42cb 8B45F0   		movl	-16(%ebp), %eax
 6626 42ce C1F804   		sarl	$4, %eax
 6627 42d1 C1E004   		sall	$4, %eax
 6628 42d4 8B55F4   		movl	-12(%ebp), %edx
 6629 42d7 29C2     		subl	%eax, %edx
 6630 42d9 89D0     		movl	%edx, %eax
 6631 42db 8945F8   		movl	%eax, -8(%ebp)
3509:str_merge.c   ****     fprintf(file, "\n");
 6633              	LM803:
 6634 42de C7442404 		movl	$LC34, 4(%esp)
 6634      30160000 
 6635 42e6 8B4508   		movl	8(%ebp), %eax
 6636 42e9 890424   		movl	%eax, (%esp)
 6637 42ec E8000000 		call	_fprintf
 6637      00
3510:str_merge.c   ****     for (z = 0; z < peddingSize; z++)
 6639              	LM804:
 6640 42f1 C745FC00 		movl	$0, -4(%ebp)
 6640      000000
 6641              	L407:
 6642 42f8 8B45FC   		movl	-4(%ebp), %eax
 6643 42fb 3B4510   		cmpl	16(%ebp), %eax
 6644 42fe 7C02     		jl	L410
 6645 4300 EB3F     		jmp	L405
 6646              	L410:
3511:str_merge.c   ****     {
3512:str_merge.c   ****       fprintf(file, "0x%02X, ", peddingValue);
 6648              	LM805:
 6649 4302 8B450C   		movl	12(%ebp), %eax
 6650 4305 89442408 		movl	%eax, 8(%esp)
 6651 4309 C7442404 		movl	$LC69, 4(%esp)
 6651      9F420000 
 6652 4311 8B4508   		movl	8(%ebp), %eax
 6653 4314 890424   		movl	%eax, (%esp)
 6654 4317 E8000000 		call	_fprintf
 6654      00
3513:str_merge.c   ****       if ((z+1)%16 == 0)
 6656              	LM806:
 6657 431c 8B45FC   		movl	-4(%ebp), %eax
 6658 431f 40       		incl	%eax
 6659 4320 83E00F   		andl	$15, %eax
 6660 4323 85C0     		testl	%eax, %eax
 6661 4325 7513     		jne	L409
3514:str_merge.c   ****       {
3515:str_merge.c   ****         fprintf(file, "\n");
 6663              	LM807:
 6664 4327 C7442404 		movl	$LC34, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 180


 6664      30160000 
 6665 432f 8B4508   		movl	8(%ebp), %eax
 6666 4332 890424   		movl	%eax, (%esp)
 6667 4335 E8000000 		call	_fprintf
 6667      00
 6669              	LM808:
 6670              	L409:
 6671 433a 8D45FC   		leal	-4(%ebp), %eax
 6672 433d FF00     		incl	(%eax)
 6673 433f EBB7     		jmp	L407
3516:str_merge.c   ****       }
3517:str_merge.c   ****     }
3518:str_merge.c   **** 
3519:str_merge.c   **** }
 6675              	LM809:
 6676              	L405:
 6677 4341 C9       		leave
 6678 4342 C3       		ret
 6679              	LBE42:
 6684              	Lscope32:
 6686 4343 90909090 		.align 32
 6686      90909090 
 6686      90909090 
 6686      90909090 
 6686      90909090 
 6687              	LC70:
 6688 4360 5B4D454D 		.ascii "[MEM]Free ref_all_list: (%lu) bytes \0"
 6688      5D467265 
 6688      65207265 
 6688      665F616C 
 6688      6C5F6C69 
 6689 4385 90909090 		.align 32
 6689      90909090 
 6689      90909090 
 6689      90909090 
 6689      90909090 
 6690              	LC71:
 6691 43a0 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustStrRes.c\0"
 6691      2E5C4375 
 6691      73746F6D 
 6691      65725C43 
 6691      75737452 
 6692 43c9 90909090 		.align 32
 6692      90909090 
 6692      90909090 
 6692      90909090 
 6692      90909090 
 6693              	LC72:
 6694 43e0 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustStrMap.c\0"
 6694      2E5C4375 
 6694      73746F6D 
 6694      65725C43 
 6694      75737452 
 6695 4409 90909090 		.align 32
 6695      90909090 
 6695      90909090 
 6695      90909090 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 181


 6695      90909090 
 6696              	LC73:
 6697 4420 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustStrResMeta.txt\0"
 6697      2E5C4375 
 6697      73746F6D 
 6697      65725C43 
 6697      75737452 
 6698 444f 90909090 		.align 32
 6698      90909090 
 6698      90909090 
 6698      90909090 
 6698      90
 6699              	LC74:
 6700 4460 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustStrMapMeta.txt\0"
 6700      2E5C4375 
 6700      73746F6D 
 6700      65725C43 
 6700      75737452 
 6701 448f 90909090 		.align 32
 6701      90909090 
 6701      90909090 
 6701      90909090 
 6701      90
 6702              	LC75:
 6703 44a0 666F7574 		.ascii "fout_res or fout_map open error (%d)(%d) ...!\0"
 6703      5F726573 
 6703      206F7220 
 6703      666F7574 
 6703      5F6D6170 
 6704              	LC76:
 6705 44ce 23696E63 		.ascii "#include \"mmi_features.h\"\12\0"
 6705      6C756465 
 6705      20226D6D 
 6705      695F6665 
 6705      61747572 
 6706 44e9 90909090 		.align 32
 6706      90909090 
 6706      90909090 
 6706      90909090 
 6706      90909090 
 6707              	LC77:
 6708 4500 23696E63 		.ascii "#include \"CompressResUtil.h\"\12\12\12\0"
 6708      6C756465 
 6708      2022436F 
 6708      6D707265 
 6708      73735265 
 6709              	LC78:
 6710 4520 23696E63 		.ascii "#include \"CustDataRes.h\"\12\0"
 6710      6C756465 
 6710      20224375 
 6710      73744461 
 6710      74615265 
 6711              	LC79:
 6712 453a 23696E63 		.ascii "#include \"FontDCl.h\"\12\12\12\0"
 6712      6C756465 
 6712      2022466F 
 6712      6E744443 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 182


 6712      6C2E6822 
 6713 4552 8DB42600 		.align 32
 6713      0000008D 
 6713      BC270000 
 6713      0000
 6714              	LC80:
 6715 4560 23696620 		.ascii "#if (!defined (__MTK_TARGET__))\12\11#define __align(x)\12#endif\12\12\12\0"
 6715      28216465 
 6715      66696E65 
 6715      6420285F 
 6715      5F4D544B 
 6716 459e 89F6     		.align 32
 6717              	LC81:
 6718 45a0 23696620 		.ascii "#if !defined(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !defined(__MMI_RESOURCE_STR_THIRD_ROM_
 6718      21646566 
 6718      696E6564 
 6718      285F5F4D 
 6718      4D495F52 
 6719 45fe 89F6     		.align 32
 6720              	LC82:
 6721 4600 5B4D454D 		.ascii "[MEM]StrRes_Dup: Started fout_res output\0"
 6721      5D537472 
 6721      5265735F 
 6721      4475703A 
 6721      20537461 
 6722 4629 90909090 		.align 32
 6722      90909090 
 6722      90909090 
 6722      90909090 
 6722      90909090 
 6723              	LC83:
 6724 4640 5F5F616C 		.ascii "__align(4) const CUSTOM_STRING StrRes_Dup[] = {\12\0"
 6724      69676E28 
 6724      34292063 
 6724      6F6E7374 
 6724      20435553 
 6725 4671 EB0D9090 		.align 32
 6725      90909090 
 6725      90909090 
 6725      909090
 6726              	LC84:
 6727 4680 23232323 		.ascii "########################################################\12\0"
 6727      23232323 
 6727      23232323 
 6727      23232323 
 6727      23232323 
 6728              	LC85:
 6729 46ba 54595045 		.ascii "TYPE: RES\12\0"
 6729      3A205245 
 6729      530A00
 6730              	LC86:
 6731 46c5 4C414E47 		.ascii "LANG: DUP\12\0"
 6731      3A204455 
 6731      500A00
 6732              	LC87:
 6733 46d0 4D41584E 		.ascii "MAXNUM: %d\12\0"
 6733      554D3A20 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 183


 6733      25640A00 
 6734              	LC88:
 6735 46dc 4D415849 		.ascii "MAXID: %d\12\0"
 6735      443A2025 
 6735      640A00
 6736 46e7 90909090 		.align 32
 6736      90909090 
 6736      90909090 
 6736      90909090 
 6736      90909090 
 6737              	LC89:
 6738 4700 44415441 		.ascii "DATA:\12__align(4) const CUSTOM_STRING StrRes_Dup[] = {\12\0"
 6738      3A0A5F5F 
 6738      616C6967 
 6738      6E283429 
 6738      20636F6E 
 6739              	LC90:
 6740 4737 30783030 		.ascii "0x00, 0x00,\12\0"
 6740      2C203078 
 6740      30302C0A 
 6740      00
 6741              	LC91:
 6742 4744 30782558 		.ascii "0x%X, \0"
 6742      2C2000
 6743              	LC92:
 6744 474b 7D3B0A00 		.ascii "};\12\0"
 6745 474f 90909090 		.align 32
 6745      90909090 
 6745      90909090 
 6745      90909090 
 6745      90
 6746              	LC93:
 6747 4760 5B4D454D 		.ascii "[MEM]StrRes_Dup: Finished fout_res output\0"
 6747      5D537472 
 6747      5265735F 
 6747      4475703A 
 6747      2046696E 
 6748 478a 90909090 		.align 32
 6748      90909090 
 6748      90909090 
 6748      90909090 
 6748      90909090 
 6749              	LC94:
 6750 47a0 5B4D454D 		.ascii "[MEM]MAX Total length of each language: %d \0"
 6750      5D4D4158 
 6750      20546F74 
 6750      616C206C 
 6750      656E6774 
 6751 47cc 90909090 		.align 32
 6751      90909090 
 6751      90909090 
 6751      90909090 
 6751      90909090 
 6752              	LC95:
 6753 47e0 44006500 		.ascii "D\0e\0p\0l\0o\0y\0e\0d\0 \0l\0a\0n\0g\0u\0a\0g\0e\0s\0 \0n\0o\0t\0 \0f\0o\0u\0n\0d\0 \0i\0
 6753      70006C00 
 6753      6F007900 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 184


 6753      65006400 
 6753      20006C00 
 6754 4856 8D76008D 		.align 32
 6754      BC270000 
 6754      0000
 6755              	LC96:
 6756 4860 5B4D454D 		.ascii "[MEM]Please provide translated strings of %s in ref_list.txt !!!\0"
 6756      5D506C65 
 6756      61736520 
 6756      70726F76 
 6756      69646520 
 6757 48a1 90909090 		.align 32
 6757      90909090 
 6757      90909090 
 6757      90909090 
 6757      90909090 
 6758              	LC97:
 6759 48c0 5F5F616C 		.ascii "__align(4) const CUSTOM_STRING StrRes_%d[] = {\12\0"
 6759      69676E28 
 6759      34292063 
 6759      6F6E7374 
 6759      20435553 
 6760              	LC98:
 6761 48f0 4C414E47 		.ascii "LANG: %d\12\0"
 6761      3A202564 
 6761      0A00
 6762              	LC99:
 6763 48fa 44415441 		.ascii "DATA:\12\0"
 6763      3A0A00
 6764              	LC100:
 6765 4901 54595045 		.ascii "TYPE: MAP\12\0"
 6765      3A204D41 
 6765      500A00
 6766 490c 90909090 		.align 32
 6766      90909090 
 6766      90909090 
 6766      90909090 
 6766      90909090 
 6767              	LC101:
 6768 4920 5F5F616C 		.ascii "__align(4) const CUSTOM_STRING_MAP_16 StrMap_%d[] = {\12\0"
 6768      69676E28 
 6768      34292063 
 6768      6F6E7374 
 6768      20435553 
 6769              	LC102:
 6770 4957 4249545F 		.ascii "BIT_MODE: 16\12\0"
 6770      4D4F4445 
 6770      3A203136 
 6770      0A00
 6771 4965 90909090 		.align 32
 6771      90909090 
 6771      90909090 
 6771      90909090 
 6771      90909090 
 6772              	LC103:
 6773 4980 636F6E73 		.ascii "const CUSTOM_STRING_MAP StrMap_%d[] = {\12\0"
 6773      74204355 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 185


 6773      53544F4D 
 6773      5F535452 
 6773      494E475F 
 6774              	LC104:
 6775 49a9 4249545F 		.ascii "BIT_MODE: 32\12\0"
 6775      4D4F4445 
 6775      3A203332 
 6775      0A00
 6776              	LC105:
 6777 49b7 09256C64 		.ascii "\11%ld,\12\0"
 6777      2C0A00
 6778 49be 89F6     		.align 32
 6779              	LC106:
 6780 49c0 65787465 		.ascii "extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\12\12\0"
 6780      726E2063 
 6780      6F6E7374 
 6780      20435553 
 6780      544F4D5F 
 6781 49f1 EB0D9090 		.align 32
 6781      90909090 
 6781      90909090 
 6781      909090
 6782              	LC107:
 6783 4a00 65787465 		.ascii "extern const CUSTOM_STRING_MAP StrMap_%d[];\12\12\0"
 6783      726E2063 
 6783      6F6E7374 
 6783      20435553 
 6783      544F4D5F 
 6784              	LC108:
 6785 4a2e 54595045 		.ascii "TYPE: VALUE\12\0"
 6785      3A205641 
 6785      4C55450A 
 6785      00
 6786 4a3b 908D7426 		.align 32
 6786      00
 6787              	LC109:
 6788 4a40 4E414D45 		.ascii "NAME: mtk_gTrans_string_count\12\0"
 6788      3A206D74 
 6788      6B5F6754 
 6788      72616E73 
 6788      5F737472 
 6789              	LC110:
 6790 4a5f 56414C55 		.ascii "VALUE: %d\12\0"
 6790      453A2025 
 6790      640A00
 6791              	LC111:
 6792 4a6a 4E414D45 		.ascii "NAME: mtk_gMaxDeployedLangs\12\0"
 6792      3A206D74 
 6792      6B5F674D 
 6792      61784465 
 6792      706C6F79 
 6793              	LC112:
 6794 4a87 4E414D45 		.ascii "NAME: max_total_len\12\0"
 6794      3A206D61 
 6794      785F746F 
 6794      74616C5F 
 6794      6C656E0A 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 186


 6795 4a9c 8D742600 		.align 32
 6796              	LC113:
 6797 4aa0 2369666E 		.ascii "#ifndef __MMI_RESOURCE_ENFB_SUPPORT__\12\11const U16 mtk_gTrans_string_count = %d;\12#endi
 6797      64656620 
 6797      5F5F4D4D 
 6797      495F5245 
 6797      534F5552 
 6798 4af8 908DB426 		.align 32
 6798      00000000 
 6799              	LC114:
 6800 4b00 6F757470 		.ascii "output language list array (strres, strres_dup, num_map_search) \0"
 6800      7574206C 
 6800      616E6775 
 6800      61676520 
 6800      6C697374 
 6801 4b41 90909090 		.align 32
 6801      90909090 
 6801      90909090 
 6801      90909090 
 6801      90909090 
 6802              	LC115:
 6803 4b60 4661696C 		.ascii "Failed to output generate_language_list_array:                 num_map_search = %d, max_to
 6803      65642074 
 6803      6F206F75 
 6803      74707574 
 6803      2067656E 
 6804 4bfb 908D7426 		.align 32
 6804      00
 6805              	LC116:
 6806 4c00 0A23656E 		.ascii "\12#endif //!(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !(__MMI_RESOURCE_STR_THIRD_ROM__)\0"
 6806      64696620 
 6806      2F2F2128 
 6806      5F5F4D4D 
 6806      495F5245 
 6807              	LC117:
 6808 4c55 47656E65 		.ascii "GenerateStrResFile succeeded\0"
 6808      72617465 
 6808      53747252 
 6808      65734669 
 6808      6C652073 
 6809              	LC118:
 6810 4c72 47454E5F 		.ascii "GEN_STR_ERR_RET handling\0"
 6810      5354525F 
 6810      4552525F 
 6810      52455420 
 6810      68616E64 
 6812              	.globl _GenerateStrResFile
 6814              	_GenerateStrResFile:
3520:str_merge.c   **** 
3521:str_merge.c   **** 
3522:str_merge.c   **** /*****************************************************************************
3523:str_merge.c   ****  * FUNCTION
3524:str_merge.c   ****  *  GenerateStrResFile
3525:str_merge.c   ****  * DESCRIPTION
3526:str_merge.c   ****  *  Generate string resource C files
3527:str_merge.c   ****  * PARAMETERS
3528:str_merge.c   ****  *  void
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 187


3529:str_merge.c   ****  * RETURNS
3530:str_merge.c   ****  *  Return 0 on success, otherwise, return -1
3531:str_merge.c   ****  *****************************************************************************/
3532:str_merge.c   **** int GenerateStrResFile(void)
3533:str_merge.c   **** {
 6816              	LM810:
 6817 4c8b 55       		pushl	%ebp
 6818 4c8c 89E5     		movl	%esp, %ebp
 6819 4c8e 53       		pushl	%ebx
 6820 4c8f B8B42000 		movl	$8372, %eax
 6820      00
 6821 4c94 E8000000 		call	__alloca
 6821      00
3534:str_merge.c   ****     /*----------------------------------------------------------------*/
3535:str_merge.c   ****     /* Local Variables                                                */
3536:str_merge.c   ****     /*----------------------------------------------------------------*/
3537:str_merge.c   ****     FILE *fout_res = NULL;
 6823              	LM811:
 6824              	LBB43:
 6825 4c99 C745F400 		movl	$0, -12(%ebp)
 6825      000000
3538:str_merge.c   ****     FILE *fout_map = NULL;
 6827              	LM812:
 6828 4ca0 C745F000 		movl	$0, -16(%ebp)
 6828      000000
3539:str_merge.c   ****     FILE *fout_meta_res = NULL;
 6830              	LM813:
 6831 4ca7 C745EC00 		movl	$0, -20(%ebp)
 6831      000000
3540:str_merge.c   ****     FILE *fout_meta_map = NULL;
 6833              	LM814:
 6834 4cae C745E800 		movl	$0, -24(%ebp)
 6834      000000
3541:str_merge.c   **** 	
3542:str_merge.c   ****     int i = 0, MaxID = 0, str_res_id = 0;
 6836              	LM815:
 6837 4cb5 C745E400 		movl	$0, -28(%ebp)
 6837      000000
 6838 4cbc C745E000 		movl	$0, -32(%ebp)
 6838      000000
 6839 4cc3 C745DC00 		movl	$0, -36(%ebp)
 6839      000000
3543:str_merge.c   ****     unsigned short z = 0;
 6841              	LM816:
 6842 4cca 66C745DA 		movw	$0, -38(%ebp)
 6842      0000
3544:str_merge.c   ****     int start = 0, index_map = 0, index = 0, num_map_search = 0;
 6844              	LM817:
 6845 4cd0 C745D400 		movl	$0, -44(%ebp)
 6845      000000
 6846 4cd7 C745D000 		movl	$0, -48(%ebp)
 6846      000000
 6847 4cde C745CC00 		movl	$0, -52(%ebp)
 6847      000000
 6848 4ce5 C745C800 		movl	$0, -56(%ebp)
 6848      000000
3545:str_merge.c   ****     int min_id = 0, max_id = 0;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 188


 6850              	LM818:
 6851 4cec C745C400 		movl	$0, -60(%ebp)
 6851      000000
 6852 4cf3 C745C000 		movl	$0, -64(%ebp)
 6852      000000
3546:str_merge.c   ****     struct StrRes *strres = NULL;
 6854              	LM819:
 6855 4cfa C745BC00 		movl	$0, -68(%ebp)
 6855      000000
3547:str_merge.c   ****     struct StrResSet Strresset;
3548:str_merge.c   **** 
3549:str_merge.c   ****     U32 res_size[512];
3550:str_merge.c   ****     U32 map_size[512];
3551:str_merge.c   ****     U32 reszip_size[512];
3552:str_merge.c   ****     U32 mapzip_size[512];
3553:str_merge.c   ****     FILE *pFile;
3554:str_merge.c   **** 
3555:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3556:str_merge.c   ****     /* add DupStrRes and max_total_len */
3557:str_merge.c   ****     struct DupStrRes *strres_dup = NULL;
 6857              	LM820:
 6858 4d01 C785A0DF 		movl	$0, -8288(%ebp)
 6858      FFFF0000 
 6858      0000
3558:str_merge.c   ****     int max_total_len = 0;
 6860              	LM821:
 6861 4d0b C7859CDF 		movl	$0, -8292(%ebp)
 6861      FFFF0000 
 6861      0000
3559:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3560:str_merge.c   ****     int max_zip_len = 0;
 6863              	LM822:
 6864 4d15 C78598DF 		movl	$0, -8296(%ebp)
 6864      FFFF0000 
 6864      0000
3561:str_merge.c   **** 
3562:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3563:str_merge.c   ****     FILE *fout_enfb = NULL;
3564:str_merge.c   ****     U32 enfb_size = 0, enfb_offset = 0;
3565:str_merge.c   ****     U32 enfb_str_mem_size, enfb_max_mem_size = 0;
3566:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3567:str_merge.c   **** 
3568:str_merge.c   ****     /*----------------------------------------------------------------*/
3569:str_merge.c   ****     /* Code Body                                                      */
3570:str_merge.c   ****     /*----------------------------------------------------------------*/
3571:str_merge.c   ****     print_language_usage();
 6866              	LM823:
 6867 4d1f E81DF3FF 		call	_print_language_usage
 6867      FF
3572:str_merge.c   **** 
3573:str_merge.c   ****     memset(StrSize, 0, sizeof(U16) * MAX_STRING_MAP_SIZE);
 6869              	LM824:
 6870 4d24 C7442408 		movl	$131070, 8(%esp)
 6870      FEFF0100 
 6871 4d2c C7442404 		movl	$0, 4(%esp)
 6871      00000000 
 6872 4d34 C70424D8 		movl	$_StrSize, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 189


 6872      000200
 6873 4d3b E8000000 		call	_memset
 6873      00
3574:str_merge.c   **** 
3575:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3576:str_merge.c   ****     memset(&fixed_result, 0, sizeof(FixedResult));
 6875              	LM825:
 6876 4d40 C7442408 		movl	$8, 8(%esp)
 6876      08000000 
 6877 4d48 C7442404 		movl	$0, 4(%esp)
 6877      00000000 
 6878 4d50 C7042400 		movl	$_fixed_result, (%esp)
 6878      000000
 6879 4d57 E8000000 		call	_memset
 6879      00
3577:str_merge.c   ****     /* init */
3578:str_merge.c   ****     Strresset.strres_dup = NULL;
 6881              	LM826:
 6882 4d5c C745AC00 		movl	$0, -84(%ebp)
 6882      000000
3579:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3580:str_merge.c   **** 
3581:str_merge.c   ****     /* get string table */
3582:str_merge.c   ****     MaxID = GetStrResList(&Strresset);
 6884              	LM827:
 6885 4d63 8D45A8   		leal	-88(%ebp), %eax
 6886 4d66 890424   		movl	%eax, (%esp)
 6887 4d69 E8FAE2FF 		call	_GetStrResList
 6887      FF
 6888 4d6e 8945E0   		movl	%eax, -32(%ebp)
3583:str_merge.c   **** 
3584:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
3585:str_merge.c   ****     if (ref_all)
3586:str_merge.c   ****         free(ref_all);
3587:str_merge.c   **** #else
3588:str_merge.c   ****     if(ref_all_list){
 6890              	LM828:
 6891 4d71 833D4800 		cmpl	$0, _ref_all_list
 6891      000000
 6892 4d78 7435     		je	L413
3589:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Free ref_all_list: (%lu) bytes ",ref_all_list->Allocated
 6894              	LM829:
 6895 4d7a A1480000 		movl	_ref_all_list, %eax
 6895      00
 6896 4d7f 8B400C   		movl	12(%eax), %eax
 6897 4d82 8944240C 		movl	%eax, 12(%esp)
 6898 4d86 C7442408 		movl	$LC70, 8(%esp)
 6898      60430000 
 6899 4d8e C7442404 		movl	$LC3, 4(%esp)
 6899      4B040000 
 6900 4d96 C7042401 		movl	$1, (%esp)
 6900      000000
 6901 4d9d E8000000 		call	_reslog_adaptor_log
 6901      00
3590:str_merge.c   ****         DeleteRefList(ref_all_list);
 6903              	LM830:
 6904 4da2 A1480000 		movl	_ref_all_list, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 190


 6904      00
 6905 4da7 890424   		movl	%eax, (%esp)
 6906 4daa E8892B00 		call	_DeleteRefList
 6906      00
 6907              	L413:
3591:str_merge.c   ****   }
3592:str_merge.c   **** #endif
3593:str_merge.c   **** 
3594:str_merge.c   ****     /* open output file */
3595:str_merge.c   ****     fout_res = fopen(STR_DATA_FILENAME, "wb");
 6909              	LM831:
 6910 4daf C7442404 		movl	$LC61, 4(%esp)
 6910      BA3F0000 
 6911 4db7 C70424A0 		movl	$LC71, (%esp)
 6911      430000
 6912 4dbe E8000000 		call	_fopen
 6912      00
 6913 4dc3 8945F4   		movl	%eax, -12(%ebp)
3596:str_merge.c   ****     fout_map = fopen(STR_MAP_FILENAME, "wb");
 6915              	LM832:
 6916 4dc6 C7442404 		movl	$LC61, 4(%esp)
 6916      BA3F0000 
 6917 4dce C70424E0 		movl	$LC72, (%esp)
 6917      430000
 6918 4dd5 E8000000 		call	_fopen
 6918      00
 6919 4dda 8945F0   		movl	%eax, -16(%ebp)
3597:str_merge.c   ****     /* Meta file for string compression */
3598:str_merge.c   ****     fout_meta_res = fopen(STR_DATA_META_FILENAME, "wb");
 6921              	LM833:
 6922 4ddd C7442404 		movl	$LC61, 4(%esp)
 6922      BA3F0000 
 6923 4de5 C7042420 		movl	$LC73, (%esp)
 6923      440000
 6924 4dec E8000000 		call	_fopen
 6924      00
 6925 4df1 8945EC   		movl	%eax, -20(%ebp)
3599:str_merge.c   ****     fout_meta_map = fopen(STR_MAP_META_FILENAME, "wb");
 6927              	LM834:
 6928 4df4 C7442404 		movl	$LC61, 4(%esp)
 6928      BA3F0000 
 6929 4dfc C7042460 		movl	$LC74, (%esp)
 6929      440000
 6930 4e03 E8000000 		call	_fopen
 6930      00
 6931 4e08 8945E8   		movl	%eax, -24(%ebp)
3600:str_merge.c   **** 	
3601:str_merge.c   ****     if (fout_res == NULL || fout_map == NULL ||fout_meta_res == NULL || fout_meta_map == NULL)
 6933              	LM835:
 6934 4e0b 837DF400 		cmpl	$0, -12(%ebp)
 6935 4e0f 7412     		je	L415
 6936 4e11 837DF000 		cmpl	$0, -16(%ebp)
 6937 4e15 740C     		je	L415
 6938 4e17 837DEC00 		cmpl	$0, -20(%ebp)
 6939 4e1b 7406     		je	L415
 6940 4e1d 837DE800 		cmpl	$0, -24(%ebp)
 6941 4e21 752F     		jne	L414
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 191


 6942              	L415:
3602:str_merge.c   ****     {
3603:str_merge.c   ****         STRMERG_LOG_E("fout_res or fout_map open error (%d)(%d) ...!", fout_res, fout_map);
 6944              	LM836:
 6945 4e23 8B45F0   		movl	-16(%ebp), %eax
 6946 4e26 89442410 		movl	%eax, 16(%esp)
 6947 4e2a 8B45F4   		movl	-12(%ebp), %eax
 6948 4e2d 8944240C 		movl	%eax, 12(%esp)
 6949 4e31 C7442408 		movl	$LC75, 8(%esp)
 6949      A0440000 
 6950 4e39 C7442404 		movl	$LC3, 4(%esp)
 6950      4B040000 
 6951 4e41 C7042403 		movl	$3, (%esp)
 6951      000000
 6952 4e48 E8000000 		call	_reslog_adaptor_log
 6952      00
3604:str_merge.c   ****         goto GEN_STR_ERR_RET;
 6954              	LM837:
 6955 4e4d E98E1000 		jmp	L416
 6955      00
 6956              	L414:
3605:str_merge.c   ****     }
3606:str_merge.c   ****     strres = Strresset.strres;
 6958              	LM838:
 6959 4e52 8B45A8   		movl	-88(%ebp), %eax
 6960 4e55 8945BC   		movl	%eax, -68(%ebp)
3607:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3608:str_merge.c   ****     /* assign */
3609:str_merge.c   ****     strres_dup = Strresset.strres_dup;
 6962              	LM839:
 6963 4e58 8B45AC   		movl	-84(%ebp), %eax
 6964 4e5b 8985A0DF 		movl	%eax, -8288(%ebp)
 6964      FFFF
3610:str_merge.c   **** #endif
3611:str_merge.c   **** 
3612:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3613:str_merge.c   ****     fout_enfb = fopen(ENFB_STRING_DATA_FILENAME, "wb");
3614:str_merge.c   ****     if (fout_enfb == NULL)
3615:str_merge.c   ****     {
3616:str_merge.c   ****         STRMERG_LOG_E("File open error (%s) ...!", ENFB_STRING_DATA_FILENAME);
3617:str_merge.c   ****         goto GEN_STR_ERR_RET;
3618:str_merge.c   ****     }
3619:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3620:str_merge.c   **** 
3621:str_merge.c   ****     /* print output file header */
3622:str_merge.c   ****     fprintf(fout_res, "#include \"mmi_features.h\"\n");
 6966              	LM840:
 6967 4e61 C7442404 		movl	$LC76, 4(%esp)
 6967      CE440000 
 6968 4e69 8B45F4   		movl	-12(%ebp), %eax
 6969 4e6c 890424   		movl	%eax, (%esp)
 6970 4e6f E8000000 		call	_fprintf
 6970      00
3623:str_merge.c   ****     fprintf(fout_res, "#include \"CompressResUtil.h\"\n\n\n");
 6972              	LM841:
 6973 4e74 C7442404 		movl	$LC77, 4(%esp)
 6973      00450000 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 192


 6974 4e7c 8B45F4   		movl	-12(%ebp), %eax
 6975 4e7f 890424   		movl	%eax, (%esp)
 6976 4e82 E8000000 		call	_fprintf
 6976      00
3624:str_merge.c   ****     fprintf(fout_res, "#include \"CustDataRes.h\"\n");
 6978              	LM842:
 6979 4e87 C7442404 		movl	$LC78, 4(%esp)
 6979      20450000 
 6980 4e8f 8B45F4   		movl	-12(%ebp), %eax
 6981 4e92 890424   		movl	%eax, (%esp)
 6982 4e95 E8000000 		call	_fprintf
 6982      00
3625:str_merge.c   ****     fprintf(fout_res, "#include \"FontDCl.h\"\n\n\n");
 6984              	LM843:
 6985 4e9a C7442404 		movl	$LC79, 4(%esp)
 6985      3A450000 
 6986 4ea2 8B45F4   		movl	-12(%ebp), %eax
 6987 4ea5 890424   		movl	%eax, (%esp)
 6988 4ea8 E8000000 		call	_fprintf
 6988      00
3626:str_merge.c   ****     fprintf(fout_res, "#if (!defined (__MTK_TARGET__))\n\t#define __align(x)\n#endif\n\n\n");
 6990              	LM844:
 6991 4ead C7442404 		movl	$LC80, 4(%esp)
 6991      60450000 
 6992 4eb5 8B45F4   		movl	-12(%ebp), %eax
 6993 4eb8 890424   		movl	%eax, (%esp)
 6994 4ebb E8000000 		call	_fprintf
 6994      00
3627:str_merge.c   ****     fprintf(fout_res, "#if !defined(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !defined(__MMI_RESOURCE_
 6996              	LM845:
 6997 4ec0 C7442404 		movl	$LC81, 4(%esp)
 6997      A0450000 
 6998 4ec8 8B45F4   		movl	-12(%ebp), %eax
 6999 4ecb 890424   		movl	%eax, (%esp)
 7000 4ece E8000000 		call	_fprintf
 7000      00
3628:str_merge.c   ****     fprintf(fout_map, "#include \"mmi_features.h\"\n");
 7002              	LM846:
 7003 4ed3 C7442404 		movl	$LC76, 4(%esp)
 7003      CE440000 
 7004 4edb 8B45F0   		movl	-16(%ebp), %eax
 7005 4ede 890424   		movl	%eax, (%esp)
 7006 4ee1 E8000000 		call	_fprintf
 7006      00
3629:str_merge.c   ****     fprintf(fout_map, "#include \"CompressResUtil.h\"\n\n\n");
 7008              	LM847:
 7009 4ee6 C7442404 		movl	$LC77, 4(%esp)
 7009      00450000 
 7010 4eee 8B45F0   		movl	-16(%ebp), %eax
 7011 4ef1 890424   		movl	%eax, (%esp)
 7012 4ef4 E8000000 		call	_fprintf
 7012      00
3630:str_merge.c   ****     fprintf(fout_map, "#if !defined(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !defined(__MMI_RESOURCE_
 7014              	LM848:
 7015 4ef9 C7442404 		movl	$LC81, 4(%esp)
 7015      A0450000 
 7016 4f01 8B45F0   		movl	-16(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 193


 7017 4f04 890424   		movl	%eax, (%esp)
 7018 4f07 E8000000 		call	_fprintf
 7018      00
3631:str_merge.c   ****     fprintf(fout_map, "#include \"CustDataRes.h\"\n");
 7020              	LM849:
 7021 4f0c C7442404 		movl	$LC78, 4(%esp)
 7021      20450000 
 7022 4f14 8B45F0   		movl	-16(%ebp), %eax
 7023 4f17 890424   		movl	%eax, (%esp)
 7024 4f1a E8000000 		call	_fprintf
 7024      00
3632:str_merge.c   ****     fprintf(fout_map, "#if (!defined (__MTK_TARGET__))\n\t#define __align(x)\n#endif\n\n\n");
 7026              	LM850:
 7027 4f1f C7442404 		movl	$LC80, 4(%esp)
 7027      60450000 
 7028 4f27 8B45F0   		movl	-16(%ebp), %eax
 7029 4f2a 890424   		movl	%eax, (%esp)
 7030 4f2d E8000000 		call	_fprintf
 7030      00
3633:str_merge.c   **** #ifdef __CAT_SUPPORT__
3634:str_merge.c   ****     fprintf(fout_map, ResgenCATGetRegionStartStatment(MMIRESOURCE_CAT_RES_TYPE_ID_STR));
3635:str_merge.c   ****     fprintf(fout_res, ResgenCATGetRegionStartStatment(MMIRESOURCE_CAT_RES_TYPE_ID_STR));
3636:str_merge.c   **** #endif //__CAT_SUPPORT__
3637:str_merge.c   **** 
3638:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3639:str_merge.c   ****     /* generate duplicated string resource */
3640:str_merge.c   ****     if (strres_dup->MaxNum > 0)
 7032              	LM851:
 7033 4f32 8B85A0DF 		movl	-8288(%ebp), %eax
 7033      FFFF
 7034 4f38 83780400 		cmpl	$0, 4(%eax)
 7035 4f3c 0F8EB502 		jle	L417
 7035      0000
3641:str_merge.c   ****     {
3642:str_merge.c   **** 
3643:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
3644:str_merge.c   ****     if (mmi_res_zip_language[MAX_LANGUAGES] == 1)
3645:str_merge.c   ****     {
3646:str_merge.c   ****         /* The len for compresss2 function must be unsigned long*/
3647:str_merge.c   ****         unsigned long array_size = 0, dest_size = 0, input_buf_size = 0;
3648:str_merge.c   ****         U8 *buffer = NULL;
3649:str_merge.c   ****         U8 *dest_buf = NULL;
3650:str_merge.c   ****         U8 *p = NULL;
3651:str_merge.c   ****         U16 strsize = 0;
3652:str_merge.c   **** 
3653:str_merge.c   ****         array_size = 2; /* for  buffer[0] and buffer[1] */
3654:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres_dup->MaxNum; str_res_id++)
3655:str_merge.c   ****         {
3656:str_merge.c   ****             array_size += ((wcslen(strres_dup->Str[str_res_id])+1)*2);
3657:str_merge.c   ****         }
3658:str_merge.c   ****         dest_size = compressBound(array_size);
3659:str_merge.c   **** 
3660:str_merge.c   ****         buffer = malloc(array_size);
3661:str_merge.c   ****         dest_buf = malloc(dest_size);
3662:str_merge.c   ****         buffer[0] = '\0';
3663:str_merge.c   ****         buffer[1] = '\0';
3664:str_merge.c   **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 194


3665:str_merge.c   ****         p = buffer+2;
3666:str_merge.c   ****         /* copy string to buffer */
3667:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres_dup->MaxNum; str_res_id++)
3668:str_merge.c   ****         {
3669:str_merge.c   ****             strsize = (wcslen(strres_dup->Str[str_res_id]) + 1) * 2;
3670:str_merge.c   ****             memcpy(p, strres_dup->Str[str_res_id], strsize);
3671:str_merge.c   ****             p += strsize;
3672:str_merge.c   ****         }
3673:str_merge.c   **** 
3674:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_Dup: compress2 input: dest_size=%lu, array_si
3675:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Total size of compressing data= %d bytes (p-buffer), siz
3676:str_merge.c   **** 
3677:str_merge.c   ****         compress2(dest_buf, &dest_size, buffer, array_size, Z_BEST_COMPRESSION);
3678:str_merge.c   **** 
3679:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_Dup: compress2 output: dest_size=%lu, array_s
3680:str_merge.c   **** 
3681:str_merge.c   ****         /* output CustStrRes.c */
3682:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_Dup: Start to fout_res output");
3683:str_merge.c   ****         fprintf(fout_res, "//__align(4) CUSTOM_STRING StrRes_Dup[%lu];\n", array_size);
3684:str_merge.c   ****         fprintf(fout_res, "// StrRes_zip_Dup, DATA SIZE = %lu\n", dest_size);
3685:str_merge.c   ****         fprintf(fout_res, "__align(4) const CUSTOM_STRING StrRes_zip_Dup[] = {\n");
3686:str_merge.c   **** 
3687:str_merge.c   ****         for (z = 0; z < dest_size-1; ++z)
3688:str_merge.c   ****         {
3689:str_merge.c   ****             if (z%16 == 0)
3690:str_merge.c   ****             {
3691:str_merge.c   ****                 fprintf(fout_res, "\n");
3692:str_merge.c   ****             }
3693:str_merge.c   ****             fprintf(fout_res, "0x%02X, ", dest_buf[z]);
3694:str_merge.c   **** 
3695:str_merge.c   ****         }
3696:str_merge.c   ****         fprintf(fout_res, "0x%02X, ", dest_buf[z]);
3697:str_merge.c   ****         
3698:str_merge.c   ****         append_cat_padding_bytes(fout_res, dest_size);
3699:str_merge.c   ****         
3700:str_merge.c   ****         fprintf(fout_res, "};\n");
3701:str_merge.c   **** 
3702:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_Dup: Finish fout_res output");
3703:str_merge.c   **** 
3704:str_merge.c   ****         res_size[511] = array_size;
3705:str_merge.c   ****         reszip_size[511] = dest_size;
3706:str_merge.c   **** 
3707:str_merge.c   ****         free(buffer);
3708:str_merge.c   ****         free(dest_buf);  
3709:str_merge.c   **** 
3710:str_merge.c   ****         array_size = 0;
3711:str_merge.c   ****         dest_size = 0;
3712:str_merge.c   ****            
3713:str_merge.c   ****     }
3714:str_merge.c   ****     else
3715:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
3716:str_merge.c   ****     {
3717:str_merge.c   ****         /* output language structure title */
3718:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_Dup: Started fout_res output");
 7037              	LM852:
 7038 4f42 C7442408 		movl	$LC82, 8(%esp)
 7038      00460000 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 195


 7039 4f4a C7442404 		movl	$LC3, 4(%esp)
 7039      4B040000 
 7040 4f52 C7042401 		movl	$1, (%esp)
 7040      000000
 7041 4f59 E8000000 		call	_reslog_adaptor_log
 7041      00
3719:str_merge.c   **** 
3720:str_merge.c   ****         fprintf(fout_res, "__align(4) const CUSTOM_STRING StrRes_Dup[] = {\n");
 7043              	LM853:
 7044 4f5e C7442404 		movl	$LC83, 4(%esp)
 7044      40460000 
 7045 4f66 8B45F4   		movl	-12(%ebp), %eax
 7046 4f69 890424   		movl	%eax, (%esp)
 7047 4f6c E8000000 		call	_fprintf
 7047      00
3721:str_merge.c   ****         fprintf(fout_meta_res, "########################################################\n");
 7049              	LM854:
 7050 4f71 C7442404 		movl	$LC84, 4(%esp)
 7050      80460000 
 7051 4f79 8B45EC   		movl	-20(%ebp), %eax
 7052 4f7c 890424   		movl	%eax, (%esp)
 7053 4f7f E8000000 		call	_fprintf
 7053      00
3722:str_merge.c   ****         fprintf(fout_meta_res, "TYPE: RES\n");
 7055              	LM855:
 7056 4f84 C7442404 		movl	$LC85, 4(%esp)
 7056      BA460000 
 7057 4f8c 8B45EC   		movl	-20(%ebp), %eax
 7058 4f8f 890424   		movl	%eax, (%esp)
 7059 4f92 E8000000 		call	_fprintf
 7059      00
3723:str_merge.c   ****         fprintf(fout_meta_res, "LANG: DUP\n");
 7061              	LM856:
 7062 4f97 C7442404 		movl	$LC86, 4(%esp)
 7062      C5460000 
 7063 4f9f 8B45EC   		movl	-20(%ebp), %eax
 7064 4fa2 890424   		movl	%eax, (%esp)
 7065 4fa5 E8000000 		call	_fprintf
 7065      00
3724:str_merge.c   ****         fprintf(fout_meta_res, "MAXNUM: %d\n",strres_dup->MaxNum -1);
 7067              	LM857:
 7068 4faa 8B85A0DF 		movl	-8288(%ebp), %eax
 7068      FFFF
 7069 4fb0 8B4004   		movl	4(%eax), %eax
 7070 4fb3 48       		decl	%eax
 7071 4fb4 89442408 		movl	%eax, 8(%esp)
 7072 4fb8 C7442404 		movl	$LC87, 4(%esp)
 7072      D0460000 
 7073 4fc0 8B45EC   		movl	-20(%ebp), %eax
 7074 4fc3 890424   		movl	%eax, (%esp)
 7075 4fc6 E8000000 		call	_fprintf
 7075      00
3725:str_merge.c   ****         fprintf(fout_meta_res, "MAXID: %d\n", 1);
 7077              	LM858:
 7078 4fcb C7442408 		movl	$1, 8(%esp)
 7078      01000000 
 7079 4fd3 C7442404 		movl	$LC88, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 196


 7079      DC460000 
 7080 4fdb 8B45EC   		movl	-20(%ebp), %eax
 7081 4fde 890424   		movl	%eax, (%esp)
 7082 4fe1 E8000000 		call	_fprintf
 7082      00
3726:str_merge.c   ****         fprintf(fout_meta_res, "DATA:\n__align(4) const CUSTOM_STRING StrRes_Dup[] = {\n");
 7084              	LM859:
 7085 4fe6 C7442404 		movl	$LC89, 4(%esp)
 7085      00470000 
 7086 4fee 8B45EC   		movl	-20(%ebp), %eax
 7087 4ff1 890424   		movl	%eax, (%esp)
 7088 4ff4 E8000000 		call	_fprintf
 7088      00
3727:str_merge.c   **** 
3728:str_merge.c   ****         fputs("0x00, 0x00,\n", fout_res);
 7090              	LM860:
 7091 4ff9 8B45F4   		movl	-12(%ebp), %eax
 7092 4ffc 89442404 		movl	%eax, 4(%esp)
 7093 5000 C7042437 		movl	$LC90, (%esp)
 7093      470000
 7094 5007 E8000000 		call	_fputs
 7094      00
3729:str_merge.c   ****         fputs("0x00, 0x00,\n", fout_meta_res);
 7096              	LM861:
 7097 500c 8B45EC   		movl	-20(%ebp), %eax
 7098 500f 89442404 		movl	%eax, 4(%esp)
 7099 5013 C7042437 		movl	$LC90, (%esp)
 7099      470000
 7100 501a E8000000 		call	_fputs
 7100      00
3730:str_merge.c   ****     
3731:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres_dup->MaxNum; str_res_id++)
 7102              	LM862:
 7103 501f C745DC00 		movl	$0, -36(%ebp)
 7103      000000
 7104              	L418:
 7105 5026 8B95A0DF 		movl	-8288(%ebp), %edx
 7105      FFFF
 7106 502c 8B45DC   		movl	-36(%ebp), %eax
 7107 502f 3B4204   		cmpl	4(%edx), %eax
 7108 5032 7C05     		jl	L421
 7109 5034 E9E90000 		jmp	L419
 7109      00
 7110              	L421:
3732:str_merge.c   ****         {
3733:str_merge.c   ****             unsigned short nStringLen = 0;
 7112              	LM863:
 7113              	LBB44:
 7114 5039 66C78596 		movw	$0, -8298(%ebp)
 7114      DFFFFF00 
 7114      00
3734:str_merge.c   ****             
3735:str_merge.c   ****         #ifndef __UCS2_ENCODING
3736:str_merge.c   ****             fprintf(fout_res, "\"%s\",\n", strres_dup.Str[str_res_id]);
3737:str_merge.c   ****             fprintf(fout_meta_res, "\"%s\",\n", strres_dup.Str[str_res_id]);
3738:str_merge.c   ****         #else /* __UCS2_ENCODING */
3739:str_merge.c   ****             nStringLen = wcslen(strres_dup->Str[str_res_id]);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 197


 7116              	LM864:
 7117 5042 8B8DA0DF 		movl	-8288(%ebp), %ecx
 7117      FFFF
 7118 5048 8B45DC   		movl	-36(%ebp), %eax
 7119 504b 8D148500 		leal	0(,%eax,4), %edx
 7119      000000
 7120 5052 8B01     		movl	(%ecx), %eax
 7121 5054 8B0410   		movl	(%eax,%edx), %eax
 7122 5057 890424   		movl	%eax, (%esp)
 7123 505a E8000000 		call	_wcslen
 7123      00
 7124 505f 66898596 		movw	%ax, -8298(%ebp)
 7124      DFFFFF
3740:str_merge.c   **** 
3741:str_merge.c   ****             for (z = 0; z < nStringLen * 2; ++z)
 7126              	LM865:
 7127 5066 66C745DA 		movw	$0, -38(%ebp)
 7127      0000
 7128              	L422:
 7129 506c 0FB755DA 		movzwl	-38(%ebp), %edx
 7130 5070 0FB78596 		movzwl	-8298(%ebp), %eax
 7130      DFFFFF
 7131 5077 01C0     		addl	%eax, %eax
 7132 5079 39C2     		cmpl	%eax, %edx
 7133 507b 7C02     		jl	L425
 7134 507d EB73     		jmp	L423
 7135              	L425:
3742:str_merge.c   ****             {
3743:str_merge.c   ****                 unsigned char *abc = (unsigned char*)strres_dup->Str[str_res_id];
 7137              	LM866:
 7138              	LBB45:
 7139 507f 8B8DA0DF 		movl	-8288(%ebp), %ecx
 7139      FFFF
 7140 5085 8B45DC   		movl	-36(%ebp), %eax
 7141 5088 8D148500 		leal	0(,%eax,4), %edx
 7141      000000
 7142 508f 8B01     		movl	(%ecx), %eax
 7143 5091 8B0410   		movl	(%eax,%edx), %eax
 7144 5094 898590DF 		movl	%eax, -8304(%ebp)
 7144      FFFF
3744:str_merge.c   **** 
3745:str_merge.c   ****                 fprintf(fout_res, "0x%X, ", abc[z]);
 7146              	LM867:
 7147 509a 0FB755DA 		movzwl	-38(%ebp), %edx
 7148 509e 8B8590DF 		movl	-8304(%ebp), %eax
 7148      FFFF
 7149 50a4 0FB60402 		movzbl	(%edx,%eax), %eax
 7150 50a8 89442408 		movl	%eax, 8(%esp)
 7151 50ac C7442404 		movl	$LC91, 4(%esp)
 7151      44470000 
 7152 50b4 8B45F4   		movl	-12(%ebp), %eax
 7153 50b7 890424   		movl	%eax, (%esp)
 7154 50ba E8000000 		call	_fprintf
 7154      00
3746:str_merge.c   ****                 fprintf(fout_meta_res, "0x%X, ", abc[z]);
 7156              	LM868:
 7157 50bf 0FB755DA 		movzwl	-38(%ebp), %edx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 198


 7158 50c3 8B8590DF 		movl	-8304(%ebp), %eax
 7158      FFFF
 7159 50c9 0FB60402 		movzbl	(%edx,%eax), %eax
 7160 50cd 89442408 		movl	%eax, 8(%esp)
 7161 50d1 C7442404 		movl	$LC91, 4(%esp)
 7161      44470000 
 7162 50d9 8B45EC   		movl	-20(%ebp), %eax
 7163 50dc 890424   		movl	%eax, (%esp)
 7164 50df E8000000 		call	_fprintf
 7164      00
 7166              	LM869:
 7167              	LBE45:
 7168 50e4 0FB745DA 		movzwl	-38(%ebp), %eax
 7169 50e8 40       		incl	%eax
 7170 50e9 668945DA 		movw	%ax, -38(%ebp)
 7171 50ed E97AFFFF 		jmp	L422
 7171      FF
 7172              	L423:
3747:str_merge.c   ****             }
3748:str_merge.c   **** 
3749:str_merge.c   ****             fputs("0x00, 0x00,\n", fout_res);
 7174              	LM870:
 7175 50f2 8B45F4   		movl	-12(%ebp), %eax
 7176 50f5 89442404 		movl	%eax, 4(%esp)
 7177 50f9 C7042437 		movl	$LC90, (%esp)
 7177      470000
 7178 5100 E8000000 		call	_fputs
 7178      00
3750:str_merge.c   ****             fputs("0x00, 0x00,\n", fout_meta_res);
 7180              	LM871:
 7181 5105 8B45EC   		movl	-20(%ebp), %eax
 7182 5108 89442404 		movl	%eax, 4(%esp)
 7183 510c C7042437 		movl	$LC90, (%esp)
 7183      470000
 7184 5113 E8000000 		call	_fputs
 7184      00
 7186              	LM872:
 7187 5118 8D45DC   		leal	-36(%ebp), %eax
 7188              	LBE44:
 7189 511b FF00     		incl	(%eax)
 7190 511d E904FFFF 		jmp	L418
 7190      FF
 7191              	L419:
3751:str_merge.c   **** 
3752:str_merge.c   ****          #endif /* __UCS2_ENCODING */
3753:str_merge.c   ****         }
3754:str_merge.c   ****         fprintf(fout_res, "};\n");
 7193              	LM873:
 7194 5122 C7442404 		movl	$LC92, 4(%esp)
 7194      4B470000 
 7195 512a 8B45F4   		movl	-12(%ebp), %eax
 7196 512d 890424   		movl	%eax, (%esp)
 7197 5130 E8000000 		call	_fprintf
 7197      00
3755:str_merge.c   ****         fprintf(fout_meta_res, "};\n");
 7199              	LM874:
 7200 5135 C7442404 		movl	$LC92, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 199


 7200      4B470000 
 7201 513d 8B45EC   		movl	-20(%ebp), %eax
 7202 5140 890424   		movl	%eax, (%esp)
 7203 5143 E8000000 		call	_fprintf
 7203      00
3756:str_merge.c   **** 
3757:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_Dup: Finished fout_res output");
 7205              	LM875:
 7206 5148 C7442408 		movl	$LC93, 8(%esp)
 7206      60470000 
 7207 5150 C7442404 		movl	$LC3, 4(%esp)
 7207      4B040000 
 7208 5158 C7042401 		movl	$1, (%esp)
 7208      000000
 7209 515f E8000000 		call	_reslog_adaptor_log
 7209      00
3758:str_merge.c   ****     }
3759:str_merge.c   **** 
3760:str_merge.c   ****         /* look for a max value of TotalLength in each language */
3761:str_merge.c   ****         for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 7211              	LM876:
 7212 5164 C745E400 		movl	$0, -28(%ebp)
 7212      000000
 7213              	L426:
 7214 516b 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 7214      000000
 7215 5172 3945E4   		cmpl	%eax, -28(%ebp)
 7216 5175 7C02     		jl	L429
 7217 5177 EB58     		jmp	L427
 7218              	L429:
3762:str_merge.c   ****         {
3763:str_merge.c   ****             if (mtk_gLanguageFlag[i])
 7220              	LM877:
 7221 5179 8B45E4   		movl	-28(%ebp), %eax
 7222 517c 8D148500 		leal	0(,%eax,4), %edx
 7222      000000
 7223 5183 A1B80000 		movl	_mtk_gLanguageFlag, %eax
 7223      00
 7224 5188 833C1000 		cmpl	$0, (%eax,%edx)
 7225 518c 743C     		je	L428
3764:str_merge.c   ****             {
3765:str_merge.c   ****                 if (strres[i].TotalLength > max_total_len)
 7227              	LM878:
 7228 518e 8B55E4   		movl	-28(%ebp), %edx
 7229 5191 89D0     		movl	%edx, %eax
 7230 5193 01C0     		addl	%eax, %eax
 7231 5195 01D0     		addl	%edx, %eax
 7232 5197 8D14C500 		leal	0(,%eax,8), %edx
 7232      000000
 7233 519e 8B45BC   		movl	-68(%ebp), %eax
 7234 51a1 8B441014 		movl	20(%eax,%edx), %eax
 7235 51a5 3B859CDF 		cmpl	-8292(%ebp), %eax
 7235      FFFF
 7236 51ab 7E1D     		jle	L428
3766:str_merge.c   ****                 {
3767:str_merge.c   ****                     max_total_len = strres[i].TotalLength;
 7238              	LM879:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 200


 7239 51ad 8B55E4   		movl	-28(%ebp), %edx
 7240 51b0 89D0     		movl	%edx, %eax
 7241 51b2 01C0     		addl	%eax, %eax
 7242 51b4 01D0     		addl	%edx, %eax
 7243 51b6 8D14C500 		leal	0(,%eax,8), %edx
 7243      000000
 7244 51bd 8B45BC   		movl	-68(%ebp), %eax
 7245 51c0 8B441014 		movl	20(%eax,%edx), %eax
 7246 51c4 89859CDF 		movl	%eax, -8292(%ebp)
 7246      FFFF
 7248              	LM880:
 7249              	L428:
 7250 51ca 8D45E4   		leal	-28(%ebp), %eax
 7251 51cd FF00     		incl	(%eax)
 7252 51cf EB9A     		jmp	L426
 7253              	L427:
3768:str_merge.c   ****                 }
3769:str_merge.c   ****             }
3770:str_merge.c   ****         }
3771:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "MAX Total length of each language: %d ", max_total_len);
 7255              	LM881:
 7256 51d1 8B859CDF 		movl	-8292(%ebp), %eax
 7256      FFFF
 7257 51d7 8944240C 		movl	%eax, 12(%esp)
 7258 51db C7442408 		movl	$LC94, 8(%esp)
 7258      A0470000 
 7259 51e3 C7442404 		movl	$LC3, 4(%esp)
 7259      4B040000 
 7260 51eb C7042401 		movl	$1, (%esp)
 7260      000000
 7261 51f2 E8000000 		call	_reslog_adaptor_log
 7261      00
 7262              	L417:
3772:str_merge.c   ****     }
3773:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3774:str_merge.c   **** 
3775:str_merge.c   ****     is16bit = malloc(sizeof(MMI_BOOL) * mtk_gMaxDeployedLangs);
 7264              	LM882:
 7265 51f7 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 7265      000000
 7266 51fe C1E002   		sall	$2, %eax
 7267 5201 890424   		movl	%eax, (%esp)
 7268 5204 E8000000 		call	_malloc
 7268      00
 7269 5209 A3C80000 		movl	%eax, _is16bit
 7269      00
3776:str_merge.c   ****     ASSERT(is16bit != NULL);
 7271              	LM883:
 7272 520e 833DC800 		cmpl	$0, _is16bit
 7272      000000
 7273 5215 7502     		jne	L436
 7274              	L433:
 7275 5217 EBFE     		jmp	L433
 7276              	L436:
3777:str_merge.c   ****     /* output string resource file */
3778:str_merge.c   ****     for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 7278              	LM884:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 201


 7279 5219 C745E400 		movl	$0, -28(%ebp)
 7279      000000
 7280              	L437:
 7281 5220 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 7281      000000
 7282 5227 3945E4   		cmpl	%eax, -28(%ebp)
 7283 522a 7C05     		jl	L440
 7284 522c E9EA0900 		jmp	L438
 7284      00
 7285              	L440:
3779:str_merge.c   ****     {
3780:str_merge.c   ****         int old_i = i;
 7287              	LM885:
 7288              	LBB46:
 7289 5231 8B45E4   		movl	-28(%ebp), %eax
 7290 5234 898590DF 		movl	%eax, -8304(%ebp)
 7290      FFFF
3781:str_merge.c   ****         unsigned long nTotalLen = 0;
 7292              	LM886:
 7293 523a C7858CDF 		movl	$0, -8308(%ebp)
 7293      FFFF0000 
 7293      0000
3782:str_merge.c   **** 
3783:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3784:str_merge.c   ****         is16bit[i] = MMI_FALSE;
3785:str_merge.c   **** #else
3786:str_merge.c   ****         is16bit[i] = MMI_TRUE;
 7295              	LM887:
 7296 5244 8B45E4   		movl	-28(%ebp), %eax
 7297 5247 8D148500 		leal	0(,%eax,4), %edx
 7297      000000
 7298 524e A1C80000 		movl	_is16bit, %eax
 7298      00
 7299 5253 C7041001 		movl	$1, (%eax,%edx)
 7299      000000
3787:str_merge.c   **** #endif
3788:str_merge.c   **** 
3789:str_merge.c   ****         if (mtk_gLanguageFlag[i] == 0)
 7301              	LM888:
 7302 525a 8B45E4   		movl	-28(%ebp), %eax
 7303 525d 8D148500 		leal	0(,%eax,4), %edx
 7303      000000
 7304 5264 A1B80000 		movl	_mtk_gLanguageFlag, %eax
 7304      00
 7305 5269 833C1000 		cmpl	$0, (%eax,%edx)
 7306 526d 0F858400 		jne	L441
 7306      0000
3790:str_merge.c   ****         {
3791:str_merge.c   ****             wchar_t * err_msg = malloc((STRMERGE_ERR_MSG_LEN_MAX+1) * sizeof(wchar_t));
 7308              	LM889:
 7309              	LBB47:
 7310 5273 C7042492 		movl	$402, (%esp)
 7310      010000
 7311 527a E8000000 		call	_malloc
 7311      00
 7312 527f 898588DF 		movl	%eax, -8312(%ebp)
 7312      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 202


3792:str_merge.c   ****             swprintf(err_msg,L"Deployed languages not found in ref_list_translation.txt!\n");
 7314              	LM890:
 7315 5285 C7442404 		movl	$LC95, 4(%esp)
 7315      E0470000 
 7316 528d 8B8588DF 		movl	-8312(%ebp), %eax
 7316      FFFF
 7317 5293 890424   		movl	%eax, (%esp)
 7318 5296 E8000000 		call	_swprintf
 7318      00
3793:str_merge.c   ****             str_merge_set_err(STRMERGE_LOAD_SSC_ERR, err_msg);
 7320              	LM891:
 7321 529b 8B8588DF 		movl	-8312(%ebp), %eax
 7321      FFFF
 7322 52a1 89442404 		movl	%eax, 4(%esp)
 7323 52a5 C7042402 		movl	$2, (%esp)
 7323      000000
 7324 52ac E84FADFF 		call	_str_merge_set_err
 7324      FF
3794:str_merge.c   ****             STRMERG_LOG_E(STRMERG_SUB_TAG_MEM "Please provide translated strings of %s in ref_list.
 7326              	LM892:
 7327 52b1 8B55E4   		movl	-28(%ebp), %edx
 7328 52b4 89D0     		movl	%edx, %eax
 7329 52b6 C1E005   		sall	$5, %eax
 7330 52b9 29D0     		subl	%edx, %eax
 7331 52bb 01C0     		addl	%eax, %eax
 7332 52bd 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 7332      00
 7333 52c2 8944240C 		movl	%eax, 12(%esp)
 7334 52c6 C7442408 		movl	$LC96, 8(%esp)
 7334      60480000 
 7335 52ce C7442404 		movl	$LC3, 4(%esp)
 7335      4B040000 
 7336 52d6 C7042403 		movl	$3, (%esp)
 7336      000000
 7337 52dd E8000000 		call	_reslog_adaptor_log
 7337      00
3795:str_merge.c   ****             free(err_msg);
 7339              	LM893:
 7340 52e2 8B8588DF 		movl	-8312(%ebp), %eax
 7340      FFFF
 7341 52e8 890424   		movl	%eax, (%esp)
 7342 52eb E8000000 		call	_free
 7342      00
3796:str_merge.c   ****             i = 0;
 7344              	LM894:
 7345 52f0 C745E400 		movl	$0, -28(%ebp)
 7345      000000
 7346              	L441:
3797:str_merge.c   ****         }
3798:str_merge.c   **** 
3799:str_merge.c   **** 
3800:str_merge.c   **** 
3801:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
3802:str_merge.c   ****     if (mmi_res_zip_language[i] == 1)
3803:str_merge.c   ****     {
3804:str_merge.c   ****         // The parameter for compress 2 must be type of ulong
3805:str_merge.c   ****         unsigned long array_size = 0, dest_size = 0;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 203


3806:str_merge.c   ****         U8 *buffer = NULL;
3807:str_merge.c   ****         U8 *dest_buf = NULL;
3808:str_merge.c   ****         U8 *p = NULL;
3809:str_merge.c   ****         U16 strsize = 0;
3810:str_merge.c   **** 
3811:str_merge.c   ****         
3812:str_merge.c   ****         /*------ output CustStrRes.c ------*/
3813:str_merge.c   ****         array_size = 2;
3814:str_merge.c   ****         /* Calculate Size of Current string */
3815:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxNum; str_res_id++)
3816:str_merge.c   ****         {
3817:str_merge.c   ****             /* check if it is a dup str */
3818:str_merge.c   ****             if (strres[i].Str[str_res_id] == NULL) 
3819:str_merge.c   ****                 continue;
3820:str_merge.c   **** 
3821:str_merge.c   ****             array_size += ((wcslen(strres[i].Str[str_res_id])+1)*2);
3822:str_merge.c   ****         }
3823:str_merge.c   ****         if(max_zip_len < array_size)
3824:str_merge.c   ****         {
3825:str_merge.c   ****             max_zip_len = array_size;
3826:str_merge.c   ****         }
3827:str_merge.c   **** 
3828:str_merge.c   ****         // Calculate the dest_size, since the dest_size is in-out parameter
3829:str_merge.c   ****         // The size must be large enough. (ulong)
3830:str_merge.c   ****         dest_size = compressBound(array_size);
3831:str_merge.c   **** 
3832:str_merge.c   ****         buffer = malloc(array_size);
3833:str_merge.c   ****         dest_buf = malloc(dest_size);
3834:str_merge.c   ****         buffer[0] = '\0';
3835:str_merge.c   ****         buffer[1] = '\0';
3836:str_merge.c   **** 
3837:str_merge.c   ****         p = buffer+2;
3838:str_merge.c   ****         /* copy string to buffer */
3839:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxNum; str_res_id++)
3840:str_merge.c   ****         {
3841:str_merge.c   ****             /* check if it is a dup str */
3842:str_merge.c   ****             if (strres[i].Str[str_res_id] == NULL) continue;
3843:str_merge.c   ****             
3844:str_merge.c   ****             strsize = (wcslen(strres[i].Str[str_res_id]) + 1) * 2;
3845:str_merge.c   ****             memcpy(p, strres[i].Str[str_res_id], strsize);
3846:str_merge.c   ****             p += strsize;
3847:str_merge.c   ****         }
3848:str_merge.c   ****         
3849:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_%d[%lu]: compress2 input: dest_size=%lu, arra
3850:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Total size of compressing data= %lu bytes (p-buffer), si
3851:str_merge.c   ****         
3852:str_merge.c   ****         compress2(dest_buf, &dest_size, buffer, array_size, Z_BEST_COMPRESSION);
3853:str_merge.c   **** 
3854:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_%d[%lu]: compress2 output: dest_size=%lu, arr
3855:str_merge.c   **** 
3856:str_merge.c   ****         //fprintf(fout_res, "__align(4) CUSTOM_STRING StrRes_%d[%d];\n", old_i + 1, array_size);
3857:str_merge.c   ****         fprintf(fout_res, "// StrRes_zip_%d, DATA SIZE = %d \n", old_i + 1, dest_size);
3858:str_merge.c   ****         fprintf(fout_res, "__align(4) const U8 StrRes_zip_%d[] = {\n", old_i + 1);
3859:str_merge.c   ****         
3860:str_merge.c   **** 
3861:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_%d[%lu]: Started fout_res output",old_i + 1, 
3862:str_merge.c   **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 204


3863:str_merge.c   ****         for (z = 0; z < dest_size-1; ++z)
3864:str_merge.c   ****         {
3865:str_merge.c   ****             if (z %16 == 0)
3866:str_merge.c   ****             {
3867:str_merge.c   ****                 fprintf(fout_res, "\n");
3868:str_merge.c   ****             }
3869:str_merge.c   ****             fprintf(fout_res, "0x%02X, ", dest_buf[z]);
3870:str_merge.c   ****         }
3871:str_merge.c   ****         
3872:str_merge.c   ****         fprintf(fout_res, "0x%02X, ", dest_buf[z]);
3873:str_merge.c   **** 
3874:str_merge.c   ****         append_cat_padding_bytes(fout_res, dest_size);
3875:str_merge.c   **** 
3876:str_merge.c   ****         
3877:str_merge.c   ****         fprintf(fout_res, "};\n");
3878:str_merge.c   **** 
3879:str_merge.c   ****         fprintf(fout_res, "extern const U8 StrMap_zip_%d[];\n\n", old_i + 1);
3880:str_merge.c   **** 
3881:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_%d[%lu]: Finished fout_res output",old_i + 1,
3882:str_merge.c   **** 
3883:str_merge.c   ****         res_size[i] = array_size;
3884:str_merge.c   ****         reszip_size[i] = dest_size;
3885:str_merge.c   **** 
3886:str_merge.c   ****         free(buffer);
3887:str_merge.c   ****         free(dest_buf);  
3888:str_merge.c   **** 
3889:str_merge.c   ****         array_size = 0;
3890:str_merge.c   ****         dest_size = 0;
3891:str_merge.c   **** 
3892:str_merge.c   ****         /*------ output CustStrMap.c ------*/
3893:str_merge.c   **** 
3894:str_merge.c   ****         /* Get 16bit or 32 bit ----Start */
3895:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxID; str_res_id++)
3896:str_merge.c   ****         {
3897:str_merge.c   ****             unsigned int nStringLen = 0;
3898:str_merge.c   ****             int iterator = 0;
3899:str_merge.c   ****             wchar_t *wcString;
3900:str_merge.c   **** 
3901:str_merge.c   ****             if (strres[i].StrRef[str_res_id] == -1)
3902:str_merge.c   ****             {
3903:str_merge.c   ****                 nTotalLen = 0;
3904:str_merge.c   ****             }
3905:str_merge.c   ****             else
3906:str_merge.c   ****             {
3907:str_merge.c   ****                 nTotalLen = 2;
3908:str_merge.c   ****             }
3909:str_merge.c   ****             /* check if it is duplicated */ 
3910:str_merge.c   ****             if (strres[i].is_dup[str_res_id])
3911:str_merge.c   ****             {
3912:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
3913:str_merge.c   ****                 {
3914:str_merge.c   ****                     nStringLen = 0;
3915:str_merge.c   ****                     nStringLen = wcslen(strres_dup->Str[iterator]);
3916:str_merge.c   ****                     wcString = NULL;
3917:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
3918:str_merge.c   ****                 }
3919:str_merge.c   ****                 /* add max_total_len offset to nTotalLen */
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 205


3920:str_merge.c   ****                 nTotalLen += max_total_len;
3921:str_merge.c   ****             }
3922:str_merge.c   ****             else
3923:str_merge.c   ****             {
3924:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
3925:str_merge.c   ****                 {
3926:str_merge.c   ****                     /* ignore dup str */
3927:str_merge.c   ****                     if (strres[i].Str[iterator])
3928:str_merge.c   ****                     {
3929:str_merge.c   ****                         nStringLen = 0;
3930:str_merge.c   ****                         nStringLen = wcslen(strres[i].Str[iterator]);
3931:str_merge.c   ****                         wcString = NULL;
3932:str_merge.c   ****                         nTotalLen += ((nStringLen + 1) * 2);
3933:str_merge.c   ****                     }
3934:str_merge.c   ****                 }
3935:str_merge.c   ****             }
3936:str_merge.c   **** 
3937:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3938:str_merge.c   ****             if (nTotalLen/2 > 0xFFFF)
3939:str_merge.c   ****             {
3940:str_merge.c   ****                 is16bit[i] = MMI_FALSE;
3941:str_merge.c   ****             }
3942:str_merge.c   **** #endif
3943:str_merge.c   ****         }
3944:str_merge.c   ****         /* Get 16bit or 32 bit -----END*/
3945:str_merge.c   ****         
3946:str_merge.c   ****         if (is16bit[i])        
3947:str_merge.c   ****         {
3948:str_merge.c   **** #if !defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
3949:str_merge.c   ****             fprintf(fout_res, "extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\n\n", old_i + 1);
3950:str_merge.c   **** #else
3951:str_merge.c   ****             fprintf(fout_res, "//extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\n\n", old_i + 1);
3952:str_merge.c   **** #endif //__MMI_RESOURCE_STR_ZLIB_COMPRESS__
3953:str_merge.c   ****             array_size = strres[i].MaxID * sizeof(U16);
3954:str_merge.c   ****         }
3955:str_merge.c   ****         else
3956:str_merge.c   ****         {
3957:str_merge.c   **** #if !defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
3958:str_merge.c   ****             fprintf(fout_res, "extern const CUSTOM_STRING_MAP StrMap_%d[];\n\n", old_i + 1);
3959:str_merge.c   **** #else
3960:str_merge.c   ****             fprintf(fout_res, "//extern const CUSTOM_STRING_MAP StrMap_%d[];\n\n", old_i + 1);
3961:str_merge.c   **** #endif //__MMI_RESOURCE_STR_ZLIB_COMPRESS__
3962:str_merge.c   ****             array_size = strres[i].MaxID * sizeof(U32);
3963:str_merge.c   ****         }             
3964:str_merge.c   ****         
3965:str_merge.c   ****         dest_size = compressBound(array_size);
3966:str_merge.c   ****         buffer = malloc(array_size);
3967:str_merge.c   ****         dest_buf = malloc(dest_size);
3968:str_merge.c   ****         
3969:str_merge.c   ****         p = buffer;
3970:str_merge.c   **** 
3971:str_merge.c   ****         /* Write data to buffer */
3972:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxID; str_res_id++)
3973:str_merge.c   ****         {
3974:str_merge.c   ****             unsigned int nStringLen = 0;
3975:str_merge.c   ****             int iterator = 0;
3976:str_merge.c   ****             wchar_t *wcString;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 206


3977:str_merge.c   ****             U32 res;
3978:str_merge.c   ****             U16 res_u16;
3979:str_merge.c   **** 
3980:str_merge.c   ****             if (strres[i].StrRef[str_res_id] == -1)
3981:str_merge.c   ****             {
3982:str_merge.c   ****                 nTotalLen = 0;
3983:str_merge.c   ****             }
3984:str_merge.c   ****             else
3985:str_merge.c   ****             {
3986:str_merge.c   ****                 nTotalLen = 2;
3987:str_merge.c   ****             }
3988:str_merge.c   **** 
3989:str_merge.c   ****             /* check if it is duplicated */ 
3990:str_merge.c   ****             if (strres[i].is_dup[str_res_id])
3991:str_merge.c   ****             {
3992:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
3993:str_merge.c   ****                 {
3994:str_merge.c   ****                     nStringLen = 0;
3995:str_merge.c   ****                     nStringLen = wcslen(strres_dup->Str[iterator]);
3996:str_merge.c   ****                     wcString = NULL;
3997:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
3998:str_merge.c   ****                 }
3999:str_merge.c   ****                 /* add max_total_len offset to nTotalLen */
4000:str_merge.c   ****                 nTotalLen += max_total_len;
4001:str_merge.c   ****             }
4002:str_merge.c   ****             else
4003:str_merge.c   ****             {
4004:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
4005:str_merge.c   ****                 {
4006:str_merge.c   ****                     /* ignore dup str */
4007:str_merge.c   ****                     if (strres[i].Str[iterator])
4008:str_merge.c   ****                     {
4009:str_merge.c   ****                         nStringLen = 0;
4010:str_merge.c   ****                         nStringLen = wcslen(strres[i].Str[iterator]);
4011:str_merge.c   ****                         wcString = NULL;
4012:str_merge.c   ****                         nTotalLen += ((nStringLen + 1) * 2);
4013:str_merge.c   ****                     }
4014:str_merge.c   ****                 }
4015:str_merge.c   ****             }
4016:str_merge.c   **** 
4017:str_merge.c   ****             
4018:str_merge.c   ****             if (is16bit[i])        
4019:str_merge.c   ****             {            
4020:str_merge.c   ****                 res_u16 = nTotalLen / 2;
4021:str_merge.c   ****                 memcpy(p, &res_u16, sizeof(U16));
4022:str_merge.c   ****                 p+=sizeof(U16);
4023:str_merge.c   ****             }
4024:str_merge.c   ****             else
4025:str_merge.c   ****             {
4026:str_merge.c   ****                 res = nTotalLen / 2;
4027:str_merge.c   ****                 memcpy(p, &res, sizeof(U32));
4028:str_merge.c   ****                 p+=sizeof(U32);                
4029:str_merge.c   ****             }
4030:str_merge.c   ****         }
4031:str_merge.c   **** 
4032:str_merge.c   ****         /* compresss data to dest_buf */
4033:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_zip_%d: compress2 input: dest_size=%lu, array_siz
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 207


4034:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Total size of compressing data= %lu bytes (p-buffer), si
4035:str_merge.c   **** 
4036:str_merge.c   ****         compress2(dest_buf, &dest_size, buffer, array_size, Z_BEST_COMPRESSION);
4037:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_zip_%d compress2 output: dest_size=%lu, array_siz
4038:str_merge.c   **** 
4039:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_%d[%lu]: Started fout_res output",old_i + 1, arra
4040:str_merge.c   **** 
4041:str_merge.c   ****         /* Write compressed data to file */
4042:str_merge.c   ****         if (is16bit[i])        
4043:str_merge.c   ****         {
4044:str_merge.c   ****             fprintf(fout_map, "//__align(4) CUSTOM_STRING_MAP_16 StrMap_%d[%d];\n", old_i + 1, arra
4045:str_merge.c   ****         }
4046:str_merge.c   ****         else
4047:str_merge.c   ****         {
4048:str_merge.c   ****             fprintf(fout_map, "//CUSTOM_STRING_MAP StrMap_%d[%d];\n", old_i + 1, array_size/sizeof(
4049:str_merge.c   ****         }
4050:str_merge.c   **** 
4051:str_merge.c   ****         fprintf(fout_map, "// StrMap_zip_%d, DATA SIZE = %d\n", old_i + 1, dest_size);        
4052:str_merge.c   ****         fprintf(fout_map, "__align(4) const U8 StrMap_zip_%d[] = {\n", old_i + 1);
4053:str_merge.c   **** 
4054:str_merge.c   ****         for (z = 0; z < dest_size-1; ++z)
4055:str_merge.c   ****         {
4056:str_merge.c   **** 
4057:str_merge.c   ****             if ((z+1)%16 == 0)
4058:str_merge.c   ****             {
4059:str_merge.c   ****                 fprintf(fout_map, "\n");
4060:str_merge.c   ****             }
4061:str_merge.c   ****             fprintf(fout_map, "0x%02X, ", dest_buf[z]);
4062:str_merge.c   ****         }
4063:str_merge.c   ****         fprintf(fout_map, "0x%02X, ", dest_buf[z]);
4064:str_merge.c   **** 
4065:str_merge.c   ****         append_cat_padding_bytes(fout_map, dest_size);
4066:str_merge.c   **** 
4067:str_merge.c   ****         fprintf(fout_map, "};\n");
4068:str_merge.c   ****         
4069:str_merge.c   ****         
4070:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_%d[%lu]: Finished fout_res output",old_i + 1, arr
4071:str_merge.c   ****         
4072:str_merge.c   ****         map_size[i] = array_size;
4073:str_merge.c   ****         mapzip_size[i] = dest_size;   
4074:str_merge.c   ****         
4075:str_merge.c   ****         free(buffer);
4076:str_merge.c   ****         free(dest_buf);     
4077:str_merge.c   **** 
4078:str_merge.c   ****         array_size = 0;
4079:str_merge.c   ****         dest_size = 0;        
4080:str_merge.c   ****     }
4081:str_merge.c   ****     else
4082:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
4083:str_merge.c   ****     {
4084:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxID; str_res_id++)
 7348              	LM895:
 7349              	LBE47:
 7350 52f7 C745DC00 		movl	$0, -36(%ebp)
 7350      000000
 7351              	L442:
 7352 52fe 8B55E4   		movl	-28(%ebp), %edx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 208


 7353 5301 89D0     		movl	%edx, %eax
 7354 5303 01C0     		addl	%eax, %eax
 7355 5305 01D0     		addl	%edx, %eax
 7356 5307 8D0CC500 		leal	0(,%eax,8), %ecx
 7356      000000
 7357 530e 8B55BC   		movl	-68(%ebp), %edx
 7358 5311 8B45DC   		movl	-36(%ebp), %eax
 7359 5314 3B440A08 		cmpl	8(%edx,%ecx), %eax
 7360 5318 7C05     		jl	L445
 7361 531a E91C0200 		jmp	L443
 7361      00
 7362              	L445:
4085:str_merge.c   ****         {
4086:str_merge.c   ****             unsigned int nStringLen = 0;
 7364              	LM896:
 7365              	LBB48:
 7366 531f C78588DF 		movl	$0, -8312(%ebp)
 7366      FFFF0000 
 7366      0000
4087:str_merge.c   ****             int iterator = 0;
 7368              	LM897:
 7369 5329 C78584DF 		movl	$0, -8316(%ebp)
 7369      FFFF0000 
 7369      0000
4088:str_merge.c   ****             wchar_t *wcString;
4089:str_merge.c   **** 
4090:str_merge.c   ****             if (strres[i].StrRef[str_res_id] == -1)
 7371              	LM898:
 7372 5333 8B55E4   		movl	-28(%ebp), %edx
 7373 5336 89D0     		movl	%edx, %eax
 7374 5338 01C0     		addl	%eax, %eax
 7375 533a 01D0     		addl	%edx, %eax
 7376 533c 8D1CC500 		leal	0(,%eax,8), %ebx
 7376      000000
 7377 5343 8B4DBC   		movl	-68(%ebp), %ecx
 7378 5346 8B45DC   		movl	-36(%ebp), %eax
 7379 5349 8D148500 		leal	0(,%eax,4), %edx
 7379      000000
 7380 5350 8B441904 		movl	4(%ecx,%ebx), %eax
 7381 5354 833C10FF 		cmpl	$-1, (%eax,%edx)
 7382 5358 750C     		jne	L446
4091:str_merge.c   ****             {
4092:str_merge.c   ****                 nTotalLen = 0;
 7384              	LM899:
 7385 535a C7858CDF 		movl	$0, -8308(%ebp)
 7385      FFFF0000 
 7385      0000
 7386 5364 EB0A     		jmp	L447
 7387              	L446:
4093:str_merge.c   ****             }
4094:str_merge.c   ****             else
4095:str_merge.c   ****             {
4096:str_merge.c   ****                 nTotalLen = 2;
 7389              	LM900:
 7390 5366 C7858CDF 		movl	$2, -8308(%ebp)
 7390      FFFF0200 
 7390      0000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 209


 7391              	L447:
4097:str_merge.c   ****             }
4098:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4099:str_merge.c   ****             /* check if it is duplicated */ 
4100:str_merge.c   ****             if (strres[i].is_dup[str_res_id])
 7393              	LM901:
 7394 5370 8B55E4   		movl	-28(%ebp), %edx
 7395 5373 89D0     		movl	%edx, %eax
 7396 5375 01C0     		addl	%eax, %eax
 7397 5377 01D0     		addl	%edx, %eax
 7398 5379 8D0CC500 		leal	0(,%eax,8), %ecx
 7398      000000
 7399 5380 8B55BC   		movl	-68(%ebp), %edx
 7400 5383 8B45DC   		movl	-36(%ebp), %eax
 7401 5386 03440A10 		addl	16(%edx,%ecx), %eax
 7402 538a 803800   		cmpb	$0, (%eax)
 7403 538d 0F84A900 		je	L448
 7403      0000
4101:str_merge.c   ****             {
4102:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
 7405              	LM902:
 7406 5393 C78584DF 		movl	$0, -8316(%ebp)
 7406      FFFF0000 
 7406      0000
 7407              	L449:
 7408 539d 8B55E4   		movl	-28(%ebp), %edx
 7409 53a0 89D0     		movl	%edx, %eax
 7410 53a2 01C0     		addl	%eax, %eax
 7411 53a4 01D0     		addl	%edx, %eax
 7412 53a6 8D1CC500 		leal	0(,%eax,8), %ebx
 7412      000000
 7413 53ad 8B55BC   		movl	-68(%ebp), %edx
 7414 53b0 8B45DC   		movl	-36(%ebp), %eax
 7415 53b3 8D0C8500 		leal	0(,%eax,4), %ecx
 7415      000000
 7416 53ba 8B541A04 		movl	4(%edx,%ebx), %edx
 7417 53be 8B8584DF 		movl	-8316(%ebp), %eax
 7417      FFFF
 7418 53c4 3B040A   		cmpl	(%edx,%ecx), %eax
 7419 53c7 7C02     		jl	L452
 7420 53c9 EB5E     		jmp	L450
 7421              	L452:
4103:str_merge.c   ****                 {
4104:str_merge.c   ****                     nStringLen = 0;
 7423              	LM903:
 7424 53cb C78588DF 		movl	$0, -8312(%ebp)
 7424      FFFF0000 
 7424      0000
4105:str_merge.c   ****                     nStringLen = wcslen(strres_dup->Str[iterator]);
 7426              	LM904:
 7427 53d5 8B8DA0DF 		movl	-8288(%ebp), %ecx
 7427      FFFF
 7428 53db 8B8584DF 		movl	-8316(%ebp), %eax
 7428      FFFF
 7429 53e1 8D148500 		leal	0(,%eax,4), %edx
 7429      000000
 7430 53e8 8B01     		movl	(%ecx), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 210


 7431 53ea 8B0410   		movl	(%eax,%edx), %eax
 7432 53ed 890424   		movl	%eax, (%esp)
 7433 53f0 E8000000 		call	_wcslen
 7433      00
 7434 53f5 898588DF 		movl	%eax, -8312(%ebp)
 7434      FFFF
4106:str_merge.c   ****                     wcString = NULL;
 7436              	LM905:
 7437 53fb C78580DF 		movl	$0, -8320(%ebp)
 7437      FFFF0000 
 7437      0000
4107:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
 7439              	LM906:
 7440 5405 8B8588DF 		movl	-8312(%ebp), %eax
 7440      FFFF
 7441 540b 01C0     		addl	%eax, %eax
 7442 540d 03858CDF 		addl	-8308(%ebp), %eax
 7442      FFFF
 7443 5413 83C002   		addl	$2, %eax
 7444 5416 89858CDF 		movl	%eax, -8308(%ebp)
 7444      FFFF
 7446              	LM907:
 7447 541c 8D8584DF 		leal	-8316(%ebp), %eax
 7447      FFFF
 7448 5422 FF00     		incl	(%eax)
 7449 5424 E974FFFF 		jmp	L449
 7449      FF
 7450              	L450:
4108:str_merge.c   ****                 }
4109:str_merge.c   ****                 /* add max_total_len offset to nTotalLen */
4110:str_merge.c   ****                 nTotalLen += max_total_len;
 7452              	LM908:
 7453 5429 8B959CDF 		movl	-8292(%ebp), %edx
 7453      FFFF
 7454 542f 8D858CDF 		leal	-8308(%ebp), %eax
 7454      FFFF
 7455 5435 0110     		addl	%edx, (%eax)
 7456 5437 E9D00000 		jmp	L453
 7456      00
 7457              	L448:
4111:str_merge.c   ****             }
4112:str_merge.c   ****             else
4113:str_merge.c   ****             {
4114:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
 7459              	LM909:
 7460 543c C78584DF 		movl	$0, -8316(%ebp)
 7460      FFFF0000 
 7460      0000
 7461              	L454:
 7462 5446 8B55E4   		movl	-28(%ebp), %edx
 7463 5449 89D0     		movl	%edx, %eax
 7464 544b 01C0     		addl	%eax, %eax
 7465 544d 01D0     		addl	%edx, %eax
 7466 544f 8D1CC500 		leal	0(,%eax,8), %ebx
 7466      000000
 7467 5456 8B55BC   		movl	-68(%ebp), %edx
 7468 5459 8B45DC   		movl	-36(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 211


 7469 545c 8D0C8500 		leal	0(,%eax,4), %ecx
 7469      000000
 7470 5463 8B541A04 		movl	4(%edx,%ebx), %edx
 7471 5467 8B8584DF 		movl	-8316(%ebp), %eax
 7471      FFFF
 7472 546d 3B040A   		cmpl	(%edx,%ecx), %eax
 7473 5470 7C05     		jl	L457
 7474 5472 E9950000 		jmp	L453
 7474      00
 7475              	L457:
4115:str_merge.c   ****                 {
4116:str_merge.c   ****                     /* ignore dup str */
4117:str_merge.c   ****                     if (strres[i].Str[iterator])
 7477              	LM910:
 7478 5477 8B55E4   		movl	-28(%ebp), %edx
 7479 547a 89D0     		movl	%edx, %eax
 7480 547c 01C0     		addl	%eax, %eax
 7481 547e 01D0     		addl	%edx, %eax
 7482 5480 8D1CC500 		leal	0(,%eax,8), %ebx
 7482      000000
 7483 5487 8B4DBC   		movl	-68(%ebp), %ecx
 7484 548a 8B8584DF 		movl	-8316(%ebp), %eax
 7484      FFFF
 7485 5490 8D148500 		leal	0(,%eax,4), %edx
 7485      000000
 7486 5497 8B0419   		movl	(%ecx,%ebx), %eax
 7487 549a 833C1000 		cmpl	$0, (%eax,%edx)
 7488 549e 745F     		je	L456
4118:str_merge.c   ****                     {
4119:str_merge.c   ****                         nStringLen = 0;
 7490              	LM911:
 7491 54a0 C78588DF 		movl	$0, -8312(%ebp)
 7491      FFFF0000 
 7491      0000
4120:str_merge.c   ****                         nStringLen = wcslen(strres[i].Str[iterator]);
 7493              	LM912:
 7494 54aa 8B55E4   		movl	-28(%ebp), %edx
 7495 54ad 89D0     		movl	%edx, %eax
 7496 54af 01C0     		addl	%eax, %eax
 7497 54b1 01D0     		addl	%edx, %eax
 7498 54b3 8D1CC500 		leal	0(,%eax,8), %ebx
 7498      000000
 7499 54ba 8B4DBC   		movl	-68(%ebp), %ecx
 7500 54bd 8B8584DF 		movl	-8316(%ebp), %eax
 7500      FFFF
 7501 54c3 8D148500 		leal	0(,%eax,4), %edx
 7501      000000
 7502 54ca 8B0419   		movl	(%ecx,%ebx), %eax
 7503 54cd 8B0410   		movl	(%eax,%edx), %eax
 7504 54d0 890424   		movl	%eax, (%esp)
 7505 54d3 E8000000 		call	_wcslen
 7505      00
 7506 54d8 898588DF 		movl	%eax, -8312(%ebp)
 7506      FFFF
4121:str_merge.c   ****                         wcString = NULL;
 7508              	LM913:
 7509 54de C78580DF 		movl	$0, -8320(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 212


 7509      FFFF0000 
 7509      0000
4122:str_merge.c   ****                         nTotalLen += ((nStringLen + 1) * 2);
 7511              	LM914:
 7512 54e8 8B8588DF 		movl	-8312(%ebp), %eax
 7512      FFFF
 7513 54ee 01C0     		addl	%eax, %eax
 7514 54f0 03858CDF 		addl	-8308(%ebp), %eax
 7514      FFFF
 7515 54f6 83C002   		addl	$2, %eax
 7516 54f9 89858CDF 		movl	%eax, -8308(%ebp)
 7516      FFFF
 7518              	LM915:
 7519              	L456:
 7520 54ff 8D8584DF 		leal	-8316(%ebp), %eax
 7520      FFFF
 7521 5505 FF00     		incl	(%eax)
 7522 5507 E93AFFFF 		jmp	L454
 7522      FF
 7523              	L453:
4123:str_merge.c   ****                     }
4124:str_merge.c   ****                 }
4125:str_merge.c   ****             }
4126:str_merge.c   **** 
4127:str_merge.c   ****             if (nTotalLen/2 > 0xFFFF)
 7525              	LM916:
 7526 550c 8B858CDF 		movl	-8308(%ebp), %eax
 7526      FFFF
 7527 5512 D1E8     		shrl	%eax
 7528 5514 3DFFFF00 		cmpl	$65535, %eax
 7528      00
 7529 5519 7616     		jbe	L444
4128:str_merge.c   ****             {
4129:str_merge.c   ****                 is16bit[i] = MMI_FALSE;
 7531              	LM917:
 7532 551b 8B45E4   		movl	-28(%ebp), %eax
 7533 551e 8D148500 		leal	0(,%eax,4), %edx
 7533      000000
 7534 5525 A1C80000 		movl	_is16bit, %eax
 7534      00
 7535 552a C7041000 		movl	$0, (%eax,%edx)
 7535      000000
 7537              	LM918:
 7538              	L444:
 7539 5531 8D45DC   		leal	-36(%ebp), %eax
 7540              	LBE48:
 7541 5534 FF00     		incl	(%eax)
 7542 5536 E9C3FDFF 		jmp	L442
 7542      FF
 7543              	L443:
4130:str_merge.c   ****             }
4131:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4132:str_merge.c   ****             for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
4133:str_merge.c   ****             {
4134:str_merge.c   ****                 nStringLen = 0;
4135:str_merge.c   ****                 nStringLen = wcslen(strres[i].Str[iterator]);
4136:str_merge.c   ****                 wcString = NULL;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 213


4137:str_merge.c   ****                 nTotalLen += ((nStringLen + 1) * 2);
4138:str_merge.c   ****             }
4139:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4140:str_merge.c   **** 
4141:str_merge.c   ****         }
4142:str_merge.c   **** 
4143:str_merge.c   ****         /* output language structure title */
4144:str_merge.c   ****         fprintf(fout_res, "__align(4) const CUSTOM_STRING StrRes_%d[] = {\n", old_i + 1);
 7545              	LM919:
 7546 553b 8B8590DF 		movl	-8304(%ebp), %eax
 7546      FFFF
 7547 5541 40       		incl	%eax
 7548 5542 89442408 		movl	%eax, 8(%esp)
 7549 5546 C7442404 		movl	$LC97, 4(%esp)
 7549      C0480000 
 7550 554e 8B45F4   		movl	-12(%ebp), %eax
 7551 5551 890424   		movl	%eax, (%esp)
 7552 5554 E8000000 		call	_fprintf
 7552      00
4145:str_merge.c   ****         fprintf(fout_meta_res,  "########################################################\n");
 7554              	LM920:
 7555 5559 C7442404 		movl	$LC84, 4(%esp)
 7555      80460000 
 7556 5561 8B45EC   		movl	-20(%ebp), %eax
 7557 5564 890424   		movl	%eax, (%esp)
 7558 5567 E8000000 		call	_fprintf
 7558      00
4146:str_merge.c   ****         fprintf(fout_meta_res,  "TYPE: RES\n");
 7560              	LM921:
 7561 556c C7442404 		movl	$LC85, 4(%esp)
 7561      BA460000 
 7562 5574 8B45EC   		movl	-20(%ebp), %eax
 7563 5577 890424   		movl	%eax, (%esp)
 7564 557a E8000000 		call	_fprintf
 7564      00
4147:str_merge.c   ****         fprintf(fout_meta_res,  "LANG: %d\n", old_i + 1);
 7566              	LM922:
 7567 557f 8B8590DF 		movl	-8304(%ebp), %eax
 7567      FFFF
 7568 5585 40       		incl	%eax
 7569 5586 89442408 		movl	%eax, 8(%esp)
 7570 558a C7442404 		movl	$LC98, 4(%esp)
 7570      F0480000 
 7571 5592 8B45EC   		movl	-20(%ebp), %eax
 7572 5595 890424   		movl	%eax, (%esp)
 7573 5598 E8000000 		call	_fprintf
 7573      00
4148:str_merge.c   ****         fprintf(fout_meta_res,  "MAXNUM: %d\n",strres[old_i].MaxNum);
 7575              	LM923:
 7576 559d 8B9590DF 		movl	-8304(%ebp), %edx
 7576      FFFF
 7577 55a3 89D0     		movl	%edx, %eax
 7578 55a5 01C0     		addl	%eax, %eax
 7579 55a7 01D0     		addl	%edx, %eax
 7580 55a9 8D14C500 		leal	0(,%eax,8), %edx
 7580      000000
 7581 55b0 8B45BC   		movl	-68(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 214


 7582 55b3 8B44100C 		movl	12(%eax,%edx), %eax
 7583 55b7 89442408 		movl	%eax, 8(%esp)
 7584 55bb C7442404 		movl	$LC87, 4(%esp)
 7584      D0460000 
 7585 55c3 8B45EC   		movl	-20(%ebp), %eax
 7586 55c6 890424   		movl	%eax, (%esp)
 7587 55c9 E8000000 		call	_fprintf
 7587      00
4149:str_merge.c   ****         fprintf(fout_meta_res,  "MAXID: %d\n", strres[old_i].MaxID);
 7589              	LM924:
 7590 55ce 8B9590DF 		movl	-8304(%ebp), %edx
 7590      FFFF
 7591 55d4 89D0     		movl	%edx, %eax
 7592 55d6 01C0     		addl	%eax, %eax
 7593 55d8 01D0     		addl	%edx, %eax
 7594 55da 8D14C500 		leal	0(,%eax,8), %edx
 7594      000000
 7595 55e1 8B45BC   		movl	-68(%ebp), %eax
 7596 55e4 8B441008 		movl	8(%eax,%edx), %eax
 7597 55e8 89442408 		movl	%eax, 8(%esp)
 7598 55ec C7442404 		movl	$LC88, 4(%esp)
 7598      DC460000 
 7599 55f4 8B45EC   		movl	-20(%ebp), %eax
 7600 55f7 890424   		movl	%eax, (%esp)
 7601 55fa E8000000 		call	_fprintf
 7601      00
4150:str_merge.c   ****         fprintf(fout_meta_res,  "DATA:\n");
 7603              	LM925:
 7604 55ff C7442404 		movl	$LC99, 4(%esp)
 7604      FA480000 
 7605 5607 8B45EC   		movl	-20(%ebp), %eax
 7606 560a 890424   		movl	%eax, (%esp)
 7607 560d E8000000 		call	_fprintf
 7607      00
4151:str_merge.c   ****         fprintf(fout_meta_res,  "__align(4) const CUSTOM_STRING StrRes_%d[] = {\n", old_i + 1);
 7609              	LM926:
 7610 5612 8B8590DF 		movl	-8304(%ebp), %eax
 7610      FFFF
 7611 5618 40       		incl	%eax
 7612 5619 89442408 		movl	%eax, 8(%esp)
 7613 561d C7442404 		movl	$LC97, 4(%esp)
 7613      C0480000 
 7614 5625 8B45EC   		movl	-20(%ebp), %eax
 7615 5628 890424   		movl	%eax, (%esp)
 7616 562b E8000000 		call	_fprintf
 7616      00
4152:str_merge.c   **** 				
4153:str_merge.c   **** 
4154:str_merge.c   ****         /* output language map meta file*/
4155:str_merge.c   ****         fprintf(fout_meta_map,  "########################################################\n");
 7618              	LM927:
 7619 5630 C7442404 		movl	$LC84, 4(%esp)
 7619      80460000 
 7620 5638 8B45E8   		movl	-24(%ebp), %eax
 7621 563b 890424   		movl	%eax, (%esp)
 7622 563e E8000000 		call	_fprintf
 7622      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 215


4156:str_merge.c   ****         fprintf(fout_meta_map,  "TYPE: MAP\n"); 
 7624              	LM928:
 7625 5643 C7442404 		movl	$LC100, 4(%esp)
 7625      01490000 
 7626 564b 8B45E8   		movl	-24(%ebp), %eax
 7627 564e 890424   		movl	%eax, (%esp)
 7628 5651 E8000000 		call	_fprintf
 7628      00
4157:str_merge.c   **** 		fprintf(fout_meta_map,  "LANG: %d\n", old_i + 1);           
 7630              	LM929:
 7631 5656 8B8590DF 		movl	-8304(%ebp), %eax
 7631      FFFF
 7632 565c 40       		incl	%eax
 7633 565d 89442408 		movl	%eax, 8(%esp)
 7634 5661 C7442404 		movl	$LC98, 4(%esp)
 7634      F0480000 
 7635 5669 8B45E8   		movl	-24(%ebp), %eax
 7636 566c 890424   		movl	%eax, (%esp)
 7637 566f E8000000 		call	_fprintf
 7637      00
4158:str_merge.c   ****         if (is16bit[i])        
 7639              	LM930:
 7640 5674 8B45E4   		movl	-28(%ebp), %eax
 7641 5677 8D148500 		leal	0(,%eax,4), %edx
 7641      000000
 7642 567e A1C80000 		movl	_is16bit, %eax
 7642      00
 7643 5683 833C1000 		cmpl	$0, (%eax,%edx)
 7644 5687 7464     		je	L460
4159:str_merge.c   ****         {
4160:str_merge.c   ****             fprintf(fout_map, "__align(4) const CUSTOM_STRING_MAP_16 StrMap_%d[] = {\n", old_i + 1)
 7646              	LM931:
 7647 5689 8B8590DF 		movl	-8304(%ebp), %eax
 7647      FFFF
 7648 568f 40       		incl	%eax
 7649 5690 89442408 		movl	%eax, 8(%esp)
 7650 5694 C7442404 		movl	$LC101, 4(%esp)
 7650      20490000 
 7651 569c 8B45F0   		movl	-16(%ebp), %eax
 7652 569f 890424   		movl	%eax, (%esp)
 7653 56a2 E8000000 		call	_fprintf
 7653      00
4161:str_merge.c   ****            fprintf(fout_meta_map, "BIT_MODE: 16\n");
 7655              	LM932:
 7656 56a7 C7442404 		movl	$LC102, 4(%esp)
 7656      57490000 
 7657 56af 8B45E8   		movl	-24(%ebp), %eax
 7658 56b2 890424   		movl	%eax, (%esp)
 7659 56b5 E8000000 		call	_fprintf
 7659      00
4162:str_merge.c   ****            fprintf(fout_meta_map, "DATA:\n");
 7661              	LM933:
 7662 56ba C7442404 		movl	$LC99, 4(%esp)
 7662      FA480000 
 7663 56c2 8B45E8   		movl	-24(%ebp), %eax
 7664 56c5 890424   		movl	%eax, (%esp)
 7665 56c8 E8000000 		call	_fprintf
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 216


 7665      00
4163:str_merge.c   ****            fprintf(fout_meta_map, "__align(4) const CUSTOM_STRING_MAP_16 StrMap_%d[] = {\n", old_i 
 7667              	LM934:
 7668 56cd 8B8590DF 		movl	-8304(%ebp), %eax
 7668      FFFF
 7669 56d3 40       		incl	%eax
 7670 56d4 89442408 		movl	%eax, 8(%esp)
 7671 56d8 C7442404 		movl	$LC101, 4(%esp)
 7671      20490000 
 7672 56e0 8B45E8   		movl	-24(%ebp), %eax
 7673 56e3 890424   		movl	%eax, (%esp)
 7674 56e6 E8000000 		call	_fprintf
 7674      00
 7675 56eb EB62     		jmp	L461
 7676              	L460:
4164:str_merge.c   ****            
4165:str_merge.c   ****         }
4166:str_merge.c   ****         else
4167:str_merge.c   ****         {
4168:str_merge.c   ****             fprintf(fout_map, "const CUSTOM_STRING_MAP StrMap_%d[] = {\n", old_i + 1);
 7678              	LM935:
 7679 56ed 8B8590DF 		movl	-8304(%ebp), %eax
 7679      FFFF
 7680 56f3 40       		incl	%eax
 7681 56f4 89442408 		movl	%eax, 8(%esp)
 7682 56f8 C7442404 		movl	$LC103, 4(%esp)
 7682      80490000 
 7683 5700 8B45F0   		movl	-16(%ebp), %eax
 7684 5703 890424   		movl	%eax, (%esp)
 7685 5706 E8000000 		call	_fprintf
 7685      00
4169:str_merge.c   ****             fprintf(fout_meta_map, "BIT_MODE: 32\n");			
 7687              	LM936:
 7688 570b C7442404 		movl	$LC104, 4(%esp)
 7688      A9490000 
 7689 5713 8B45E8   		movl	-24(%ebp), %eax
 7690 5716 890424   		movl	%eax, (%esp)
 7691 5719 E8000000 		call	_fprintf
 7691      00
4170:str_merge.c   ****             fprintf(fout_meta_map, "DATA:\n");			
 7693              	LM937:
 7694 571e C7442404 		movl	$LC99, 4(%esp)
 7694      FA480000 
 7695 5726 8B45E8   		movl	-24(%ebp), %eax
 7696 5729 890424   		movl	%eax, (%esp)
 7697 572c E8000000 		call	_fprintf
 7697      00
4171:str_merge.c   ****             fprintf(fout_meta_map, "const CUSTOM_STRING_MAP StrMap_%d[] = {\n", old_i + 1);
 7699              	LM938:
 7700 5731 8B8590DF 		movl	-8304(%ebp), %eax
 7700      FFFF
 7701 5737 40       		incl	%eax
 7702 5738 89442408 		movl	%eax, 8(%esp)
 7703 573c C7442404 		movl	$LC103, 4(%esp)
 7703      80490000 
 7704 5744 8B45E8   		movl	-24(%ebp), %eax
 7705 5747 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 217


 7706 574a E8000000 		call	_fprintf
 7706      00
 7707              	L461:
4172:str_merge.c   ****         }
4173:str_merge.c   **** 
4174:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4175:str_merge.c   ****         enfb_size = 0;
4176:str_merge.c   ****         enfb_str_mem_size = 0;
4177:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4178:str_merge.c   **** 
4179:str_merge.c   ****         /* output string resource header */
4180:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4181:str_merge.c   ****         fputc(0, fout_enfb);
4182:str_merge.c   ****         fputc(0, fout_enfb);
4183:str_merge.c   ****         enfb_size += 2;
4184:str_merge.c   ****     #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4185:str_merge.c   ****         fputs("0x00, 0x00,\n", fout_res);
 7709              	LM939:
 7710 574f 8B45F4   		movl	-12(%ebp), %eax
 7711 5752 89442404 		movl	%eax, 4(%esp)
 7712 5756 C7042437 		movl	$LC90, (%esp)
 7712      470000
 7713 575d E8000000 		call	_fputs
 7713      00
4186:str_merge.c   ****         fputs("0x00, 0x00,\n", fout_meta_res);
 7715              	LM940:
 7716 5762 8B45EC   		movl	-20(%ebp), %eax
 7717 5765 89442404 		movl	%eax, 4(%esp)
 7718 5769 C7042437 		movl	$LC90, (%esp)
 7718      470000
 7719 5770 E8000000 		call	_fputs
 7719      00
4187:str_merge.c   ****         
4188:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4189:str_merge.c   **** 
4190:str_merge.c   ****         /* output CustStrRes.c */
4191:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxNum; str_res_id++)
 7721              	LM941:
 7722 5775 C745DC00 		movl	$0, -36(%ebp)
 7722      000000
 7723              	L462:
 7724 577c 8B55E4   		movl	-28(%ebp), %edx
 7725 577f 89D0     		movl	%edx, %eax
 7726 5781 01C0     		addl	%eax, %eax
 7727 5783 01D0     		addl	%edx, %eax
 7728 5785 8D0CC500 		leal	0(,%eax,8), %ecx
 7728      000000
 7729 578c 8B55BC   		movl	-68(%ebp), %edx
 7730 578f 8B45DC   		movl	-36(%ebp), %eax
 7731 5792 3B440A0C 		cmpl	12(%edx,%ecx), %eax
 7732 5796 7C05     		jl	L465
 7733 5798 E9330100 		jmp	L463
 7733      00
 7734              	L465:
4192:str_merge.c   ****         {
4193:str_merge.c   ****             unsigned short nStringLen = 0;
 7736              	LM942:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 218


 7737              	LBB49:
 7738 579d 66C78596 		movw	$0, -8298(%ebp)
 7738      DFFFFF00 
 7738      00
4194:str_merge.c   **** 
4195:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__            
4196:str_merge.c   ****             /* check if it is a dup str */
4197:str_merge.c   ****             if (strres[i].Str[str_res_id] == NULL) continue;
 7740              	LM943:
 7741 57a6 8B55E4   		movl	-28(%ebp), %edx
 7742 57a9 89D0     		movl	%edx, %eax
 7743 57ab 01C0     		addl	%eax, %eax
 7744 57ad 01D0     		addl	%edx, %eax
 7745 57af 8D1CC500 		leal	0(,%eax,8), %ebx
 7745      000000
 7746 57b6 8B4DBC   		movl	-68(%ebp), %ecx
 7747 57b9 8B45DC   		movl	-36(%ebp), %eax
 7748 57bc 8D148500 		leal	0(,%eax,4), %edx
 7748      000000
 7749 57c3 8B0419   		movl	(%ecx,%ebx), %eax
 7750 57c6 833C1000 		cmpl	$0, (%eax,%edx)
 7751 57ca 7505     		jne	L466
 7752 57cc E9F50000 		jmp	L464
 7752      00
 7753              	L466:
4198:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4199:str_merge.c   ****         #ifndef __UCS2_ENCODING
4200:str_merge.c   ****             fprintf(fout_res, "\"%s\",\n", strres[i].Str[str_res_id]);
4201:str_merge.c   ****             fprintf(fout_meta_res, "\"%s\",\n", strres[i].Str[str_res_id]);
4202:str_merge.c   ****         #else /* __UCS2_ENCODING */
4203:str_merge.c   ****             nStringLen = wcslen(strres[i].Str[str_res_id]);
 7755              	LM944:
 7756 57d1 8B55E4   		movl	-28(%ebp), %edx
 7757 57d4 89D0     		movl	%edx, %eax
 7758 57d6 01C0     		addl	%eax, %eax
 7759 57d8 01D0     		addl	%edx, %eax
 7760 57da 8D1CC500 		leal	0(,%eax,8), %ebx
 7760      000000
 7761 57e1 8B4DBC   		movl	-68(%ebp), %ecx
 7762 57e4 8B45DC   		movl	-36(%ebp), %eax
 7763 57e7 8D148500 		leal	0(,%eax,4), %edx
 7763      000000
 7764 57ee 8B0419   		movl	(%ecx,%ebx), %eax
 7765 57f1 8B0410   		movl	(%eax,%edx), %eax
 7766 57f4 890424   		movl	%eax, (%esp)
 7767 57f7 E8000000 		call	_wcslen
 7767      00
 7768 57fc 66898596 		movw	%ax, -8298(%ebp)
 7768      DFFFFF
4204:str_merge.c   **** 
4205:str_merge.c   ****             for (z = 0; z < nStringLen * 2; ++z)
 7770              	LM945:
 7771 5803 66C745DA 		movw	$0, -38(%ebp)
 7771      0000
 7772              	L467:
 7773 5809 0FB755DA 		movzwl	-38(%ebp), %edx
 7774 580d 0FB78596 		movzwl	-8298(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 219


 7774      DFFFFF
 7775 5814 01C0     		addl	%eax, %eax
 7776 5816 39C2     		cmpl	%eax, %edx
 7777 5818 7C05     		jl	L470
 7778 581a E9810000 		jmp	L468
 7778      00
 7779              	L470:
4206:str_merge.c   ****             {
4207:str_merge.c   ****                 unsigned char *abc = (unsigned char*)strres[i].Str[str_res_id];
 7781              	LM946:
 7782              	LBB50:
 7783 581f 8B55E4   		movl	-28(%ebp), %edx
 7784 5822 89D0     		movl	%edx, %eax
 7785 5824 01C0     		addl	%eax, %eax
 7786 5826 01D0     		addl	%edx, %eax
 7787 5828 8D1CC500 		leal	0(,%eax,8), %ebx
 7787      000000
 7788 582f 8B4DBC   		movl	-68(%ebp), %ecx
 7789 5832 8B45DC   		movl	-36(%ebp), %eax
 7790 5835 8D148500 		leal	0(,%eax,4), %edx
 7790      000000
 7791 583c 8B0419   		movl	(%ecx,%ebx), %eax
 7792 583f 8B0410   		movl	(%eax,%edx), %eax
 7793 5842 898580DF 		movl	%eax, -8320(%ebp)
 7793      FFFF
4208:str_merge.c   **** 
4209:str_merge.c   ****             #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4210:str_merge.c   ****                 fputc(abc[z], fout_enfb);
4211:str_merge.c   ****                 enfb_size++;
4212:str_merge.c   ****             #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4213:str_merge.c   ****                 fprintf(fout_res, "0x%X, ", abc[z]);
 7795              	LM947:
 7796 5848 0FB755DA 		movzwl	-38(%ebp), %edx
 7797 584c 8B8580DF 		movl	-8320(%ebp), %eax
 7797      FFFF
 7798 5852 0FB60402 		movzbl	(%edx,%eax), %eax
 7799 5856 89442408 		movl	%eax, 8(%esp)
 7800 585a C7442404 		movl	$LC91, 4(%esp)
 7800      44470000 
 7801 5862 8B45F4   		movl	-12(%ebp), %eax
 7802 5865 890424   		movl	%eax, (%esp)
 7803 5868 E8000000 		call	_fprintf
 7803      00
4214:str_merge.c   ****                 fprintf(fout_meta_res, "0x%X, ", abc[z]);                
 7805              	LM948:
 7806 586d 0FB755DA 		movzwl	-38(%ebp), %edx
 7807 5871 8B8580DF 		movl	-8320(%ebp), %eax
 7807      FFFF
 7808 5877 0FB60402 		movzbl	(%edx,%eax), %eax
 7809 587b 89442408 		movl	%eax, 8(%esp)
 7810 587f C7442404 		movl	$LC91, 4(%esp)
 7810      44470000 
 7811 5887 8B45EC   		movl	-20(%ebp), %eax
 7812 588a 890424   		movl	%eax, (%esp)
 7813 588d E8000000 		call	_fprintf
 7813      00
 7815              	LM949:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 220


 7816              	LBE50:
 7817 5892 0FB745DA 		movzwl	-38(%ebp), %eax
 7818 5896 40       		incl	%eax
 7819 5897 668945DA 		movw	%ax, -38(%ebp)
 7820 589b E969FFFF 		jmp	L467
 7820      FF
 7821              	L468:
4215:str_merge.c   ****             #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4216:str_merge.c   ****             }
4217:str_merge.c   **** 
4218:str_merge.c   ****         #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4219:str_merge.c   ****             fputc(0, fout_enfb);
4220:str_merge.c   ****             fputc(0, fout_enfb);
4221:str_merge.c   ****             enfb_size += 2;
4222:str_merge.c   ****         #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4223:str_merge.c   ****             fputs("0x00, 0x00,\n", fout_res);
 7823              	LM950:
 7824 58a0 8B45F4   		movl	-12(%ebp), %eax
 7825 58a3 89442404 		movl	%eax, 4(%esp)
 7826 58a7 C7042437 		movl	$LC90, (%esp)
 7826      470000
 7827 58ae E8000000 		call	_fputs
 7827      00
4224:str_merge.c   ****             fputs("0x00, 0x00,\n", fout_meta_res);
 7829              	LM951:
 7830 58b3 8B45EC   		movl	-20(%ebp), %eax
 7831 58b6 89442404 		movl	%eax, 4(%esp)
 7832 58ba C7042437 		movl	$LC90, (%esp)
 7832      470000
 7833 58c1 E8000000 		call	_fputs
 7833      00
 7835              	LM952:
 7836              	L464:
 7837 58c6 8D45DC   		leal	-36(%ebp), %eax
 7838              	LBE49:
 7839 58c9 FF00     		incl	(%eax)
 7840 58cb E9ACFEFF 		jmp	L462
 7840      FF
 7841              	L463:
4225:str_merge.c   ****         #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4226:str_merge.c   ****     #endif /* __UCS2_ENCODING */
4227:str_merge.c   ****         }
4228:str_merge.c   **** 
4229:str_merge.c   ****         /* output ENFB string resource header */
4230:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4231:str_merge.c   ****         fprintf(fout_res,
4232:str_merge.c   ****                 "\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 
4233:str_merge.c   ****                 (U8)255,    /* type */
4234:str_merge.c   ****                 (U8)0,      /* reserved */
4235:str_merge.c   ****                 (U8)0,      /* reserved */
4236:str_merge.c   ****                 (U8)0,      /* reserved */
4237:str_merge.c   ****                 (U8)(enfb_offset & 0xFF),
4238:str_merge.c   ****                 (U8)((enfb_offset >> 8) & 0xFF),
4239:str_merge.c   ****                 (U8)((enfb_offset >> 16) & 0xFF),
4240:str_merge.c   ****                 (U8)((enfb_offset >> 24) & 0xFF),
4241:str_merge.c   ****                 (U8)(enfb_size & 0xFF),
4242:str_merge.c   ****                 (U8)((enfb_size >> 8) & 0xFF),
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 221


4243:str_merge.c   ****                 (U8)((enfb_size >> 16) & 0xFF),
4244:str_merge.c   ****                 (U8)((enfb_size >> 24) & 0xFF));
4245:str_merge.c   ****         enfb_offset += enfb_size;
4246:str_merge.c   ****         enfb_str_mem_size += enfb_size;
4247:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4248:str_merge.c   **** 
4249:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4250:str_merge.c   ****         enfb_size = 0;
4251:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4252:str_merge.c   **** 
4253:str_merge.c   ****         /* output CustStrMap.c */
4254:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxID; str_res_id++)
 7843              	LM953:
 7844 58d0 C745DC00 		movl	$0, -36(%ebp)
 7844      000000
 7845              	L471:
 7846 58d7 8B55E4   		movl	-28(%ebp), %edx
 7847 58da 89D0     		movl	%edx, %eax
 7848 58dc 01C0     		addl	%eax, %eax
 7849 58de 01D0     		addl	%edx, %eax
 7850 58e0 8D0CC500 		leal	0(,%eax,8), %ecx
 7850      000000
 7851 58e7 8B55BC   		movl	-68(%ebp), %edx
 7852 58ea 8B45DC   		movl	-36(%ebp), %eax
 7853 58ed 3B440A08 		cmpl	8(%edx,%ecx), %eax
 7854 58f1 7C05     		jl	L474
 7855 58f3 E9710200 		jmp	L472
 7855      00
 7856              	L474:
4255:str_merge.c   ****         {
4256:str_merge.c   ****             unsigned int nStringLen = 0;
 7858              	LM954:
 7859              	LBB51:
 7860 58f8 C78580DF 		movl	$0, -8320(%ebp)
 7860      FFFF0000 
 7860      0000
4257:str_merge.c   ****             int iterator = 0;
 7862              	LM955:
 7863 5902 C78584DF 		movl	$0, -8316(%ebp)
 7863      FFFF0000 
 7863      0000
4258:str_merge.c   ****             wchar_t *wcString;
4259:str_merge.c   **** 
4260:str_merge.c   ****             if (strres[i].StrRef[str_res_id] == -1)
 7865              	LM956:
 7866 590c 8B55E4   		movl	-28(%ebp), %edx
 7867 590f 89D0     		movl	%edx, %eax
 7868 5911 01C0     		addl	%eax, %eax
 7869 5913 01D0     		addl	%edx, %eax
 7870 5915 8D1CC500 		leal	0(,%eax,8), %ebx
 7870      000000
 7871 591c 8B4DBC   		movl	-68(%ebp), %ecx
 7872 591f 8B45DC   		movl	-36(%ebp), %eax
 7873 5922 8D148500 		leal	0(,%eax,4), %edx
 7873      000000
 7874 5929 8B441904 		movl	4(%ecx,%ebx), %eax
 7875 592d 833C10FF 		cmpl	$-1, (%eax,%edx)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 222


 7876 5931 750C     		jne	L475
4261:str_merge.c   ****             {
4262:str_merge.c   ****                 nTotalLen = 0;
 7878              	LM957:
 7879 5933 C7858CDF 		movl	$0, -8308(%ebp)
 7879      FFFF0000 
 7879      0000
 7880 593d EB0A     		jmp	L476
 7881              	L475:
4263:str_merge.c   ****             }
4264:str_merge.c   ****             else
4265:str_merge.c   ****             {
4266:str_merge.c   ****                 nTotalLen = 2;
 7883              	LM958:
 7884 593f C7858CDF 		movl	$2, -8308(%ebp)
 7884      FFFF0200 
 7884      0000
 7885              	L476:
4267:str_merge.c   ****             }
4268:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4269:str_merge.c   ****             /* check if it is duplicated */ 
4270:str_merge.c   ****             if (strres[i].is_dup[str_res_id])
 7887              	LM959:
 7888 5949 8B55E4   		movl	-28(%ebp), %edx
 7889 594c 89D0     		movl	%edx, %eax
 7890 594e 01C0     		addl	%eax, %eax
 7891 5950 01D0     		addl	%edx, %eax
 7892 5952 8D0CC500 		leal	0(,%eax,8), %ecx
 7892      000000
 7893 5959 8B55BC   		movl	-68(%ebp), %edx
 7894 595c 8B45DC   		movl	-36(%ebp), %eax
 7895 595f 03440A10 		addl	16(%edx,%ecx), %eax
 7896 5963 803800   		cmpb	$0, (%eax)
 7897 5966 0F84A900 		je	L477
 7897      0000
4271:str_merge.c   ****             {
4272:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
 7899              	LM960:
 7900 596c C78584DF 		movl	$0, -8316(%ebp)
 7900      FFFF0000 
 7900      0000
 7901              	L478:
 7902 5976 8B55E4   		movl	-28(%ebp), %edx
 7903 5979 89D0     		movl	%edx, %eax
 7904 597b 01C0     		addl	%eax, %eax
 7905 597d 01D0     		addl	%edx, %eax
 7906 597f 8D1CC500 		leal	0(,%eax,8), %ebx
 7906      000000
 7907 5986 8B55BC   		movl	-68(%ebp), %edx
 7908 5989 8B45DC   		movl	-36(%ebp), %eax
 7909 598c 8D0C8500 		leal	0(,%eax,4), %ecx
 7909      000000
 7910 5993 8B541A04 		movl	4(%edx,%ebx), %edx
 7911 5997 8B8584DF 		movl	-8316(%ebp), %eax
 7911      FFFF
 7912 599d 3B040A   		cmpl	(%edx,%ecx), %eax
 7913 59a0 7C02     		jl	L481
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 223


 7914 59a2 EB5E     		jmp	L479
 7915              	L481:
4273:str_merge.c   ****                 {
4274:str_merge.c   ****                     nStringLen = 0;
 7917              	LM961:
 7918 59a4 C78580DF 		movl	$0, -8320(%ebp)
 7918      FFFF0000 
 7918      0000
4275:str_merge.c   ****                     nStringLen = wcslen(strres_dup->Str[iterator]);
 7920              	LM962:
 7921 59ae 8B8DA0DF 		movl	-8288(%ebp), %ecx
 7921      FFFF
 7922 59b4 8B8584DF 		movl	-8316(%ebp), %eax
 7922      FFFF
 7923 59ba 8D148500 		leal	0(,%eax,4), %edx
 7923      000000
 7924 59c1 8B01     		movl	(%ecx), %eax
 7925 59c3 8B0410   		movl	(%eax,%edx), %eax
 7926 59c6 890424   		movl	%eax, (%esp)
 7927 59c9 E8000000 		call	_wcslen
 7927      00
 7928 59ce 898580DF 		movl	%eax, -8320(%ebp)
 7928      FFFF
4276:str_merge.c   ****                     wcString = NULL;
 7930              	LM963:
 7931 59d4 C78588DF 		movl	$0, -8312(%ebp)
 7931      FFFF0000 
 7931      0000
4277:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
 7933              	LM964:
 7934 59de 8B8580DF 		movl	-8320(%ebp), %eax
 7934      FFFF
 7935 59e4 01C0     		addl	%eax, %eax
 7936 59e6 03858CDF 		addl	-8308(%ebp), %eax
 7936      FFFF
 7937 59ec 83C002   		addl	$2, %eax
 7938 59ef 89858CDF 		movl	%eax, -8308(%ebp)
 7938      FFFF
 7940              	LM965:
 7941 59f5 8D8584DF 		leal	-8316(%ebp), %eax
 7941      FFFF
 7942 59fb FF00     		incl	(%eax)
 7943 59fd E974FFFF 		jmp	L478
 7943      FF
 7944              	L479:
4278:str_merge.c   ****                 }
4279:str_merge.c   ****                 /* add max_total_len offset to nTotalLen */
4280:str_merge.c   ****                 nTotalLen += max_total_len;
 7946              	LM966:
 7947 5a02 8B959CDF 		movl	-8292(%ebp), %edx
 7947      FFFF
 7948 5a08 8D858CDF 		leal	-8308(%ebp), %eax
 7948      FFFF
 7949 5a0e 0110     		addl	%edx, (%eax)
 7950 5a10 E9D00000 		jmp	L482
 7950      00
 7951              	L477:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 224


4281:str_merge.c   ****             }
4282:str_merge.c   ****             else
4283:str_merge.c   ****             {
4284:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
 7953              	LM967:
 7954 5a15 C78584DF 		movl	$0, -8316(%ebp)
 7954      FFFF0000 
 7954      0000
 7955              	L483:
 7956 5a1f 8B55E4   		movl	-28(%ebp), %edx
 7957 5a22 89D0     		movl	%edx, %eax
 7958 5a24 01C0     		addl	%eax, %eax
 7959 5a26 01D0     		addl	%edx, %eax
 7960 5a28 8D1CC500 		leal	0(,%eax,8), %ebx
 7960      000000
 7961 5a2f 8B55BC   		movl	-68(%ebp), %edx
 7962 5a32 8B45DC   		movl	-36(%ebp), %eax
 7963 5a35 8D0C8500 		leal	0(,%eax,4), %ecx
 7963      000000
 7964 5a3c 8B541A04 		movl	4(%edx,%ebx), %edx
 7965 5a40 8B8584DF 		movl	-8316(%ebp), %eax
 7965      FFFF
 7966 5a46 3B040A   		cmpl	(%edx,%ecx), %eax
 7967 5a49 7C05     		jl	L486
 7968 5a4b E9950000 		jmp	L482
 7968      00
 7969              	L486:
4285:str_merge.c   ****                 {
4286:str_merge.c   ****                     /* ignore dup str */
4287:str_merge.c   ****                     if (strres[i].Str[iterator])
 7971              	LM968:
 7972 5a50 8B55E4   		movl	-28(%ebp), %edx
 7973 5a53 89D0     		movl	%edx, %eax
 7974 5a55 01C0     		addl	%eax, %eax
 7975 5a57 01D0     		addl	%edx, %eax
 7976 5a59 8D1CC500 		leal	0(,%eax,8), %ebx
 7976      000000
 7977 5a60 8B4DBC   		movl	-68(%ebp), %ecx
 7978 5a63 8B8584DF 		movl	-8316(%ebp), %eax
 7978      FFFF
 7979 5a69 8D148500 		leal	0(,%eax,4), %edx
 7979      000000
 7980 5a70 8B0419   		movl	(%ecx,%ebx), %eax
 7981 5a73 833C1000 		cmpl	$0, (%eax,%edx)
 7982 5a77 745F     		je	L485
4288:str_merge.c   ****                     {
4289:str_merge.c   ****                     nStringLen = 0;
 7984              	LM969:
 7985 5a79 C78580DF 		movl	$0, -8320(%ebp)
 7985      FFFF0000 
 7985      0000
4290:str_merge.c   ****                     nStringLen = wcslen(strres[i].Str[iterator]);
 7987              	LM970:
 7988 5a83 8B55E4   		movl	-28(%ebp), %edx
 7989 5a86 89D0     		movl	%edx, %eax
 7990 5a88 01C0     		addl	%eax, %eax
 7991 5a8a 01D0     		addl	%edx, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 225


 7992 5a8c 8D1CC500 		leal	0(,%eax,8), %ebx
 7992      000000
 7993 5a93 8B4DBC   		movl	-68(%ebp), %ecx
 7994 5a96 8B8584DF 		movl	-8316(%ebp), %eax
 7994      FFFF
 7995 5a9c 8D148500 		leal	0(,%eax,4), %edx
 7995      000000
 7996 5aa3 8B0419   		movl	(%ecx,%ebx), %eax
 7997 5aa6 8B0410   		movl	(%eax,%edx), %eax
 7998 5aa9 890424   		movl	%eax, (%esp)
 7999 5aac E8000000 		call	_wcslen
 7999      00
 8000 5ab1 898580DF 		movl	%eax, -8320(%ebp)
 8000      FFFF
4291:str_merge.c   ****                     wcString = NULL;
 8002              	LM971:
 8003 5ab7 C78588DF 		movl	$0, -8312(%ebp)
 8003      FFFF0000 
 8003      0000
4292:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
 8005              	LM972:
 8006 5ac1 8B8580DF 		movl	-8320(%ebp), %eax
 8006      FFFF
 8007 5ac7 01C0     		addl	%eax, %eax
 8008 5ac9 03858CDF 		addl	-8308(%ebp), %eax
 8008      FFFF
 8009 5acf 83C002   		addl	$2, %eax
 8010 5ad2 89858CDF 		movl	%eax, -8308(%ebp)
 8010      FFFF
 8012              	LM973:
 8013              	L485:
 8014 5ad8 8D8584DF 		leal	-8316(%ebp), %eax
 8014      FFFF
 8015 5ade FF00     		incl	(%eax)
 8016 5ae0 E93AFFFF 		jmp	L483
 8016      FF
 8017              	L482:
4293:str_merge.c   ****                     }
4294:str_merge.c   ****                 }
4295:str_merge.c   ****             }
4296:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4297:str_merge.c   **** 
4298:str_merge.c   ****             for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
4299:str_merge.c   ****             {
4300:str_merge.c   ****                 nStringLen = 0;
4301:str_merge.c   ****                 nStringLen = wcslen(strres[i].Str[iterator]);
4302:str_merge.c   ****                 wcString = NULL;
4303:str_merge.c   ****                 nTotalLen += ((nStringLen + 1) * 2);
4304:str_merge.c   ****             }
4305:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4306:str_merge.c   ****         StrSize[StrID[str_res_id]] += ((nStringLen + 1) * 2);
 8019              	LM974:
 8020 5ae5 8B45DC   		movl	-36(%ebp), %eax
 8021 5ae8 8D1400   		leal	(%eax,%eax), %edx
 8022 5aeb A1180000 		movl	_StrID, %eax
 8022      00
 8023 5af0 0FB70C10 		movzwl	(%eax,%edx), %ecx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 226


 8024 5af4 8B45DC   		movl	-36(%ebp), %eax
 8025 5af7 8D1400   		leal	(%eax,%eax), %edx
 8026 5afa A1180000 		movl	_StrID, %eax
 8026      00
 8027 5aff 0FB71410 		movzwl	(%eax,%edx), %edx
 8028 5b03 8B8580DF 		movl	-8320(%ebp), %eax
 8028      FFFF
 8029 5b09 01C0     		addl	%eax, %eax
 8030 5b0b 0FB79412 		movzwl	_StrSize(%edx,%edx), %edx
 8030      D8000200 
 8031 5b13 8D0410   		leal	(%eax,%edx), %eax
 8032 5b16 83C002   		addl	$2, %eax
 8033 5b19 66898409 		movw	%ax, _StrSize(%ecx,%ecx)
 8033      D8000200 
4307:str_merge.c   **** 
4308:str_merge.c   ****         #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4309:str_merge.c   ****             fputc(((nTotalLen / 2) & 0xFF), fout_enfb);
4310:str_merge.c   ****             fputc((((nTotalLen / 2) >> 8) & 0xFF), fout_enfb);
4311:str_merge.c   ****             fputc((((nTotalLen / 2) >> 16) & 0xFF), fout_enfb);
4312:str_merge.c   ****             fputc((((nTotalLen / 2) >> 24) & 0xFF), fout_enfb);
4313:str_merge.c   ****             enfb_size += 4;
4314:str_merge.c   ****         #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4315:str_merge.c   ****             fprintf(fout_map, "\t%ld,\n", nTotalLen / 2);
 8035              	LM975:
 8036 5b21 8B858CDF 		movl	-8308(%ebp), %eax
 8036      FFFF
 8037 5b27 D1E8     		shrl	%eax
 8038 5b29 89442408 		movl	%eax, 8(%esp)
 8039 5b2d C7442404 		movl	$LC105, 4(%esp)
 8039      B7490000 
 8040 5b35 8B45F0   		movl	-16(%ebp), %eax
 8041 5b38 890424   		movl	%eax, (%esp)
 8042 5b3b E8000000 		call	_fprintf
 8042      00
4316:str_merge.c   ****             fprintf(fout_meta_map, "\t%ld,\n", nTotalLen / 2);
 8044              	LM976:
 8045 5b40 8B858CDF 		movl	-8308(%ebp), %eax
 8045      FFFF
 8046 5b46 D1E8     		shrl	%eax
 8047 5b48 89442408 		movl	%eax, 8(%esp)
 8048 5b4c C7442404 		movl	$LC105, 4(%esp)
 8048      B7490000 
 8049 5b54 8B45E8   		movl	-24(%ebp), %eax
 8050 5b57 890424   		movl	%eax, (%esp)
 8051 5b5a E8000000 		call	_fprintf
 8051      00
 8053              	LM977:
 8054 5b5f 8D45DC   		leal	-36(%ebp), %eax
 8055              	LBE51:
 8056 5b62 FF00     		incl	(%eax)
 8057 5b64 E96EFDFF 		jmp	L471
 8057      FF
 8058              	L472:
4317:str_merge.c   ****         #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4318:str_merge.c   ****         }
4319:str_merge.c   **** 
4320:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 227


4321:str_merge.c   ****         fprintf(fout_map, "\t%d, %d\n", enfb_offset, enfb_size);
4322:str_merge.c   ****         enfb_offset += enfb_size;
4323:str_merge.c   ****         enfb_str_mem_size += enfb_size;
4324:str_merge.c   ****         if (enfb_str_mem_size > enfb_max_mem_size)
4325:str_merge.c   ****         {
4326:str_merge.c   ****             enfb_max_mem_size = enfb_str_mem_size;
4327:str_merge.c   ****         }
4328:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4329:str_merge.c   **** 
4330:str_merge.c   ****         fprintf(fout_res, "};\n");
 8060              	LM978:
 8061 5b69 C7442404 		movl	$LC92, 4(%esp)
 8061      4B470000 
 8062 5b71 8B45F4   		movl	-12(%ebp), %eax
 8063 5b74 890424   		movl	%eax, (%esp)
 8064 5b77 E8000000 		call	_fprintf
 8064      00
4331:str_merge.c   ****         fprintf(fout_meta_res, "};\n");
 8066              	LM979:
 8067 5b7c C7442404 		movl	$LC92, 4(%esp)
 8067      4B470000 
 8068 5b84 8B45EC   		movl	-20(%ebp), %eax
 8069 5b87 890424   		movl	%eax, (%esp)
 8070 5b8a E8000000 		call	_fprintf
 8070      00
4332:str_merge.c   ****         fprintf(fout_map, "};\n");
 8072              	LM980:
 8073 5b8f C7442404 		movl	$LC92, 4(%esp)
 8073      4B470000 
 8074 5b97 8B45F0   		movl	-16(%ebp), %eax
 8075 5b9a 890424   		movl	%eax, (%esp)
 8076 5b9d E8000000 		call	_fprintf
 8076      00
4333:str_merge.c   ****         fprintf(fout_meta_map, "};\n");
 8078              	LM981:
 8079 5ba2 C7442404 		movl	$LC92, 4(%esp)
 8079      4B470000 
 8080 5baa 8B45E8   		movl	-24(%ebp), %eax
 8081 5bad 890424   		movl	%eax, (%esp)
 8082 5bb0 E8000000 		call	_fprintf
 8082      00
4334:str_merge.c   ****         
4335:str_merge.c   ****         if (is16bit[i])        
 8084              	LM982:
 8085 5bb5 8B45E4   		movl	-28(%ebp), %eax
 8086 5bb8 8D148500 		leal	0(,%eax,4), %edx
 8086      000000
 8087 5bbf A1C80000 		movl	_is16bit, %eax
 8087      00
 8088 5bc4 833C1000 		cmpl	$0, (%eax,%edx)
 8089 5bc8 7420     		je	L488
4336:str_merge.c   ****         {
4337:str_merge.c   ****         #if !defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
4338:str_merge.c   ****             fprintf(fout_res, "extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\n\n", old_i + 1);
 8091              	LM983:
 8092 5bca 8B8590DF 		movl	-8304(%ebp), %eax
 8092      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 228


 8093 5bd0 40       		incl	%eax
 8094 5bd1 89442408 		movl	%eax, 8(%esp)
 8095 5bd5 C7442404 		movl	$LC106, 4(%esp)
 8095      C0490000 
 8096 5bdd 8B45F4   		movl	-12(%ebp), %eax
 8097 5be0 890424   		movl	%eax, (%esp)
 8098 5be3 E8000000 		call	_fprintf
 8098      00
 8099 5be8 EB1E     		jmp	L489
 8100              	L488:
4339:str_merge.c   ****         #else
4340:str_merge.c   ****             fprintf(fout_res, "//extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\n\n", old_i + 1);
4341:str_merge.c   ****         #endif // __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4342:str_merge.c   ****         }
4343:str_merge.c   ****         else
4344:str_merge.c   ****         {
4345:str_merge.c   ****       	#if !defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
4346:str_merge.c   ****             fprintf(fout_res, "extern const CUSTOM_STRING_MAP StrMap_%d[];\n\n", old_i + 1);
 8102              	LM984:
 8103 5bea 8B8590DF 		movl	-8304(%ebp), %eax
 8103      FFFF
 8104 5bf0 40       		incl	%eax
 8105 5bf1 89442408 		movl	%eax, 8(%esp)
 8106 5bf5 C7442404 		movl	$LC107, 4(%esp)
 8106      004A0000 
 8107 5bfd 8B45F4   		movl	-12(%ebp), %eax
 8108 5c00 890424   		movl	%eax, (%esp)
 8109 5c03 E8000000 		call	_fprintf
 8109      00
 8110              	L489:
4347:str_merge.c   ****         #else
4348:str_merge.c   ****             fprintf(fout_res, "//extern const CUSTOM_STRING_MAP StrMap_%d[];\n\n", old_i + 1);
4349:str_merge.c   ****         #endif
4350:str_merge.c   ****         }        
4351:str_merge.c   ****         }
4352:str_merge.c   ****         i = old_i;
 8112              	LM985:
 8113 5c08 8B8590DF 		movl	-8304(%ebp), %eax
 8113      FFFF
 8114 5c0e 8945E4   		movl	%eax, -28(%ebp)
 8116              	LM986:
 8117 5c11 8D45E4   		leal	-28(%ebp), %eax
 8118              	LBE46:
 8119 5c14 FF00     		incl	(%eax)
 8120 5c16 E905F6FF 		jmp	L437
 8120      FF
 8121              	L438:
4353:str_merge.c   ****     }
4354:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
4355:str_merge.c   ****     fprintf(fout_res, "//__align(4) CUSTOM_STRING StrRes[%d];\n", max_zip_len);
4356:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
4357:str_merge.c   **** 
4358:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4359:str_merge.c   ****     {   /* output ENFB string resource header for RESMEM */
4360:str_merge.c   ****         FILE *fp = fopen(ENFB_STRING_HEADER_FILENAME, "w");
4361:str_merge.c   **** 
4362:str_merge.c   ****         if (fp == NULL)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 229


4363:str_merge.c   ****         {
4364:str_merge.c   ****             STRMERG_LOG_E("File open error (%s) ...!", ENFB_STRING_HEADER_FILENAME);
4365:str_merge.c   ****             goto GEN_STR_ERR_RET;
4366:str_merge.c   ****         }
4367:str_merge.c   ****         fprintf(fp, "\n#ifdef __MMI_RESOURCE_ENFB_SUPPORT__\n");
4368:str_merge.c   ****         fprintf(fp, "#define MaxENFBStringSize\t%d\n", enfb_max_mem_size);
4369:str_merge.c   ****         fprintf(fp, "#endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */\n\n");
4370:str_merge.c   ****         fclose(fp);
4371:str_merge.c   ****     }
4372:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4373:str_merge.c   ****     /* here we generate strings that not support multi-language */
4374:str_merge.c   ****     if(generate_fixed_str(fout_res, fout_map,fout_meta_res, fout_meta_map, &fixed_id) < 0)
 8123              	LM987:
 8124 5c1b C7442410 		movl	$_fixed_id, 16(%esp)
 8124      00000000 
 8125 5c23 8B45E8   		movl	-24(%ebp), %eax
 8126 5c26 8944240C 		movl	%eax, 12(%esp)
 8127 5c2a 8B45EC   		movl	-20(%ebp), %eax
 8128 5c2d 89442408 		movl	%eax, 8(%esp)
 8129 5c31 8B45F0   		movl	-16(%ebp), %eax
 8130 5c34 89442404 		movl	%eax, 4(%esp)
 8131 5c38 8B45F4   		movl	-12(%ebp), %eax
 8132 5c3b 890424   		movl	%eax, (%esp)
 8133 5c3e E8AD1100 		call	_generate_fixed_str
 8133      00
 8134 5c43 85C0     		testl	%eax, %eax
 8135 5c45 7905     		jns	L490
4375:str_merge.c   ****     {
4376:str_merge.c   ****         goto GEN_STR_ERR_RET;
 8137              	LM988:
 8138 5c47 E9940200 		jmp	L416
 8138      00
 8139              	L490:
4377:str_merge.c   ****     }
4378:str_merge.c   ****     
4379:str_merge.c   ****     fprintf(fout_meta_map,"########################################################\n");
 8141              	LM989:
 8142 5c4c C7442404 		movl	$LC84, 4(%esp)
 8142      80460000 
 8143 5c54 8B45E8   		movl	-24(%ebp), %eax
 8144 5c57 890424   		movl	%eax, (%esp)
 8145 5c5a E8000000 		call	_fprintf
 8145      00
4380:str_merge.c   ****     fprintf(fout_meta_map,"TYPE: VALUE\n");
 8147              	LM990:
 8148 5c5f C7442404 		movl	$LC108, 4(%esp)
 8148      2E4A0000 
 8149 5c67 8B45E8   		movl	-24(%ebp), %eax
 8150 5c6a 890424   		movl	%eax, (%esp)
 8151 5c6d E8000000 		call	_fprintf
 8151      00
4381:str_merge.c   ****     fprintf(fout_meta_map,"NAME: mtk_gTrans_string_count\n");
 8153              	LM991:
 8154 5c72 C7442404 		movl	$LC109, 4(%esp)
 8154      404A0000 
 8155 5c7a 8B45E8   		movl	-24(%ebp), %eax
 8156 5c7d 890424   		movl	%eax, (%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 230


 8157 5c80 E8000000 		call	_fprintf
 8157      00
4382:str_merge.c   ****     fprintf(fout_meta_map,"VALUE: %d\n", CurrMaxStringId - fixed_id.id_count);
 8159              	LM992:
 8160 5c85 0FB71500 		movzwl	_CurrMaxStringId, %edx
 8160      000000
 8161 5c8c 0FB70500 		movzwl	_fixed_id, %eax
 8161      000000
 8162 5c93 29C2     		subl	%eax, %edx
 8163 5c95 89D0     		movl	%edx, %eax
 8164 5c97 89442408 		movl	%eax, 8(%esp)
 8165 5c9b C7442404 		movl	$LC110, 4(%esp)
 8165      5F4A0000 
 8166 5ca3 8B45E8   		movl	-24(%ebp), %eax
 8167 5ca6 890424   		movl	%eax, (%esp)
 8168 5ca9 E8000000 		call	_fprintf
 8168      00
4383:str_merge.c   **** 
4384:str_merge.c   ****     fprintf(fout_meta_map,"########################################################\n");
 8170              	LM993:
 8171 5cae C7442404 		movl	$LC84, 4(%esp)
 8171      80460000 
 8172 5cb6 8B45E8   		movl	-24(%ebp), %eax
 8173 5cb9 890424   		movl	%eax, (%esp)
 8174 5cbc E8000000 		call	_fprintf
 8174      00
4385:str_merge.c   ****     fprintf(fout_meta_map,"TYPE: VALUE\n");
 8176              	LM994:
 8177 5cc1 C7442404 		movl	$LC108, 4(%esp)
 8177      2E4A0000 
 8178 5cc9 8B45E8   		movl	-24(%ebp), %eax
 8179 5ccc 890424   		movl	%eax, (%esp)
 8180 5ccf E8000000 		call	_fprintf
 8180      00
4386:str_merge.c   ****     fprintf(fout_meta_map,"NAME: mtk_gMaxDeployedLangs\n");
 8182              	LM995:
 8183 5cd4 C7442404 		movl	$LC111, 4(%esp)
 8183      6A4A0000 
 8184 5cdc 8B45E8   		movl	-24(%ebp), %eax
 8185 5cdf 890424   		movl	%eax, (%esp)
 8186 5ce2 E8000000 		call	_fprintf
 8186      00
4387:str_merge.c   ****     fprintf(fout_meta_map,"VALUE: %d\n", mtk_gMaxDeployedLangs);
 8188              	LM996:
 8189 5ce7 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 8189      000000
 8190 5cee 89442408 		movl	%eax, 8(%esp)
 8191 5cf2 C7442404 		movl	$LC110, 4(%esp)
 8191      5F4A0000 
 8192 5cfa 8B45E8   		movl	-24(%ebp), %eax
 8193 5cfd 890424   		movl	%eax, (%esp)
 8194 5d00 E8000000 		call	_fprintf
 8194      00
4388:str_merge.c   **** 
4389:str_merge.c   **** 
4390:str_merge.c   ****     fprintf(fout_meta_map,"########################################################\n");
 8196              	LM997:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 231


 8197 5d05 C7442404 		movl	$LC84, 4(%esp)
 8197      80460000 
 8198 5d0d 8B45E8   		movl	-24(%ebp), %eax
 8199 5d10 890424   		movl	%eax, (%esp)
 8200 5d13 E8000000 		call	_fprintf
 8200      00
4391:str_merge.c   ****     fprintf(fout_meta_map,"TYPE: VALUE\n");
 8202              	LM998:
 8203 5d18 C7442404 		movl	$LC108, 4(%esp)
 8203      2E4A0000 
 8204 5d20 8B45E8   		movl	-24(%ebp), %eax
 8205 5d23 890424   		movl	%eax, (%esp)
 8206 5d26 E8000000 		call	_fprintf
 8206      00
4392:str_merge.c   ****     fprintf(fout_meta_map,"NAME: max_total_len\n");
 8208              	LM999:
 8209 5d2b C7442404 		movl	$LC112, 4(%esp)
 8209      874A0000 
 8210 5d33 8B45E8   		movl	-24(%ebp), %eax
 8211 5d36 890424   		movl	%eax, (%esp)
 8212 5d39 E8000000 		call	_fprintf
 8212      00
4393:str_merge.c   ****     fprintf(fout_meta_map,"VALUE: %d\n", max_total_len);
 8214              	LM1000:
 8215 5d3e 8B859CDF 		movl	-8292(%ebp), %eax
 8215      FFFF
 8216 5d44 89442408 		movl	%eax, 8(%esp)
 8217 5d48 C7442404 		movl	$LC110, 4(%esp)
 8217      5F4A0000 
 8218 5d50 8B45E8   		movl	-24(%ebp), %eax
 8219 5d53 890424   		movl	%eax, (%esp)
 8220 5d56 E8000000 		call	_fprintf
 8220      00
4394:str_merge.c   **** 
4395:str_merge.c   **** 
4396:str_merge.c   **** #ifdef __CAT_SUPPORT__    
4397:str_merge.c   ****     fprintf(fout_map, ResgenCATGetRegionEndStatment());
4398:str_merge.c   **** #endif //__CAT_SUPPORT__
4399:str_merge.c   ****     /* record translated string id count for no-translate string */
4400:str_merge.c   ****     fprintf(fout_map, "#ifndef __MMI_RESOURCE_ENFB_SUPPORT__\n\tconst U16 mtk_gTrans_string_count =
 8222              	LM1001:
 8223 5d5b 0FB71500 		movzwl	_CurrMaxStringId, %edx
 8223      000000
 8224 5d62 0FB70500 		movzwl	_fixed_id, %eax
 8224      000000
 8225 5d69 29C2     		subl	%eax, %edx
 8226 5d6b 89D0     		movl	%edx, %eax
 8227 5d6d 89442408 		movl	%eax, 8(%esp)
 8228 5d71 C7442404 		movl	$LC113, 4(%esp)
 8228      A04A0000 
 8229 5d79 8B45F0   		movl	-16(%ebp), %eax
 8230 5d7c 890424   		movl	%eax, (%esp)
 8231 5d7f E8000000 		call	_fprintf
 8231      00
4401:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4402:str_merge.c   **** 
4403:str_merge.c   **** #ifdef __CAT_SUPPORT__    
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 232


4404:str_merge.c   ****     fprintf(fout_res, ResgenCATGetRegionEndStatment());
4405:str_merge.c   **** #endif //__CAT_SUPPORT__
4406:str_merge.c   **** 
4407:str_merge.c   ****     /* output STRMAP_SEARCH array */
4408:str_merge.c   ****     num_map_search = generate_strmap_search(fout_res, fout_meta_res);
 8233              	LM1002:
 8234 5d84 8B45EC   		movl	-20(%ebp), %eax
 8235 5d87 89442404 		movl	%eax, 4(%esp)
 8236 5d8b 8B45F4   		movl	-12(%ebp), %eax
 8237 5d8e 890424   		movl	%eax, (%esp)
 8238 5d91 E86B0400 		call	_generate_strmap_search
 8238      00
 8239 5d96 8945C8   		movl	%eax, -56(%ebp)
4409:str_merge.c   ****     if(num_map_search <= 0)
 8241              	LM1003:
 8242 5d99 837DC800 		cmpl	$0, -56(%ebp)
 8243 5d9d 7F05     		jg	L491
4410:str_merge.c   ****     {
4411:str_merge.c   ****         goto GEN_STR_ERR_RET;
 8245              	LM1004:
 8246 5d9f E93C0100 		jmp	L416
 8246      00
 8247              	L491:
4412:str_merge.c   ****     }
4413:str_merge.c   **** 
4414:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4415:str_merge.c   ****     /* output language list array */
4416:str_merge.c   ****     STRMERG_LOG_V("output language list array (strres, strres_dup, num_map_search) ");
 8249              	LM1005:
 8250 5da4 C7442408 		movl	$LC114, 8(%esp)
 8250      004B0000 
 8251 5dac C7442404 		movl	$LC3, 4(%esp)
 8251      4B040000 
 8252 5db4 C7042401 		movl	$1, (%esp)
 8252      000000
 8253 5dbb E8000000 		call	_reslog_adaptor_log
 8253      00
4417:str_merge.c   ****     if(!generate_language_list_array(fout_res, strres, strres_dup, num_map_search, max_total_len, r
 8255              	LM1006:
 8256 5dc0 8D85A8DF 		leal	-8280(%ebp), %eax
 8256      FFFF
 8257 5dc6 89442420 		movl	%eax, 32(%esp)
 8258 5dca 8D85A8E7 		leal	-6232(%ebp), %eax
 8258      FFFF
 8259 5dd0 8944241C 		movl	%eax, 28(%esp)
 8260 5dd4 8D85A8EF 		leal	-4184(%ebp), %eax
 8260      FFFF
 8261 5dda 89442418 		movl	%eax, 24(%esp)
 8262 5dde 8D85A8F7 		leal	-2136(%ebp), %eax
 8262      FFFF
 8263 5de4 89442414 		movl	%eax, 20(%esp)
 8264 5de8 8B859CDF 		movl	-8292(%ebp), %eax
 8264      FFFF
 8265 5dee 89442410 		movl	%eax, 16(%esp)
 8266 5df2 8B45C8   		movl	-56(%ebp), %eax
 8267 5df5 8944240C 		movl	%eax, 12(%esp)
 8268 5df9 8B85A0DF 		movl	-8288(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 233


 8268      FFFF
 8269 5dff 89442408 		movl	%eax, 8(%esp)
 8270 5e03 8B45BC   		movl	-68(%ebp), %eax
 8271 5e06 89442404 		movl	%eax, 4(%esp)
 8272 5e0a 8B45F4   		movl	-12(%ebp), %eax
 8273 5e0d 890424   		movl	%eax, (%esp)
 8274 5e10 E8610700 		call	_generate_language_list_array
 8274      00
 8275 5e15 85C0     		testl	%eax, %eax
 8276 5e17 754D     		jne	L492
4418:str_merge.c   ****     {
4419:str_merge.c   ****         STRMERG_LOG_E("Failed to output generate_language_list_array: \
 8278              	LM1007:
 8279 5e19 8D85A8DF 		leal	-8280(%ebp), %eax
 8279      FFFF
 8280 5e1f 8944241C 		movl	%eax, 28(%esp)
 8281 5e23 8D85A8E7 		leal	-6232(%ebp), %eax
 8281      FFFF
 8282 5e29 89442418 		movl	%eax, 24(%esp)
 8283 5e2d 8D85A8EF 		leal	-4184(%ebp), %eax
 8283      FFFF
 8284 5e33 89442414 		movl	%eax, 20(%esp)
 8285 5e37 8B859CDF 		movl	-8292(%ebp), %eax
 8285      FFFF
 8286 5e3d 89442410 		movl	%eax, 16(%esp)
 8287 5e41 8B45C8   		movl	-56(%ebp), %eax
 8288 5e44 8944240C 		movl	%eax, 12(%esp)
 8289 5e48 C7442408 		movl	$LC115, 8(%esp)
 8289      604B0000 
 8290 5e50 C7442404 		movl	$LC3, 4(%esp)
 8290      4B040000 
 8291 5e58 C7042403 		movl	$3, (%esp)
 8291      000000
 8292 5e5f E8000000 		call	_reslog_adaptor_log
 8292      00
4420:str_merge.c   ****                 num_map_search = %d, max_total_len = %d, map_size=%lu ,reszip_size = %lu, mapzip_si
4421:str_merge.c   **** 	        num_map_search, max_total_len, map_size, reszip_size,mapzip_size);
4422:str_merge.c   ****         goto GEN_STR_ERR_RET;
 8294              	LM1008:
 8295 5e64 EB7A     		jmp	L416
 8296              	L492:
4423:str_merge.c   ****     }
4424:str_merge.c   **** #else
4425:str_merge.c   ****     if(!generate_language_list_array(fout_res, strres, num_map_search, res_size, map_size, reszip_s
4426:str_merge.c   ****     {
4427:str_merge.c   ****         STRMERG_LOG_E("Failed to output generate_language_list_array: \
4428:str_merge.c   ****                        num_map_search = %d, map_size=%lu ,reszip_size = %lu, mapzip_size = %lu", \
4429:str_merge.c   ****                        num_map_search, map_size, reszip_size,mapzip_size);
4430:str_merge.c   ****         goto GEN_STR_ERR_RET;
4431:str_merge.c   ****     }
4432:str_merge.c   **** #endif
4433:str_merge.c   **** 
4434:str_merge.c   ****     fprintf(fout_res, "\n#endif //!(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !(__MMI_RESOURCE_STR_THI
 8298              	LM1009:
 8299 5e66 C7442404 		movl	$LC116, 4(%esp)
 8299      004C0000 
 8300 5e6e 8B45F4   		movl	-12(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 234


 8301 5e71 890424   		movl	%eax, (%esp)
 8302 5e74 E8000000 		call	_fprintf
 8302      00
4435:str_merge.c   ****     fprintf(fout_map, "\n#endif //!(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !(__MMI_RESOURCE_STR_THI
 8304              	LM1010:
 8305 5e79 C7442404 		movl	$LC116, 4(%esp)
 8305      004C0000 
 8306 5e81 8B45F0   		movl	-16(%ebp), %eax
 8307 5e84 890424   		movl	%eax, (%esp)
 8308 5e87 E8000000 		call	_fprintf
 8308      00
4436:str_merge.c   ****     fclose(fout_res);
 8310              	LM1011:
 8311 5e8c 8B45F4   		movl	-12(%ebp), %eax
 8312 5e8f 890424   		movl	%eax, (%esp)
 8313 5e92 E8000000 		call	_fclose
 8313      00
4437:str_merge.c   ****     fclose(fout_meta_res);
 8315              	LM1012:
 8316 5e97 8B45EC   		movl	-20(%ebp), %eax
 8317 5e9a 890424   		movl	%eax, (%esp)
 8318 5e9d E8000000 		call	_fclose
 8318      00
4438:str_merge.c   ****     fclose(fout_map);
 8320              	LM1013:
 8321 5ea2 8B45F0   		movl	-16(%ebp), %eax
 8322 5ea5 890424   		movl	%eax, (%esp)
 8323 5ea8 E8000000 		call	_fclose
 8323      00
4439:str_merge.c   ****     fclose(fout_meta_map);
 8325              	LM1014:
 8326 5ead 8B45E8   		movl	-24(%ebp), %eax
 8327 5eb0 890424   		movl	%eax, (%esp)
 8328 5eb3 E8000000 		call	_fclose
 8328      00
4440:str_merge.c   ****     
4441:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4442:str_merge.c   ****     fclose(fout_enfb);
4443:str_merge.c   **** #endif
4444:str_merge.c   **** 
4445:str_merge.c   **** 
4446:str_merge.c   **** #if 0  /* Add size to usage for debug */
4447:str_merge.c   **** /* under construction !*/
4448:str_merge.c   **** /* under construction !*/
4449:str_merge.c   **** /* under construction !*/
4450:str_merge.c   **** /* under construction !*/
4451:str_merge.c   **** /* under construction !*/
4452:str_merge.c   **** /* under construction !*/
4453:str_merge.c   **** /* under construction !*/
4454:str_merge.c   **** /* under construction !*/
4455:str_merge.c   **** /* under construction !*/
4456:str_merge.c   **** /* under construction !*/
4457:str_merge.c   **** /* under construction !*/
4458:str_merge.c   **** /* under construction !*/
4459:str_merge.c   **** /* under construction !*/
4460:str_merge.c   **** /* under construction !*/
4461:str_merge.c   **** /* under construction !*/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 235


4462:str_merge.c   **** /* under construction !*/
4463:str_merge.c   **** /* under construction !*/
4464:str_merge.c   **** /* under construction !*/
4465:str_merge.c   **** /* under construction !*/
4466:str_merge.c   **** /* under construction !*/
4467:str_merge.c   **** /* under construction !*/
4468:str_merge.c   **** /* under construction !*/
4469:str_merge.c   **** /* under construction !*/
4470:str_merge.c   **** /* under construction !*/
4471:str_merge.c   **** /* under construction !*/
4472:str_merge.c   **** /* under construction !*/
4473:str_merge.c   **** /* under construction !*/
4474:str_merge.c   **** /* under construction !*/
4475:str_merge.c   **** /* under construction !*/
4476:str_merge.c   **** /* under construction !*/
4477:str_merge.c   **** /* under construction !*/
4478:str_merge.c   **** /* under construction !*/
4479:str_merge.c   **** /* under construction !*/
4480:str_merge.c   **** /* under construction !*/
4481:str_merge.c   **** /* under construction !*/
4482:str_merge.c   **** /* under construction !*/
4483:str_merge.c   **** /* under construction !*/
4484:str_merge.c   **** /* under construction !*/
4485:str_merge.c   **** /* under construction !*/
4486:str_merge.c   **** /* under construction !*/
4487:str_merge.c   **** /* under construction !*/
4488:str_merge.c   **** /* under construction !*/
4489:str_merge.c   **** /* under construction !*/
4490:str_merge.c   **** /* under construction !*/
4491:str_merge.c   **** /* under construction !*/
4492:str_merge.c   **** /* under construction !*/
4493:str_merge.c   **** /* under construction !*/
4494:str_merge.c   **** #endif
4495:str_merge.c   ****     STRMERG_LOG_V("GenerateStrResFile succeeded");
 8330              	LM1015:
 8331 5eb8 C7442408 		movl	$LC117, 8(%esp)
 8331      554C0000 
 8332 5ec0 C7442404 		movl	$LC3, 4(%esp)
 8332      4B040000 
 8333 5ec8 C7042401 		movl	$1, (%esp)
 8333      000000
 8334 5ecf E8000000 		call	_reslog_adaptor_log
 8334      00
4496:str_merge.c   ****     return 0;
 8336              	LM1016:
 8337 5ed4 C7857CDF 		movl	$0, -8324(%ebp)
 8337      FFFF0000 
 8337      0000
 8338 5ede EB6A     		jmp	L412
 8339              	L416:
4497:str_merge.c   **** 
4498:str_merge.c   **** GEN_STR_ERR_RET:
4499:str_merge.c   ****     STRMERG_LOG_E("GEN_STR_ERR_RET handling");
 8341              	LM1017:
 8342 5ee0 C7442408 		movl	$LC118, 8(%esp)
 8342      724C0000 
 8343 5ee8 C7442404 		movl	$LC3, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 236


 8343      4B040000 
 8344 5ef0 C7042403 		movl	$3, (%esp)
 8344      000000
 8345 5ef7 E8000000 		call	_reslog_adaptor_log
 8345      00
4500:str_merge.c   ****     if (fout_res)fclose(fout_res);
 8347              	LM1018:
 8348 5efc 837DF400 		cmpl	$0, -12(%ebp)
 8349 5f00 740B     		je	L493
 8350 5f02 8B45F4   		movl	-12(%ebp), %eax
 8351 5f05 890424   		movl	%eax, (%esp)
 8352 5f08 E8000000 		call	_fclose
 8352      00
 8353              	L493:
4501:str_merge.c   ****     if (fout_map)fclose(fout_map);
 8355              	LM1019:
 8356 5f0d 837DF000 		cmpl	$0, -16(%ebp)
 8357 5f11 740B     		je	L494
 8358 5f13 8B45F0   		movl	-16(%ebp), %eax
 8359 5f16 890424   		movl	%eax, (%esp)
 8360 5f19 E8000000 		call	_fclose
 8360      00
 8361              	L494:
4502:str_merge.c   ****     if (fout_meta_res)fclose(fout_map);
 8363              	LM1020:
 8364 5f1e 837DEC00 		cmpl	$0, -20(%ebp)
 8365 5f22 740B     		je	L495
 8366 5f24 8B45F0   		movl	-16(%ebp), %eax
 8367 5f27 890424   		movl	%eax, (%esp)
 8368 5f2a E8000000 		call	_fclose
 8368      00
 8369              	L495:
4503:str_merge.c   ****     if (fout_meta_map)fclose(fout_map);
 8371              	LM1021:
 8372 5f2f 837DE800 		cmpl	$0, -24(%ebp)
 8373 5f33 740B     		je	L496
 8374 5f35 8B45F0   		movl	-16(%ebp), %eax
 8375 5f38 890424   		movl	%eax, (%esp)
 8376 5f3b E8000000 		call	_fclose
 8376      00
 8377              	L496:
4504:str_merge.c   ****     
4505:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4506:str_merge.c   ****     if (fout_enfb)fclose(fout_enfb);
4507:str_merge.c   **** #endif    
4508:str_merge.c   ****     return -1;
 8379              	LM1022:
 8380 5f40 C7857CDF 		movl	$-1, -8324(%ebp)
 8380      FFFFFFFF 
 8380      FFFF
4509:str_merge.c   **** }
 8382              	LM1023:
 8383              	L412:
 8384              	LBE43:
 8385 5f4a 8B857CDF 		movl	-8324(%ebp), %eax
 8385      FFFF
 8386 5f50 81C4B420 		addl	$8372, %esp
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 237


 8386      0000
 8387 5f56 5B       		popl	%ebx
 8388 5f57 5D       		popl	%ebp
 8389 5f58 C3       		ret
 8445              	Lscope33:
 8447              	LC119:
 8448 5f59 097B2564 		.ascii "\11{%d, %d, %d},\12\0"
 8448      2C202564 
 8448      2C202564 
 8448      7D2C0A00 
 8455              	.globl _generate_map2
 8457              	_generate_map2:
4510:str_merge.c   **** 
4511:str_merge.c   **** 
4512:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4513:str_merge.c   **** int generate_map(FILE *map, U16 *arr, int len)
4514:str_merge.c   **** {
4515:str_merge.c   ****     /*----------------------------------------------------------------*/
4516:str_merge.c   ****     /* Local Variables                                                */
4517:str_merge.c   ****     /*----------------------------------------------------------------*/
4518:str_merge.c   ****     int s = 0;
4519:str_merge.c   ****     int map_count = 0;
4520:str_merge.c   ****     int i = 0;
4521:str_merge.c   ****     
4522:str_merge.c   ****     /*----------------------------------------------------------------*/
4523:str_merge.c   ****     /* Code Body                                                      */
4524:str_merge.c   ****     /*----------------------------------------------------------------*/
4525:str_merge.c   ****     if(map == 0 || arr == 0 || len <= 0)
4526:str_merge.c   ****     {
4527:str_merge.c   ****         return -1;
4528:str_merge.c   ****     }
4529:str_merge.c   **** 
4530:str_merge.c   ****     for(i = 0; i < len - 1; ++i)
4531:str_merge.c   ****     {
4532:str_merge.c   ****         if(arr[i] + 1 != arr[i+1])
4533:str_merge.c   ****         {
4534:str_merge.c   ****             fprintf(map, "\t{%d, %d, %d},\n", arr[s], arr[i], s);
4535:str_merge.c   ****             s = i + 1;
4536:str_merge.c   ****             map_count++;
4537:str_merge.c   ****         }
4538:str_merge.c   ****     }
4539:str_merge.c   **** 
4540:str_merge.c   ****     fprintf(map, "\t{%d, %d, %d},\n", arr[s], arr[i], s);
4541:str_merge.c   ****     map_count++;
4542:str_merge.c   **** 
4543:str_merge.c   ****     return map_count;
4544:str_merge.c   **** }
4545:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4546:str_merge.c   **** int generate_map2(FILE *map,FILE *mapMeta, U8 *ispop, FixedID *fixed, int len)
4547:str_merge.c   **** {
 8459              	LM1024:
 8460 5f69 55       		pushl	%ebp
 8461 5f6a 89E5     		movl	%esp, %ebp
 8462 5f6c 83EC38   		subl	$56, %esp
4548:str_merge.c   ****     /*----------------------------------------------------------------*/
4549:str_merge.c   ****     /* Local Variables                                                */
4550:str_merge.c   ****     /*----------------------------------------------------------------*/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 238


4551:str_merge.c   ****     int mapIndex = 0; /* offset */
 8464              	LM1025:
 8465              	LBB52:
 8466 5f6f C745FC00 		movl	$0, -4(%ebp)
 8466      000000
4552:str_merge.c   ****     int new_flag = 0; /* new item or not */
 8468              	LM1026:
 8469 5f76 C745F800 		movl	$0, -8(%ebp)
 8469      000000
4553:str_merge.c   ****     int minId = 0;    /* minmum id */
 8471              	LM1027:
 8472 5f7d C745F400 		movl	$0, -12(%ebp)
 8472      000000
4554:str_merge.c   ****     int map_count = 0;
 8474              	LM1028:
 8475 5f84 C745F000 		movl	$0, -16(%ebp)
 8475      000000
4555:str_merge.c   ****     int i = 0;
 8477              	LM1029:
 8478 5f8b C745EC00 		movl	$0, -20(%ebp)
 8478      000000
4556:str_merge.c   ****     U16 trans_count = CurrMaxStringId - fixed->id_count; /* translated string count */
 8480              	LM1030:
 8481 5f92 8B4514   		movl	20(%ebp), %eax
 8482 5f95 0FB71500 		movzwl	_CurrMaxStringId, %edx
 8482      000000
 8483 5f9c 0FB700   		movzwl	(%eax), %eax
 8484 5f9f 89D1     		movl	%edx, %ecx
 8485 5fa1 29C1     		subl	%eax, %ecx
 8486 5fa3 89C8     		movl	%ecx, %eax
 8487 5fa5 668945EA 		movw	%ax, -22(%ebp)
4557:str_merge.c   ****     U16 curr_trans = 0;
 8489              	LM1031:
 8490 5fa9 66C745E8 		movw	$0, -24(%ebp)
 8490      0000
4558:str_merge.c   ****     U16 curr_no_trans = 0;
 8492              	LM1032:
 8493 5faf 66C745E6 		movw	$0, -26(%ebp)
 8493      0000
4559:str_merge.c   ****     U16 curr_type = 0;
 8495              	LM1033:
 8496 5fb5 66C745E4 		movw	$0, -28(%ebp)
 8496      0000
4560:str_merge.c   **** 
4561:str_merge.c   ****     /*----------------------------------------------------------------*/
4562:str_merge.c   ****     /* Code Body                                                      */
4563:str_merge.c   ****     /*----------------------------------------------------------------*/
4564:str_merge.c   ****     if(map == 0 || ispop == 0 || fixed == 0 || len <= 0)
 8498              	LM1034:
 8499 5fbb 837D0800 		cmpl	$0, 8(%ebp)
 8500 5fbf 7414     		je	L499
 8501 5fc1 837D1000 		cmpl	$0, 16(%ebp)
 8502 5fc5 740E     		je	L499
 8503 5fc7 837D1400 		cmpl	$0, 20(%ebp)
 8504 5fcb 7408     		je	L499
 8505 5fcd 837D1800 		cmpl	$0, 24(%ebp)
 8506 5fd1 7E02     		jle	L499
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 239


 8507 5fd3 EB0C     		jmp	L498
 8508              	L499:
4565:str_merge.c   ****     {
4566:str_merge.c   ****         return -1;
 8510              	LM1035:
 8511 5fd5 C745E0FF 		movl	$-1, -32(%ebp)
 8511      FFFFFF
 8512 5fdc E9D40100 		jmp	L497
 8512      00
 8513              	L498:
4567:str_merge.c   ****     }
4568:str_merge.c   ****     
4569:str_merge.c   ****     for(i = 0; i < len; ++i)
 8515              	LM1036:
 8516 5fe1 C745EC00 		movl	$0, -20(%ebp)
 8516      000000
 8517              	L500:
 8518 5fe8 8B45EC   		movl	-20(%ebp), %eax
 8519 5feb 3B4518   		cmpl	24(%ebp), %eax
 8520 5fee 7C05     		jl	L503
 8521 5ff0 E9570100 		jmp	L501
 8521      00
 8522              	L503:
4570:str_merge.c   ****     {
4571:str_merge.c   ****         if(new_flag == 0)
 8524              	LM1037:
 8525 5ff5 837DF800 		cmpl	$0, -8(%ebp)
 8526 5ff9 7553     		jne	L504
4572:str_merge.c   ****         {
4573:str_merge.c   ****             if(ispop[i])
 8528              	LM1038:
 8529 5ffb 8B45EC   		movl	-20(%ebp), %eax
 8530 5ffe 034510   		addl	16(%ebp), %eax
 8531 6001 803800   		cmpb	$0, (%eax)
 8532 6004 0F841301 		je	L508
 8532      0000
4574:str_merge.c   ****             {
4575:str_merge.c   ****                 new_flag = 1;
 8534              	LM1039:
 8535 600a C745F801 		movl	$1, -8(%ebp)
 8535      000000
4576:str_merge.c   ****                 if(fixed->fixed_id_flag[i] == TRANSLATE_FLAG)
 8537              	LM1040:
 8538 6011 8B4514   		movl	20(%ebp), %eax
 8539 6014 8B55EC   		movl	-20(%ebp), %edx
 8540 6017 8B4004   		movl	4(%eax), %eax
 8541 601a 01D0     		addl	%edx, %eax
 8542 601c 803802   		cmpb	$2, (%eax)
 8543 601f 750F     		jne	L506
4577:str_merge.c   ****                 {
4578:str_merge.c   ****                     mapIndex = curr_trans;
 8545              	LM1041:
 8546 6021 0FB745E8 		movzwl	-24(%ebp), %eax
 8547 6025 8945FC   		movl	%eax, -4(%ebp)
4579:str_merge.c   ****                     curr_type = TRANSLATE_FLAG;
 8549              	LM1042:
 8550 6028 66C745E4 		movw	$2, -28(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 240


 8550      0200
 8551 602e EB13     		jmp	L507
 8552              	L506:
4580:str_merge.c   ****                 }
4581:str_merge.c   ****                 else
4582:str_merge.c   ****                 {
4583:str_merge.c   ****                     mapIndex = curr_no_trans + trans_count;
 8554              	LM1043:
 8555 6030 0FB745E6 		movzwl	-26(%ebp), %eax
 8556 6034 0FB755EA 		movzwl	-22(%ebp), %edx
 8557 6038 01D0     		addl	%edx, %eax
 8558 603a 8945FC   		movl	%eax, -4(%ebp)
4584:str_merge.c   ****                     curr_type = NO_TRANSLATE_FLAG;
 8560              	LM1044:
 8561 603d 66C745E4 		movw	$1, -28(%ebp)
 8561      0100
 8562              	L507:
4585:str_merge.c   ****                 }
4586:str_merge.c   ****                 minId = i;
 8564              	LM1045:
 8565 6043 8B45EC   		movl	-20(%ebp), %eax
 8566 6046 8945F4   		movl	%eax, -12(%ebp)
 8567 6049 E9CF0000 		jmp	L508
 8567      00
 8568              	L504:
4587:str_merge.c   ****             }
4588:str_merge.c   ****         }
4589:str_merge.c   ****         else
4590:str_merge.c   ****         {
4591:str_merge.c   ****             if(ispop[i] == 0 || fixed->fixed_id_flag[i - 1] != fixed->fixed_id_flag[i])
 8570              	LM1046:
 8571 604e 8B45EC   		movl	-20(%ebp), %eax
 8572 6051 034510   		addl	16(%ebp), %eax
 8573 6054 803800   		cmpb	$0, (%eax)
 8574 6057 7423     		je	L510
 8575 6059 8B5514   		movl	20(%ebp), %edx
 8576 605c 8B45EC   		movl	-20(%ebp), %eax
 8577 605f 034204   		addl	4(%edx), %eax
 8578 6062 8D48FF   		leal	-1(%eax), %ecx
 8579 6065 8B5514   		movl	20(%ebp), %edx
 8580 6068 8B45EC   		movl	-20(%ebp), %eax
 8581 606b 8B5204   		movl	4(%edx), %edx
 8582 606e 01C2     		addl	%eax, %edx
 8583 6070 0FB601   		movzbl	(%ecx), %eax
 8584 6073 3A02     		cmpb	(%edx), %al
 8585 6075 7505     		jne	L510
 8586 6077 E9A10000 		jmp	L508
 8586      00
 8587              	L510:
4592:str_merge.c   ****             {
4593:str_merge.c   ****                 fprintf(map, "\t{%d, %d, %d},\n", minId, i - 1, mapIndex);
 8589              	LM1047:
 8590 607c 8B45FC   		movl	-4(%ebp), %eax
 8591 607f 89442410 		movl	%eax, 16(%esp)
 8592 6083 8B45EC   		movl	-20(%ebp), %eax
 8593 6086 48       		decl	%eax
 8594 6087 8944240C 		movl	%eax, 12(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 241


 8595 608b 8B45F4   		movl	-12(%ebp), %eax
 8596 608e 89442408 		movl	%eax, 8(%esp)
 8597 6092 C7442404 		movl	$LC119, 4(%esp)
 8597      595F0000 
 8598 609a 8B4508   		movl	8(%ebp), %eax
 8599 609d 890424   		movl	%eax, (%esp)
 8600 60a0 E8000000 		call	_fprintf
 8600      00
4594:str_merge.c   **** 		fprintf(mapMeta, "\t{%d, %d, %d},\n", minId, i - 1, mapIndex);
 8602              	LM1048:
 8603 60a5 8B45FC   		movl	-4(%ebp), %eax
 8604 60a8 89442410 		movl	%eax, 16(%esp)
 8605 60ac 8B45EC   		movl	-20(%ebp), %eax
 8606 60af 48       		decl	%eax
 8607 60b0 8944240C 		movl	%eax, 12(%esp)
 8608 60b4 8B45F4   		movl	-12(%ebp), %eax
 8609 60b7 89442408 		movl	%eax, 8(%esp)
 8610 60bb C7442404 		movl	$LC119, 4(%esp)
 8610      595F0000 
 8611 60c3 8B450C   		movl	12(%ebp), %eax
 8612 60c6 890424   		movl	%eax, (%esp)
 8613 60c9 E8000000 		call	_fprintf
 8613      00
4595:str_merge.c   ****                 if(ispop[i] == 0)
 8615              	LM1049:
 8616 60ce 8B45EC   		movl	-20(%ebp), %eax
 8617 60d1 034510   		addl	16(%ebp), %eax
 8618 60d4 803800   		cmpb	$0, (%eax)
 8619 60d7 7509     		jne	L511
4596:str_merge.c   ****                 {
4597:str_merge.c   ****                     new_flag = 0;
 8621              	LM1050:
 8622 60d9 C745F800 		movl	$0, -8(%ebp)
 8622      000000
 8623 60e0 EB36     		jmp	L512
 8624              	L511:
4598:str_merge.c   ****             }
4599:str_merge.c   ****             else
4600:str_merge.c   ****             {
4601:str_merge.c   ****                     minId = i;
 8626              	LM1051:
 8627 60e2 8B45EC   		movl	-20(%ebp), %eax
 8628 60e5 8945F4   		movl	%eax, -12(%ebp)
4602:str_merge.c   ****                     if(fixed->fixed_id_flag[i] == TRANSLATE_FLAG)
 8630              	LM1052:
 8631 60e8 8B5514   		movl	20(%ebp), %edx
 8632 60eb 8B45EC   		movl	-20(%ebp), %eax
 8633 60ee 034204   		addl	4(%edx), %eax
 8634 60f1 803802   		cmpb	$2, (%eax)
 8635 60f4 750F     		jne	L513
4603:str_merge.c   ****                     {
4604:str_merge.c   ****                         mapIndex = curr_trans;
 8637              	LM1053:
 8638 60f6 0FB745E8 		movzwl	-24(%ebp), %eax
 8639 60fa 8945FC   		movl	%eax, -4(%ebp)
4605:str_merge.c   ****                         curr_type = TRANSLATE_FLAG;
 8641              	LM1054:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 242


 8642 60fd 66C745E4 		movw	$2, -28(%ebp)
 8642      0200
 8643 6103 EB13     		jmp	L512
 8644              	L513:
4606:str_merge.c   ****                     }
4607:str_merge.c   ****                     else
4608:str_merge.c   ****                     {
4609:str_merge.c   ****                         mapIndex = curr_no_trans + trans_count;
 8646              	LM1055:
 8647 6105 0FB745E6 		movzwl	-26(%ebp), %eax
 8648 6109 0FB755EA 		movzwl	-22(%ebp), %edx
 8649 610d 01D0     		addl	%edx, %eax
 8650 610f 8945FC   		movl	%eax, -4(%ebp)
4610:str_merge.c   ****                         curr_type = NO_TRANSLATE_FLAG;
 8652              	LM1056:
 8653 6112 66C745E4 		movw	$1, -28(%ebp)
 8653      0100
 8654              	L512:
4611:str_merge.c   ****                     }
4612:str_merge.c   ****                 }
4613:str_merge.c   ****                 map_count++;
 8656              	LM1057:
 8657 6118 8D45F0   		leal	-16(%ebp), %eax
 8658 611b FF00     		incl	(%eax)
 8659              	L508:
4614:str_merge.c   ****             }
4615:str_merge.c   ****         }
4616:str_merge.c   **** 
4617:str_merge.c   ****         if(ispop[i])
 8661              	LM1058:
 8662 611d 8B45EC   		movl	-20(%ebp), %eax
 8663 6120 034510   		addl	16(%ebp), %eax
 8664 6123 803800   		cmpb	$0, (%eax)
 8665 6126 741A     		je	L502
4618:str_merge.c   ****         {
4619:str_merge.c   ****             if(curr_type == TRANSLATE_FLAG)
 8667              	LM1059:
 8668 6128 66837DE4 		cmpw	$2, -28(%ebp)
 8668      02
 8669 612d 750A     		jne	L516
4620:str_merge.c   ****             {
4621:str_merge.c   ****                 curr_trans++;
 8671              	LM1060:
 8672 612f 8B45E8   		movl	-24(%ebp), %eax
 8673 6132 40       		incl	%eax
 8674 6133 668945E8 		movw	%ax, -24(%ebp)
 8675 6137 EB09     		jmp	L502
 8676              	L516:
4622:str_merge.c   ****             }
4623:str_merge.c   ****             else
4624:str_merge.c   ****             {
4625:str_merge.c   ****                 curr_no_trans++;
 8678              	LM1061:
 8679 6139 0FB745E6 		movzwl	-26(%ebp), %eax
 8680 613d 40       		incl	%eax
 8681 613e 668945E6 		movw	%ax, -26(%ebp)
 8683              	LM1062:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 243


 8684              	L502:
 8685 6142 8D45EC   		leal	-20(%ebp), %eax
 8686 6145 FF00     		incl	(%eax)
 8687 6147 E99CFEFF 		jmp	L500
 8687      FF
 8688              	L501:
4626:str_merge.c   ****             }
4627:str_merge.c   ****         }
4628:str_merge.c   ****     }
4629:str_merge.c   **** 
4630:str_merge.c   ****     if(ispop[i - 1])
 8690              	LM1063:
 8691 614c 8B45EC   		movl	-20(%ebp), %eax
 8692 614f 034510   		addl	16(%ebp), %eax
 8693 6152 48       		decl	%eax
 8694 6153 803800   		cmpb	$0, (%eax)
 8695 6156 7457     		je	L518
4631:str_merge.c   ****     {
4632:str_merge.c   ****         fprintf(map, "\t{%d, %d, %d},\n", minId, i - 1, mapIndex);
 8697              	LM1064:
 8698 6158 8B45FC   		movl	-4(%ebp), %eax
 8699 615b 89442410 		movl	%eax, 16(%esp)
 8700 615f 8B45EC   		movl	-20(%ebp), %eax
 8701 6162 48       		decl	%eax
 8702 6163 8944240C 		movl	%eax, 12(%esp)
 8703 6167 8B45F4   		movl	-12(%ebp), %eax
 8704 616a 89442408 		movl	%eax, 8(%esp)
 8705 616e C7442404 		movl	$LC119, 4(%esp)
 8705      595F0000 
 8706 6176 8B4508   		movl	8(%ebp), %eax
 8707 6179 890424   		movl	%eax, (%esp)
 8708 617c E8000000 		call	_fprintf
 8708      00
4633:str_merge.c   **** 	fprintf(mapMeta, "\t{%d, %d, %d},\n", minId, i - 1, mapIndex);
 8710              	LM1065:
 8711 6181 8B45FC   		movl	-4(%ebp), %eax
 8712 6184 89442410 		movl	%eax, 16(%esp)
 8713 6188 8B45EC   		movl	-20(%ebp), %eax
 8714 618b 48       		decl	%eax
 8715 618c 8944240C 		movl	%eax, 12(%esp)
 8716 6190 8B45F4   		movl	-12(%ebp), %eax
 8717 6193 89442408 		movl	%eax, 8(%esp)
 8718 6197 C7442404 		movl	$LC119, 4(%esp)
 8718      595F0000 
 8719 619f 8B450C   		movl	12(%ebp), %eax
 8720 61a2 890424   		movl	%eax, (%esp)
 8721 61a5 E8000000 		call	_fprintf
 8721      00
4634:str_merge.c   ****         map_count++;
 8723              	LM1066:
 8724 61aa 8D45F0   		leal	-16(%ebp), %eax
 8725 61ad FF00     		incl	(%eax)
 8726              	L518:
4635:str_merge.c   ****     }
4636:str_merge.c   **** 
4637:str_merge.c   ****     return map_count;
 8728              	LM1067:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 244


 8729 61af 8B45F0   		movl	-16(%ebp), %eax
 8730 61b2 8945E0   		movl	%eax, -32(%ebp)
4638:str_merge.c   **** }
 8732              	LM1068:
 8733              	L497:
 8734              	LBE52:
 8735 61b5 8B45E0   		movl	-32(%ebp), %eax
 8736 61b8 C9       		leave
 8737 61b9 C3       		ret
 8749              	Lscope34:
 8751 61ba 8DB60000 		.align 32
 8751      0000
 8752              	LC120:
 8753 61c0 636F6E73 		.ascii "const CUSTOM_STRMAP_SEARCH StrMapSearch[] = {\12\0"
 8753      74204355 
 8753      53544F4D 
 8753      5F535452 
 8753      4D41505F 
 8754              	LC121:
 8755 61ef 54595045 		.ascii "TYPE: SEARCH_MAP\12\0"
 8755      3A205345 
 8755      41524348 
 8755      5F4D4150 
 8755      0A00
 8760              	_generate_strmap_search:
4639:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4640:str_merge.c   **** 
4641:str_merge.c   **** 
4642:str_merge.c   **** static int generate_strmap_search(FILE *res, FILE *resMeta)
4643:str_merge.c   **** {
 8762              	LM1069:
 8763 6201 55       		pushl	%ebp
 8764 6202 89E5     		movl	%esp, %ebp
 8765 6204 83EC28   		subl	$40, %esp
4644:str_merge.c   ****     /*----------------------------------------------------------------*/
4645:str_merge.c   ****     /* Local Variables                                                */
4646:str_merge.c   ****     /*----------------------------------------------------------------*/
4647:str_merge.c   ****     int ret = -1;
 8767              	LM1070:
 8768              	LBB53:
 8769 6207 C745FCFF 		movl	$-1, -4(%ebp)
 8769      FFFFFF
4648:str_merge.c   ****     
4649:str_merge.c   ****     /*----------------------------------------------------------------*/
4650:str_merge.c   ****     /* Code Body                                                      */
4651:str_merge.c   ****     /*----------------------------------------------------------------*/
4652:str_merge.c   ****     if(res == 0)
 8771              	LM1071:
 8772 620e 837D0800 		cmpl	$0, 8(%ebp)
 8773 6212 750C     		jne	L520
4653:str_merge.c   ****     {
4654:str_merge.c   ****         return -1; /* invalid input */
 8775              	LM1072:
 8776 6214 C745F8FF 		movl	$-1, -8(%ebp)
 8776      FFFFFF
 8777 621b E9B80000 		jmp	L519
 8777      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 245


 8778              	L520:
4655:str_merge.c   ****     }
4656:str_merge.c   **** 
4657:str_merge.c   ****     fprintf(res, "const CUSTOM_STRMAP_SEARCH StrMapSearch[] = {\n");
 8780              	LM1073:
 8781 6220 C7442404 		movl	$LC120, 4(%esp)
 8781      C0610000 
 8782 6228 8B4508   		movl	8(%ebp), %eax
 8783 622b 890424   		movl	%eax, (%esp)
 8784 622e E8000000 		call	_fprintf
 8784      00
4658:str_merge.c   ****     fprintf(resMeta, "########################################################\n");
 8786              	LM1074:
 8787 6233 C7442404 		movl	$LC84, 4(%esp)
 8787      80460000 
 8788 623b 8B450C   		movl	12(%ebp), %eax
 8789 623e 890424   		movl	%eax, (%esp)
 8790 6241 E8000000 		call	_fprintf
 8790      00
4659:str_merge.c   ****     fprintf(resMeta, "TYPE: SEARCH_MAP\n");
 8792              	LM1075:
 8793 6246 C7442404 		movl	$LC121, 4(%esp)
 8793      EF610000 
 8794 624e 8B450C   		movl	12(%ebp), %eax
 8795 6251 890424   		movl	%eax, (%esp)
 8796 6254 E8000000 		call	_fprintf
 8796      00
4660:str_merge.c   ****     fprintf(resMeta, "DATA:\n");
 8798              	LM1076:
 8799 6259 C7442404 		movl	$LC99, 4(%esp)
 8799      FA480000 
 8800 6261 8B450C   		movl	12(%ebp), %eax
 8801 6264 890424   		movl	%eax, (%esp)
 8802 6267 E8000000 		call	_fprintf
 8802      00
4661:str_merge.c   ****     fprintf(resMeta, "const CUSTOM_STRMAP_SEARCH StrMapSearch[] = {\n");
 8804              	LM1077:
 8805 626c C7442404 		movl	$LC120, 4(%esp)
 8805      C0610000 
 8806 6274 8B450C   		movl	12(%ebp), %eax
 8807 6277 890424   		movl	%eax, (%esp)
 8808 627a E8000000 		call	_fprintf
 8808      00
4662:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4663:str_merge.c   ****     ret = generate_map(res, StrID, CurrMaxStringId);
4664:str_merge.c   **** #else
4665:str_merge.c   ****     ret = generate_map2(res, resMeta, StrIsPopulate, &fixed_id, MAX_STRING_MAP_SIZE);
 8810              	LM1078:
 8811 627f C7442410 		movl	$65535, 16(%esp)
 8811      FFFF0000 
 8812 6287 C744240C 		movl	$_fixed_id, 12(%esp)
 8812      00000000 
 8813 628f C7442408 		movl	$_StrIsPopulate, 8(%esp)
 8813      00000000 
 8814 6297 8B450C   		movl	12(%ebp), %eax
 8815 629a 89442404 		movl	%eax, 4(%esp)
 8816 629e 8B4508   		movl	8(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 246


 8817 62a1 890424   		movl	%eax, (%esp)
 8818 62a4 E8C0FCFF 		call	_generate_map2
 8818      FF
 8819 62a9 8945FC   		movl	%eax, -4(%ebp)
4666:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4667:str_merge.c   ****     fprintf(res, "};\n");
 8821              	LM1079:
 8822 62ac C7442404 		movl	$LC92, 4(%esp)
 8822      4B470000 
 8823 62b4 8B4508   		movl	8(%ebp), %eax
 8824 62b7 890424   		movl	%eax, (%esp)
 8825 62ba E8000000 		call	_fprintf
 8825      00
4668:str_merge.c   ****     fprintf(resMeta, "};\n");
 8827              	LM1080:
 8828 62bf C7442404 		movl	$LC92, 4(%esp)
 8828      4B470000 
 8829 62c7 8B450C   		movl	12(%ebp), %eax
 8830 62ca 890424   		movl	%eax, (%esp)
 8831 62cd E8000000 		call	_fprintf
 8831      00
4669:str_merge.c   **** 
4670:str_merge.c   **** 
4671:str_merge.c   ****     return ret;
 8833              	LM1081:
 8834 62d2 8B45FC   		movl	-4(%ebp), %eax
 8835 62d5 8945F8   		movl	%eax, -8(%ebp)
4672:str_merge.c   **** }
 8837              	LM1082:
 8838              	L519:
 8839              	LBE53:
 8840 62d8 8B45F8   		movl	-8(%ebp), %eax
 8841 62db C9       		leave
 8842 62dc C3       		ret
 8846              	Lscope35:
 8848              	LC122:
 8849 62dd 00       		.ascii "\0"
 8850 62de 00000000 		.space 127
 8850      00000000 
 8850      00000000 
 8850      00000000 
 8850      00000000 
 8851 635d 8D7600   		.align 32
 8852              	LC123:
 8853 6360 636F6E73 		.ascii "const StringResList mtk_gStringList[] = {\12\0"
 8853      74205374 
 8853      72696E67 
 8853      5265734C 
 8853      69737420 
 8854 638b 90909090 		.align 32
 8854      90909090 
 8854      90909090 
 8854      90909090 
 8854      90909090 
 8855              	LC124:
 8856 63a0 7B284355 		.ascii "{(CUSTOM_STRING*)StrRes_%d, %d, (void*)StrMap_%d, %d, (CUSTOM_STRMAP_SEARCH *)StrMapSearch
 8856      53544F4D 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 247


 8856      5F535452 
 8856      494E472A 
 8856      29537472 
 8857 6410 90909090 		.align 32
 8857      90909090 
 8857      90909090 
 8857      90909090 
 8858              	LC125:
 8859 6420 7B284355 		.ascii "{(CUSTOM_STRING*)StrRes_Dup, %d, (void*)NULL, %d, (CUSTOM_STRMAP_SEARCH *)NULL, %d, (MMI_B
 8859      53544F4D 
 8859      5F535452 
 8859      494E472A 
 8859      29537472 
 8860 6483 90909090 		.align 32
 8860      90909090 
 8860      90909090 
 8860      90909090 
 8860      90909090 
 8861              	LC126:
 8862 64a0 7B284355 		.ascii "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0},\12\0"
 8862      53544F4D 
 8862      5F535452 
 8862      494E472A 
 8862      294E554C 
 8863 64f0 90909090 		.align 32
 8863      90909090 
 8863      90909090 
 8863      90909090 
 8864              	LC127:
 8865 6500 7B284355 		.ascii "{(CUSTOM_STRING*)StrRes_Fixed, %d, (void*)StrMap_Fixed, %d, (CUSTOM_STRMAP_SEARCH *)StrMap
 8865      53544F4D 
 8865      5F535452 
 8865      494E472A 
 8865      29537472 
 8877              	_generate_language_list_array:
4673:str_merge.c   **** 
4674:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4675:str_merge.c   **** static MMI_BOOL generate_language_list_array(FILE *res, StrRes *strres, DupStrRes *strres_dup, int 
4676:str_merge.c   **** #else
4677:str_merge.c   **** static MMI_BOOL generate_language_list_array(FILE *res, StrRes *strres, int num_map_search, U32 *re
4678:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4679:str_merge.c   **** {
 8879              	LM1083:
 8880 6576 55       		pushl	%ebp
 8881 6577 89E5     		movl	%esp, %ebp
 8882 6579 57       		pushl	%edi
 8883 657a 81EC4401 		subl	$324, %esp
 8883      0000
4680:str_merge.c   ****     FILE *pFile = 0;
 8885              	LM1084:
 8886              	LBB54:
 8887 6580 C745F400 		movl	$0, -12(%ebp)
 8887      000000
4681:str_merge.c   ****     int i = 0;
 8889              	LM1085:
 8890 6587 C745F000 		movl	$0, -16(%ebp)
 8890      000000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 248


4682:str_merge.c   ****     char strResZiSymbol[STR_RESOURCE_MAX_SYMBOL_LEN] = "";
 8892              	LM1086:
 8893 658e 0FB605DD 		movzbl	LC122, %eax
 8893      620000
 8894 6595 888568FF 		movb	%al, -152(%ebp)
 8894      FFFF
 8895 659b 8DBD69FF 		leal	-151(%ebp), %edi
 8895      FFFF
 8896 65a1 FC       		cld
 8897 65a2 B97F0000 		movl	$127, %ecx
 8897      00
 8898 65a7 B000     		movb	$0, %al
 8899 65a9 F3       		rep
 8900 65aa AA       		stosb
4683:str_merge.c   ****     char strMapZiSymbol[STR_RESOURCE_MAX_SYMBOL_LEN] = "";
 8902              	LM1087:
 8903 65ab 0FB605DD 		movzbl	LC122, %eax
 8903      620000
 8904 65b2 8885E8FE 		movb	%al, -280(%ebp)
 8904      FFFF
 8905 65b8 8DBDE9FE 		leal	-279(%ebp), %edi
 8905      FFFF
 8906 65be FC       		cld
 8907 65bf B97F0000 		movl	$127, %ecx
 8907      00
 8908 65c4 B000     		movb	$0, %al
 8909 65c6 F3       		rep
 8910 65c7 AA       		stosb
4684:str_merge.c   ****     char * statementStr = NULL ;
 8912              	LM1088:
 8913 65c8 C785E4FE 		movl	$0, -284(%ebp)
 8913      FFFF0000 
 8913      0000
4685:str_merge.c   ****    
4686:str_merge.c   ****     if(res == 0)
 8915              	LM1089:
 8916 65d2 837D0800 		cmpl	$0, 8(%ebp)
 8917 65d6 750F     		jne	L522
4687:str_merge.c   ****     {
4688:str_merge.c   ****         return MMI_FALSE;
 8919              	LM1090:
 8920 65d8 C785DCFE 		movl	$0, -292(%ebp)
 8920      FFFF0000 
 8920      0000
 8921 65e2 E9AE0100 		jmp	L521
 8921      00
 8922              	L522:
4689:str_merge.c   ****     }
4690:str_merge.c   **** 
4691:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4692:str_merge.c   ****     InitStrDeCompressionBufferCreator();
4693:str_merge.c   ****     launchStrDeCompressionBufferCreator(strres, strres_dup, res_size, map_size);
4694:str_merge.c   ****     statementStr = StrDeCompressBufGetDefinitionStatements(MMIRESORUCE_CAT_STR_COMPRESS_RESERVED_ZI
4695:str_merge.c   ****     fprintf(res, "%s\n", statementStr);
4696:str_merge.c   ****     statementStr = StrDeCompressBufGetDeclartionStatements();
4697:str_merge.c   ****     fprintf(res, "%s\n", statementStr);
4698:str_merge.c   **** #endif// __MMI_RESOURCE_STR_ZLIB_COMPRESS__
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 249


4699:str_merge.c   **** 
4700:str_merge.c   ****     fprintf(res, "const StringResList mtk_gStringList[] = {\n");
 8924              	LM1091:
 8925 65e7 C7442404 		movl	$LC123, 4(%esp)
 8925      60630000 
 8926 65ef 8B4508   		movl	8(%ebp), %eax
 8927 65f2 890424   		movl	%eax, (%esp)
 8928 65f5 E8000000 		call	_fprintf
 8928      00
4701:str_merge.c   ****     for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 8930              	LM1092:
 8931 65fa C745F000 		movl	$0, -16(%ebp)
 8931      000000
 8932              	L523:
 8933 6601 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 8933      000000
 8934 6608 3945F0   		cmpl	%eax, -16(%ebp)
 8935 660b 7C05     		jl	L526
 8936 660d E9B60000 		jmp	L524
 8936      00
 8937              	L526:
4702:str_merge.c   ****     {
4703:str_merge.c   ****         int old_i = i;
 8939              	LM1093:
 8940              	LBB55:
 8941 6612 8B45F0   		movl	-16(%ebp), %eax
 8942 6615 8985E0FE 		movl	%eax, -288(%ebp)
 8942      FFFF
4704:str_merge.c   **** 
4705:str_merge.c   ****         if (mtk_gLanguageFlag[i] == 0)
 8944              	LM1094:
 8945 661b 8B45F0   		movl	-16(%ebp), %eax
 8946 661e 8D148500 		leal	0(,%eax,4), %edx
 8946      000000
 8947 6625 A1B80000 		movl	_mtk_gLanguageFlag, %eax
 8947      00
 8948 662a 833C1000 		cmpl	$0, (%eax,%edx)
 8949 662e 7507     		jne	L527
4706:str_merge.c   ****         {
4707:str_merge.c   ****             i = 0;
 8951              	LM1095:
 8952 6630 C745F000 		movl	$0, -16(%ebp)
 8952      000000
 8953              	L527:
4708:str_merge.c   ****         }
4709:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4710:str_merge.c   ****         if (mmi_res_zip_language[i] == 1)
4711:str_merge.c   ****         {
4712:str_merge.c   ****             if(pFile = fopen(ZIP_OUTPUT_FILE, "a"))
4713:str_merge.c   ****             {
4714:str_merge.c   ****                 fprintf(pFile, "StrRes_%d,%d,%d,%d,Yes\n", old_i + 1, res_size[i], reszip_size[i], 
4715:str_merge.c   ****                 fprintf(pFile, "StrMap_%d,%d,%d,%d,Yes\n", old_i + 1, map_size[i], mapzip_size[i], 
4716:str_merge.c   ****                 fprintf(pFile, "Language_%d_Total,%d,%d,%d,Yes\n", old_i + 1, res_size[i] + map_siz
4717:str_merge.c   ****                 fclose(pFile);
4718:str_merge.c   ****             }
4719:str_merge.c   ****             StrDeCompressBufGetStrResSymbol(old_i, strResZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
4720:str_merge.c   ****             StrDeCompressBufGetStrMapSymbol(old_i, strMapZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 250


4721:str_merge.c   **** 
4722:str_merge.c   ****             fprintf(res, "{%s, %d, %s, %d, (CUSTOM_STRMAP_SEARCH *)StrMapSearch, %d, %d, (U8*)StrRe
4723:str_merge.c   ****                 strResZiSymbol, strres[i].MaxNum + 1,strMapZiSymbol, strres[i].MaxID + 1, num_map_s
4724:str_merge.c   ****         }
4725:str_merge.c   ****         else
4726:str_merge.c   ****         {
4727:str_merge.c   ****             fprintf(res, "{(CUSTOM_STRING*)StrRes_%d, %d, (void*)StrMap_%d, %d, (CUSTOM_STRMAP_SEAR
4728:str_merge.c   ****                     old_i + 1, strres[i].MaxNum + 1, old_i + 1, strres[i].MaxID + 1, num_map_search
4729:str_merge.c   ****         }
4730:str_merge.c   **** #else
4731:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)StrRes_%d, %d, (void*)StrMap_%d, %d, (CUSTOM_STRMAP_SEARCH *
 8955              	LM1096:
 8956 6637 8B45F0   		movl	-16(%ebp), %eax
 8957 663a 8D148500 		leal	0(,%eax,4), %edx
 8957      000000
 8958 6641 A1C80000 		movl	_is16bit, %eax
 8958      00
 8959 6646 8B0410   		movl	(%eax,%edx), %eax
 8960 6649 8944241C 		movl	%eax, 28(%esp)
 8961 664d 8B4514   		movl	20(%ebp), %eax
 8962 6650 89442418 		movl	%eax, 24(%esp)
 8963 6654 8B55F0   		movl	-16(%ebp), %edx
 8964 6657 89D0     		movl	%edx, %eax
 8965 6659 01C0     		addl	%eax, %eax
 8966 665b 01D0     		addl	%edx, %eax
 8967 665d 8D14C500 		leal	0(,%eax,8), %edx
 8967      000000
 8968 6664 8B450C   		movl	12(%ebp), %eax
 8969 6667 8B441008 		movl	8(%eax,%edx), %eax
 8970 666b 40       		incl	%eax
 8971 666c 89442414 		movl	%eax, 20(%esp)
 8972 6670 8B85E0FE 		movl	-288(%ebp), %eax
 8972      FFFF
 8973 6676 40       		incl	%eax
 8974 6677 89442410 		movl	%eax, 16(%esp)
 8975 667b 8B55F0   		movl	-16(%ebp), %edx
 8976 667e 89D0     		movl	%edx, %eax
 8977 6680 01C0     		addl	%eax, %eax
 8978 6682 01D0     		addl	%edx, %eax
 8979 6684 8D14C500 		leal	0(,%eax,8), %edx
 8979      000000
 8980 668b 8B450C   		movl	12(%ebp), %eax
 8981 668e 8B44100C 		movl	12(%eax,%edx), %eax
 8982 6692 40       		incl	%eax
 8983 6693 8944240C 		movl	%eax, 12(%esp)
 8984 6697 8B85E0FE 		movl	-288(%ebp), %eax
 8984      FFFF
 8985 669d 40       		incl	%eax
 8986 669e 89442408 		movl	%eax, 8(%esp)
 8987 66a2 C7442404 		movl	$LC124, 4(%esp)
 8987      A0630000 
 8988 66aa 8B4508   		movl	8(%ebp), %eax
 8989 66ad 890424   		movl	%eax, (%esp)
 8990 66b0 E8000000 		call	_fprintf
 8990      00
4732:str_merge.c   ****                 old_i + 1, strres[i].MaxNum + 1, old_i + 1, strres[i].MaxID + 1, num_map_search, is
4733:str_merge.c   **** #endif
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 251


4734:str_merge.c   **** 
4735:str_merge.c   ****         i = old_i;
 8992              	LM1097:
 8993 66b5 8B85E0FE 		movl	-288(%ebp), %eax
 8993      FFFF
 8994 66bb 8945F0   		movl	%eax, -16(%ebp)
 8996              	LM1098:
 8997 66be 8D45F0   		leal	-16(%ebp), %eax
 8998              	LBE55:
 8999 66c1 FF00     		incl	(%eax)
 9000 66c3 E939FFFF 		jmp	L523
 9000      FF
 9001              	L524:
4736:str_merge.c   ****     }
4737:str_merge.c   **** 
4738:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4739:str_merge.c   **** 
4740:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4741:str_merge.c   **** 
4742:str_merge.c   ****     if (strres_dup->MaxNum > 0)
4743:str_merge.c   ****     {
4744:str_merge.c   ****         if (mmi_res_zip_language[MAX_LANGUAGES] == 1)
4745:str_merge.c   ****         {            
4746:str_merge.c   ****             if(pFile = fopen(ZIP_OUTPUT_FILE, "a"))
4747:str_merge.c   ****             {
4748:str_merge.c   ****                 fprintf(pFile, "StrRes_Dup,%d,%d,%d,Yes\n", res_size[511], reszip_size[511], res_si
4749:str_merge.c   ****                 fclose(pFile);
4750:str_merge.c   ****             }
4751:str_merge.c   ****                         
4752:str_merge.c   ****             StrDeCompressBufGetDupStrResSymbol(strResZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
4753:str_merge.c   **** 
4754:str_merge.c   ****             fprintf(res, "{%s, %d, (void*)NULL, %d, (CUSTOM_STRMAP_SEARCH *)NULL, %d, 0, (U8*)StrRe
4755:str_merge.c   ****                 strResZiSymbol, strres_dup->MaxNum, (U16)((max_total_len >> 16) & 0xFFFF), (U16)(ma
4756:str_merge.c   ****         }
4757:str_merge.c   ****         else
4758:str_merge.c   ****         {
4759:str_merge.c   ****             fprintf(res, "{(CUSTOM_STRING*)StrRes_Dup, %d, (void*)NULL, %d, (CUSTOM_STRMAP_SEARCH *
4760:str_merge.c   ****                     strres_dup->MaxNum, (U16)((max_total_len >> 16) & 0xFFFF), (U16)(max_total_len 
4761:str_merge.c   ****         }            
4762:str_merge.c   ****     }
4763:str_merge.c   ****     else
4764:str_merge.c   ****     {
4765:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0,
4766:str_merge.c   ****     }
4767:str_merge.c   **** 
4768:str_merge.c   ****     /* fixed string information */
4769:str_merge.c   ****     if(fixed_id.id_count > 0)
4770:str_merge.c   ****     {
4771:str_merge.c   **** 
4772:str_merge.c   ****         StrDeCompressBufGetFixedStrResSymbol(strResZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
4773:str_merge.c   ****         StrDeCompressBufGetFixedStrMapSymbol(strMapZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
4774:str_merge.c   ****         fprintf(res, "{%s, %d, %s, %d, (CUSTOM_STRMAP_SEARCH *)StrMapSearch, %d, %d, (U8*)StrRes_zi
4775:str_merge.c   ****             strResZiSymbol,fixed_result.nTotalStrRes,strMapZiSymbol, fixed_id.id_count, num_map_sea
4776:str_merge.c   ****     }
4777:str_merge.c   ****     else
4778:str_merge.c   ****     {
4779:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0,
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 252


4780:str_merge.c   ****     }
4781:str_merge.c   **** #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
4782:str_merge.c   ****     /* duplicate string information */
4783:str_merge.c   ****     if (strres_dup->MaxNum > 0)
 9003              	LM1099:
 9004 66c8 8B4510   		movl	16(%ebp), %eax
 9005 66cb 83780400 		cmpl	$0, 4(%eax)
 9006 66cf 7E34     		jle	L528
4784:str_merge.c   ****     {
4785:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)StrRes_Dup, %d, (void*)NULL, %d, (CUSTOM_STRMAP_SEARCH *)NUL
 9008              	LM1100:
 9009 66d1 0FB74518 		movzwl	24(%ebp), %eax
 9010 66d5 89442410 		movl	%eax, 16(%esp)
 9011 66d9 8B4518   		movl	24(%ebp), %eax
 9012 66dc C1F810   		sarl	$16, %eax
 9013 66df 0FB7C0   		movzwl	%ax, %eax
 9014 66e2 8944240C 		movl	%eax, 12(%esp)
 9015 66e6 8B4510   		movl	16(%ebp), %eax
 9016 66e9 8B4004   		movl	4(%eax), %eax
 9017 66ec 89442408 		movl	%eax, 8(%esp)
 9018 66f0 C7442404 		movl	$LC125, 4(%esp)
 9018      20640000 
 9019 66f8 8B4508   		movl	8(%ebp), %eax
 9020 66fb 890424   		movl	%eax, (%esp)
 9021 66fe E8000000 		call	_fprintf
 9021      00
 9022 6703 EB13     		jmp	L529
 9023              	L528:
4786:str_merge.c   ****     }
4787:str_merge.c   ****     else
4788:str_merge.c   ****     {
4789:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0}
 9025              	LM1101:
 9026 6705 C7442404 		movl	$LC126, 4(%esp)
 9026      A0640000 
 9027 670d 8B4508   		movl	8(%ebp), %eax
 9028 6710 890424   		movl	%eax, (%esp)
 9029 6713 E8000000 		call	_fprintf
 9029      00
 9030              	L529:
4790:str_merge.c   ****     }
4791:str_merge.c   **** 
4792:str_merge.c   ****     /* fixed string id information */
4793:str_merge.c   ****     if(fixed_id.id_count > 0)
 9032              	LM1102:
 9033 6718 66833D00 		cmpw	$0, _fixed_id
 9033      00000000 
 9034 6720 7443     		je	L530
4794:str_merge.c   ****     {
4795:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)StrRes_Fixed, %d, (void*)StrMap_Fixed, %d, (CUSTOM_STRMAP_SE
 9036              	LM1103:
 9037 6722 833D0400 		cmpl	$0, _fixed_result+4
 9037      000000
 9038 6729 0F95C0   		setne	%al
 9039 672c 0FB6C0   		movzbl	%al, %eax
 9040 672f 89442414 		movl	%eax, 20(%esp)
 9041 6733 8B4514   		movl	20(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 253


 9042 6736 89442410 		movl	%eax, 16(%esp)
 9043 673a 0FB70500 		movzwl	_fixed_id, %eax
 9043      000000
 9044 6741 8944240C 		movl	%eax, 12(%esp)
 9045 6745 0FB70500 		movzwl	_fixed_result, %eax
 9045      000000
 9046 674c 89442408 		movl	%eax, 8(%esp)
 9047 6750 C7442404 		movl	$LC127, 4(%esp)
 9047      00650000 
 9048 6758 8B4508   		movl	8(%ebp), %eax
 9049 675b 890424   		movl	%eax, (%esp)
 9050 675e E8000000 		call	_fprintf
 9050      00
 9051 6763 EB13     		jmp	L531
 9052              	L530:
4796:str_merge.c   ****         fixed_result.nTotalStrRes, fixed_id.id_count, num_map_search, fixed_result.is16bit ? 1 : 0)
4797:str_merge.c   ****     }
4798:str_merge.c   ****     else
4799:str_merge.c   ****     {
4800:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0}
 9054              	LM1104:
 9055 6765 C7442404 		movl	$LC126, 4(%esp)
 9055      A0640000 
 9056 676d 8B4508   		movl	8(%ebp), %eax
 9057 6770 890424   		movl	%eax, (%esp)
 9058 6773 E8000000 		call	_fprintf
 9058      00
 9059              	L531:
4801:str_merge.c   ****     }
4802:str_merge.c   **** #endif /* #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
4803:str_merge.c   ****     
4804:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4805:str_merge.c   **** 
4806:str_merge.c   ****     fprintf(res, "};\n");
 9061              	LM1105:
 9062 6778 C7442404 		movl	$LC92, 4(%esp)
 9062      4B470000 
 9063 6780 8B4508   		movl	8(%ebp), %eax
 9064 6783 890424   		movl	%eax, (%esp)
 9065 6786 E8000000 		call	_fprintf
 9065      00
4807:str_merge.c   **** 
4808:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4809:str_merge.c   ****     DenitStrDeCompressionBufferCreator();
4810:str_merge.c   **** #endif// __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4811:str_merge.c   **** 
4812:str_merge.c   ****     return MMI_TRUE;
 9067              	LM1106:
 9068 678b C785DCFE 		movl	$1, -292(%ebp)
 9068      FFFF0100 
 9068      0000
4813:str_merge.c   **** }
 9070              	LM1107:
 9071              	L521:
 9072              	LBE54:
 9073 6795 8B85DCFE 		movl	-292(%ebp), %eax
 9073      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 254


 9074 679b 81C44401 		addl	$324, %esp
 9074      0000
 9075 67a1 5F       		popl	%edi
 9076 67a2 5D       		popl	%ebp
 9077 67a3 C3       		ret
 9088              	Lscope36:
 9090 67a4 90909090 		.align 32
 9090      90909090 
 9090      90909090 
 9090      90909090 
 9090      90909090 
 9091              	LC128:
 9092 67c0 63726561 		.ascii "create hash table fixed->enum_id_tb failed.\12\0"
 9092      74652068 
 9092      61736820 
 9092      7461626C 
 9092      65206669 
 9093 67ed 90909090 		.align 32
 9093      90909090 
 9093      90909090 
 9093      90909090 
 9093      909090
 9094              	LC129:
 9095 6800 63726561 		.ascii "create hash table fixed->str_id_tb failed.\12\0"
 9095      74652068 
 9095      61736820 
 9095      7461626C 
 9095      65206669 
 9100              	_init_fixed_id:
4814:str_merge.c   **** 
4815:str_merge.c   **** 
4816:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4817:str_merge.c   **** /*****************************************************************************
4818:str_merge.c   ****  * FUNCTION
4819:str_merge.c   ****  *  init_fixed_id
4820:str_merge.c   ****  * DESCRIPTION
4821:str_merge.c   ****  *  initialize fixed id
4822:str_merge.c   ****  * PARAMETERS
4823:str_merge.c   ****  *  fixed           :[IN/OUT] fixed id will be initialized
4824:str_merge.c   ****  *  table_size    :[IN] hash table size
4825:str_merge.c   ****  * RETURNS
4826:str_merge.c   ****  *   0 if initialize success
4827:str_merge.c   ****  *****************************************************************************/
4828:str_merge.c   **** int init_fixed_id(FixedID *fixed, int table_size)
4829:str_merge.c   **** {
 9102              	LM1108:
 9103 682c 55       		pushl	%ebp
 9104 682d 89E5     		movl	%esp, %ebp
 9105 682f 53       		pushl	%ebx
 9106 6830 83EC14   		subl	$20, %esp
4830:str_merge.c   ****     /*----------------------------------------------------------------*/
4831:str_merge.c   ****     /* Local Variables                                                */
4832:str_merge.c   ****     /*----------------------------------------------------------------*/
4833:str_merge.c   ****     int i = 0;
 9108              	LM1109:
 9109              	LBB56:
 9110 6833 C745F800 		movl	$0, -8(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 255


 9110      000000
4834:str_merge.c   ****     
4835:str_merge.c   ****     /*----------------------------------------------------------------*/
4836:str_merge.c   ****     /* Code Body                                                      */
4837:str_merge.c   ****     /*----------------------------------------------------------------*/
4838:str_merge.c   ****     if(fixed == 0)
 9112              	LM1110:
 9113 683a 837D0800 		cmpl	$0, 8(%ebp)
 9114 683e 750C     		jne	L533
4839:str_merge.c   ****     {
4840:str_merge.c   ****         return -1; /* invalid input */
 9116              	LM1111:
 9117 6840 C745F4FF 		movl	$-1, -12(%ebp)
 9117      FFFFFF
 9118 6847 E9E40000 		jmp	L532
 9118      00
 9119              	L533:
4841:str_merge.c   ****     }
4842:str_merge.c   **** 
4843:str_merge.c   ****     memset(fixed, 0, sizeof(FixedID));
 9121              	LM1112:
 9122 684c C7442408 		movl	$16, 8(%esp)
 9122      10000000 
 9123 6854 C7442404 		movl	$0, 4(%esp)
 9123      00000000 
 9124 685c 8B4508   		movl	8(%ebp), %eax
 9125 685f 890424   		movl	%eax, (%esp)
 9126 6862 E8000000 		call	_memset
 9126      00
4844:str_merge.c   **** 
4845:str_merge.c   ****     fixed->fixed_id_flag = (U8*)malloc(sizeof(U8) * MAX_STRING_MAP_SIZE);
 9128              	LM1113:
 9129 6867 8B5D08   		movl	8(%ebp), %ebx
 9130 686a C70424FF 		movl	$65535, (%esp)
 9130      FF0000
 9131 6871 E8000000 		call	_malloc
 9131      00
 9132 6876 894304   		movl	%eax, 4(%ebx)
4846:str_merge.c   ****     if(fixed->fixed_id_flag == 0)
 9134              	LM1114:
 9135 6879 8B4508   		movl	8(%ebp), %eax
 9136 687c 83780400 		cmpl	$0, 4(%eax)
 9137 6880 750C     		jne	L534
4847:str_merge.c   ****     {
4848:str_merge.c   ****         return -2; /* malloc failed */
 9139              	LM1115:
 9140 6882 C745F4FE 		movl	$-2, -12(%ebp)
 9140      FFFFFF
 9141 6889 E9A20000 		jmp	L532
 9141      00
 9142              	L534:
4849:str_merge.c   ****     }
4850:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
 9144              	LM1116:
 9145 688e C745F800 		movl	$0, -8(%ebp)
 9145      000000
 9146              	L535:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 256


 9147 6895 817DF8FE 		cmpl	$65534, -8(%ebp)
 9147      FF0000
 9148 689c 7E02     		jle	L538
 9149 689e EB13     		jmp	L536
 9150              	L538:
4851:str_merge.c   ****         fixed->fixed_id_flag[i] = NO_TRANSLATE_FLAG;
 9152              	LM1117:
 9153 68a0 8B5508   		movl	8(%ebp), %edx
 9154 68a3 8B45F8   		movl	-8(%ebp), %eax
 9155 68a6 034204   		addl	4(%edx), %eax
 9156 68a9 C60001   		movb	$1, (%eax)
 9158              	LM1118:
 9159 68ac 8D45F8   		leal	-8(%ebp), %eax
 9160 68af FF00     		incl	(%eax)
 9161 68b1 EBE2     		jmp	L535
 9162              	L536:
4852:str_merge.c   **** 
4853:str_merge.c   ****     fixed->enum_id_tb = CreateHashTable(table_size);
 9164              	LM1119:
 9165 68b3 8B5D08   		movl	8(%ebp), %ebx
 9166 68b6 8B450C   		movl	12(%ebp), %eax
 9167 68b9 890424   		movl	%eax, (%esp)
 9168 68bc E88F97FF 		call	_CreateHashTable
 9168      FF
 9169 68c1 894308   		movl	%eax, 8(%ebx)
4854:str_merge.c   ****     if(fixed->enum_id_tb == 0)
 9171              	LM1120:
 9172 68c4 8B4508   		movl	8(%ebp), %eax
 9173 68c7 83780800 		cmpl	$0, 8(%eax)
 9174 68cb 7521     		jne	L539
4855:str_merge.c   ****     {
4856:str_merge.c   ****         fprintf(stderr, "create hash table fixed->enum_id_tb failed.\n");
 9176              	LM1121:
 9177 68cd C7442404 		movl	$LC128, 4(%esp)
 9177      C0670000 
 9178 68d5 A1000000 		movl	__imp___iob, %eax
 9178      00
 9179 68da 83C040   		addl	$64, %eax
 9180 68dd 890424   		movl	%eax, (%esp)
 9181 68e0 E8000000 		call	_fprintf
 9181      00
4857:str_merge.c   ****         return -3;
 9183              	LM1122:
 9184 68e5 C745F4FD 		movl	$-3, -12(%ebp)
 9184      FFFFFF
 9185 68ec EB42     		jmp	L532
 9186              	L539:
4858:str_merge.c   ****     }
4859:str_merge.c   **** 
4860:str_merge.c   ****     fixed->str_id_tb = CreateHashTable(table_size);
 9188              	LM1123:
 9189 68ee 8B5D08   		movl	8(%ebp), %ebx
 9190 68f1 8B450C   		movl	12(%ebp), %eax
 9191 68f4 890424   		movl	%eax, (%esp)
 9192 68f7 E85497FF 		call	_CreateHashTable
 9192      FF
 9193 68fc 89430C   		movl	%eax, 12(%ebx)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 257


4861:str_merge.c   ****     if(fixed->str_id_tb == 0)
 9195              	LM1124:
 9196 68ff 8B4508   		movl	8(%ebp), %eax
 9197 6902 83780C00 		cmpl	$0, 12(%eax)
 9198 6906 7521     		jne	L540
4862:str_merge.c   ****     {
4863:str_merge.c   ****         fprintf(stderr, "create hash table fixed->str_id_tb failed.\n");
 9200              	LM1125:
 9201 6908 C7442404 		movl	$LC129, 4(%esp)
 9201      00680000 
 9202 6910 A1000000 		movl	__imp___iob, %eax
 9202      00
 9203 6915 83C040   		addl	$64, %eax
 9204 6918 890424   		movl	%eax, (%esp)
 9205 691b E8000000 		call	_fprintf
 9205      00
4864:str_merge.c   ****         return -3;
 9207              	LM1126:
 9208 6920 C745F4FD 		movl	$-3, -12(%ebp)
 9208      FFFFFF
 9209 6927 EB07     		jmp	L532
 9210              	L540:
4865:str_merge.c   ****     }
4866:str_merge.c   **** 
4867:str_merge.c   ****     return 0;
 9212              	LM1127:
 9213 6929 C745F400 		movl	$0, -12(%ebp)
 9213      000000
4868:str_merge.c   **** }
 9215              	LM1128:
 9216              	L532:
 9217              	LBE56:
 9218 6930 8B45F4   		movl	-12(%ebp), %eax
 9219 6933 83C414   		addl	$20, %esp
 9220 6936 5B       		popl	%ebx
 9221 6937 5D       		popl	%ebp
 9222 6938 C3       		ret
 9226              	Lscope37:
 9232              	_set_fixed_str_flag:
4869:str_merge.c   **** 
4870:str_merge.c   **** 
4871:str_merge.c   **** int set_fixed_str_flag(FixedID *fixed, wchar_t* id)
4872:str_merge.c   **** {
 9234              	LM1129:
 9235 6939 55       		pushl	%ebp
 9236 693a 89E5     		movl	%esp, %ebp
 9237 693c 83EC18   		subl	$24, %esp
4873:str_merge.c   ****     /*----------------------------------------------------------------*/
4874:str_merge.c   ****     /* Local Variables                                                */
4875:str_merge.c   ****     /*----------------------------------------------------------------*/
4876:str_merge.c   ****     StrIDNode *node = 0;
 9239              	LM1130:
 9240              	LBB57:
 9241 693f C745FC00 		movl	$0, -4(%ebp)
 9241      000000
4877:str_merge.c   ****     
4878:str_merge.c   ****     /*----------------------------------------------------------------*/
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 258


4879:str_merge.c   ****     /* Code Body                                                      */
4880:str_merge.c   ****     /*----------------------------------------------------------------*/
4881:str_merge.c   ****     if(fixed == 0 || id == 0 || id[0] == '\0')
 9243              	LM1131:
 9244 6946 837D0800 		cmpl	$0, 8(%ebp)
 9245 694a 740F     		je	L543
 9246 694c 837D0C00 		cmpl	$0, 12(%ebp)
 9247 6950 7409     		je	L543
 9248 6952 8B450C   		movl	12(%ebp), %eax
 9249 6955 66833800 		cmpw	$0, (%eax)
 9250 6959 7509     		jne	L542
 9251              	L543:
4882:str_merge.c   ****     {
4883:str_merge.c   ****         return -1; /* invalid input */
 9253              	LM1132:
 9254 695b C745F8FF 		movl	$-1, -8(%ebp)
 9254      FFFFFF
 9255 6962 EB57     		jmp	L541
 9256              	L542:
4884:str_merge.c   ****     }
4885:str_merge.c   **** 
4886:str_merge.c   ****     node = hash_search(fixed->enum_id_tb, id);
 9258              	LM1133:
 9259 6964 8B450C   		movl	12(%ebp), %eax
 9260 6967 89442404 		movl	%eax, 4(%esp)
 9261 696b 8B4508   		movl	8(%ebp), %eax
 9262 696e 8B4008   		movl	8(%eax), %eax
 9263 6971 890424   		movl	%eax, (%esp)
 9264 6974 E84399FF 		call	_hash_search
 9264      FF
 9265 6979 8945FC   		movl	%eax, -4(%ebp)
4887:str_merge.c   ****     if(node != 0)
 9267              	LM1134:
 9268 697c 837DFC00 		cmpl	$0, -4(%ebp)
 9269 6980 7432     		je	L544
4888:str_merge.c   ****     {
4889:str_merge.c   ****     	if(fixed->fixed_id_flag[node->id] != TRANSLATE_FLAG)
 9271              	LM1135:
 9272 6982 8B4D08   		movl	8(%ebp), %ecx
 9273 6985 8B45FC   		movl	-4(%ebp), %eax
 9274 6988 0FB75004 		movzwl	4(%eax), %edx
 9275 698c 8B4104   		movl	4(%ecx), %eax
 9276 698f 803C0202 		cmpb	$2, (%edx,%eax)
 9277 6993 741F     		je	L544
4890:str_merge.c   ****         {
4891:str_merge.c   ****             ++CurrMaxTransStrId;
 9279              	LM1136:
 9280 6995 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 9280      000000
 9281 699c 40       		incl	%eax
 9282 699d 66A30000 		movw	%ax, _CurrMaxTransStrId
 9282      0000
4892:str_merge.c   ****             fixed->fixed_id_flag[node->id] = TRANSLATE_FLAG;
 9284              	LM1137:
 9285 69a3 8B4D08   		movl	8(%ebp), %ecx
 9286 69a6 8B45FC   		movl	-4(%ebp), %eax
 9287 69a9 0FB75004 		movzwl	4(%eax), %edx
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 259


 9288 69ad 8B4104   		movl	4(%ecx), %eax
 9289 69b0 C6040202 		movb	$2, (%edx,%eax)
 9290              	L544:
4893:str_merge.c   ****         }
4894:str_merge.c   ****     }
4895:str_merge.c   **** 
4896:str_merge.c   ****     return 0;
 9292              	LM1138:
 9293 69b4 C745F800 		movl	$0, -8(%ebp)
 9293      000000
4897:str_merge.c   **** }
 9295              	LM1139:
 9296              	L541:
 9297              	LBE57:
 9298 69bb 8B45F8   		movl	-8(%ebp), %eax
 9299 69be C9       		leave
 9300 69bf C3       		ret
 9304              	Lscope38:
 9311              	_generate_enum_hash:
4898:str_merge.c   **** 
4899:str_merge.c   **** 
4900:str_merge.c   **** int generate_enum_hash(StrHashTable *table, U8 *isPop, wchar_t *str[])
4901:str_merge.c   **** {
 9313              	LM1140:
 9314 69c0 55       		pushl	%ebp
 9315 69c1 89E5     		movl	%esp, %ebp
 9316 69c3 83EC48   		subl	$72, %esp
4902:str_merge.c   ****     /*----------------------------------------------------------------*/
4903:str_merge.c   ****     /* Local Variables                                                */
4904:str_merge.c   ****     /*----------------------------------------------------------------*/
4905:str_merge.c   ****     int i = 0, ret = 0;
 9318              	LM1141:
 9319              	LBB58:
 9320 69c6 C745F400 		movl	$0, -12(%ebp)
 9320      000000
 9321 69cd C745F000 		movl	$0, -16(%ebp)
 9321      000000
4906:str_merge.c   ****     StrIDNode node;
4907:str_merge.c   **** 
4908:str_merge.c   ****     /*----------------------------------------------------------------*/
4909:str_merge.c   ****     /* Code Body                                                      */
4910:str_merge.c   ****     /*----------------------------------------------------------------*/
4911:str_merge.c   ****     if(table == 0 || isPop == 0 || str == 0)
 9323              	LM1142:
 9324 69d4 837D0800 		cmpl	$0, 8(%ebp)
 9325 69d8 740C     		je	L548
 9326 69da 837D0C00 		cmpl	$0, 12(%ebp)
 9327 69de 7406     		je	L548
 9328 69e0 837D1000 		cmpl	$0, 16(%ebp)
 9329 69e4 7509     		jne	L547
 9330              	L548:
4912:str_merge.c   ****     {
4913:str_merge.c   ****         return -1; /* invalid input */
 9332              	LM1143:
 9333 69e6 C745D4FF 		movl	$-1, -44(%ebp)
 9333      FFFFFF
 9334 69ed EB70     		jmp	L546
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 260


 9335              	L547:
4914:str_merge.c   ****     }
4915:str_merge.c   **** 
4916:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
 9337              	LM1144:
 9338 69ef C745F400 		movl	$0, -12(%ebp)
 9338      000000
 9339              	L549:
 9340 69f6 817DF4FE 		cmpl	$65534, -12(%ebp)
 9340      FF0000
 9341 69fd 7E02     		jle	L552
 9342 69ff EB57     		jmp	L550
 9343              	L552:
4917:str_merge.c   ****     {
4918:str_merge.c   ****         if(isPop[i])
 9345              	LM1145:
 9346 6a01 8B45F4   		movl	-12(%ebp), %eax
 9347 6a04 03450C   		addl	12(%ebp), %eax
 9348 6a07 803800   		cmpb	$0, (%eax)
 9349 6a0a 7445     		je	L551
4919:str_merge.c   ****         {
4920:str_merge.c   ****             node.id = i;
 9351              	LM1146:
 9352 6a0c 8B45F4   		movl	-12(%ebp), %eax
 9353 6a0f 668945DC 		movw	%ax, -36(%ebp)
4921:str_merge.c   ****             node.str = str[i];
 9355              	LM1147:
 9356 6a13 8B45F4   		movl	-12(%ebp), %eax
 9357 6a16 8D148500 		leal	0(,%eax,4), %edx
 9357      000000
 9358 6a1d 8B4510   		movl	16(%ebp), %eax
 9359 6a20 8B0410   		movl	(%eax,%edx), %eax
 9360 6a23 8945D8   		movl	%eax, -40(%ebp)
4922:str_merge.c   ****             node.next = 0;
 9362              	LM1148:
 9363 6a26 C745E000 		movl	$0, -32(%ebp)
 9363      000000
4923:str_merge.c   ****             
4924:str_merge.c   ****             ret = hash_add(table, &node);
 9365              	LM1149:
 9366 6a2d 8D45D8   		leal	-40(%ebp), %eax
 9367 6a30 89442404 		movl	%eax, 4(%esp)
 9368 6a34 8B4508   		movl	8(%ebp), %eax
 9369 6a37 890424   		movl	%eax, (%esp)
 9370 6a3a E80497FF 		call	_hash_add
 9370      FF
 9371 6a3f 8945F0   		movl	%eax, -16(%ebp)
4925:str_merge.c   ****             if(ret < 0)
 9373              	LM1150:
 9374 6a42 837DF000 		cmpl	$0, -16(%ebp)
 9375 6a46 7909     		jns	L551
4926:str_merge.c   ****             {
4927:str_merge.c   ****                 return -2; /* hash add failed */
 9377              	LM1151:
 9378 6a48 C745D4FE 		movl	$-2, -44(%ebp)
 9378      FFFFFF
 9379 6a4f EB0E     		jmp	L546
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 261


 9381              	LM1152:
 9382              	L551:
 9383 6a51 8D45F4   		leal	-12(%ebp), %eax
 9384 6a54 FF00     		incl	(%eax)
 9385 6a56 EB9E     		jmp	L549
 9386              	L550:
4928:str_merge.c   ****             }
4929:str_merge.c   ****         }
4930:str_merge.c   ****     }
4931:str_merge.c   **** 
4932:str_merge.c   ****     return 1;
 9388              	LM1153:
 9389 6a58 C745D401 		movl	$1, -44(%ebp)
 9389      000000
4933:str_merge.c   **** }
 9391              	LM1154:
 9392              	L546:
 9393              	LBE58:
 9394 6a5f 8B45D4   		movl	-44(%ebp), %eax
 9395 6a62 C9       		leave
 9396 6a63 C3       		ret
 9402              	Lscope39:
 9406              	.globl _get_fixed_string_total_len
 9408              	_get_fixed_string_total_len:
4934:str_merge.c   **** 
4935:str_merge.c   **** 
4936:str_merge.c   **** /*****************************************************************************
4937:str_merge.c   ****  * FUNCTION
4938:str_merge.c   ****  *  get_fixed_string_total_len
4939:str_merge.c   ****  * DESCRIPTION
4940:str_merge.c   ****  *  get the total length of fixed string
4941:str_merge.c   ****  * PARAMETERS
4942:str_merge.c   ****  *  void
4943:str_merge.c   ****  * RETURNS
4944:str_merge.c   ****  *   length of all the fixed string
4945:str_merge.c   ****  *****************************************************************************/
4946:str_merge.c   **** int get_fixed_string_total_len(FixedID *fixed)
4947:str_merge.c   **** {
 9410              	LM1155:
 9411 6a64 55       		pushl	%ebp
 9412 6a65 89E5     		movl	%esp, %ebp
 9413 6a67 83EC18   		subl	$24, %esp
4948:str_merge.c   ****     /*----------------------------------------------------------------*/
4949:str_merge.c   ****     /* Local Variables                                                */
4950:str_merge.c   ****     /*----------------------------------------------------------------*/
4951:str_merge.c   ****     int i = 0, len = 0;
 9415              	LM1156:
 9416              	LBB59:
 9417 6a6a C745FC00 		movl	$0, -4(%ebp)
 9417      000000
 9418 6a71 C745F800 		movl	$0, -8(%ebp)
 9418      000000
4952:str_merge.c   ****     
4953:str_merge.c   ****     /*----------------------------------------------------------------*/
4954:str_merge.c   ****     /* Code Body                                                      */
4955:str_merge.c   ****     /*----------------------------------------------------------------*/
4956:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 262


 9420              	LM1157:
 9421 6a78 C745FC00 		movl	$0, -4(%ebp)
 9421      000000
 9422              	L556:
 9423 6a7f 817DFCFE 		cmpl	$65534, -4(%ebp)
 9423      FF0000
 9424 6a86 7E02     		jle	L559
 9425 6a88 EB5C     		jmp	L557
 9426              	L559:
4957:str_merge.c   ****     {
4958:str_merge.c   ****         if(StrIsPopulate[i] && fixed->fixed_id_flag[i] == NO_TRANSLATE_FLAG)
 9428              	LM1158:
 9429 6a8a 8B45FC   		movl	-4(%ebp), %eax
 9430 6a8d 05000000 		addl	$_StrIsPopulate, %eax
 9430      00
 9431 6a92 803800   		cmpb	$0, (%eax)
 9432 6a95 7448     		je	L558
 9433 6a97 8B4508   		movl	8(%ebp), %eax
 9434 6a9a 8B55FC   		movl	-4(%ebp), %edx
 9435 6a9d 8B4004   		movl	4(%eax), %eax
 9436 6aa0 01D0     		addl	%edx, %eax
 9437 6aa2 803801   		cmpb	$1, (%eax)
 9438 6aa5 7538     		jne	L558
4959:str_merge.c   ****         {
4960:str_merge.c   ****             if(Str[i][0] != '\0')
 9440              	LM1159:
 9441 6aa7 8B45FC   		movl	-4(%ebp), %eax
 9442 6aaa 8B048500 		movl	_Str(,%eax,4), %eax
 9442      000000
 9443 6ab1 803800   		cmpb	$0, (%eax)
 9444 6ab4 7429     		je	L558
4961:str_merge.c   ****             {
4962:str_merge.c   ****                 int l = wcslen((wchar_t*)Str[i]);
 9446              	LM1160:
 9447              	LBB60:
 9448 6ab6 8B45FC   		movl	-4(%ebp), %eax
 9449 6ab9 8B048500 		movl	_Str(,%eax,4), %eax
 9449      000000
 9450 6ac0 890424   		movl	%eax, (%esp)
 9451 6ac3 E8000000 		call	_wcslen
 9451      00
 9452 6ac8 8945F4   		movl	%eax, -12(%ebp)
4963:str_merge.c   ****                 if(l > 0)
 9454              	LM1161:
 9455 6acb 837DF400 		cmpl	$0, -12(%ebp)
 9456 6acf 7E0E     		jle	L558
4964:str_merge.c   ****                 {
4965:str_merge.c   ****                     len += (l + 1)*2;
 9458              	LM1162:
 9459 6ad1 8B45F4   		movl	-12(%ebp), %eax
 9460 6ad4 01C0     		addl	%eax, %eax
 9461 6ad6 0345F8   		addl	-8(%ebp), %eax
 9462 6ad9 83C002   		addl	$2, %eax
 9463 6adc 8945F8   		movl	%eax, -8(%ebp)
 9465              	LM1163:
 9466              	L558:
 9467 6adf 8D45FC   		leal	-4(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 263


 9468              	LBE60:
 9469 6ae2 FF00     		incl	(%eax)
 9470 6ae4 EB99     		jmp	L556
 9471              	L557:
4966:str_merge.c   ****                 }
4967:str_merge.c   ****             }
4968:str_merge.c   ****         }
4969:str_merge.c   ****     }
4970:str_merge.c   **** 
4971:str_merge.c   ****     return len;
 9473              	LM1164:
 9474 6ae6 8B45F8   		movl	-8(%ebp), %eax
4972:str_merge.c   **** }
 9476              	LM1165:
 9477 6ae9 C9       		leave
 9478 6aea C3       		ret
 9479              	LBE59:
 9487              	Lscope40:
 9489 6aeb 90909090 		.align 32
 9489      90909090 
 9489      90909090 
 9489      90909090 
 9489      90909090 
 9490              	LC130:
 9491 6b00 2A2A2A2A 		.ascii "********start run generate_fixed_str1************\12\0"
 9491      2A2A2A2A 
 9491      73746172 
 9491      74207275 
 9491      6E206765 
 9492 6b33 8DB60000 		.align 32
 9492      00008DBC 
 9492      27000000 
 9492      00
 9493              	LC131:
 9494 6b40 2A2A2A2A 		.ascii "********start run generate_fixed_str2************\12\0"
 9494      2A2A2A2A 
 9494      73746172 
 9494      74207275 
 9494      6E206765 
 9495 6b73 8DB60000 		.align 32
 9495      00008DBC 
 9495      27000000 
 9495      00
 9496              	LC132:
 9497 6b80 2E2E5C2E 		.ascii "..\\..\\Customer\\ResGenerator\\debug\\no_translate_string.txt\0"
 9497      2E5C4375 
 9497      73746F6D 
 9497      65725C52 
 9497      65734765 
 9498 6bba 8DB60000 		.align 32
 9498      0000
 9499              	LC133:
 9500 6bc0 6F70656E 		.ascii "open ResGenerator\\debug\\fixed_string.txt failed!\0"
 9500      20526573 
 9500      47656E65 
 9500      7261746F 
 9500      725C6465 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 264


 9501 6bf1 EB0D9090 		.align 32
 9501      90909090 
 9501      90909090 
 9501      909090
 9502              	LC134:
 9503 6c00 4552524F 		.ascii "ERROR:open ResGenerator\\debug\\fixed_string.txt failed!!\12\0"
 9503      523A6F70 
 9503      656E2052 
 9503      65734765 
 9503      6E657261 
 9504 6c39 8DB42600 		.align 32
 9504      000000
 9505              	LC135:
 9506 6c40 454E554D 		.ascii "ENUM_ID\11ID_VALUE\11ID_STR\11STR LENGTH\11duplicate ID\12\0"
 9506      5F494409 
 9506      49445F56 
 9506      414C5545 
 9506      0949445F 
 9507 6c71 EB0D9090 		.align 32
 9507      90909090 
 9507      90909090 
 9507      909090
 9508              	LC136:
 9509 6c80 5F5F616C 		.ascii "__align(4) const CUSTOM_STRING StrRes_Fixed[] = {\12\0"
 9509      69676E28 
 9509      34292063 
 9509      6F6E7374 
 9509      20435553 
 9510              	LC137:
 9511 6cb3 4C414E47 		.ascii "LANG: FIXED\12\0"
 9511      3A204649 
 9511      5845440A 
 9511      00
 9512              		.align 32
 9513              	LC138:
 9514 6cc0 44415441 		.ascii "DATA:\12__align(4) const CUSTOM_STRING StrRes_Fixed[] = {\12\0"
 9514      3A0A5F5F 
 9514      616C6967 
 9514      6E283429 
 9514      20636F6E 
 9515 6cf9 8DB42600 		.align 32
 9515      000000
 9516              	LC139:
 9517 6d00 636F6E73 		.ascii "const CUSTOM_STRING_MAP_16 StrMap_Fixed[] = {\12\0"
 9517      74204355 
 9517      53544F4D 
 9517      5F535452 
 9517      494E475F 
 9518 6d2f 90909090 		.align 32
 9518      90909090 
 9518      90909090 
 9518      90909090 
 9518      90
 9519              	LC140:
 9520 6d40 636F6E73 		.ascii "const CUSTOM_STRING_MAP StrMap_Fixed[] = {\12\0"
 9520      74204355 
 9520      53544F4D 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 265


 9520      5F535452 
 9520      494E475F 
 9521              	LC141:
 9522 6d6c 7D3B0A0A 		.ascii "};\12\12\0"
 9522      00
 9523 6d71 EB0D9090 		.align 32
 9523      90909090 
 9523      90909090 
 9523      909090
 9524              	LC142:
 9525 6d80 65787465 		.ascii "extern const CUSTOM_STRING_MAP_16 StrMap_Fixed[];\12\0"
 9525      726E2063 
 9525      6F6E7374 
 9525      20435553 
 9525      544F4D5F 
 9526 6db3 8DB60000 		.align 32
 9526      00008DBC 
 9526      27000000 
 9526      00
 9527              	LC143:
 9528 6dc0 65787465 		.ascii "extern const CUSTOM_STRING_MAP StrMap_Fixed[];\12\0"
 9528      726E2063 
 9528      6F6E7374 
 9528      20435553 
 9528      544F4D5F 
 9536              	_generate_fixed_str:
4973:str_merge.c   **** 
4974:str_merge.c   **** 
4975:str_merge.c   **** /*****************************************************************************
4976:str_merge.c   ****  * FUNCTION
4977:str_merge.c   ****  *  generate_fixed_str
4978:str_merge.c   ****  * DESCRIPTION
4979:str_merge.c   ****  *  fixed string id populate function
4980:str_merge.c   ****  * PARAMETERS
4981:str_merge.c   ****  *  res      :[IN] CustStrRes.c file handle
4982:str_merge.c   ****  *  map    :[IN] CustStrMap.c file handle
4983:str_merge.c   ****  *  fixed    :[IN] fixed string id information
4984:str_merge.c   ****  * RETURNS
4985:str_merge.c   ****  *  Return 1 on success, return -1 if input is invalid, return-2 if malloc faileds
4986:str_merge.c   ****  *****************************************************************************/
4987:str_merge.c   **** static int generate_fixed_str(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta ,FixedID *fixed)
4988:str_merge.c   **** {
 9538              	LM1166:
 9539 6df0 55       		pushl	%ebp
 9540 6df1 89E5     		movl	%esp, %ebp
 9541 6df3 83EC68   		subl	$104, %esp
4989:str_merge.c   ****     /*----------------------------------------------------------------*/
4990:str_merge.c   ****     /* Local Variables                                                */
4991:str_merge.c   ****     /*----------------------------------------------------------------*/
4992:str_merge.c   ****     U16 did = 0;
 9543              	LM1167:
 9544              	LBB61:
 9545 6df6 66C745F6 		movw	$0, -10(%ebp)
 9545      0000
4993:str_merge.c   ****     int i = 0, total_len = 0;
 9547              	LM1168:
 9548 6dfc C745F000 		movl	$0, -16(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 266


 9548      000000
 9549 6e03 C745EC00 		movl	$0, -20(%ebp)
 9549      000000
4994:str_merge.c   ****     FILE *log = 0;
 9551              	LM1169:
 9552 6e0a C745E800 		movl	$0, -24(%ebp)
 9552      000000
4995:str_merge.c   ****     int str_count = 0; /* total string count */
 9554              	LM1170:
 9555 6e11 C745E400 		movl	$0, -28(%ebp)
 9555      000000
4996:str_merge.c   ****     int *offset = 0; /* offset array for each ID */
 9557              	LM1171:
 9558 6e18 C745E000 		movl	$0, -32(%ebp)
 9558      000000
4997:str_merge.c   ****     int curr_pos = 2; /* current max offset value */
 9560              	LM1172:
 9561 6e1f C745DC02 		movl	$2, -36(%ebp)
 9561      000000
4998:str_merge.c   ****     StrIDNode *node = 0, tmp;
 9563              	LM1173:
 9564 6e26 C745D800 		movl	$0, -40(%ebp)
 9564      000000
4999:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5000:str_merge.c   ****     U8 *data = 0, *p = 0;
5001:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5002:str_merge.c   **** 
5003:str_merge.c   ****     /*----------------------------------------------------------------*/
5004:str_merge.c   ****     /* Code Body                                                      */
5005:str_merge.c   ****     /*----------------------------------------------------------------*/
5006:str_merge.c   ****     fprintf(stderr, "********start run generate_fixed_str1************\n");
 9566              	LM1174:
 9567 6e2d C7442404 		movl	$LC130, 4(%esp)
 9567      006B0000 
 9568 6e35 A1000000 		movl	__imp___iob, %eax
 9568      00
 9569 6e3a 83C040   		addl	$64, %eax
 9570 6e3d 890424   		movl	%eax, (%esp)
 9571 6e40 E8000000 		call	_fprintf
 9571      00
5007:str_merge.c   ****     if(res == 0 || map == 0 || resMeta==0 || fixed == 0 || mapMeta ==0 || fixed->enum_id_tb == 0 ||
 9573              	LM1175:
 9574 6e45 837D0800 		cmpl	$0, 8(%ebp)
 9575 6e49 742A     		je	L565
 9576 6e4b 837D0C00 		cmpl	$0, 12(%ebp)
 9577 6e4f 7424     		je	L565
 9578 6e51 837D1000 		cmpl	$0, 16(%ebp)
 9579 6e55 741E     		je	L565
 9580 6e57 837D1800 		cmpl	$0, 24(%ebp)
 9581 6e5b 7418     		je	L565
 9582 6e5d 837D1400 		cmpl	$0, 20(%ebp)
 9583 6e61 7412     		je	L565
 9584 6e63 8B4518   		movl	24(%ebp), %eax
 9585 6e66 83780800 		cmpl	$0, 8(%eax)
 9586 6e6a 7409     		je	L565
 9587 6e6c 8B4518   		movl	24(%ebp), %eax
 9588 6e6f 83780C00 		cmpl	$0, 12(%eax)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 267


 9589 6e73 750C     		jne	L564
 9590              	L565:
5008:str_merge.c   ****     {
5009:str_merge.c   ****         return -1; /* invalid input */
 9592              	LM1176:
 9593 6e75 C745C4FF 		movl	$-1, -60(%ebp)
 9593      FFFFFF
 9594 6e7c E92B0500 		jmp	L563
 9594      00
 9595              	L564:
5010:str_merge.c   ****     }
5011:str_merge.c   ****     fprintf(stderr, "********start run generate_fixed_str2************\n");
 9597              	LM1177:
 9598 6e81 C7442404 		movl	$LC131, 4(%esp)
 9598      406B0000 
 9599 6e89 A1000000 		movl	__imp___iob, %eax
 9599      00
 9600 6e8e 83C040   		addl	$64, %eax
 9601 6e91 890424   		movl	%eax, (%esp)
 9602 6e94 E8000000 		call	_fprintf
 9602      00
5012:str_merge.c   **** 
5013:str_merge.c   ****     /* get the total length of fixed string id */
5014:str_merge.c   ****     total_len = get_fixed_string_total_len(fixed);
 9604              	LM1178:
 9605 6e99 8B4518   		movl	24(%ebp), %eax
 9606 6e9c 890424   		movl	%eax, (%esp)
 9607 6e9f E8C0FBFF 		call	_get_fixed_string_total_len
 9607      FF
 9608 6ea4 8945EC   		movl	%eax, -20(%ebp)
5015:str_merge.c   ****     if(total_len/2 > 0xFFFF)
 9610              	LM1179:
 9611 6ea7 8B55EC   		movl	-20(%ebp), %edx
 9612 6eaa 89D0     		movl	%edx, %eax
 9613 6eac C1F81F   		sarl	$31, %eax
 9614 6eaf C1E81F   		shrl	$31, %eax
 9615 6eb2 8D0410   		leal	(%eax,%edx), %eax
 9616 6eb5 D1F8     		sarl	%eax
 9617 6eb7 3DFFFF00 		cmpl	$65535, %eax
 9617      00
 9618 6ebc 7E0C     		jle	L566
5016:str_merge.c   ****     {
5017:str_merge.c   ****         fixed_result.is16bit = MMI_FALSE;
 9620              	LM1180:
 9621 6ebe C7050400 		movl	$0, _fixed_result+4
 9621      00000000 
 9621      0000
 9622 6ec8 EB0A     		jmp	L567
 9623              	L566:
5018:str_merge.c   ****     }
5019:str_merge.c   ****     else
5020:str_merge.c   ****     {
5021:str_merge.c   ****         fixed_result.is16bit = MMI_TRUE;
 9625              	LM1181:
 9626 6eca C7050400 		movl	$1, _fixed_result+4
 9626      00000100 
 9626      0000
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 268


 9627              	L567:
5022:str_merge.c   ****     }
5023:str_merge.c   **** 
5024:str_merge.c   ****     /* open log file */
5025:str_merge.c   ****     log = fopen(FIXED_STRING_LOG, "w");
 9629              	LM1182:
 9630 6ed4 C7442404 		movl	$LC26, 4(%esp)
 9630      7F150000 
 9631 6edc C7042480 		movl	$LC132, (%esp)
 9631      6B0000
 9632 6ee3 E8000000 		call	_fopen
 9632      00
 9633 6ee8 8945E8   		movl	%eax, -24(%ebp)
5026:str_merge.c   ****     if(log == NULL)
 9635              	LM1183:
 9636 6eeb 837DE800 		cmpl	$0, -24(%ebp)
 9637 6eef 7536     		jne	L568
5027:str_merge.c   ****     {
5028:str_merge.c   ****         STRMERG_LOG_E("open ResGenerator\\debug\\fixed_string.txt failed!");
 9639              	LM1184:
 9640 6ef1 C7442408 		movl	$LC133, 8(%esp)
 9640      C06B0000 
 9641 6ef9 C7442404 		movl	$LC3, 4(%esp)
 9641      4B040000 
 9642 6f01 C7042403 		movl	$3, (%esp)
 9642      000000
 9643 6f08 E8000000 		call	_reslog_adaptor_log
 9643      00
5029:str_merge.c   ****         fprintf(stderr, "ERROR:open ResGenerator\\debug\\fixed_string.txt failed!!\n");
 9645              	LM1185:
 9646 6f0d C7442404 		movl	$LC134, 4(%esp)
 9646      006C0000 
 9647 6f15 A1000000 		movl	__imp___iob, %eax
 9647      00
 9648 6f1a 83C040   		addl	$64, %eax
 9649 6f1d 890424   		movl	%eax, (%esp)
 9650 6f20 E8000000 		call	_fprintf
 9650      00
 9651 6f25 EB13     		jmp	L569
 9652              	L568:
5030:str_merge.c   ****     }
5031:str_merge.c   ****     else
5032:str_merge.c   ****     {
5033:str_merge.c   ****         fprintf(log, "ENUM_ID\tID_VALUE\tID_STR\tSTR LENGTH\tduplicate ID\n");
 9654              	LM1186:
 9655 6f27 C7442404 		movl	$LC135, 4(%esp)
 9655      406C0000 
 9656 6f2f 8B45E8   		movl	-24(%ebp), %eax
 9657 6f32 890424   		movl	%eax, (%esp)
 9658 6f35 E8000000 		call	_fprintf
 9658      00
 9659              	L569:
5034:str_merge.c   ****     }
5035:str_merge.c   ****     
5036:str_merge.c   ****     /* initialize offset */
5037:str_merge.c   ****     offset = (int*)malloc(sizeof(int) * MAX_STRING_MAP_SIZE);
 9661              	LM1187:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 269


 9662 6f3a C70424FC 		movl	$262140, (%esp)
 9662      FF0300
 9663 6f41 E8000000 		call	_malloc
 9663      00
 9664 6f46 8945E0   		movl	%eax, -32(%ebp)
5038:str_merge.c   ****     if(offset == 0)
 9666              	LM1188:
 9667 6f49 837DE000 		cmpl	$0, -32(%ebp)
 9668 6f4d 7517     		jne	L570
5039:str_merge.c   ****     {
5040:str_merge.c   ****         fclose(log);
 9670              	LM1189:
 9671 6f4f 8B45E8   		movl	-24(%ebp), %eax
 9672 6f52 890424   		movl	%eax, (%esp)
 9673 6f55 E8000000 		call	_fclose
 9673      00
5041:str_merge.c   ****         return -2; /* malloc memory failed */
 9675              	LM1190:
 9676 6f5a C745C4FE 		movl	$-2, -60(%ebp)
 9676      FFFFFF
 9677 6f61 E9460400 		jmp	L563
 9677      00
 9678              	L570:
5042:str_merge.c   ****     }
5043:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
 9680              	LM1191:
 9681 6f66 C745F000 		movl	$0, -16(%ebp)
 9681      000000
 9682              	L571:
 9683 6f6d 817DF0FE 		cmpl	$65534, -16(%ebp)
 9683      FF0000
 9684 6f74 7E02     		jle	L574
 9685 6f76 EB1B     		jmp	L572
 9686              	L574:
5044:str_merge.c   ****     {
5045:str_merge.c   ****         offset[i] = -1;
 9688              	LM1192:
 9689 6f78 8B45F0   		movl	-16(%ebp), %eax
 9690 6f7b 8D148500 		leal	0(,%eax,4), %edx
 9690      000000
 9691 6f82 8B45E0   		movl	-32(%ebp), %eax
 9692 6f85 C70410FF 		movl	$-1, (%eax,%edx)
 9692      FFFFFF
 9694              	LM1193:
 9695 6f8c 8D45F0   		leal	-16(%ebp), %eax
 9696 6f8f FF00     		incl	(%eax)
 9697 6f91 EBDA     		jmp	L571
 9698              	L572:
5046:str_merge.c   ****     }
5047:str_merge.c   ****     
5048:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5049:str_merge.c   ****     data = (U8*)malloc((total_len + 4) * sizeof(U8));
5050:str_merge.c   ****     if(data == 0)
5051:str_merge.c   ****     {
5052:str_merge.c   ****         fclose(log);
5053:str_merge.c   ****         free(offset);
5054:str_merge.c   ****         return -2; 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 270


5055:str_merge.c   ****     }
5056:str_merge.c   ****     data[0] = '\0';
5057:str_merge.c   ****     data[1] = '\0';
5058:str_merge.c   ****     p = data + 2;
5059:str_merge.c   **** #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5060:str_merge.c   ****     /* write the head of the data and map array */
5061:str_merge.c   ****     fprintf(res, "__align(4) const CUSTOM_STRING StrRes_Fixed[] = {\n");
 9700              	LM1194:
 9701 6f93 C7442404 		movl	$LC136, 4(%esp)
 9701      806C0000 
 9702 6f9b 8B4508   		movl	8(%ebp), %eax
 9703 6f9e 890424   		movl	%eax, (%esp)
 9704 6fa1 E8000000 		call	_fprintf
 9704      00
5062:str_merge.c   ****     fprintf(res, "0x00, 0x00,\n");
 9706              	LM1195:
 9707 6fa6 C7442404 		movl	$LC90, 4(%esp)
 9707      37470000 
 9708 6fae 8B4508   		movl	8(%ebp), %eax
 9709 6fb1 890424   		movl	%eax, (%esp)
 9710 6fb4 E8000000 		call	_fprintf
 9710      00
5063:str_merge.c   ****     
5064:str_merge.c   ****     
5065:str_merge.c   ****     /* output language map meta file*/
5066:str_merge.c   ****     fprintf(resMeta, "########################################################\n");
 9712              	LM1196:
 9713 6fb9 C7442404 		movl	$LC84, 4(%esp)
 9713      80460000 
 9714 6fc1 8B4510   		movl	16(%ebp), %eax
 9715 6fc4 890424   		movl	%eax, (%esp)
 9716 6fc7 E8000000 		call	_fprintf
 9716      00
5067:str_merge.c   ****     fprintf(resMeta, "TYPE: RES\n");    
 9718              	LM1197:
 9719 6fcc C7442404 		movl	$LC85, 4(%esp)
 9719      BA460000 
 9720 6fd4 8B4510   		movl	16(%ebp), %eax
 9721 6fd7 890424   		movl	%eax, (%esp)
 9722 6fda E8000000 		call	_fprintf
 9722      00
5068:str_merge.c   ****     fprintf(resMeta, "LANG: FIXED\n"); 
 9724              	LM1198:
 9725 6fdf C7442404 		movl	$LC137, 4(%esp)
 9725      B36C0000 
 9726 6fe7 8B4510   		movl	16(%ebp), %eax
 9727 6fea 890424   		movl	%eax, (%esp)
 9728 6fed E8000000 		call	_fprintf
 9728      00
5069:str_merge.c   ****     fprintf(resMeta, "DATA:\n__align(4) const CUSTOM_STRING StrRes_Fixed[] = {\n");
 9730              	LM1199:
 9731 6ff2 C7442404 		movl	$LC138, 4(%esp)
 9731      C06C0000 
 9732 6ffa 8B4510   		movl	16(%ebp), %eax
 9733 6ffd 890424   		movl	%eax, (%esp)
 9734 7000 E8000000 		call	_fprintf
 9734      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 271


5070:str_merge.c   ****     fprintf(resMeta, "0x00, 0x00,\n");
 9736              	LM1200:
 9737 7005 C7442404 		movl	$LC90, 4(%esp)
 9737      37470000 
 9738 700d 8B4510   		movl	16(%ebp), %eax
 9739 7010 890424   		movl	%eax, (%esp)
 9740 7013 E8000000 		call	_fprintf
 9740      00
5071:str_merge.c   ****     
5072:str_merge.c   ****     fprintf(mapMeta, "########################################################\n");
 9742              	LM1201:
 9743 7018 C7442404 		movl	$LC84, 4(%esp)
 9743      80460000 
 9744 7020 8B4514   		movl	20(%ebp), %eax
 9745 7023 890424   		movl	%eax, (%esp)
 9746 7026 E8000000 		call	_fprintf
 9746      00
5073:str_merge.c   ****     fprintf(mapMeta, "TYPE: MAP\n");
 9748              	LM1202:
 9749 702b C7442404 		movl	$LC100, 4(%esp)
 9749      01490000 
 9750 7033 8B4514   		movl	20(%ebp), %eax
 9751 7036 890424   		movl	%eax, (%esp)
 9752 7039 E8000000 		call	_fprintf
 9752      00
5074:str_merge.c   ****     fprintf(mapMeta, "LANG: FIXED\n");
 9754              	LM1203:
 9755 703e C7442404 		movl	$LC137, 4(%esp)
 9755      B36C0000 
 9756 7046 8B4514   		movl	20(%ebp), %eax
 9757 7049 890424   		movl	%eax, (%esp)
 9758 704c E8000000 		call	_fprintf
 9758      00
5075:str_merge.c   ****     if(fixed_result.is16bit)
 9760              	LM1204:
 9761 7051 833D0400 		cmpl	$0, _fixed_result+4
 9761      000000
 9762 7058 744E     		je	L575
5076:str_merge.c   ****     {
5077:str_merge.c   ****         fprintf(map, "const CUSTOM_STRING_MAP_16 StrMap_Fixed[] = {\n");
 9764              	LM1205:
 9765 705a C7442404 		movl	$LC139, 4(%esp)
 9765      006D0000 
 9766 7062 8B450C   		movl	12(%ebp), %eax
 9767 7065 890424   		movl	%eax, (%esp)
 9768 7068 E8000000 		call	_fprintf
 9768      00
5078:str_merge.c   ****         fprintf(mapMeta, "BIT_MODE: 16\n");
 9770              	LM1206:
 9771 706d C7442404 		movl	$LC102, 4(%esp)
 9771      57490000 
 9772 7075 8B4514   		movl	20(%ebp), %eax
 9773 7078 890424   		movl	%eax, (%esp)
 9774 707b E8000000 		call	_fprintf
 9774      00
5079:str_merge.c   ****         fprintf(mapMeta, "DATA:\n");
 9776              	LM1207:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 272


 9777 7080 C7442404 		movl	$LC99, 4(%esp)
 9777      FA480000 
 9778 7088 8B4514   		movl	20(%ebp), %eax
 9779 708b 890424   		movl	%eax, (%esp)
 9780 708e E8000000 		call	_fprintf
 9780      00
5080:str_merge.c   ****         fprintf(mapMeta, "const CUSTOM_STRING_MAP_16 StrMap_Fixed[] = {\n");
 9782              	LM1208:
 9783 7093 C7442404 		movl	$LC139, 4(%esp)
 9783      006D0000 
 9784 709b 8B4514   		movl	20(%ebp), %eax
 9785 709e 890424   		movl	%eax, (%esp)
 9786 70a1 E8000000 		call	_fprintf
 9786      00
 9787 70a6 EB4C     		jmp	L576
 9788              	L575:
5081:str_merge.c   ****     }
5082:str_merge.c   ****     else
5083:str_merge.c   ****     {
5084:str_merge.c   ****         fprintf(map, "const CUSTOM_STRING_MAP StrMap_Fixed[] = {\n");
 9790              	LM1209:
 9791 70a8 C7442404 		movl	$LC140, 4(%esp)
 9791      406D0000 
 9792 70b0 8B450C   		movl	12(%ebp), %eax
 9793 70b3 890424   		movl	%eax, (%esp)
 9794 70b6 E8000000 		call	_fprintf
 9794      00
5085:str_merge.c   ****         fprintf(mapMeta, "BIT_MODE: 32\n");
 9796              	LM1210:
 9797 70bb C7442404 		movl	$LC104, 4(%esp)
 9797      A9490000 
 9798 70c3 8B4514   		movl	20(%ebp), %eax
 9799 70c6 890424   		movl	%eax, (%esp)
 9800 70c9 E8000000 		call	_fprintf
 9800      00
5086:str_merge.c   ****         fprintf(mapMeta, "DATA:\n");
 9802              	LM1211:
 9803 70ce C7442404 		movl	$LC99, 4(%esp)
 9803      FA480000 
 9804 70d6 8B4514   		movl	20(%ebp), %eax
 9805 70d9 890424   		movl	%eax, (%esp)
 9806 70dc E8000000 		call	_fprintf
 9806      00
5087:str_merge.c   ****         fprintf(mapMeta, "const CUSTOM_STRING_MAP StrMap_Fixed[] = {\n");
 9808              	LM1212:
 9809 70e1 C7442404 		movl	$LC140, 4(%esp)
 9809      406D0000 
 9810 70e9 8B4514   		movl	20(%ebp), %eax
 9811 70ec 890424   		movl	%eax, (%esp)
 9812 70ef E8000000 		call	_fprintf
 9812      00
 9813              	L576:
5088:str_merge.c   ****     }
5089:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5090:str_merge.c   **** 
5091:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
 9815              	LM1213:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 273


 9816 70f4 C745F000 		movl	$0, -16(%ebp)
 9816      000000
 9817              	L577:
 9818 70fb 817DF0FE 		cmpl	$65534, -16(%ebp)
 9818      FF0000
 9819 7102 7E05     		jle	L580
 9820 7104 E9AF0100 		jmp	L578
 9820      00
 9821              	L580:
5092:str_merge.c   ****     {
5093:str_merge.c   ****         if(StrIsPopulate[i] && fixed->fixed_id_flag[i] == NO_TRANSLATE_FLAG)
 9823              	LM1214:
 9824 7109 8B45F0   		movl	-16(%ebp), %eax
 9825 710c 05000000 		addl	$_StrIsPopulate, %eax
 9825      00
 9826 7111 803800   		cmpb	$0, (%eax)
 9827 7114 0F849401 		je	L579
 9827      0000
 9828 711a 8B4518   		movl	24(%ebp), %eax
 9829 711d 8B55F0   		movl	-16(%ebp), %edx
 9830 7120 8B4004   		movl	4(%eax), %eax
 9831 7123 01D0     		addl	%edx, %eax
 9832 7125 803801   		cmpb	$1, (%eax)
 9833 7128 0F858001 		jne	L579
 9833      0000
5094:str_merge.c   ****         {
5095:str_merge.c   ****             fixed->id_count += 1;
 9835              	LM1215:
 9836 712e 8B5518   		movl	24(%ebp), %edx
 9837 7131 8B4518   		movl	24(%ebp), %eax
 9838 7134 0FB700   		movzwl	(%eax), %eax
 9839 7137 40       		incl	%eax
 9840 7138 668902   		movw	%ax, (%edx)
5096:str_merge.c   ****             node = hash_search(fixed->str_id_tb, Str[i]);
 9842              	LM1216:
 9843 713b 8B45F0   		movl	-16(%ebp), %eax
 9844 713e 8B048500 		movl	_Str(,%eax,4), %eax
 9844      000000
 9845 7145 89442404 		movl	%eax, 4(%esp)
 9846 7149 8B4518   		movl	24(%ebp), %eax
 9847 714c 8B400C   		movl	12(%eax), %eax
 9848 714f 890424   		movl	%eax, (%esp)
 9849 7152 E86591FF 		call	_hash_search
 9849      FF
 9850 7157 8945D8   		movl	%eax, -40(%ebp)
5097:str_merge.c   ****             if(node == 0)
 9852              	LM1217:
 9853 715a 837DD800 		cmpl	$0, -40(%ebp)
 9854 715e 0F85D800 		jne	L582
 9854      0000
5098:str_merge.c   ****             {        
5099:str_merge.c   ****                 if(Str[i][0] != '\0') /* string has default value */
 9856              	LM1218:
 9857 7164 8B45F0   		movl	-16(%ebp), %eax
 9858 7167 8B048500 		movl	_Str(,%eax,4), %eax
 9858      000000
 9859 716e 803800   		cmpb	$0, (%eax)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 274


 9860 7171 0F848D00 		je	L583
 9860      0000
5100:str_merge.c   ****                 {
5101:str_merge.c   ****                     //str_count++;
5102:str_merge.c   ****                     fixed_result.nTotalStrRes += 1;
 9862              	LM1219:
 9863 7177 0FB70500 		movzwl	_fixed_result, %eax
 9863      000000
 9864 717e 40       		incl	%eax
 9865 717f 66A30000 		movw	%ax, _fixed_result
 9865      0000
5103:str_merge.c   **** 
5104:str_merge.c   ****                     /* initialize node */
5105:str_merge.c   ****                     tmp.str = Str[i];
 9867              	LM1220:
 9868 7185 8B45F0   		movl	-16(%ebp), %eax
 9869 7188 8B048500 		movl	_Str(,%eax,4), %eax
 9869      000000
 9870 718f 8945C8   		movl	%eax, -56(%ebp)
5106:str_merge.c   ****                     tmp.id = i;
 9872              	LM1221:
 9873 7192 8B45F0   		movl	-16(%ebp), %eax
 9874 7195 668945CC 		movw	%ax, -52(%ebp)
5107:str_merge.c   ****                     tmp.next = 0;
 9876              	LM1222:
 9877 7199 C745D000 		movl	$0, -48(%ebp)
 9877      000000
5108:str_merge.c   **** 
5109:str_merge.c   ****                     /* add new node into hash table */
5110:str_merge.c   ****                     hash_add(fixed->str_id_tb, &tmp);
 9879              	LM1223:
 9880 71a0 8D45C8   		leal	-56(%ebp), %eax
 9881 71a3 89442404 		movl	%eax, 4(%esp)
 9882 71a7 8B4518   		movl	24(%ebp), %eax
 9883 71aa 8B400C   		movl	12(%eax), %eax
 9884 71ad 890424   		movl	%eax, (%esp)
 9885 71b0 E88E8FFF 		call	_hash_add
 9885      FF
5111:str_merge.c   ****                     
5112:str_merge.c   ****                 #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5113:str_merge.c   ****                     curr_pos += write_fixed_str_mem(&p, Str[i], curr_pos, offset, i);
5114:str_merge.c   ****                 #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5115:str_merge.c   ****                     /* write StrRes & StrMap into file */
5116:str_merge.c   ****                     curr_pos += write_fixed_str_offset(res, map, resMeta, mapMeta, Str[i], curr_pos
 9887              	LM1224:
 9888 71b5 8B45F0   		movl	-16(%ebp), %eax
 9889 71b8 8944241C 		movl	%eax, 28(%esp)
 9890 71bc 8B45E0   		movl	-32(%ebp), %eax
 9891 71bf 89442418 		movl	%eax, 24(%esp)
 9892 71c3 8B45DC   		movl	-36(%ebp), %eax
 9893 71c6 89442414 		movl	%eax, 20(%esp)
 9894 71ca 8B45F0   		movl	-16(%ebp), %eax
 9895 71cd 8B048500 		movl	_Str(,%eax,4), %eax
 9895      000000
 9896 71d4 89442410 		movl	%eax, 16(%esp)
 9897 71d8 8B4514   		movl	20(%ebp), %eax
 9898 71db 8944240C 		movl	%eax, 12(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 275


 9899 71df 8B4510   		movl	16(%ebp), %eax
 9900 71e2 89442408 		movl	%eax, 8(%esp)
 9901 71e6 8B450C   		movl	12(%ebp), %eax
 9902 71e9 89442404 		movl	%eax, 4(%esp)
 9903 71ed 8B4508   		movl	8(%ebp), %eax
 9904 71f0 890424   		movl	%eax, (%esp)
 9905 71f3 E8F40200 		call	_write_fixed_str_offset
 9905      00
 9906 71f8 89C2     		movl	%eax, %edx
 9907 71fa 8D45DC   		leal	-36(%ebp), %eax
 9908 71fd 0110     		addl	%edx, (%eax)
 9909 71ff E9890000 		jmp	L585
 9909      00
 9910              	L583:
5117:str_merge.c   ****                 #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5118:str_merge.c   ****                 }
5119:str_merge.c   ****                 else /* string has not default value */
5120:str_merge.c   ****                 {
5121:str_merge.c   ****                 #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5122:str_merge.c   ****                     offset[i] = 0;
5123:str_merge.c   ****                 #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5124:str_merge.c   ****                     write_fixed_offset(res, map, resMeta, mapMeta, 0, offset, i);
 9912              	LM1225:
 9913 7204 8B45F0   		movl	-16(%ebp), %eax
 9914 7207 89442418 		movl	%eax, 24(%esp)
 9915 720b 8B45E0   		movl	-32(%ebp), %eax
 9916 720e 89442414 		movl	%eax, 20(%esp)
 9917 7212 C7442410 		movl	$0, 16(%esp)
 9917      00000000 
 9918 721a 8B4514   		movl	20(%ebp), %eax
 9919 721d 8944240C 		movl	%eax, 12(%esp)
 9920 7221 8B4510   		movl	16(%ebp), %eax
 9921 7224 89442408 		movl	%eax, 8(%esp)
 9922 7228 8B450C   		movl	12(%ebp), %eax
 9923 722b 89442404 		movl	%eax, 4(%esp)
 9924 722f 8B4508   		movl	8(%ebp), %eax
 9925 7232 890424   		movl	%eax, (%esp)
 9926 7235 E8220300 		call	_write_fixed_offset
 9926      00
 9927 723a EB51     		jmp	L585
 9928              	L582:
5125:str_merge.c   ****                 #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5126:str_merge.c   ****                 }
5127:str_merge.c   ****             }
5128:str_merge.c   ****             else /* duplicate string */
5129:str_merge.c   ****             {
5130:str_merge.c   ****                 did = node->id;
 9930              	LM1226:
 9931 723c 8B45D8   		movl	-40(%ebp), %eax
 9932 723f 0FB74004 		movzwl	4(%eax), %eax
 9933 7243 668945F6 		movw	%ax, -10(%ebp)
5131:str_merge.c   ****             #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5132:str_merge.c   ****                 offset[i] = offset[node->id];
5133:str_merge.c   ****             #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5134:str_merge.c   ****                 /* only need to update StrMap */
5135:str_merge.c   ****                 write_fixed_offset(res, map, resMeta, mapMeta, offset[node->id], offset, i);
 9935              	LM1227:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 276


 9936 7247 8B45F0   		movl	-16(%ebp), %eax
 9937 724a 89442418 		movl	%eax, 24(%esp)
 9938 724e 8B45E0   		movl	-32(%ebp), %eax
 9939 7251 89442414 		movl	%eax, 20(%esp)
 9940 7255 8B45D8   		movl	-40(%ebp), %eax
 9941 7258 0FB74004 		movzwl	4(%eax), %eax
 9942 725c 8D148500 		leal	0(,%eax,4), %edx
 9942      000000
 9943 7263 8B45E0   		movl	-32(%ebp), %eax
 9944 7266 8B0410   		movl	(%eax,%edx), %eax
 9945 7269 89442410 		movl	%eax, 16(%esp)
 9946 726d 8B4514   		movl	20(%ebp), %eax
 9947 7270 8944240C 		movl	%eax, 12(%esp)
 9948 7274 8B4510   		movl	16(%ebp), %eax
 9949 7277 89442408 		movl	%eax, 8(%esp)
 9950 727b 8B450C   		movl	12(%ebp), %eax
 9951 727e 89442404 		movl	%eax, 4(%esp)
 9952 7282 8B4508   		movl	8(%ebp), %eax
 9953 7285 890424   		movl	%eax, (%esp)
 9954 7288 E8CF0200 		call	_write_fixed_offset
 9954      00
 9955              	L585:
5136:str_merge.c   ****             #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5137:str_merge.c   ****             }
5138:str_merge.c   **** 
5139:str_merge.c   ****             /* record log */
5140:str_merge.c   ****             write_fixed_string_log(log, i, did);
 9957              	LM1228:
 9958 728d 0FB745F6 		movzwl	-10(%ebp), %eax
 9959 7291 89442408 		movl	%eax, 8(%esp)
 9960 7295 0FB745F0 		movzwl	-16(%ebp), %eax
 9961 7299 89442404 		movl	%eax, 4(%esp)
 9962 729d 8B45E8   		movl	-24(%ebp), %eax
 9963 72a0 890424   		movl	%eax, (%esp)
 9964 72a3 E8820300 		call	_write_fixed_string_log
 9964      00
5141:str_merge.c   ****             did = 0;
 9966              	LM1229:
 9967 72a8 66C745F6 		movw	$0, -10(%ebp)
 9967      0000
 9969              	LM1230:
 9970              	L579:
 9971 72ae 8D45F0   		leal	-16(%ebp), %eax
 9972 72b1 FF00     		incl	(%eax)
 9973 72b3 E943FEFF 		jmp	L577
 9973      FF
 9974              	L578:
5142:str_merge.c   ****         }
5143:str_merge.c   ****     }
5144:str_merge.c   ****     
5145:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5146:str_merge.c   ****     write_compressed_fixed_data(res, map, data, curr_pos, offset, fixed);
5147:str_merge.c   **** #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5148:str_merge.c   ****     /* write the tail of the data and map array */
5149:str_merge.c   ****     fprintf(res, "};\n\n");
 9976              	LM1231:
 9977 72b8 C7442404 		movl	$LC141, 4(%esp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 277


 9977      6C6D0000 
 9978 72c0 8B4508   		movl	8(%ebp), %eax
 9979 72c3 890424   		movl	%eax, (%esp)
 9980 72c6 E8000000 		call	_fprintf
 9980      00
5150:str_merge.c   ****     fprintf(map, "};\n\n");
 9982              	LM1232:
 9983 72cb C7442404 		movl	$LC141, 4(%esp)
 9983      6C6D0000 
 9984 72d3 8B450C   		movl	12(%ebp), %eax
 9985 72d6 890424   		movl	%eax, (%esp)
 9986 72d9 E8000000 		call	_fprintf
 9986      00
5151:str_merge.c   ****     fprintf(resMeta, "};\n\n");
 9988              	LM1233:
 9989 72de C7442404 		movl	$LC141, 4(%esp)
 9989      6C6D0000 
 9990 72e6 8B4510   		movl	16(%ebp), %eax
 9991 72e9 890424   		movl	%eax, (%esp)
 9992 72ec E8000000 		call	_fprintf
 9992      00
5152:str_merge.c   ****     fprintf(mapMeta, "};\n\n");
 9994              	LM1234:
 9995 72f1 C7442404 		movl	$LC141, 4(%esp)
 9995      6C6D0000 
 9996 72f9 8B4514   		movl	20(%ebp), %eax
 9997 72fc 890424   		movl	%eax, (%esp)
 9998 72ff E8000000 		call	_fprintf
 9998      00
5153:str_merge.c   ****     
5154:str_merge.c   ****     if(fixed_result.is16bit){
 10000              	LM1235:
 10001 7304 833D0400 		cmpl	$0, _fixed_result+4
 10001      000000
 10002 730b 7415     		je	L586
5155:str_merge.c   ****         fprintf(res, "extern const CUSTOM_STRING_MAP_16 StrMap_Fixed[];\n");
 10004              	LM1236:
 10005 730d C7442404 		movl	$LC142, 4(%esp)
 10005      806D0000 
 10006 7315 8B4508   		movl	8(%ebp), %eax
 10007 7318 890424   		movl	%eax, (%esp)
 10008 731b E8000000 		call	_fprintf
 10008      00
 10009 7320 EB13     		jmp	L587
 10010              	L586:
5156:str_merge.c   ****     }
5157:str_merge.c   ****     else{
5158:str_merge.c   ****         fprintf(res, "extern const CUSTOM_STRING_MAP StrMap_Fixed[];\n");
 10012              	LM1237:
 10013 7322 C7442404 		movl	$LC143, 4(%esp)
 10013      C06D0000 
 10014 732a 8B4508   		movl	8(%ebp), %eax
 10015 732d 890424   		movl	%eax, (%esp)
 10016 7330 E8000000 		call	_fprintf
 10016      00
 10017              	L587:
5159:str_merge.c   ****     }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 278


5160:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5161:str_merge.c   ****     fprintf(resMeta, "MAXNUM: %d\n", fixed_result.nTotalStrRes -1);
 10019              	LM1238:
 10020 7335 0FB70500 		movzwl	_fixed_result, %eax
 10020      000000
 10021 733c 48       		decl	%eax
 10022 733d 89442408 		movl	%eax, 8(%esp)
 10023 7341 C7442404 		movl	$LC87, 4(%esp)
 10023      D0460000 
 10024 7349 8B4510   		movl	16(%ebp), %eax
 10025 734c 890424   		movl	%eax, (%esp)
 10026 734f E8000000 		call	_fprintf
 10026      00
5162:str_merge.c   ****     fprintf(resMeta, "MAXID: %d\n", fixed_id.id_count -1);
 10028              	LM1239:
 10029 7354 0FB70500 		movzwl	_fixed_id, %eax
 10029      000000
 10030 735b 48       		decl	%eax
 10031 735c 89442408 		movl	%eax, 8(%esp)
 10032 7360 C7442404 		movl	$LC88, 4(%esp)
 10032      DC460000 
 10033 7368 8B4510   		movl	16(%ebp), %eax
 10034 736b 890424   		movl	%eax, (%esp)
 10035 736e E8000000 		call	_fprintf
 10035      00
5163:str_merge.c   **** 
5164:str_merge.c   ****     /* free hash table */
5165:str_merge.c   ****     hash_free(fixed->enum_id_tb);
 10037              	LM1240:
 10038 7373 8B4518   		movl	24(%ebp), %eax
 10039 7376 8B4008   		movl	8(%eax), %eax
 10040 7379 890424   		movl	%eax, (%esp)
 10041 737c E8DE8FFF 		call	_hash_free
 10041      FF
5166:str_merge.c   ****     hash_free(fixed->str_id_tb);
 10043              	LM1241:
 10044 7381 8B4518   		movl	24(%ebp), %eax
 10045 7384 8B400C   		movl	12(%eax), %eax
 10046 7387 890424   		movl	%eax, (%esp)
 10047 738a E8D08FFF 		call	_hash_free
 10047      FF
5167:str_merge.c   ****     fclose(log);
 10049              	LM1242:
 10050 738f 8B45E8   		movl	-24(%ebp), %eax
 10051 7392 890424   		movl	%eax, (%esp)
 10052 7395 E8000000 		call	_fclose
 10052      00
5168:str_merge.c   ****     free(offset);
 10054              	LM1243:
 10055 739a 8B45E0   		movl	-32(%ebp), %eax
 10056 739d 890424   		movl	%eax, (%esp)
 10057 73a0 E8000000 		call	_free
 10057      00
5169:str_merge.c   ****     
5170:str_merge.c   ****     return 1;
 10059              	LM1244:
 10060 73a5 C745C401 		movl	$1, -60(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 279


 10060      000000
5171:str_merge.c   **** }
 10062              	LM1245:
 10063              	L563:
 10064              	LBE61:
 10065 73ac 8B45C4   		movl	-60(%ebp), %eax
 10066 73af C9       		leave
 10067 73b0 C3       		ret
 10079              	Lscope41:
 10091              	_write_fixed_str:
5172:str_merge.c   **** 
5173:str_merge.c   **** 
5174:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5175:str_merge.c   **** /*****************************************************************************
5176:str_merge.c   ****  * FUNCTION
5177:str_merge.c   ****  *  write_fixed_str_mem
5178:str_merge.c   ****  * DESCRIPTION
5179:str_merge.c   ****  *  write fixed string id's data into memory
5180:str_merge.c   ****  * PARAMETERS
5181:str_merge.c   ****  *  mem    :[IN/OUT] CustStrRes.c file handle
5182:str_merge.c   ****  *  map   :[IN] CustStrMap.c file handle
5183:str_merge.c   ****  *  data  :[IN] string data will be write to CustStrRes.c
5184:str_merge.c   ****  *  len    :[IN] data total length
5185:str_merge.c   ****  *  offs   :[IN]  offset array of all string ids
5186:str_merge.c   ****  *  fixed  :[IN]  the id will be processed
5187:str_merge.c   ****  * RETURNS
5188:str_merge.c   ****  *   return 1 means success, return -1 if input is invalid, return-2 if malloc faileds, return -3 i
5189:str_merge.c   ****  *****************************************************************************/
5190:str_merge.c   **** static int write_fixed_str_mem(U8** mem, U8* s, int pos, int *offs, int id)
5191:str_merge.c   **** {
5192:str_merge.c   ****     int i = 0;
5193:str_merge.c   ****     int len = 0;
5194:str_merge.c   **** 
5195:str_merge.c   ****     if(mem == 0 || s == 0 || pos < 0 || offs == 0 || id < 0 || id >= MAX_STRING_MAP_SIZE)
5196:str_merge.c   ****     {
5197:str_merge.c   ****         return -1;
5198:str_merge.c   ****     }
5199:str_merge.c   **** 
5200:str_merge.c   ****     /* record offset */
5201:str_merge.c   ****     offs[id] = pos;
5202:str_merge.c   **** 
5203:str_merge.c   ****     /* record data */
5204:str_merge.c   ****     if(s[0] != '\0')
5205:str_merge.c   ****     {
5206:str_merge.c   ****         len = (wcslen((wchar_t*)s) + 1) * 2;
5207:str_merge.c   ****         memcpy(*mem, s, len);
5208:str_merge.c   **** 
5209:str_merge.c   ****         *mem += len;
5210:str_merge.c   ****     }
5211:str_merge.c   **** 
5212:str_merge.c   ****     return len;
5213:str_merge.c   **** }
5214:str_merge.c   **** 
5215:str_merge.c   **** 
5216:str_merge.c   **** /*****************************************************************************
5217:str_merge.c   ****  * FUNCTION
5218:str_merge.c   ****  *  write_fixed_str
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 280


5219:str_merge.c   ****  * DESCRIPTION
5220:str_merge.c   ****  *  write compressed data into CustStrRes & CustStrmap.c
5221:str_merge.c   ****  * PARAMETERS
5222:str_merge.c   ****  *  res    :[IN] CustStrRes.c file handle
5223:str_merge.c   ****  *  map   :[IN] CustStrMap.c file handle
5224:str_merge.c   ****  *  data  :[IN] string data will be write to CustStrRes.c
5225:str_merge.c   ****  *  len    :[IN] data total length
5226:str_merge.c   ****  *  offs   :[IN]  offset array of all string ids
5227:str_merge.c   ****  *  fixed  :[IN]  the id will be processed
5228:str_merge.c   ****  * RETURNS
5229:str_merge.c   ****  *   return 1 means success, return -1 if input is invalid, return-2 if malloc faileds, return -3 i
5230:str_merge.c   ****  *****************************************************************************/
5231:str_merge.c   **** static int write_compressed_fixed_data(FILE *res, FILE *map, U8 *data, int len, int *offs, FixedID 
5232:str_merge.c   **** {
5233:str_merge.c   ****     // The dest parameter of compress2 must be ulong type
5234:str_merge.c   ****     unsigned long res_len = 0, map_len = 0;
5235:str_merge.c   ****     U8 *res_buff = 0, *map_buff = 0;
5236:str_merge.c   ****     U8 *p = 0;
5237:str_merge.c   ****     int ret = Z_OK, i = 0, j = 0;
5238:str_merge.c   ****     int map_arr_len = 0;
5239:str_merge.c   ****     U32 *offst = 0;
5240:str_merge.c   **** 
5241:str_merge.c   ****     if(res == 0 || map == 0 || data == 0 || offs == 0 || len <= 0 || fixed == 0)
5242:str_merge.c   ****     {
5243:str_merge.c   ****         return -1; /* invalid input */
5244:str_merge.c   ****     }
5245:str_merge.c   **** 
5246:str_merge.c   ****     /* caculate and malloc StrRes_zip size */
5247:str_merge.c   ****     res_len = compressBound(len);
5248:str_merge.c   ****     res_buff = (U8*) malloc(sizeof(U8) * res_len);
5249:str_merge.c   ****     if(res_buff == 0)
5250:str_merge.c   ****     {
5251:str_merge.c   ****         fprintf(stderr, "ERROR: malloc compress buffer failed, LINE:%d;\tFILE:%s\n", __LINE__, __FI
5252:str_merge.c   ****         return -2; /* memry malloc failed */
5253:str_merge.c   ****     }
5254:str_merge.c   **** 
5255:str_merge.c   ****     /* caculate string map size  and malloc buffer */
5256:str_merge.c   ****     map_len = compressBound(fixed->id_count * sizeof(U32));
5257:str_merge.c   ****     map_buff = (U8*)malloc(sizeof(U8) * map_len);
5258:str_merge.c   ****     if(fixed_result.is16bit){
5259:str_merge.c   ****         map_arr_len = fixed->id_count * sizeof(U16);
5260:str_merge.c   ****     }
5261:str_merge.c   ****     else{
5262:str_merge.c   ****         map_arr_len = fixed->id_count * sizeof(U32);
5263:str_merge.c   ****     }
5264:str_merge.c   ****     offst = (U32*)malloc(fixed->id_count * sizeof(U32));
5265:str_merge.c   ****     if(map_buff == 0 || offst == 0)
5266:str_merge.c   ****     {
5267:str_merge.c   ****         free(res_buff);
5268:str_merge.c   ****         if(map_buff != 0)
5269:str_merge.c   ****             free(map_buff);
5270:str_merge.c   ****         if(offst != 0)
5271:str_merge.c   ****             free(offst);
5272:str_merge.c   **** 
5273:str_merge.c   ****         fprintf(stderr, "ERROR: malloc compress buffer failed, LINE:%d;\tFILE:%s\n", __LINE__, __FI
5274:str_merge.c   ****         return -2;
5275:str_merge.c   ****     }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 281


5276:str_merge.c   **** 
5277:str_merge.c   ****     /* compress string data */
5278:str_merge.c   ****     STRMERG_LOG_V("StrMap_Fixed compress2 input: res_len=%lu, len =%d, level = %d",res_len, len, Z_
5279:str_merge.c   ****     ret = compress2(res_buff, &res_len, data, len, Z_BEST_COMPRESSION);
5280:str_merge.c   ****     STRMERG_LOG_V("StrMap_Fixed compress2 output: res_len=%lu, len =%lu ",res_len, len);
5281:str_merge.c   **** 
5282:str_merge.c   ****     if(ret != Z_OK)
5283:str_merge.c   ****     {
5284:str_merge.c   ****         free(res_buff);
5285:str_merge.c   ****         free(map_buff);
5286:str_merge.c   ****         free(offst);
5287:str_merge.c   ****         fprintf(stderr, "fatel error: compress failed, LINE:%d;\tFILE:%s\n", __LINE__, __FILE__);
5288:str_merge.c   ****         return -3; /* compress failed */
5289:str_merge.c   ****     }
5290:str_merge.c   ****     // TODO:it seems not good
5291:str_merge.c   ****     fixed_result.nResSize = len;
5292:str_merge.c   ****     fixed_result.nResZipSize = res_len;
5293:str_merge.c   **** 
5294:str_merge.c   ****     /* write CustStrRes.c */
5295:str_merge.c   ****     STRMERG_LOG_V("StrRes_zip_fixed[%lu]: Started res output",res_len);
5296:str_merge.c   ****     fprintf(res, "//__align(4) CUSTOM_STRING StrRes_Fixed[%d];\n", len);
5297:str_merge.c   ****     fprintf(res, "// StrRes_zip_fixed, DATA SIZE = %lu \n", res_len);
5298:str_merge.c   ****     fprintf(res, "__align(4) const CUSTOM_STRING StrRes_zip_fixed[] = {\n");
5299:str_merge.c   ****     for(i = 0; i < res_len; ++i)
5300:str_merge.c   ****     {
5301:str_merge.c   ****         fprintf(res, "0x%02X, ", res_buff[i]);
5302:str_merge.c   ****         if(i % 16 == 0)
5303:str_merge.c   ****         {
5304:str_merge.c   ****             fprintf(res, "\n");
5305:str_merge.c   ****         }
5306:str_merge.c   ****     }
5307:str_merge.c   ****     
5308:str_merge.c   ****     append_cat_padding_bytes(res, res_len);
5309:str_merge.c   ****     
5310:str_merge.c   ****     fprintf(res, "};\n");
5311:str_merge.c   ****     STRMERG_LOG_V("StrRes_zip_fixed[%lu]: Finished res output",res_len);
5312:str_merge.c   ****     
5313:str_merge.c   ****     fprintf(res, "extern const U8 StrMap_zip_fixed[];\n");
5314:str_merge.c   ****     if(fixed_result.is16bit)
5315:str_merge.c   ****     {
5316:str_merge.c   ****         fprintf(res, "//extern CUSTOM_STRING_MAP_16 StrMap_Fixed[];\n");
5317:str_merge.c   ****     }
5318:str_merge.c   ****     else
5319:str_merge.c   ****     {
5320:str_merge.c   ****         fprintf(res, "//extern CUSTOM_STRING_MAP StrMap_Fixed[];\n");
5321:str_merge.c   ****     }
5322:str_merge.c   ****     
5323:str_merge.c   ****     /* compress string map */
5324:str_merge.c   ****     /* here we need to record log information of offset */
5325:str_merge.c   ****     j = 0;
5326:str_merge.c   ****     if(fixed_result.is16bit)
5327:str_merge.c   ****     {
5328:str_merge.c   ****         U16 *mp = (U16*)offst;
5329:str_merge.c   ****         for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
5330:str_merge.c   ****         {
5331:str_merge.c   ****             if(StrIsPopulate[i] && fixed->fixed_id_flag[i] == NO_TRANSLATE_FLAG)
5332:str_merge.c   ****             {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 282


5333:str_merge.c   ****                 mp[j++] = (U16)offs[i]/2;
5334:str_merge.c   ****             }
5335:str_merge.c   ****         }            
5336:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_Fixed: Total size of compressing data= %d bytes, 
5337:str_merge.c   **** 
5338:str_merge.c   ****     }
5339:str_merge.c   ****     else
5340:str_merge.c   ****     {
5341:str_merge.c   ****         U32 *mp = (U32*)offst;
5342:str_merge.c   ****         for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
5343:str_merge.c   ****         {
5344:str_merge.c   ****             if(StrIsPopulate[i] && fixed->fixed_id_flag[i] == NO_TRANSLATE_FLAG)
5345:str_merge.c   ****             {
5346:str_merge.c   ****                 mp[j++] = (U32)offs[i]/2;
5347:str_merge.c   ****             }
5348:str_merge.c   ****         }    
5349:str_merge.c   ****         STRMERG_LOG_D("[MEM] StrMap_Fixed: Total size of compressing data= %d bytes, size calculate
5350:str_merge.c   ****     }
5351:str_merge.c   **** 
5352:str_merge.c   ****     STRMERG_LOG_V("StrMap_Fixed compress2 input: map_len=%lu, map_arr_len =%d, level = %d",map_len,
5353:str_merge.c   ****     ret = compress2(map_buff, &map_len, (U8*)offst, map_arr_len, Z_BEST_COMPRESSION);
5354:str_merge.c   ****     STRMERG_LOG_V("StrMap_Fixed compress2 output: map_len=%lu, map_arr_len =%d",map_len, map_arr_le
5355:str_merge.c   **** 
5356:str_merge.c   ****     if(ret != Z_OK)
5357:str_merge.c   ****     {
5358:str_merge.c   ****         free(res_buff);
5359:str_merge.c   ****         free(map_buff);
5360:str_merge.c   ****         free(offst);
5361:str_merge.c   ****         fprintf(stderr, "fatel error: compress failed, LINE:%d;\tFILE:%s\n", __LINE__, __FILE__);
5362:str_merge.c   ****         return -3; /* compress failed */
5363:str_merge.c   ****     }
5364:str_merge.c   ****     //TODO:it seems not good
5365:str_merge.c   ****     fixed_result.nMapSize = map_arr_len;
5366:str_merge.c   ****     fixed_result.nMapZipSize = map_len;
5367:str_merge.c   ****     
5368:str_merge.c   ****     /* write CustStrMap.c */
5369:str_merge.c   ****     if(fixed_result.is16bit)
5370:str_merge.c   ****     {
5371:str_merge.c   ****         fprintf(map, "//__align(4) CUSTOM_STRING_MAP_16 StrMap_Fixed[%d];\n", map_arr_len);
5372:str_merge.c   ****     }
5373:str_merge.c   ****     else
5374:str_merge.c   ****     {
5375:str_merge.c   ****         fprintf(map, "//__align(4) CUSTOM_STRING_MAP StrMap_Fixed[%d];\n", map_arr_len);
5376:str_merge.c   ****     }
5377:str_merge.c   **** 
5378:str_merge.c   ****     STRMERG_LOG_V("StrMap_zip_fixed[%lu]: Started fout_res output",map_len);
5379:str_merge.c   ****     fprintf(map, "//StrMap_zip_fixed, DATA SIZE = %lu\n", map_len);
5380:str_merge.c   ****     fprintf(map, "__align(4) const U8 StrMap_zip_fixed[] = {\n");
5381:str_merge.c   ****     
5382:str_merge.c   ****     for(i = 0; i < map_len; ++i)
5383:str_merge.c   ****     {
5384:str_merge.c   ****         if(i % 16 == 0)
5385:str_merge.c   ****         {
5386:str_merge.c   ****             fprintf(map, "\n");
5387:str_merge.c   ****         }
5388:str_merge.c   ****         fprintf(map, "0x%02X, ", map_buff[i]);
5389:str_merge.c   **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 283


5390:str_merge.c   ****     }
5391:str_merge.c   ****     
5392:str_merge.c   ****     append_cat_padding_bytes(map, map_len);
5393:str_merge.c   ****     
5394:str_merge.c   ****     fprintf(map, "};\n");
5395:str_merge.c   ****     
5396:str_merge.c   ****     STRMERG_LOG_V("StrMap_zip_fixed[%lu]: Finished fout_res output",map_len);
5397:str_merge.c   ****     
5398:str_merge.c   ****     free(res_buff);
5399:str_merge.c   ****     free(map_buff);
5400:str_merge.c   ****     free(offst);
5401:str_merge.c   **** 
5402:str_merge.c   ****     return 1; /* success */
5403:str_merge.c   **** }
5404:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5405:str_merge.c   **** 
5406:str_merge.c   **** 
5407:str_merge.c   **** /*****************************************************************************
5408:str_merge.c   ****  * FUNCTION
5409:str_merge.c   ****  *  write_fixed_str
5410:str_merge.c   ****  * DESCRIPTION
5411:str_merge.c   ****  *  write CustStrRes & CustStrmap.c
5412:str_merge.c   ****  * PARAMETERS
5413:str_merge.c   ****  *  res    :[IN] CustStrRes.c file handle
5414:str_merge.c   ****  *  map   :[IN] CustStrMap.c file handle
5415:str_merge.c   ****  *  s       :[IN] string data will be write to CustStrRes.c
5416:str_merge.c   ****  *  pos    :[IN] offset of duplicate string
5417:str_merge.c   ****  *  offs   :[IN]  offset array of all string ids
5418:str_merge.c   ****  *  id      :[IN]  the id will be processed
5419:str_merge.c   ****  * RETURNS
5420:str_merge.c   ****  *   return -1 if input is invalid, return-2 if malloc faileds, else returen string lenth
5421:str_merge.c   ****  *****************************************************************************/
5422:str_merge.c   **** static int write_fixed_str(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta,  U8 *s, int pos, int
5423:str_merge.c   **** {
 10093              	LM1246:
 10094 73b1 55       		pushl	%ebp
 10095 73b2 89E5     		movl	%esp, %ebp
 10096 73b4 83EC18   		subl	$24, %esp
5424:str_merge.c   ****     /*----------------------------------------------------------------*/
5425:str_merge.c   ****     /* Local Variables                                                */
5426:str_merge.c   ****     /*----------------------------------------------------------------*/
5427:str_merge.c   ****     int i = 0;
 10098              	LM1247:
 10099              	LBB62:
 10100 73b7 C745FC00 		movl	$0, -4(%ebp)
 10100      000000
5428:str_merge.c   ****     int len = 0;
 10102              	LM1248:
 10103 73be C745F800 		movl	$0, -8(%ebp)
 10103      000000
5429:str_merge.c   ****     
5430:str_merge.c   ****     /*----------------------------------------------------------------*/
5431:str_merge.c   ****     /* Code Body                                                      */
5432:str_merge.c   ****     /*----------------------------------------------------------------*/
5433:str_merge.c   ****     if(res == 0 || map == 0)
 10105              	LM1249:
 10106 73c5 837D0800 		cmpl	$0, 8(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 284


 10107 73c9 7406     		je	L590
 10108 73cb 837D0C00 		cmpl	$0, 12(%ebp)
 10109 73cf 750C     		jne	L589
 10110              	L590:
5434:str_merge.c   ****     {
5435:str_merge.c   ****         return -1;
 10112              	LM1250:
 10113 73d1 C745F4FF 		movl	$-1, -12(%ebp)
 10113      FFFFFF
 10114 73d8 E90A0100 		jmp	L588
 10114      00
 10115              	L589:
5436:str_merge.c   ****     }
5437:str_merge.c   **** 
5438:str_merge.c   ****     /* write custstrmap.c */
5439:str_merge.c   ****     offs[id] = pos;
 10117              	LM1251:
 10118 73dd 8B4524   		movl	36(%ebp), %eax
 10119 73e0 8D0C8500 		leal	0(,%eax,4), %ecx
 10119      000000
 10120 73e7 8B5520   		movl	32(%ebp), %edx
 10121 73ea 8B451C   		movl	28(%ebp), %eax
 10122 73ed 89040A   		movl	%eax, (%edx,%ecx)
5440:str_merge.c   ****     fprintf(map, "\t%ld,\n", pos/2);
 10124              	LM1252:
 10125 73f0 8B551C   		movl	28(%ebp), %edx
 10126 73f3 89D0     		movl	%edx, %eax
 10127 73f5 C1F81F   		sarl	$31, %eax
 10128 73f8 C1E81F   		shrl	$31, %eax
 10129 73fb 8D0410   		leal	(%eax,%edx), %eax
 10130 73fe D1F8     		sarl	%eax
 10131 7400 89442408 		movl	%eax, 8(%esp)
 10132 7404 C7442404 		movl	$LC105, 4(%esp)
 10132      B7490000 
 10133 740c 8B450C   		movl	12(%ebp), %eax
 10134 740f 890424   		movl	%eax, (%esp)
 10135 7412 E8000000 		call	_fprintf
 10135      00
5441:str_merge.c   ****     fprintf(mapMeta, "\t%ld,\n", pos/2);
 10137              	LM1253:
 10138 7417 8B551C   		movl	28(%ebp), %edx
 10139 741a 89D0     		movl	%edx, %eax
 10140 741c C1F81F   		sarl	$31, %eax
 10141 741f C1E81F   		shrl	$31, %eax
 10142 7422 8D0410   		leal	(%eax,%edx), %eax
 10143 7425 D1F8     		sarl	%eax
 10144 7427 89442408 		movl	%eax, 8(%esp)
 10145 742b C7442404 		movl	$LC105, 4(%esp)
 10145      B7490000 
 10146 7433 8B4514   		movl	20(%ebp), %eax
 10147 7436 890424   		movl	%eax, (%esp)
 10148 7439 E8000000 		call	_fprintf
 10148      00
5442:str_merge.c   **** 
5443:str_merge.c   ****     if(s != 0) /* write_fixed_str_offset case */
 10150              	LM1254:
 10151 743e 837D1800 		cmpl	$0, 24(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 285


 10152 7442 0F849900 		je	L591
 10152      0000
5444:str_merge.c   ****     {
5445:str_merge.c   ****         len = wcslen((wchar_t*)s);
 10154              	LM1255:
 10155 7448 8B4518   		movl	24(%ebp), %eax
 10156 744b 890424   		movl	%eax, (%esp)
 10157 744e E8000000 		call	_wcslen
 10157      00
 10158 7453 8945F8   		movl	%eax, -8(%ebp)
5446:str_merge.c   **** 
5447:str_merge.c   ****         for(i = 0; i < len*2; ++i)
 10160              	LM1256:
 10161 7456 C745FC00 		movl	$0, -4(%ebp)
 10161      000000
 10162              	L592:
 10163 745d 8B45F8   		movl	-8(%ebp), %eax
 10164 7460 01C0     		addl	%eax, %eax
 10165 7462 3945FC   		cmpl	%eax, -4(%ebp)
 10166 7465 7C02     		jl	L595
 10167 7467 EB47     		jmp	L593
 10168              	L595:
5448:str_merge.c   ****         {
5449:str_merge.c   ****             fprintf(res, "0x%X, ", s[i]);
 10170              	LM1257:
 10171 7469 8B45FC   		movl	-4(%ebp), %eax
 10172 746c 034518   		addl	24(%ebp), %eax
 10173 746f 0FB600   		movzbl	(%eax), %eax
 10174 7472 89442408 		movl	%eax, 8(%esp)
 10175 7476 C7442404 		movl	$LC91, 4(%esp)
 10175      44470000 
 10176 747e 8B4508   		movl	8(%ebp), %eax
 10177 7481 890424   		movl	%eax, (%esp)
 10178 7484 E8000000 		call	_fprintf
 10178      00
5450:str_merge.c   ****             fprintf(resMeta, "0x%X, ", s[i]);
 10180              	LM1258:
 10181 7489 8B45FC   		movl	-4(%ebp), %eax
 10182 748c 034518   		addl	24(%ebp), %eax
 10183 748f 0FB600   		movzbl	(%eax), %eax
 10184 7492 89442408 		movl	%eax, 8(%esp)
 10185 7496 C7442404 		movl	$LC91, 4(%esp)
 10185      44470000 
 10186 749e 8B4510   		movl	16(%ebp), %eax
 10187 74a1 890424   		movl	%eax, (%esp)
 10188 74a4 E8000000 		call	_fprintf
 10188      00
 10190              	LM1259:
 10191 74a9 8D45FC   		leal	-4(%ebp), %eax
 10192 74ac FF00     		incl	(%eax)
 10193 74ae EBAD     		jmp	L592
 10194              	L593:
5451:str_merge.c   ****         }
5452:str_merge.c   ****         fprintf(res, "0x00, 0x00,\n");
 10196              	LM1260:
 10197 74b0 C7442404 		movl	$LC90, 4(%esp)
 10197      37470000 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 286


 10198 74b8 8B4508   		movl	8(%ebp), %eax
 10199 74bb 890424   		movl	%eax, (%esp)
 10200 74be E8000000 		call	_fprintf
 10200      00
5453:str_merge.c   ****         fprintf(resMeta, "0x00, 0x00,\n");
 10202              	LM1261:
 10203 74c3 C7442404 		movl	$LC90, 4(%esp)
 10203      37470000 
 10204 74cb 8B4510   		movl	16(%ebp), %eax
 10205 74ce 890424   		movl	%eax, (%esp)
 10206 74d1 E8000000 		call	_fprintf
 10206      00
5454:str_merge.c   **** 
5455:str_merge.c   ****         len = (len + 1)*2;
 10208              	LM1262:
 10209 74d6 8B45F8   		movl	-8(%ebp), %eax
 10210 74d9 01C0     		addl	%eax, %eax
 10211 74db 83C002   		addl	$2, %eax
 10212 74de 8945F8   		movl	%eax, -8(%ebp)
 10213              	L591:
5456:str_merge.c   ****     }
5457:str_merge.c   **** 
5458:str_merge.c   ****     return len;
 10215              	LM1263:
 10216 74e1 8B45F8   		movl	-8(%ebp), %eax
 10217 74e4 8945F4   		movl	%eax, -12(%ebp)
5459:str_merge.c   **** }
 10219              	LM1264:
 10220              	L588:
 10221              	LBE62:
 10222 74e7 8B45F4   		movl	-12(%ebp), %eax
 10223 74ea C9       		leave
 10224 74eb C3       		ret
 10229              	Lscope42:
 10241              	_write_fixed_str_offset:
5460:str_merge.c   **** 
5461:str_merge.c   **** 
5462:str_merge.c   **** /*****************************************************************************
5463:str_merge.c   ****  * FUNCTION
5464:str_merge.c   ****  *  write_fixed_str_offset
5465:str_merge.c   ****  * DESCRIPTION
5466:str_merge.c   ****  *  write CustStrRes & CustStrmap.c, for parameter check
5467:str_merge.c   ****  * PARAMETERS
5468:str_merge.c   ****  *  pease refer write_fixed_str's description
5469:str_merge.c   ****  * RETURNS
5470:str_merge.c   ****  *  return -1 if input is invalid, return-2 if malloc faileds, else return string length
5471:str_merge.c   ****  *****************************************************************************/
5472:str_merge.c   **** static int write_fixed_str_offset(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta,U8 *s, int pos
5473:str_merge.c   **** {
 10243              	LM1265:
 10244 74ec 55       		pushl	%ebp
 10245 74ed 89E5     		movl	%esp, %ebp
 10246 74ef 83EC28   		subl	$40, %esp
5474:str_merge.c   ****     /*----------------------------------------------------------------*/
5475:str_merge.c   ****     /* Local Variables                                                */
5476:str_merge.c   ****     /*----------------------------------------------------------------*/
5477:str_merge.c   ****     if(s == 0 || offs == 0 || id < 0 || id >= MAX_STRING_MAP_SIZE)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 287


 10248              	LM1266:
 10249 74f2 837D1800 		cmpl	$0, 24(%ebp)
 10250 74f6 7417     		je	L598
 10251 74f8 837D2000 		cmpl	$0, 32(%ebp)
 10252 74fc 7411     		je	L598
 10253 74fe 837D2400 		cmpl	$0, 36(%ebp)
 10254 7502 780B     		js	L598
 10255 7504 817D24FE 		cmpl	$65534, 36(%ebp)
 10255      FF0000
 10256 750b 7F02     		jg	L598
 10257 750d EB09     		jmp	L597
 10258              	L598:
5478:str_merge.c   ****     {
5479:str_merge.c   ****         return -1; /* invalid input */
 10260              	LM1267:
 10261 750f C745FCFF 		movl	$-1, -4(%ebp)
 10261      FFFFFF
 10262 7516 EB3F     		jmp	L596
 10263              	L597:
5480:str_merge.c   ****     }
5481:str_merge.c   **** 
5482:str_merge.c   ****     /*----------------------------------------------------------------*/
5483:str_merge.c   ****     /* Code Body                                                      */
5484:str_merge.c   ****     /*----------------------------------------------------------------*/
5485:str_merge.c   ****     return write_fixed_str(res, map,resMeta, mapMeta, s, pos, offs, id);
 10265              	LM1268:
 10266 7518 8B4524   		movl	36(%ebp), %eax
 10267 751b 8944241C 		movl	%eax, 28(%esp)
 10268 751f 8B4520   		movl	32(%ebp), %eax
 10269 7522 89442418 		movl	%eax, 24(%esp)
 10270 7526 8B451C   		movl	28(%ebp), %eax
 10271 7529 89442414 		movl	%eax, 20(%esp)
 10272 752d 8B4518   		movl	24(%ebp), %eax
 10273 7530 89442410 		movl	%eax, 16(%esp)
 10274 7534 8B4514   		movl	20(%ebp), %eax
 10275 7537 8944240C 		movl	%eax, 12(%esp)
 10276 753b 8B4510   		movl	16(%ebp), %eax
 10277 753e 89442408 		movl	%eax, 8(%esp)
 10278 7542 8B450C   		movl	12(%ebp), %eax
 10279 7545 89442404 		movl	%eax, 4(%esp)
 10280 7549 8B4508   		movl	8(%ebp), %eax
 10281 754c 890424   		movl	%eax, (%esp)
 10282 754f E85DFEFF 		call	_write_fixed_str
 10282      FF
 10283 7554 8945FC   		movl	%eax, -4(%ebp)
5486:str_merge.c   **** }
 10285              	LM1269:
 10286              	L596:
 10287 7557 8B45FC   		movl	-4(%ebp), %eax
 10288 755a C9       		leave
 10289 755b C3       		ret
 10290              	Lscope43:
 10301              	_write_fixed_offset:
5487:str_merge.c   **** 
5488:str_merge.c   **** 
5489:str_merge.c   **** /*****************************************************************************
5490:str_merge.c   ****  * FUNCTION
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 288


5491:str_merge.c   ****  *  write_fixed_offset
5492:str_merge.c   ****  * DESCRIPTION
5493:str_merge.c   ****  *  write CustStrmap.c, for parameter check
5494:str_merge.c   ****  * PARAMETERS
5495:str_merge.c   ****  *  pease refer write_fixed_str's description
5496:str_merge.c   ****  * RETURNS
5497:str_merge.c   ****  *  return -1 if input is invalid, return-2 if malloc faileds, else return string length
5498:str_merge.c   ****  *****************************************************************************/
5499:str_merge.c   **** static int write_fixed_offset(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta,int pos, int *offs
5500:str_merge.c   **** {
 10303              	LM1270:
 10304 755c 55       		pushl	%ebp
 10305 755d 89E5     		movl	%esp, %ebp
 10306 755f 83EC28   		subl	$40, %esp
5501:str_merge.c   ****     /*----------------------------------------------------------------*/
5502:str_merge.c   ****     /* Local Variables                                                */
5503:str_merge.c   ****     /*----------------------------------------------------------------*/
5504:str_merge.c   ****     if(pos < 0 || offs == 0 || id < 0 || id >= MAX_STRING_MAP_SIZE)
 10308              	LM1271:
 10309 7562 837D1800 		cmpl	$0, 24(%ebp)
 10310 7566 7817     		js	L601
 10311 7568 837D1C00 		cmpl	$0, 28(%ebp)
 10312 756c 7411     		je	L601
 10313 756e 837D2000 		cmpl	$0, 32(%ebp)
 10314 7572 780B     		js	L601
 10315 7574 817D20FE 		cmpl	$65534, 32(%ebp)
 10315      FF0000
 10316 757b 7F02     		jg	L601
 10317 757d EB09     		jmp	L600
 10318              	L601:
5505:str_merge.c   ****     {
5506:str_merge.c   ****         return -1; /* invalid input */
 10320              	LM1272:
 10321 757f C745FCFF 		movl	$-1, -4(%ebp)
 10321      FFFFFF
 10322 7586 EB40     		jmp	L599
 10323              	L600:
5507:str_merge.c   ****     }
5508:str_merge.c   **** 
5509:str_merge.c   ****     /*----------------------------------------------------------------*/
5510:str_merge.c   ****     /* Code Body                                                      */
5511:str_merge.c   ****     /*----------------------------------------------------------------*/
5512:str_merge.c   ****     return write_fixed_str(res, map, resMeta, mapMeta, 0, pos, offs, id);
 10325              	LM1273:
 10326 7588 8B4520   		movl	32(%ebp), %eax
 10327 758b 8944241C 		movl	%eax, 28(%esp)
 10328 758f 8B451C   		movl	28(%ebp), %eax
 10329 7592 89442418 		movl	%eax, 24(%esp)
 10330 7596 8B4518   		movl	24(%ebp), %eax
 10331 7599 89442414 		movl	%eax, 20(%esp)
 10332 759d C7442410 		movl	$0, 16(%esp)
 10332      00000000 
 10333 75a5 8B4514   		movl	20(%ebp), %eax
 10334 75a8 8944240C 		movl	%eax, 12(%esp)
 10335 75ac 8B4510   		movl	16(%ebp), %eax
 10336 75af 89442408 		movl	%eax, 8(%esp)
 10337 75b3 8B450C   		movl	12(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 289


 10338 75b6 89442404 		movl	%eax, 4(%esp)
 10339 75ba 8B4508   		movl	8(%ebp), %eax
 10340 75bd 890424   		movl	%eax, (%esp)
 10341 75c0 E8ECFDFF 		call	_write_fixed_str
 10341      FF
 10342 75c5 8945FC   		movl	%eax, -4(%ebp)
5513:str_merge.c   **** }
 10344              	LM1274:
 10345              	L599:
 10346 75c8 8B45FC   		movl	-4(%ebp), %eax
 10347 75cb C9       		leave
 10348 75cc C3       		ret
 10349              	Lscope44:
 10354              	.globl _ucs2toasc
 10356              	_ucs2toasc:
5514:str_merge.c   **** 
5515:str_merge.c   **** /*****************************************************************************
5516:str_merge.c   ****  * FUNCTION
5517:str_merge.c   ****  *  ucs2toasc
5518:str_merge.c   ****  * DESCRIPTION
5519:str_merge.c   ****  *  simple ucs2 to asc
5520:str_merge.c   ****  * PARAMETERS
5521:str_merge.c   ****  *  
5522:str_merge.c   ****  * RETURNS
5523:str_merge.c   ****  *  
5524:str_merge.c   ****  *****************************************************************************/
5525:str_merge.c   **** int ucs2toasc(U8* pOutBuff, U8 *pInBuff)
5526:str_merge.c   **** {
 10358              	LM1275:
 10359 75cd 55       		pushl	%ebp
 10360 75ce 89E5     		movl	%esp, %ebp
 10361 75d0 83EC04   		subl	$4, %esp
5527:str_merge.c   ****     int count = 0;
 10363              	LM1276:
 10364              	LBB63:
 10365 75d3 C745FC00 		movl	$0, -4(%ebp)
 10365      000000
5528:str_merge.c   **** 
5529:str_merge.c   ****     if(pInBuff != 0)
 10367              	LM1277:
 10368 75da 837D0C00 		cmpl	$0, 12(%ebp)
 10369 75de 742E     		je	L603
5530:str_merge.c   ****     {
5531:str_merge.c   ****         while(!(*pInBuff == 0 && *(pInBuff + 1) == 0))
 10371              	LM1278:
 10372              	L604:
 10373 75e0 8B450C   		movl	12(%ebp), %eax
 10374 75e3 803800   		cmpb	$0, (%eax)
 10375 75e6 750B     		jne	L606
 10376 75e8 8B450C   		movl	12(%ebp), %eax
 10377 75eb 40       		incl	%eax
 10378 75ec 803800   		cmpb	$0, (%eax)
 10379 75ef 7502     		jne	L606
 10380 75f1 EB1B     		jmp	L603
 10381              	L606:
5532:str_merge.c   ****         {
5533:str_merge.c   ****             *pOutBuff = *pInBuff;
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 290


 10383              	LM1279:
 10384 75f3 8B5508   		movl	8(%ebp), %edx
 10385 75f6 8B450C   		movl	12(%ebp), %eax
 10386 75f9 0FB600   		movzbl	(%eax), %eax
 10387 75fc 8802     		movb	%al, (%edx)
5534:str_merge.c   ****             pOutBuff += 1;
 10389              	LM1280:
 10390 75fe FF4508   		incl	8(%ebp)
5535:str_merge.c   ****             pInBuff += 2;
 10392              	LM1281:
 10393 7601 8D450C   		leal	12(%ebp), %eax
 10394 7604 830002   		addl	$2, (%eax)
5536:str_merge.c   ****             count++;
 10396              	LM1282:
 10397 7607 8D45FC   		leal	-4(%ebp), %eax
 10398 760a FF00     		incl	(%eax)
 10399 760c EBD2     		jmp	L604
 10400              	L603:
5537:str_merge.c   ****         }
5538:str_merge.c   ****     }
5539:str_merge.c   **** 
5540:str_merge.c   ****     *pOutBuff = '\0';
 10402              	LM1283:
 10403 760e 8B4508   		movl	8(%ebp), %eax
 10404 7611 C60000   		movb	$0, (%eax)
5541:str_merge.c   **** 
5542:str_merge.c   ****     return count;
 10406              	LM1284:
 10407 7614 8B45FC   		movl	-4(%ebp), %eax
5543:str_merge.c   **** }
 10409              	LM1285:
 10410 7617 C9       		leave
 10411 7618 C3       		ret
 10412              	LBE63:
 10416              	Lscope45:
 10418              	LC144:
 10419 7619 00       		.ascii "\0"
 10420              	LC145:
 10421 761a 25730925 		.ascii "%s\11%d\11%s\11%d\11%s\12\0"
 10421      64092573 
 10421      09256409 
 10421      25730A00 
 10427              	_write_fixed_string_log:
5544:str_merge.c   **** 
5545:str_merge.c   **** /*****************************************************************************
5546:str_merge.c   ****  * FUNCTION
5547:str_merge.c   ****  *  write_fixed_string_log
5548:str_merge.c   ****  * DESCRIPTION
5549:str_merge.c   ****  *  write fixed string id's log into fixed_string.txt
5550:str_merge.c   ****  * PARAMETERS
5551:str_merge.c   ****  *  pease refer write_fixed_str's description
5552:str_merge.c   ****  * RETURNS
5553:str_merge.c   ****  *  return -1 if input is invalid, return-2 if malloc faileds, else return string length
5554:str_merge.c   ****  *****************************************************************************/
5555:str_merge.c   **** /* id_enum | id_value | data | len | duplicate id */
5556:str_merge.c   **** static MMI_BOOL write_fixed_string_log(FILE *log, U16 id, U16 dup_id)
5557:str_merge.c   **** {
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 291


 10429              	LM1286:
 10430 762a 55       		pushl	%ebp
 10431 762b 89E5     		movl	%esp, %ebp
 10432 762d 81EC5806 		subl	$1624, %esp
 10432      0000
 10433 7633 8B450C   		movl	12(%ebp), %eax
 10434 7636 8B5510   		movl	16(%ebp), %edx
 10435 7639 668945F6 		movw	%ax, -10(%ebp)
 10436 763d 668955F4 		movw	%dx, -12(%ebp)
5558:str_merge.c   ****     char *id_enum = "", *did_enum = "", *id_str = "";
 10438              	LM1287:
 10439              	LBB64:
 10440 7641 C745F019 		movl	$LC144, -16(%ebp)
 10440      760000
 10441 7648 C745EC19 		movl	$LC144, -20(%ebp)
 10441      760000
 10442 764f C745E819 		movl	$LC144, -24(%ebp)
 10442      760000
5559:str_merge.c   ****     int len = 0;
 10444              	LM1288:
 10445 7656 C745E400 		movl	$0, -28(%ebp)
 10445      000000
5560:str_merge.c   ****     U8 enum_buff[MAX_LENGTH]; /* ascii data out buffer */
5561:str_merge.c   ****     U8 str_buff[MAX_LENGTH]; /* default string data bffer */
5562:str_merge.c   ****     U8 denum_buff[MAX_LENGTH]; /* duplicate id enum */
5563:str_merge.c   ****     enum_buff[0] = '\0';
 10447              	LM1289:
 10448 765d C685D8FD 		movb	$0, -552(%ebp)
 10448      FFFF00
5564:str_merge.c   ****     str_buff[0] = '\0';
 10450              	LM1290:
 10451 7664 C685D8FB 		movb	$0, -1064(%ebp)
 10451      FFFF00
5565:str_merge.c   ****     denum_buff[0] = '\0';
 10453              	LM1291:
 10454 766b C685D8F9 		movb	$0, -1576(%ebp)
 10454      FFFF00
5566:str_merge.c   ****     
5567:str_merge.c   ****     if(log == 0 || id <= 0 || id > MAX_STRING_MAP_SIZE)
 10456              	LM1292:
 10457 7672 837D0800 		cmpl	$0, 8(%ebp)
 10458 7676 7407     		je	L609
 10459 7678 66837DF6 		cmpw	$0, -10(%ebp)
 10459      00
 10460 767d 750F     		jne	L608
 10461              	L609:
5568:str_merge.c   ****     {
5569:str_merge.c   ****         return MMI_FALSE;
 10463              	LM1293:
 10464 767f C785D4F9 		movl	$0, -1580(%ebp)
 10464      FFFF0000 
 10464      0000
 10465 7689 E9CE0000 		jmp	L607
 10465      00
 10466              	L608:
5570:str_merge.c   ****     }
5571:str_merge.c   **** 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 292


5572:str_merge.c   ****     ucs2toasc(enum_buff, StrEnum[id]);
 10468              	LM1294:
 10469 768e 0FB745F6 		movzwl	-10(%ebp), %eax
 10470 7692 8B048500 		movl	_StrEnum(,%eax,4), %eax
 10470      000000
 10471 7699 89442404 		movl	%eax, 4(%esp)
 10472 769d 8D85D8FD 		leal	-552(%ebp), %eax
 10472      FFFF
 10473 76a3 890424   		movl	%eax, (%esp)
 10474 76a6 E822FFFF 		call	_ucs2toasc
 10474      FF
5573:str_merge.c   ****     ucs2toasc(str_buff, Str[id]);
 10476              	LM1295:
 10477 76ab 0FB745F6 		movzwl	-10(%ebp), %eax
 10478 76af 8B048500 		movl	_Str(,%eax,4), %eax
 10478      000000
 10479 76b6 89442404 		movl	%eax, 4(%esp)
 10480 76ba 8D85D8FB 		leal	-1064(%ebp), %eax
 10480      FFFF
 10481 76c0 890424   		movl	%eax, (%esp)
 10482 76c3 E805FFFF 		call	_ucs2toasc
 10482      FF
5574:str_merge.c   ****     
5575:str_merge.c   ****     if(str_buff[0] != '\0')
 10484              	LM1296:
 10485 76c8 80BDD8FB 		cmpb	$0, -1064(%ebp)
 10485      FFFF00
 10486 76cf 7416     		je	L610
5576:str_merge.c   ****         len = (strlen(str_buff) + 1) * 2;
 10488              	LM1297:
 10489 76d1 8D85D8FB 		leal	-1064(%ebp), %eax
 10489      FFFF
 10490 76d7 890424   		movl	%eax, (%esp)
 10491 76da E8000000 		call	_strlen
 10491      00
 10492 76df 01C0     		addl	%eax, %eax
 10493 76e1 83C002   		addl	$2, %eax
 10494 76e4 8945E4   		movl	%eax, -28(%ebp)
 10495              	L610:
5577:str_merge.c   ****     
5578:str_merge.c   ****     if(dup_id != 0 && dup_id < MAX_STRING_MAP_SIZE)
 10497              	LM1298:
 10498 76e7 66837DF4 		cmpw	$0, -12(%ebp)
 10498      00
 10499 76ec 7424     		je	L611
 10500 76ee 66837DF4 		cmpw	$-1, -12(%ebp)
 10500      FF
 10501 76f3 741D     		je	L611
5579:str_merge.c   ****     {
5580:str_merge.c   ****         ucs2toasc(denum_buff, StrEnum[dup_id]);
 10503              	LM1299:
 10504 76f5 0FB745F4 		movzwl	-12(%ebp), %eax
 10505 76f9 8B048500 		movl	_StrEnum(,%eax,4), %eax
 10505      000000
 10506 7700 89442404 		movl	%eax, 4(%esp)
 10507 7704 8D85D8F9 		leal	-1576(%ebp), %eax
 10507      FFFF
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 293


 10508 770a 890424   		movl	%eax, (%esp)
 10509 770d E8BBFEFF 		call	_ucs2toasc
 10509      FF
 10510              	L611:
5581:str_merge.c   ****     }
5582:str_merge.c   **** 
5583:str_merge.c   ****     fprintf(log, "%s\t%d\t%s\t%d\t%s\n", enum_buff, id, str_buff, len, denum_buff);
 10512              	LM1300:
 10513 7712 8D85D8F9 		leal	-1576(%ebp), %eax
 10513      FFFF
 10514 7718 89442418 		movl	%eax, 24(%esp)
 10515 771c 8B45E4   		movl	-28(%ebp), %eax
 10516 771f 89442414 		movl	%eax, 20(%esp)
 10517 7723 8D85D8FB 		leal	-1064(%ebp), %eax
 10517      FFFF
 10518 7729 89442410 		movl	%eax, 16(%esp)
 10519 772d 0FB745F6 		movzwl	-10(%ebp), %eax
 10520 7731 8944240C 		movl	%eax, 12(%esp)
 10521 7735 8D85D8FD 		leal	-552(%ebp), %eax
 10521      FFFF
 10522 773b 89442408 		movl	%eax, 8(%esp)
 10523 773f C7442404 		movl	$LC145, 4(%esp)
 10523      1A760000 
 10524 7747 8B4508   		movl	8(%ebp), %eax
 10525 774a 890424   		movl	%eax, (%esp)
 10526 774d E8000000 		call	_fprintf
 10526      00
5584:str_merge.c   **** 
5585:str_merge.c   ****     return MMI_TRUE;
 10528              	LM1301:
 10529 7752 C785D4F9 		movl	$1, -1580(%ebp)
 10529      FFFF0100 
 10529      0000
5586:str_merge.c   **** }
 10531              	LM1302:
 10532              	L607:
 10533              	LBE64:
 10534 775c 8B85D4F9 		movl	-1580(%ebp), %eax
 10534      FFFF
 10535 7762 C9       		leave
 10536 7763 C3       		ret
 10548              	Lscope46:
 10550 7764 90909090 		.align 32
 10550      90909090 
 10550      90909090 
 10550      90909090 
 10550      90909090 
 10551              	LC146:
 10552 7780 5B4D454D 		.ascii "[MEM]Create list of size %d in CreateRefList()\0"
 10552      5D437265 
 10552      61746520 
 10552      6C697374 
 10552      206F6620 
 10553              	LC147:
 10554 77af 43616E27 		.ascii "Can't create list of size %d\0"
 10554      74206372 
 10554      65617465 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 294


 10554      206C6973 
 10554      74206F66 
 10558              	_CreateRefList:
5587:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
5588:str_merge.c   **** 
5589:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
5590:str_merge.c   **** /* Create RefList */
5591:str_merge.c   **** static RefList* CreateRefList(int listSize)
5592:str_merge.c   **** {
 10560              	LM1303:
 10561 77cc 55       		pushl	%ebp
 10562 77cd 89E5     		movl	%esp, %ebp
 10563 77cf 53       		pushl	%ebx
 10564 77d0 83EC14   		subl	$20, %esp
5593:str_merge.c   ****     STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Create list of size %d in CreateRefList()",listSize);
 10566              	LM1304:
 10567              	LBB65:
 10568 77d3 8B4508   		movl	8(%ebp), %eax
 10569 77d6 8944240C 		movl	%eax, 12(%esp)
 10570 77da C7442408 		movl	$LC146, 8(%esp)
 10570      80770000 
 10571 77e2 C7442404 		movl	$LC3, 4(%esp)
 10571      4B040000 
 10572 77ea C7042401 		movl	$1, (%esp)
 10572      000000
 10573 77f1 E8000000 		call	_reslog_adaptor_log
 10573      00
5594:str_merge.c   ****     RefList* newList = (RefList*) malloc( sizeof(RefList) );
 10575              	LM1305:
 10576 77f6 C7042410 		movl	$16, (%esp)
 10576      000000
 10577 77fd E8000000 		call	_malloc
 10577      00
 10578 7802 8945F8   		movl	%eax, -8(%ebp)
5595:str_merge.c   ****     memset(newList,0,sizeof(RefList));
 10580              	LM1306:
 10581 7805 C7442408 		movl	$16, 8(%esp)
 10581      10000000 
 10582 780d C7442404 		movl	$0, 4(%esp)
 10582      00000000 
 10583 7815 8B45F8   		movl	-8(%ebp), %eax
 10584 7818 890424   		movl	%eax, (%esp)
 10585 781b E8000000 		call	_memset
 10585      00
5596:str_merge.c   ****     newList->ListItems = (RefListItem**) malloc( sizeof(RefListItem*) * listSize);
 10587              	LM1307:
 10588 7820 8B5DF8   		movl	-8(%ebp), %ebx
 10589 7823 8B4508   		movl	8(%ebp), %eax
 10590 7826 C1E002   		sall	$2, %eax
 10591 7829 890424   		movl	%eax, (%esp)
 10592 782c E8000000 		call	_malloc
 10592      00
 10593 7831 8903     		movl	%eax, (%ebx)
5597:str_merge.c   ****     if(newList->ListItems == NULL)
 10595              	LM1308:
 10596 7833 8B45F8   		movl	-8(%ebp), %eax
 10597 7836 833800   		cmpl	$0, (%eax)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 295


 10598 7839 7523     		jne	L613
5598:str_merge.c   ****     {
5599:str_merge.c   ****         STRMERG_LOG_E("Can't create list of size %d", listSize); 
 10600              	LM1309:
 10601 783b 8B4508   		movl	8(%ebp), %eax
 10602 783e 8944240C 		movl	%eax, 12(%esp)
 10603 7842 C7442408 		movl	$LC147, 8(%esp)
 10603      AF770000 
 10604 784a C7442404 		movl	$LC3, 4(%esp)
 10604      4B040000 
 10605 7852 C7042403 		movl	$3, (%esp)
 10605      000000
 10606 7859 E8000000 		call	_reslog_adaptor_log
 10606      00
 10607              	L613:
5600:str_merge.c   ****     }
5601:str_merge.c   ****   
5602:str_merge.c   ****     memset(newList->ListItems,0,sizeof(RefListItem*) * listSize);
 10609              	LM1310:
 10610 785e 8B4508   		movl	8(%ebp), %eax
 10611 7861 C1E002   		sall	$2, %eax
 10612 7864 89442408 		movl	%eax, 8(%esp)
 10613 7868 C7442404 		movl	$0, 4(%esp)
 10613      00000000 
 10614 7870 8B45F8   		movl	-8(%ebp), %eax
 10615 7873 8B00     		movl	(%eax), %eax
 10616 7875 890424   		movl	%eax, (%esp)
 10617 7878 E8000000 		call	_memset
 10617      00
5603:str_merge.c   ****     newList->ListLength = 0;
 10619              	LM1311:
 10620 787d 8B45F8   		movl	-8(%ebp), %eax
 10621 7880 C7400400 		movl	$0, 4(%eax)
 10621      000000
5604:str_merge.c   ****     newList->Size = listSize;
 10623              	LM1312:
 10624 7887 8B55F8   		movl	-8(%ebp), %edx
 10625 788a 8B4508   		movl	8(%ebp), %eax
 10626 788d 894208   		movl	%eax, 8(%edx)
5605:str_merge.c   ****     newList->AllocatedSize =0;
 10628              	LM1313:
 10629 7890 8B45F8   		movl	-8(%ebp), %eax
 10630 7893 C7400C00 		movl	$0, 12(%eax)
 10630      000000
5606:str_merge.c   ****     return newList;
 10632              	LM1314:
 10633 789a 8B45F8   		movl	-8(%ebp), %eax
5607:str_merge.c   **** }
 10635              	LM1315:
 10636 789d 83C414   		addl	$20, %esp
 10637 78a0 5B       		popl	%ebx
 10638 78a1 5D       		popl	%ebp
 10639 78a2 C3       		ret
 10640              	LBE65:
 10644              	Lscope47:
 10646 78a3 90909090 		.align 32
 10646      90909090 
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 296


 10646      90909090 
 10646      90909090 
 10646      90909090 
 10647              	LC148:
 10648 78c0 5B4D454D 		.ascii "[MEM]Free list of size %d, %d items in CreateRefList()\0"
 10648      5D467265 
 10648      65206C69 
 10648      7374206F 
 10648      66207369 
 10649 78f7 89F68DBC 		.align 32
 10649      27000000 
 10649      00
 10650              	LC149:
 10651 7900 5B4D454D 		.ascii "[MEM]DeleteRefList Finished ... %d items have been free\0"
 10651      5D44656C 
 10651      65746552 
 10651      65664C69 
 10651      73742046 
 10655              	_DeleteRefList:
5608:str_merge.c   **** 
5609:str_merge.c   **** /* Delete RefList */
5610:str_merge.c   **** static void DeleteRefList(RefList * list)
5611:str_merge.c   **** {
 10657              	LM1316:
 10658 7938 55       		pushl	%ebp
 10659 7939 89E5     		movl	%esp, %ebp
 10660 793b 83EC28   		subl	$40, %esp
5612:str_merge.c   ****   STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Free list of size %d, %d items in CreateRefList()", list->List
 10662              	LM1317:
 10663              	LBB66:
 10664 793e 8B4508   		movl	8(%ebp), %eax
 10665 7941 8B4008   		movl	8(%eax), %eax
 10666 7944 89442410 		movl	%eax, 16(%esp)
 10667 7948 8B4508   		movl	8(%ebp), %eax
 10668 794b 8B4004   		movl	4(%eax), %eax
 10669 794e 8944240C 		movl	%eax, 12(%esp)
 10670 7952 C7442408 		movl	$LC148, 8(%esp)
 10670      C0780000 
 10671 795a C7442404 		movl	$LC3, 4(%esp)
 10671      4B040000 
 10672 7962 C7042401 		movl	$1, (%esp)
 10672      000000
 10673 7969 E8000000 		call	_reslog_adaptor_log
 10673      00
5613:str_merge.c   ****   int i=0;
 10675              	LM1318:
 10676 796e C745FC00 		movl	$0, -4(%ebp)
 10676      000000
5614:str_merge.c   ****   RefListItem * item = NULL;
 10678              	LM1319:
 10679 7975 C745F800 		movl	$0, -8(%ebp)
 10679      000000
5615:str_merge.c   ****   for(i=0;i< list->ListLength;i++)
 10681              	LM1320:
 10682 797c C745FC00 		movl	$0, -4(%ebp)
 10682      000000
 10683              	L615:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 297


 10684 7983 8B5508   		movl	8(%ebp), %edx
 10685 7986 8B45FC   		movl	-4(%ebp), %eax
 10686 7989 3B4204   		cmpl	4(%edx), %eax
 10687 798c 7C02     		jl	L618
 10688 798e EB42     		jmp	L616
 10689              	L618:
5616:str_merge.c   ****   {
5617:str_merge.c   ****     item = *(list->ListItems+i);
 10691              	LM1321:
 10692 7990 8B4D08   		movl	8(%ebp), %ecx
 10693 7993 8B45FC   		movl	-4(%ebp), %eax
 10694 7996 8D148500 		leal	0(,%eax,4), %edx
 10694      000000
 10695 799d 8B01     		movl	(%ecx), %eax
 10696 799f 8B0410   		movl	(%eax,%edx), %eax
 10697 79a2 8945F8   		movl	%eax, -8(%ebp)
5618:str_merge.c   ****     if(item!=NULL)
 10699              	LM1322:
 10700 79a5 837DF800 		cmpl	$0, -8(%ebp)
 10701 79a9 7420     		je	L617
5619:str_merge.c   ****     {
5620:str_merge.c   ****       if(item->ItemData !=NULL){
 10703              	LM1323:
 10704 79ab 8B45F8   		movl	-8(%ebp), %eax
 10705 79ae 833800   		cmpl	$0, (%eax)
 10706 79b1 740D     		je	L620
5621:str_merge.c   ****         free(item->ItemData);
 10708              	LM1324:
 10709 79b3 8B45F8   		movl	-8(%ebp), %eax
 10710 79b6 8B00     		movl	(%eax), %eax
 10711 79b8 890424   		movl	%eax, (%esp)
 10712 79bb E8000000 		call	_free
 10712      00
 10713              	L620:
5622:str_merge.c   ****       }
5623:str_merge.c   ****       free(item);
 10715              	LM1325:
 10716 79c0 8B45F8   		movl	-8(%ebp), %eax
 10717 79c3 890424   		movl	%eax, (%esp)
 10718 79c6 E8000000 		call	_free
 10718      00
 10720              	LM1326:
 10721              	L617:
 10722 79cb 8D45FC   		leal	-4(%ebp), %eax
 10723 79ce FF00     		incl	(%eax)
 10724 79d0 EBB1     		jmp	L615
 10725              	L616:
5624:str_merge.c   ****     }
5625:str_merge.c   ****   }
5626:str_merge.c   ****   free(list);
 10727              	LM1327:
 10728 79d2 8B4508   		movl	8(%ebp), %eax
 10729 79d5 890424   		movl	%eax, (%esp)
 10730 79d8 E8000000 		call	_free
 10730      00
5627:str_merge.c   ****   STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "DeleteRefList Finished ... %d items have been free",i);
 10732              	LM1328:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 298


 10733 79dd 8B45FC   		movl	-4(%ebp), %eax
 10734 79e0 8944240C 		movl	%eax, 12(%esp)
 10735 79e4 C7442408 		movl	$LC149, 8(%esp)
 10735      00790000 
 10736 79ec C7442404 		movl	$LC3, 4(%esp)
 10736      4B040000 
 10737 79f4 C7042401 		movl	$1, (%esp)
 10737      000000
 10738 79fb E8000000 		call	_reslog_adaptor_log
 10738      00
5628:str_merge.c   **** }
 10740              	LM1329:
 10741 7a00 C9       		leave
 10742 7a01 C3       		ret
 10743              	LBE66:
 10748              	Lscope48:
 10750              	LC150:
 10751 7a02 43616E27 		.ascii "Can't allocate item for %s\0"
 10751      7420616C 
 10751      6C6F6361 
 10751      74652069 
 10751      74656D20 
 10752 7a1d 8D7600   		.align 32
 10753              	LC151:
 10754 7a20 43616E27 		.ascii "Can't allocate item ItemData for %s\0"
 10754      7420616C 
 10754      6C6F6361 
 10754      74652069 
 10754      74656D20 
 10758              	_CreateListItemFromStr:
5629:str_merge.c   **** 
5630:str_merge.c   **** 
5631:str_merge.c   **** /* Create a ref item object with a string line */
5632:str_merge.c   **** static RefListItem* CreateListItemFromStr(wchar_t * str)
5633:str_merge.c   **** {
 10760              	LM1330:
 10761 7a44 55       		pushl	%ebp
 10762 7a45 89E5     		movl	%esp, %ebp
 10763 7a47 53       		pushl	%ebx
 10764 7a48 83EC24   		subl	$36, %esp
5634:str_merge.c   ****     RefListItem* newItem = NULL;
 10766              	LM1331:
 10767              	LBB67:
 10768 7a4b C745F800 		movl	$0, -8(%ebp)
 10768      000000
5635:str_merge.c   ****     newItem = malloc(sizeof(RefListItem));
 10770              	LM1332:
 10771 7a52 C7042408 		movl	$8, (%esp)
 10771      000000
 10772 7a59 E8000000 		call	_malloc
 10772      00
 10773 7a5e 8945F8   		movl	%eax, -8(%ebp)
5636:str_merge.c   ****     /* Allocate list item */
5637:str_merge.c   ****     if(newItem == NULL)
 10775              	LM1333:
 10776 7a61 837DF800 		cmpl	$0, -8(%ebp)
 10777 7a65 753A     		jne	L622
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 299


5638:str_merge.c   ****     {
5639:str_merge.c   ****         STRMERG_LOG_E("Can't allocate item for %s",str);
 10779              	LM1334:
 10780 7a67 8B4508   		movl	8(%ebp), %eax
 10781 7a6a 8944240C 		movl	%eax, 12(%esp)
 10782 7a6e C7442408 		movl	$LC150, 8(%esp)
 10782      027A0000 
 10783 7a76 C7442404 		movl	$LC3, 4(%esp)
 10783      4B040000 
 10784 7a7e C7042403 		movl	$3, (%esp)
 10784      000000
 10785 7a85 E8000000 		call	_reslog_adaptor_log
 10785      00
5640:str_merge.c   ****         free(newItem);
 10787              	LM1335:
 10788 7a8a 8B45F8   		movl	-8(%ebp), %eax
 10789 7a8d 890424   		movl	%eax, (%esp)
 10790 7a90 E8000000 		call	_free
 10790      00
5641:str_merge.c   ****         return NULL;
 10792              	LM1336:
 10793 7a95 C745F400 		movl	$0, -12(%ebp)
 10793      000000
 10794 7a9c E9C00000 		jmp	L621
 10794      00
 10795              	L622:
5642:str_merge.c   ****     }
5643:str_merge.c   ****     memset(newItem,sizeof(RefListItem),0);
 10797              	LM1337:
 10798 7aa1 C7442408 		movl	$0, 8(%esp)
 10798      00000000 
 10799 7aa9 C7442404 		movl	$8, 4(%esp)
 10799      08000000 
 10800 7ab1 8B45F8   		movl	-8(%ebp), %eax
 10801 7ab4 890424   		movl	%eax, (%esp)
 10802 7ab7 E8000000 		call	_memset
 10802      00
5644:str_merge.c   ****     newItem->ItemSize = (wcslen(str)+1) * sizeof(wchar_t) ;
 10804              	LM1338:
 10805 7abc 8B5DF8   		movl	-8(%ebp), %ebx
 10806 7abf 8B4508   		movl	8(%ebp), %eax
 10807 7ac2 890424   		movl	%eax, (%esp)
 10808 7ac5 E8000000 		call	_wcslen
 10808      00
 10809 7aca 01C0     		addl	%eax, %eax
 10810 7acc 83C002   		addl	$2, %eax
 10811 7acf 894304   		movl	%eax, 4(%ebx)
5645:str_merge.c   ****     newItem->ItemData = malloc(newItem->ItemSize);
 10813              	LM1339:
 10814 7ad2 8B5DF8   		movl	-8(%ebp), %ebx
 10815 7ad5 8B45F8   		movl	-8(%ebp), %eax
 10816 7ad8 8B4004   		movl	4(%eax), %eax
 10817 7adb 890424   		movl	%eax, (%esp)
 10818 7ade E8000000 		call	_malloc
 10818      00
 10819 7ae3 8903     		movl	%eax, (%ebx)
5646:str_merge.c   ****     /* Allocate string data */
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 300


5647:str_merge.c   ****     if(newItem->ItemData == NULL)
 10821              	LM1340:
 10822 7ae5 8B45F8   		movl	-8(%ebp), %eax
 10823 7ae8 833800   		cmpl	$0, (%eax)
 10824 7aeb 753B     		jne	L623
5648:str_merge.c   ****     {
5649:str_merge.c   ****         STRMERG_LOG_E("Can't allocate item ItemData for %s",newItem->ItemData);
 10826              	LM1341:
 10827 7aed 8B45F8   		movl	-8(%ebp), %eax
 10828 7af0 8B00     		movl	(%eax), %eax
 10829 7af2 8944240C 		movl	%eax, 12(%esp)
 10830 7af6 C7442408 		movl	$LC151, 8(%esp)
 10830      207A0000 
 10831 7afe C7442404 		movl	$LC3, 4(%esp)
 10831      4B040000 
 10832 7b06 C7042403 		movl	$3, (%esp)
 10832      000000
 10833 7b0d E8000000 		call	_reslog_adaptor_log
 10833      00
5650:str_merge.c   ****         free(newItem->ItemData);
 10835              	LM1342:
 10836 7b12 8B45F8   		movl	-8(%ebp), %eax
 10837 7b15 8B00     		movl	(%eax), %eax
 10838 7b17 890424   		movl	%eax, (%esp)
 10839 7b1a E8000000 		call	_free
 10839      00
5651:str_merge.c   ****         return NULL;
 10841              	LM1343:
 10842 7b1f C745F400 		movl	$0, -12(%ebp)
 10842      000000
 10843 7b26 EB39     		jmp	L621
 10844              	L623:
5652:str_merge.c   ****     }
5653:str_merge.c   ****     memset(newItem->ItemData,newItem->ItemSize,0);
 10846              	LM1344:
 10847 7b28 C7442408 		movl	$0, 8(%esp)
 10847      00000000 
 10848 7b30 8B45F8   		movl	-8(%ebp), %eax
 10849 7b33 8B4004   		movl	4(%eax), %eax
 10850 7b36 89442404 		movl	%eax, 4(%esp)
 10851 7b3a 8B45F8   		movl	-8(%ebp), %eax
 10852 7b3d 8B00     		movl	(%eax), %eax
 10853 7b3f 890424   		movl	%eax, (%esp)
 10854 7b42 E8000000 		call	_memset
 10854      00
5654:str_merge.c   ****     wcscpy(newItem->ItemData,str);
 10856              	LM1345:
 10857 7b47 8B4508   		movl	8(%ebp), %eax
 10858 7b4a 89442404 		movl	%eax, 4(%esp)
 10859 7b4e 8B45F8   		movl	-8(%ebp), %eax
 10860 7b51 8B00     		movl	(%eax), %eax
 10861 7b53 890424   		movl	%eax, (%esp)
 10862 7b56 E8000000 		call	_wcscpy
 10862      00
5655:str_merge.c   ****     return newItem;
 10864              	LM1346:
 10865 7b5b 8B45F8   		movl	-8(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 301


 10866 7b5e 8945F4   		movl	%eax, -12(%ebp)
5656:str_merge.c   **** }
 10868              	LM1347:
 10869              	L621:
 10870              	LBE67:
 10871 7b61 8B45F4   		movl	-12(%ebp), %eax
 10872 7b64 83C424   		addl	$36, %esp
 10873 7b67 5B       		popl	%ebx
 10874 7b68 5D       		popl	%ebp
 10875 7b69 C3       		ret
 10879              	Lscope49:
 10881 7b6a 90909090 		.align 32
 10881      90909090 
 10881      90909090 
 10881      90909090 
 10881      90909090 
 10882              	LC152:
 10883 7b80 4C697374 		.ascii "List can't not be null in AddRefListItem()\0"
 10883      2063616E 
 10883      2774206E 
 10883      6F742062 
 10883      65206E75 
 10884 7bab 90909090 		.align 32
 10884      90909090 
 10884      90909090 
 10884      90909090 
 10884      90909090 
 10885              	LC153:
 10886 7bc0 52657369 		.ascii "Resize list from %d to %d in AddRefListItem()\0"
 10886      7A65206C 
 10886      69737420 
 10886      66726F6D 
 10886      20256420 
 10887 7bee 90909090 		.align 32
 10887      90909090 
 10887      90909090 
 10887      90909090 
 10887      9090
 10888              	LC154:
 10889 7c00 4F757420 		.ascii "Out of memory. Can't resize list in AddRefListItem().\0"
 10889      6F66206D 
 10889      656D6F72 
 10889      792E2043 
 10889      616E2774 
 10894              	_AddRefListItem:
5657:str_merge.c   **** 
5658:str_merge.c   **** /* Add an item form a ref list */
5659:str_merge.c   **** static int AddRefListItem(RefList * list, RefListItem* item)
5660:str_merge.c   **** {
 10896              	LM1348:
 10897 7c36 55       		pushl	%ebp
 10898 7c37 89E5     		movl	%esp, %ebp
 10899 7c39 83EC38   		subl	$56, %esp
5661:str_merge.c   ****     int newSize = 0;
 10901              	LM1349:
 10902              	LBB68:
 10903 7c3c C745FC00 		movl	$0, -4(%ebp)
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 302


 10903      000000
5662:str_merge.c   ****     int indx = 0;
 10905              	LM1350:
 10906 7c43 C745F800 		movl	$0, -8(%ebp)
 10906      000000
5663:str_merge.c   ****     RefListItem* tmpItem = NULL;
 10908              	LM1351:
 10909 7c4a C745F400 		movl	$0, -12(%ebp)
 10909      000000
5664:str_merge.c   ****     RefListItem** tmpItemList = NULL;
 10911              	LM1352:
 10912 7c51 C745F000 		movl	$0, -16(%ebp)
 10912      000000
5665:str_merge.c   ****   
5666:str_merge.c   ****     /* Null pointer check */
5667:str_merge.c   ****     if(list == NULL)
 10914              	LM1353:
 10915 7c58 837D0800 		cmpl	$0, 8(%ebp)
 10916 7c5c 7528     		jne	L625
5668:str_merge.c   ****     {
5669:str_merge.c   ****         STRMERG_LOG_E("List can't not be null in AddRefListItem()");
 10918              	LM1354:
 10919 7c5e C7442408 		movl	$LC152, 8(%esp)
 10919      807B0000 
 10920 7c66 C7442404 		movl	$LC3, 4(%esp)
 10920      4B040000 
 10921 7c6e C7042403 		movl	$3, (%esp)
 10921      000000
 10922 7c75 E8000000 		call	_reslog_adaptor_log
 10922      00
5670:str_merge.c   ****         return -1;
 10924              	LM1355:
 10925 7c7a C745E8FF 		movl	$-1, -24(%ebp)
 10925      FFFFFF
 10926 7c81 E9250100 		jmp	L624
 10926      00
 10927              	L625:
5671:str_merge.c   ****     }
5672:str_merge.c   ****     /* Size check */
5673:str_merge.c   ****     /* If the size is not enough, adjust it. */
5674:str_merge.c   ****     if( (list->ListLength)+1 > list->Size )
 10929              	LM1356:
 10930 7c86 8B4508   		movl	8(%ebp), %eax
 10931 7c89 8B5004   		movl	4(%eax), %edx
 10932 7c8c 42       		incl	%edx
 10933 7c8d 8B4508   		movl	8(%ebp), %eax
 10934 7c90 3B5008   		cmpl	8(%eax), %edx
 10935 7c93 0F8EDC00 		jle	L626
 10935      0000
5675:str_merge.c   ****     {
5676:str_merge.c   ****         newSize =  list->Size + REF_LIST_SIZE_INCREMENT;
 10937              	LM1357:
 10938              	LBB69:
 10939 7c99 8B4508   		movl	8(%ebp), %eax
 10940 7c9c 8B4008   		movl	8(%eax), %eax
 10941 7c9f 05F40100 		addl	$500, %eax
 10941      00
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 303


 10942 7ca4 8945FC   		movl	%eax, -4(%ebp)
5677:str_merge.c   ****         STRMERG_LOG_E("Resize list from %d to %d in AddRefListItem()",list->Size, newSize);
 10944              	LM1358:
 10945 7ca7 8B45FC   		movl	-4(%ebp), %eax
 10946 7caa 89442410 		movl	%eax, 16(%esp)
 10947 7cae 8B4508   		movl	8(%ebp), %eax
 10948 7cb1 8B4008   		movl	8(%eax), %eax
 10949 7cb4 8944240C 		movl	%eax, 12(%esp)
 10950 7cb8 C7442408 		movl	$LC153, 8(%esp)
 10950      C07B0000 
 10951 7cc0 C7442404 		movl	$LC3, 4(%esp)
 10951      4B040000 
 10952 7cc8 C7042403 		movl	$3, (%esp)
 10952      000000
 10953 7ccf E8000000 		call	_reslog_adaptor_log
 10953      00
5678:str_merge.c   ****         /* Allocated items*/
5679:str_merge.c   ****         RefListItem **newList =  (RefList**)malloc( sizeof(RefListItem*) * newSize);
 10955              	LM1359:
 10956 7cd4 8B45FC   		movl	-4(%ebp), %eax
 10957 7cd7 C1E002   		sall	$2, %eax
 10958 7cda 890424   		movl	%eax, (%esp)
 10959 7cdd E8000000 		call	_malloc
 10959      00
 10960 7ce2 8945EC   		movl	%eax, -20(%ebp)
5680:str_merge.c   ****         if(newList==NULL)
 10962              	LM1360:
 10963 7ce5 837DEC00 		cmpl	$0, -20(%ebp)
 10964 7ce9 7528     		jne	L627
5681:str_merge.c   ****         {
5682:str_merge.c   ****             STRMERG_LOG_E("Out of memory. Can't resize list in AddRefListItem().");
 10966              	LM1361:
 10967 7ceb C7442408 		movl	$LC154, 8(%esp)
 10967      007C0000 
 10968 7cf3 C7442404 		movl	$LC3, 4(%esp)
 10968      4B040000 
 10969 7cfb C7042403 		movl	$3, (%esp)
 10969      000000
 10970 7d02 E8000000 		call	_reslog_adaptor_log
 10970      00
5683:str_merge.c   ****             return -1;
 10972              	LM1362:
 10973 7d07 C745E8FF 		movl	$-1, -24(%ebp)
 10973      FFFFFF
 10974 7d0e E9980000 		jmp	L624
 10974      00
 10975              	L627:
5684:str_merge.c   ****         }
5685:str_merge.c   ****         tmpItemList = list->ListItems;
 10977              	LM1363:
 10978 7d13 8B4508   		movl	8(%ebp), %eax
 10979 7d16 8B00     		movl	(%eax), %eax
 10980 7d18 8945F0   		movl	%eax, -16(%ebp)
5686:str_merge.c   ****         memset(newList, 0, sizeof(RefListItem*) * newSize);
 10982              	LM1364:
 10983 7d1b 8B45FC   		movl	-4(%ebp), %eax
 10984 7d1e C1E002   		sall	$2, %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 304


 10985 7d21 89442408 		movl	%eax, 8(%esp)
 10986 7d25 C7442404 		movl	$0, 4(%esp)
 10986      00000000 
 10987 7d2d 8B45EC   		movl	-20(%ebp), %eax
 10988 7d30 890424   		movl	%eax, (%esp)
 10989 7d33 E8000000 		call	_memset
 10989      00
5687:str_merge.c   ****         memcpy(newList ,list->ListItems, sizeof(RefListItem*) * list->Size) ;
 10991              	LM1365:
 10992 7d38 8B4508   		movl	8(%ebp), %eax
 10993 7d3b 8B4008   		movl	8(%eax), %eax
 10994 7d3e C1E002   		sall	$2, %eax
 10995 7d41 89442408 		movl	%eax, 8(%esp)
 10996 7d45 8B4508   		movl	8(%ebp), %eax
 10997 7d48 8B00     		movl	(%eax), %eax
 10998 7d4a 89442404 		movl	%eax, 4(%esp)
 10999 7d4e 8B45EC   		movl	-20(%ebp), %eax
 11000 7d51 890424   		movl	%eax, (%esp)
 11001 7d54 E8000000 		call	_memcpy
 11001      00
5688:str_merge.c   ****         list->Size = newSize;
 11003              	LM1366:
 11004 7d59 8B5508   		movl	8(%ebp), %edx
 11005 7d5c 8B45FC   		movl	-4(%ebp), %eax
 11006 7d5f 894208   		movl	%eax, 8(%edx)
5689:str_merge.c   ****         list->ListItems = newList;
 11008              	LM1367:
 11009 7d62 8B5508   		movl	8(%ebp), %edx
 11010 7d65 8B45EC   		movl	-20(%ebp), %eax
 11011 7d68 8902     		movl	%eax, (%edx)
5690:str_merge.c   ****         /* Release the original items*/
5691:str_merge.c   ****         free(tmpItemList);
 11013              	LM1368:
 11014 7d6a 8B45F0   		movl	-16(%ebp), %eax
 11015 7d6d 890424   		movl	%eax, (%esp)
 11016 7d70 E8000000 		call	_free
 11016      00
 11017              	L626:
5692:str_merge.c   ****     }
5693:str_merge.c   ****     indx = list->ListLength;
 11019              	LM1369:
 11020              	LBE69:
 11021 7d75 8B4508   		movl	8(%ebp), %eax
 11022 7d78 8B4004   		movl	4(%eax), %eax
 11023 7d7b 8945F8   		movl	%eax, -8(%ebp)
5694:str_merge.c   ****     *(list->ListItems + indx) = item;
 11025              	LM1370:
 11026 7d7e 8B5508   		movl	8(%ebp), %edx
 11027 7d81 8B45F8   		movl	-8(%ebp), %eax
 11028 7d84 8D0C8500 		leal	0(,%eax,4), %ecx
 11028      000000
 11029 7d8b 8B12     		movl	(%edx), %edx
 11030 7d8d 8B450C   		movl	12(%ebp), %eax
 11031 7d90 89040A   		movl	%eax, (%edx,%ecx)
5695:str_merge.c   ****     list->ListLength++;
 11033              	LM1371:
 11034 7d93 8B4508   		movl	8(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 305


 11035 7d96 FF4004   		incl	4(%eax)
5696:str_merge.c   ****     list->AllocatedSize += item->ItemSize;
 11037              	LM1372:
 11038 7d99 8B4D08   		movl	8(%ebp), %ecx
 11039 7d9c 8B5508   		movl	8(%ebp), %edx
 11040 7d9f 8B450C   		movl	12(%ebp), %eax
 11041 7da2 8B4004   		movl	4(%eax), %eax
 11042 7da5 03420C   		addl	12(%edx), %eax
 11043 7da8 89410C   		movl	%eax, 12(%ecx)
5697:str_merge.c   **** }
 11045              	LM1373:
 11046              	L624:
 11047              	LBE68:
 11048 7dab 8B45E8   		movl	-24(%ebp), %eax
 11049 7dae C9       		leave
 11050 7daf C3       		ret
 11060              	Lscope50:
 11062 7db0 90909090 		.align 32
 11062      90909090 
 11062      90909090 
 11062      90909090 
 11063              	LC155:
 11064 7dc0 5B4D454D 		.ascii "[MEM]GetRefListItem overflow: idx =%d, len = %d\0"
 11064      5D476574 
 11064      5265664C 
 11064      69737449 
 11064      74656D20 
 11065              	LC156:
 11066 7df0 0A455252 		.ascii "\12ERROR, tmp == NULL\0"
 11066      4F522C20 
 11066      746D7020 
 11066      3D3D204E 
 11066      554C4C00 
 11071              	_GetRefListItem:
5698:str_merge.c   **** 
5699:str_merge.c   **** /* Get an item from a ref list */
5700:str_merge.c   **** static RefListItem* GetRefListItem(RefList * list, int index)
5701:str_merge.c   **** {
 11073              	LM1374:
 11074 7e04 55       		pushl	%ebp
 11075 7e05 89E5     		movl	%esp, %ebp
 11076 7e07 83EC28   		subl	$40, %esp
5702:str_merge.c   ****     /* size check */
5703:str_merge.c   ****     RefListItem** tmp = NULL;
 11078              	LM1375:
 11079              	LBB70:
 11080 7e0a C745FC00 		movl	$0, -4(%ebp)
 11080      000000
5704:str_merge.c   ****     if(index >= list->ListLength){
 11082              	LM1376:
 11083 7e11 8B5508   		movl	8(%ebp), %edx
 11084 7e14 8B450C   		movl	12(%ebp), %eax
 11085 7e17 3B4204   		cmpl	4(%edx), %eax
 11086 7e1a 7C36     		jl	L629
5705:str_merge.c   ****         STRMERG_LOG_E("[MEM]GetRefListItem overflow: idx =%d, len = %d", index, list->ListLength);
 11088              	LM1377:
 11089 7e1c 8B4508   		movl	8(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 306


 11090 7e1f 8B4004   		movl	4(%eax), %eax
 11091 7e22 89442410 		movl	%eax, 16(%esp)
 11092 7e26 8B450C   		movl	12(%ebp), %eax
 11093 7e29 8944240C 		movl	%eax, 12(%esp)
 11094 7e2d C7442408 		movl	$LC155, 8(%esp)
 11094      C07D0000 
 11095 7e35 C7442404 		movl	$LC3, 4(%esp)
 11095      4B040000 
 11096 7e3d C7042403 		movl	$3, (%esp)
 11096      000000
 11097 7e44 E8000000 		call	_reslog_adaptor_log
 11097      00
5706:str_merge.c   ****         return NULL;
 11099              	LM1378:
 11100 7e49 C745F800 		movl	$0, -8(%ebp)
 11100      000000
 11101 7e50 EB41     		jmp	L628
 11102              	L629:
5707:str_merge.c   ****     }
5708:str_merge.c   ****     else
5709:str_merge.c   ****     {
5710:str_merge.c   ****         tmp = list->ListItems + index;
 11104              	LM1379:
 11105 7e52 8B5508   		movl	8(%ebp), %edx
 11106 7e55 8B450C   		movl	12(%ebp), %eax
 11107 7e58 C1E002   		sall	$2, %eax
 11108 7e5b 0302     		addl	(%edx), %eax
 11109 7e5d 8945FC   		movl	%eax, -4(%ebp)
5711:str_merge.c   ****         if(tmp==NULL)
 11111              	LM1380:
 11112 7e60 837DFC00 		cmpl	$0, -4(%ebp)
 11113 7e64 7525     		jne	L631
5712:str_merge.c   ****         {
5713:str_merge.c   ****             STRMERG_LOG_E("\nERROR, tmp == NULL");
 11115              	LM1381:
 11116 7e66 C7442408 		movl	$LC156, 8(%esp)
 11116      F07D0000 
 11117 7e6e C7442404 		movl	$LC3, 4(%esp)
 11117      4B040000 
 11118 7e76 C7042403 		movl	$3, (%esp)
 11118      000000
 11119 7e7d E8000000 		call	_reslog_adaptor_log
 11119      00
5714:str_merge.c   ****             return NULL;
 11121              	LM1382:
 11122 7e82 C745F800 		movl	$0, -8(%ebp)
 11122      000000
 11123 7e89 EB08     		jmp	L628
 11124              	L631:
5715:str_merge.c   **** 	}
5716:str_merge.c   **** 	return *(tmp);
 11126              	LM1383:
 11127 7e8b 8B45FC   		movl	-4(%ebp), %eax
 11128 7e8e 8B00     		movl	(%eax), %eax
 11129 7e90 8945F8   		movl	%eax, -8(%ebp)
5717:str_merge.c   ****     }
5718:str_merge.c   **** }
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 307


 11131              	LM1384:
 11132              	L628:
 11133              	LBE70:
 11134 7e93 8B45F8   		movl	-8(%ebp), %eax
 11135 7e96 C9       		leave
 11136 7e97 C3       		ret
 11140              	Lscope51:
 11142              	LC157:
 11143 7e98 46726565 		.ascii "Free old item%d\0"
 11143      206F6C64 
 11143      20697465 
 11143      6D256400 
 11149              	_SetRefListItem:
5719:str_merge.c   **** 
5720:str_merge.c   **** /* Set a list item, the old item is free by this function automatically */
5721:str_merge.c   **** static int SetRefListItem(RefList * list,int index,RefListItem* item)
5722:str_merge.c   **** {
 11151              	LM1385:
 11152 7ea8 55       		pushl	%ebp
 11153 7ea9 89E5     		movl	%esp, %ebp
 11154 7eab 83EC18   		subl	$24, %esp
5723:str_merge.c   ****     RefListItem* oldItem = GetRefListItem(list,index);
 11156              	LM1386:
 11157              	LBB71:
 11158 7eae 8B450C   		movl	12(%ebp), %eax
 11159 7eb1 89442404 		movl	%eax, 4(%esp)
 11160 7eb5 8B4508   		movl	8(%ebp), %eax
 11161 7eb8 890424   		movl	%eax, (%esp)
 11162 7ebb E844FFFF 		call	_GetRefListItem
 11162      FF
 11163 7ec0 8945FC   		movl	%eax, -4(%ebp)
5724:str_merge.c   ****     if(oldItem!=NULL)
 11165              	LM1387:
 11166 7ec3 837DFC00 		cmpl	$0, -4(%ebp)
 11167 7ec7 7443     		je	L633
5725:str_merge.c   ****     {
5726:str_merge.c   ****         STRMERG_LOG_V("Free old item%d", index);
 11169              	LM1388:
 11170 7ec9 8B450C   		movl	12(%ebp), %eax
 11171 7ecc 8944240C 		movl	%eax, 12(%esp)
 11172 7ed0 C7442408 		movl	$LC157, 8(%esp)
 11172      987E0000 
 11173 7ed8 C7442404 		movl	$LC3, 4(%esp)
 11173      4B040000 
 11174 7ee0 C7042401 		movl	$1, (%esp)
 11174      000000
 11175 7ee7 E8000000 		call	_reslog_adaptor_log
 11175      00
5727:str_merge.c   ****         if(oldItem->ItemData != NULL)
 11177              	LM1389:
 11178 7eec 8B45FC   		movl	-4(%ebp), %eax
 11179 7eef 833800   		cmpl	$0, (%eax)
 11180 7ef2 740D     		je	L634
5728:str_merge.c   ****         {
5729:str_merge.c   ****             free(oldItem->ItemData);
 11182              	LM1390:
 11183 7ef4 8B45FC   		movl	-4(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 308


 11184 7ef7 8B00     		movl	(%eax), %eax
 11185 7ef9 890424   		movl	%eax, (%esp)
 11186 7efc E8000000 		call	_free
 11186      00
 11187              	L634:
5730:str_merge.c   ****         }
5731:str_merge.c   ****         free(oldItem);
 11189              	LM1391:
 11190 7f01 8B45FC   		movl	-4(%ebp), %eax
 11191 7f04 890424   		movl	%eax, (%esp)
 11192 7f07 E8000000 		call	_free
 11192      00
 11193              	L633:
5732:str_merge.c   ****     }
5733:str_merge.c   ****     if( list!=NULL && list->ListItems !=NULL)
 11195              	LM1392:
 11196 7f0c 837D0800 		cmpl	$0, 8(%ebp)
 11197 7f10 741F     		je	L635
 11198 7f12 8B4508   		movl	8(%ebp), %eax
 11199 7f15 833800   		cmpl	$0, (%eax)
 11200 7f18 7417     		je	L635
5734:str_merge.c   ****     {
5735:str_merge.c   ****         *(list->ListItems + index) = item;
 11202              	LM1393:
 11203 7f1a 8B5508   		movl	8(%ebp), %edx
 11204 7f1d 8B450C   		movl	12(%ebp), %eax
 11205 7f20 8D0C8500 		leal	0(,%eax,4), %ecx
 11205      000000
 11206 7f27 8B12     		movl	(%edx), %edx
 11207 7f29 8B4510   		movl	16(%ebp), %eax
 11208 7f2c 89040A   		movl	%eax, (%edx,%ecx)
 11209 7f2f EB09     		jmp	L636
 11210              	L635:
5736:str_merge.c   ****     }
5737:str_merge.c   **** 	else
5738:str_merge.c   **** 	{
5739:str_merge.c   ****         return -1;
 11212              	LM1394:
 11213 7f31 C745F8FF 		movl	$-1, -8(%ebp)
 11213      FFFFFF
 11214 7f38 EB07     		jmp	L632
 11215              	L636:
5740:str_merge.c   **** 	}
5741:str_merge.c   ****     
5742:str_merge.c   ****     return 0;
 11217              	LM1395:
 11218 7f3a C745F800 		movl	$0, -8(%ebp)
 11218      000000
5743:str_merge.c   **** }
 11220              	LM1396:
 11221              	L632:
 11222              	LBE71:
 11223 7f41 8B45F8   		movl	-8(%ebp), %eax
 11224 7f44 C9       		leave
 11225 7f45 C3       		ret
 11229              	Lscope52:
 11231              	LC158:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 309


 11232 7f46 44554D50 		.ascii "DUMP REF LIST to %s\0"
 11232      20524546 
 11232      204C4953 
 11232      5420746F 
 11232      20257300 
 11233              	LC159:
 11234 7f5a 4F70656E 		.ascii "Open file suceess!!\0"
 11234      2066696C 
 11234      65207375 
 11234      63656573 
 11234      73212100 
 11235              		.align 2
 11236              	LC160:
 11237 7f6e 0D000A00 		.ascii "\15\0\12\0\0\0"
 11237      0000
 11242              	_DumpRefList:
5744:str_merge.c   **** #endif /* MEM_REF_LIST_OPT*/
5745:str_merge.c   **** 
5746:str_merge.c   **** #ifdef STR_MERGE_DEBUG
5747:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
5748:str_merge.c   **** static void DumpRefList(const char* filename, wchar_t *list,const int itemSize, int count)
5749:str_merge.c   **** {
5750:str_merge.c   ****     int i=0;
5751:str_merge.c   ****     wchar_t *tmp = list;	
5752:str_merge.c   ****     FILE * outputfile;
5753:str_merge.c   ****     outputfile = fopen(filename,"w");
5754:str_merge.c   ****     for(i=0;i< count;i++)
5755:str_merge.c   ****     {
5756:str_merge.c   ****         fputws(tmp,outputfile);
5757:str_merge.c   ****         fputws(L"\r\n", outputfile);
5758:str_merge.c   ****         tmp += itemSize;
5759:str_merge.c   ****     }
5760:str_merge.c   ****     fclose(outputfile);
5761:str_merge.c   **** }
5762:str_merge.c   **** 
5763:str_merge.c   **** 
5764:str_merge.c   **** #else /*MEM_REF_LIST_OPT*/
5765:str_merge.c   **** 
5766:str_merge.c   **** static void DumpRefList(const char* filename, RefList *list)
5767:str_merge.c   **** {
 11244              	LM1397:
 11245 7f74 55       		pushl	%ebp
 11246 7f75 89E5     		movl	%esp, %ebp
 11247 7f77 83EC28   		subl	$40, %esp
5768:str_merge.c   ****     int i = 0;
 11249              	LM1398:
 11250              	LBB72:
 11251 7f7a C745FC00 		movl	$0, -4(%ebp)
 11251      000000
5769:str_merge.c   ****     FILE * outputfile;
5770:str_merge.c   ****     int length =0;
 11253              	LM1399:
 11254 7f81 C745F400 		movl	$0, -12(%ebp)
 11254      000000
5771:str_merge.c   ****     STRMERG_LOG_V("DUMP REF LIST to %s", filename);
 11256              	LM1400:
 11257 7f88 8B4508   		movl	8(%ebp), %eax
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 310


 11258 7f8b 8944240C 		movl	%eax, 12(%esp)
 11259 7f8f C7442408 		movl	$LC158, 8(%esp)
 11259      467F0000 
 11260 7f97 C7442404 		movl	$LC3, 4(%esp)
 11260      4B040000 
 11261 7f9f C7042401 		movl	$1, (%esp)
 11261      000000
 11262 7fa6 E8000000 		call	_reslog_adaptor_log
 11262      00
5772:str_merge.c   ****     outputfile = fopen(filename,"w");
 11264              	LM1401:
 11265 7fab C7442404 		movl	$LC26, 4(%esp)
 11265      7F150000 
 11266 7fb3 8B4508   		movl	8(%ebp), %eax
 11267 7fb6 890424   		movl	%eax, (%esp)
 11268 7fb9 E8000000 		call	_fopen
 11268      00
 11269 7fbe 8945F8   		movl	%eax, -8(%ebp)
5773:str_merge.c   ****     STRMERG_LOG_V("Open file suceess!!");
 11271              	LM1402:
 11272 7fc1 C7442408 		movl	$LC159, 8(%esp)
 11272      5A7F0000 
 11273 7fc9 C7442404 		movl	$LC3, 4(%esp)
 11273      4B040000 
 11274 7fd1 C7042401 		movl	$1, (%esp)
 11274      000000
 11275 7fd8 E8000000 		call	_reslog_adaptor_log
 11275      00
5774:str_merge.c   ****     for(i=0;i< list->ListLength;i++)
 11277              	LM1403:
 11278 7fdd C745FC00 		movl	$0, -4(%ebp)
 11278      000000
 11279              	L638:
 11280 7fe4 8B550C   		movl	12(%ebp), %edx
 11281 7fe7 8B45FC   		movl	-4(%ebp), %eax
 11282 7fea 3B4204   		cmpl	4(%edx), %eax
 11283 7fed 7C02     		jl	L641
 11284 7fef EB62     		jmp	L639
 11285              	L641:
5775:str_merge.c   ****     {
5776:str_merge.c   ****         length= wcslen((*(list->ListItems+i))->ItemData);
 11287              	LM1404:
 11288 7ff1 8B4D0C   		movl	12(%ebp), %ecx
 11289 7ff4 8B45FC   		movl	-4(%ebp), %eax
 11290 7ff7 8D148500 		leal	0(,%eax,4), %edx
 11290      000000
 11291 7ffe 8B01     		movl	(%ecx), %eax
 11292 8000 8B0410   		movl	(%eax,%edx), %eax
 11293 8003 8B00     		movl	(%eax), %eax
 11294 8005 890424   		movl	%eax, (%esp)
 11295 8008 E8000000 		call	_wcslen
 11295      00
 11296 800d 8945F4   		movl	%eax, -12(%ebp)
5777:str_merge.c   ****         if(length >0 )
 11298              	LM1405:
 11299 8010 837DF400 		cmpl	$0, -12(%ebp)
 11300 8014 7E36     		jle	L640
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 311


5778:str_merge.c   ****         {
5779:str_merge.c   ****             fputws((*(list->ListItems+i))->ItemData, outputfile);
 11302              	LM1406:
 11303 8016 8B45F8   		movl	-8(%ebp), %eax
 11304 8019 89442404 		movl	%eax, 4(%esp)
 11305 801d 8B4D0C   		movl	12(%ebp), %ecx
 11306 8020 8B45FC   		movl	-4(%ebp), %eax
 11307 8023 8D148500 		leal	0(,%eax,4), %edx
 11307      000000
 11308 802a 8B01     		movl	(%ecx), %eax
 11309 802c 8B0410   		movl	(%eax,%edx), %eax
 11310 802f 8B00     		movl	(%eax), %eax
 11311 8031 890424   		movl	%eax, (%esp)
 11312 8034 E8000000 		call	_fputws
 11312      00
5780:str_merge.c   ****             fputws(L"\r\n", outputfile);
 11314              	LM1407:
 11315 8039 8B45F8   		movl	-8(%ebp), %eax
 11316 803c 89442404 		movl	%eax, 4(%esp)
 11317 8040 C704246E 		movl	$LC160, (%esp)
 11317      7F0000
 11318 8047 E8000000 		call	_fputws
 11318      00
 11320              	LM1408:
 11321              	L640:
 11322 804c 8D45FC   		leal	-4(%ebp), %eax
 11323 804f FF00     		incl	(%eax)
 11324 8051 EB91     		jmp	L638
 11325              	L639:
5781:str_merge.c   ****         }
5782:str_merge.c   ****     }
5783:str_merge.c   ****     fclose(outputfile);
 11327              	LM1409:
 11328 8053 8B45F8   		movl	-8(%ebp), %eax
 11329 8056 890424   		movl	%eax, (%esp)
 11330 8059 E8000000 		call	_fclose
 11330      00
5784:str_merge.c   **** }
 11332              	LM1410:
 11333 805e C9       		leave
 11334 805f C3       		ret
 11335              	LBE72:
 11341              	Lscope53:
 11343              		.comm	_fixed_id, 16	 # 16
 11344              		.comm	_fixed_result, 16	 # 8
 11345              	.lcomm _mtk_gLanguageFlag,16
 11346              	.lcomm _is16bit,16
 11347              	.lcomm _StrLine,131072
 11348              	.lcomm _StrSize,131072
 11370              		.text
 11372              	Letext:
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 312


DEFINED SYMBOLS
                            *ABS*:00000000 str_merge.c
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:371    .bss:00000000 _CurrMaxTransStrId
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:373    .bss:00000008 _str_merge_err_code
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:376    .data:00000000 _str_merge_err_msg
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:385    .text:00000000 _str_merge_set_err
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:412    .text:0000002b _str_merge_get_err
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:440    .data:00000194 _DELIMETER
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:448    .data:00000198 _EOS
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:450    .bss:00000018 _StrID
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:451    .bss:00000028 _g_line_buf_length
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:452    .bss:00000038 _g_line_buf_act_length
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:453    .bss:00000048 _ref_all_list
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:454    .bss:00000058 _ref_ssc
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:455    .bss:00000068 _ref_tmp
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:456    .bss:00000078 _nLang
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:457    .bss:00000088 _filter_ref_ssc
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:458    .bss:00000098 _nUsedLang
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:459    .bss:000000a8 _line_offset
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:464    .text:00000050 _CreateHashTable
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:549    .text:000000e1 _DJBHash
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:615    .text:00000143 _hash_add
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:827    .text:000002bc _hash_search
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:926    .text:0000035f _hash_free
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:1017   .text:000003e3 _UCS2ASCII
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:1083   .text:00000455 _GetItem
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:1264   .text:000005b8 _OutputFixColumns
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:1374   .text:000006e8 _GetLineBufLength
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:1478   .text:000007aa _en_language_is_open
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:1553   .text:00000824 _get_language_in_ssc_index
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:1862   .text:00000ac4 _filter_raw_string
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:2099   .text:00000d8d _check_ref_list_item
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:2205   .text:000010ce _load_ref_list_to_mem
                            *COM*:00000010 _fixed_id
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:2493   .text:0000138b _get_ref_count
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:2568   .text:00001402 _get_filter_used_language_count
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:2685   .text:00001892 _MergeStrRes
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:11348  .bss:000200d8 _StrSize
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:11347  .bss:000000d8 _StrLine
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:3921   .text:000027ad _mask_length
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:3980   .text:000027f4 _pow
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:4028   .text:00002828 _fmod
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:4071   .text:0000284d _GetHashValue
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:4160   .text:000028e9 _Trans
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:4262   .text:0000299a _UCS2ASCII_CR
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:4358   .text:00002a1d _ifLanguageUsed
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:4433   .text:00002a90 _GetStrByRef
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:4494   .text:00002afc _LookupDupStr
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:11345  .bss:000000b8 _mtk_gLanguageFlag
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:4872   .text:00003068 _GetStrResList
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:6276   .text:00004041 _print_language_usage
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:6465   .text:000041e7 _GetItemAsc
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:6585   .text:0000429a _append_cat_padding_bytes
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:6605   .text:000042a8 _str_add_pedding_bytes
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:6814   .text:00004c8b _GenerateStrResFile
                            *COM*:00000010 _fixed_result
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:11346  .bss:000000c8 _is16bit
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 313


d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:8457   .text:00005f69 _generate_map2
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:8760   .text:00006201 _generate_strmap_search
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:8877   .text:00006576 _generate_language_list_array
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:9100   .text:0000682c _init_fixed_id
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:9232   .text:00006939 _set_fixed_str_flag
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:9311   .text:000069c0 _generate_enum_hash
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:9408   .text:00006a64 _get_fixed_string_total_len
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:9536   .text:00006df0 _generate_fixed_str
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:10091  .text:000073b1 _write_fixed_str
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:10241  .text:000074ec _write_fixed_str_offset
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:10301  .text:0000755c _write_fixed_offset
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:10356  .text:000075cd _ucs2toasc
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:10427  .text:0000762a _write_fixed_string_log
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:10558  .text:000077cc _CreateRefList
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:10655  .text:00007938 _DeleteRefList
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:10758  .text:00007a44 _CreateListItemFromStr
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:10894  .text:00007c36 _AddRefListItem
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:11071  .text:00007e04 _GetRefListItem
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:11149  .text:00007ea8 _SetRefListItem
d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s:11242  .text:00007f74 _DumpRefList

UNDEFINED SYMBOLS
_mtk_gMaxDeployedLangs
_mtk_gLanguageArray
__alloca
__imp___iob
_CurrMaxStringId
_StrEnum
_StrIsPopulate
_Str
_fputws
_memcpy
_fputs
_strncpy
_strstr
_strlen
_fwprintf
__wtoi
_fclose
_fopen
_fprintf
_reslog_adaptor_fatal_error_pending_wlog
_swprintf
_fflush
_reslog_adaptor_wlog
_rewind
_wcstok
_strcmp
_fgetws
_feof
_wcscat
_wcscpy
_exit
_reslog_adaptor_log
_wcsstr
_free
_wcscmp
GAS LISTING d:/software/ovi_2503a_s3trc/ovi_2503a_s3trc/plutommi/Customer/ResGenerator/gcctmp/ccIbdaaa.s 			page 314


_wcslen
_memset
_malloc
_wcsncpy
